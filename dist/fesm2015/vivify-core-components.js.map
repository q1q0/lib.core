{"version":3,"file":"vivify-core-components.js.map","sources":["ng://vivify-core-components/src/app/modules/session/app-injector.ts","ng://vivify-core-components/src/app/modules/base/attributes.enum.ts","ng://vivify-core-components/src/app/modules/base/key-utils.ts","ng://vivify-core-components/src/app/modules/mco-container/mco-container.service.ts","ng://vivify-core-components/src/app/modules/event-handler/event-handler.service.ts","ng://vivify-core-components/src/app/modules/popup-menu/menu-item-builder.ts","ng://vivify-core-components/src/app/modules/popup-menu/context-menu.service.ts","ng://vivify-core-components/src/app/modules/session/session.service.ts","ng://vivify-core-components/src/app/modules/java/illegal-argument-exception.ts","ng://vivify-core-components/src/app/modules/java/java-utils.ts","ng://vivify-core-components/src/app/modules/event-handler/client-event.ts","ng://vivify-core-components/src/app/modules/java/list-iterator.ts","ng://vivify-core-components/src/app/modules/java/vector.ts","ng://vivify-core-components/src/app/modules/base/attribute-change-event.ts","ng://vivify-core-components/src/app/modules/base/app-utils.ts","ng://vivify-core-components/src/app/modules/java/hash-map.ts","ng://vivify-core-components/src/app/modules/java/hashtable.ts","ng://vivify-core-components/src/app/modules/base/logger.ts","ng://vivify-core-components/src/app/modules/base/base.component.ts","ng://vivify-core-components/src/app/modules/mco-container/mco-container.module.ts","ng://vivify-core-components/src/app/modules/event-handler/event-handler.module.ts","ng://vivify-core-components/src/app/modules/session/session.module.ts","ng://vivify-core-components/src/app/modules/java/java.module.ts","ng://vivify-core-components/src/app/modules/base/on-create.directive.ts","ng://vivify-core-components/src/app/modules/base/base.module.ts","ng://vivify-core-components/src/app/modules/base/component-type.enum.ts","ng://vivify-core-components/src/app/modules/button/button.component.ts","ng://vivify-core-components/src/app/modules/button/button.module.ts","ng://vivify-core-components/src/app/modules/checkbox/checkbox.component.ts","ng://vivify-core-components/src/app/modules/checkbox/checkbox.module.ts","ng://vivify-core-components/src/app/modules/combo-box/list-item.directive.ts","ng://vivify-core-components/src/app/modules/combo-box/list-box.directive.ts","ng://vivify-core-components/src/app/modules/combo-box/faux-combo-element.ts","ng://vivify-core-components/src/app/modules/combo-box/combo-box.component.ts","ng://vivify-core-components/src/app/modules/keyboard/arrow-navigatable-item.directive.ts","ng://vivify-core-components/src/app/modules/keyboard/arrow-navigatable-container.directive.ts","ng://vivify-core-components/src/app/modules/keyboard/keyboard.module.ts","ng://vivify-core-components/src/app/modules/combo-box/combo-box.module.ts","ng://vivify-core-components/src/app/modules/dialog/draggable.directive.ts","ng://vivify-core-components/src/app/modules/view/dynamic-pages.service.ts","ng://vivify-core-components/src/app/modules/base/ui-document.ts","ng://vivify-core-components/src/app/modules/dialog/dialog.component.ts","ng://vivify-core-components/src/app/modules/dialog/dialog.module.ts","ng://vivify-core-components/src/app/modules/layout/grid-column.directive.ts","ng://vivify-core-components/src/app/modules/horizontal-separator/horizontal-separator.component.ts","ng://vivify-core-components/src/app/modules/horizontal-separator/horizontal-separator.module.ts","ng://vivify-core-components/src/app/modules/java/integer.ts","ng://vivify-core-components/src/app/modules/java/date-format.ts","ng://vivify-core-components/src/app/modules/label/label.component.ts","ng://vivify-core-components/src/app/modules/label/label.module.ts","ng://vivify-core-components/src/app/modules/layout/panel.component.ts","ng://vivify-core-components/src/app/modules/layout/layout.module.ts","ng://vivify-core-components/src/app/modules/link/link.component.ts","ng://vivify-core-components/src/app/modules/link/link.module.ts","ng://vivify-core-components/src/app/modules/java/long.ts","ng://vivify-core-components/src/app/modules/base/moment-utils.ts","ng://vivify-core-components/src/app/modules/dynamic/dynamic.component.ts","ng://vivify-core-components/src/app/modules/text-field/text-field.component.ts","ng://vivify-core-components/src/app/modules/text-field/text-field.module.ts","ng://vivify-core-components/src/app/modules/dynamic/dynamic.module.ts","ng://vivify-core-components/src/app/modules/dynamic/dynamic-element.builder.ts","ng://vivify-core-components/src/app/modules/radio-button/radio-button.component.ts","ng://vivify-core-components/src/app/modules/radio-button/radio-button.module.ts","ng://vivify-core-components/src/app/modules/scroll-pane/scroll-pane.component.ts","ng://vivify-core-components/src/app/modules/scroll-pane/scroll-pane.module.ts","ng://vivify-core-components/src/app/modules/java/string-builder.ts","ng://vivify-core-components/src/app/modules/table/table-cell.directive.ts","ng://vivify-core-components/src/app/modules/table/table-header.directive.ts","ng://vivify-core-components/src/app/modules/table/header.directive.ts","ng://vivify-core-components/src/app/modules/table/table-column.directive.ts","ng://vivify-core-components/src/app/modules/table/table-selection-event.ts","ng://vivify-core-components/src/app/modules/tree-table/html-element-wrapper.ts","ng://vivify-core-components/src/app/modules/table/table-row-def.directive.ts","ng://vivify-core-components/src/app/modules/table/footer-row.directive.ts","ng://vivify-core-components/src/app/modules/table/row.directive.ts","ng://vivify-core-components/src/app/modules/clipboard/clipboard.service.ts","ng://vivify-core-components/src/app/functions/is-ie.ts","ng://vivify-core-components/src/app/modules/table/table.component.ts","ng://vivify-core-components/src/app/modules/table/locked-column.directive.ts","ng://vivify-core-components/src/app/modules/clipboard/clipboard.module.ts","ng://vivify-core-components/src/app/modules/table/table.module.ts","ng://vivify-core-components/src/app/modules/tab-pane/tab/tab.component.ts","ng://vivify-core-components/src/app/modules/tab-pane/tab-pane.component.ts","ng://vivify-core-components/src/app/modules/tab-pane/tab/tab-host.directive.ts","ng://vivify-core-components/src/app/modules/tab-pane/tab-pane.module.ts","ng://vivify-core-components/src/app/modules/text-area/text-area.component.ts","ng://vivify-core-components/src/app/modules/text-area/text-area.module.ts","ng://vivify-core-components/src/app/modules/tree-table/tree-table.component.ts","ng://vivify-core-components/src/app/modules/tree-table/tree-table.module.ts","ng://vivify-core-components/src/app/modules/view/view.component.ts","ng://vivify-core-components/src/app/modules/view/view.module.ts","ng://vivify-core-components/src/app/modules/popup-menu/popup-menu.component.ts","ng://vivify-core-components/src/app/modules/popup-menu/menu-item.directive.ts","ng://vivify-core-components/src/app/modules/popup-menu/menu-item/menu-item.component.ts","ng://vivify-core-components/src/app/modules/popup-menu/menu.directive.ts","ng://vivify-core-components/src/app/modules/popup-menu/popup-menu-container/popup-menu-container.component.ts","ng://vivify-core-components/src/app/modules/popup-menu/popup-menu.directive.ts","ng://vivify-core-components/src/app/modules/popup-menu/popup-menu.module.ts","ng://vivify-core-components/src/app/modules/split-pane/bottom-pane/bottom-pane.component.ts","ng://vivify-core-components/src/app/modules/split-pane/top-pane/top-pane.component.ts","ng://vivify-core-components/src/app/modules/split-pane/split-pane.component.ts","ng://vivify-core-components/src/app/modules/split-pane/split-pane.module.ts","ng://vivify-core-components/src/app/modules/base/custom-attribute.ts"],"sourcesContent":["import { Injector } from '@angular/core';\n\n/**\n * This constant provide a global access to injector so we can use it to retrieve\n * service from place where we can't inject (like function).\n *\n * !!!!!!!!!!!!!!DO NOT USE THIS IN PLACES WHERE YOU CAN INJECT SERVICES!!!!!!!!!!!\n */\nlet injectorRef: Injector;\n\nexport const appInjector = (injector?: Injector): Injector => {\n    if (injector) {\n        injectorRef = injector;\n    }\n\n    return injectorRef;\n}\n","export enum AttributesEnum {\n  ID,\n  VISIBLE,\n  CLASS,\n  DISABLED,\n  ENABLED,\n  TEXT,\n  COLOR,\n  ON_COMMAND,\n  REQUIRE,\n  TITLE,\n  FONT_BOLD,\n  SELECTED,\n  BG_COLOR,\n  VALUE,\n  PATTERN,\n  MAX_LENGTH,\n  MAX,\n  MIN\n}\n","export class KeyUtils {\n  /**\n   * Make key case insensitive\n   * @param key\n   */\n  static toMapKey(key: string): string {\n    if (key != null) {\n      return key.toLowerCase();\n    }\n\n    return null;\n  }\n\n  static toJsonValue(val: any): string {\n    if (typeof val === \"number\" || typeof val === \"boolean\") {\n      return val + \"\";\n    } else {\n      return val;\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { KeyUtils } from '../base/key-utils';\nimport { ViewComponent } from '../view/view.component';\nimport * as _ from 'lodash';\nimport { Subject } from 'rxjs';\nimport { ViewChangedEvent } from './view-changed.event';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class McoContainerService {\n  /**\n   * Keeps internal list of active ViewComponents\n   */\n  private activeViewsStack: Array<ViewComponent> = [];\n\n  //stored actionForwardHandler (e.g. a sub view) that does not have an NXML\n  private actionForwardHandler: Map<string, ViewComponent>;\n\n  /**\n   * Internal map of MCO instances\n   */\n  private _mcoMap: Map<string, any> = new Map<string, any>();\n  private readonly MIN_Z_INDEX = 1000;\n  private readonly MAX_Z_INDEX = 99999;\n  //1050 is for actual modal\n\n  viewsChanged = new Subject<ViewChangedEvent>();\n\n  /**\n   * Get mco instance from internal [[_mcoMap]]\n   * @param mcoName Name of MCO instance\n   */\n  getMco(mcoName: string): any {\n    return this._mcoMap.get(KeyUtils.toMapKey(mcoName));\n  }\n\n  /**\n   * Get the maximum allowed z-index value for layering windows\n   */\n  getMaxZIndex(): number {\n    return this.MAX_Z_INDEX;\n  }\n\n  /**\n   * Alias of [[registerMco]]\n   * @param mcoName\n   * @param mco\n   */\n  addMco(mcoName: string, mco: any) {\n    this.registerMco(mcoName, mco);\n  }\n\n  /**\n   * Add an mco instance to internal [[_mcoMap]]\n   * @param mcoName\n   * @param mco\n   */\n  registerMco(mcoName: string, mco: any) {\n    this._mcoMap.set(KeyUtils.toMapKey(mcoName), mco);\n  }\n\n  /**\n   * Remove mco object from internal [[_mcoMap]]\n   * @param mcoName Name of mco instance to remove\n   */\n  removeMco(mcoName: string) {\n    const key = KeyUtils.toMapKey(mcoName);\n    const mco = this._mcoMap.get(key);\n\n    if (mco != null && typeof mco[\"cleanup\"] === \"function\") {\n      mco.cleanup();\n    }\n\n    this._mcoMap.delete(key);\n  }\n\n  /**\n   * Push view to the last active view stack. This will be the view that returned\n   * when popLastActiveView is called.\n   *\n   * @param view ViewComponent to be add to the stack\n   */\n  registerView(view: ViewComponent) {\n    if (view.canBeActiveView !== true) {\n      // this.activeViewsStack.splice(0, 0, view);\n      // view.zIndex = this.MIN_Z_INDEX - this.activeViewsCount();\n      if (this.actionForwardHandler == null) {\n        this.actionForwardHandler = new Map<string, ViewComponent>();\n      }\n      this.actionForwardHandler.set(view.actionForwardName, view);\n    } else {\n      this.activeViewsStack.push(view);\n      view.zIndex = this.getViewZIndex();\n    }\n\n    this.activeViewsStack = _.uniqBy(this.activeViewsStack, (v)=>v.uniqueId);\n  }\n\n  /**\n   * Pop last active view. This will remove the view from the active stack\n   */\n  popLastActiveView(): ViewComponent {\n    return this.activeViewsStack.pop();\n  }\n\n  /**\n   * Remove a view that has been destroyed from the stack.\n   *\n   * @param view ViewComponent to be removed from stack\n   */\n  removeView(view: ViewComponent) {\n    if (view.canBeActiveView !== true){\n      if (this.actionForwardHandler != null) {\n        this.actionForwardHandler.delete(view.actionForwardName);\n      }\n    } else {\n      this.activeViewsStack = _.filter(this.activeViewsStack, (v)=>v.uniqueId !== view.uniqueId);\n      this.reStackView();\n    }\n  }\n\n  /**\n   * Minimize a view window by ID\n   * @param viewId Id of view to minimize\n   * @param screenIndex (optional) index of screen if multi screen support is allowed\n   */\n  minimizeView(viewId: string, screenIndex: number = null) {\n    const view = this.getViewById(viewId, screenIndex);\n\n    if (view != null) {\n      view.isMinimized = true;\n    }\n\n    let activeView: ViewComponent = null;\n    let isModalActive: boolean = false;\n\n    if (this.activeViewsCount() > 1) {\n      const visibleViews = this.activeViewsStack.filter(v=>v.isMinimized !== true && v.skipBreadCrumb !== true);\n\n      if (visibleViews != null && visibleViews.length > 0) {\n        activeView = visibleViews[visibleViews.length - 1];\n        let i = visibleViews.length - 1;\n        // Itterate through visibile views to look for the next dialog view (not subview)\n        while (visibleViews[i] && !activeView.dialog) {\n          activeView = visibleViews[i]\n          i--;\n        }\n\n        let count = 0;\n\n        do {\n          if (visibleViews[count]) {\n            isModalActive = visibleViews[count].isModalDialog();\n            count = count + 1;\n          }\n        } while (isModalActive !== true && count < visibleViews.length);\n      }\n    }\n\n    this.viewsChanged.next({\n      views: this.getBreadcrumb(this.activeViewsStack),\n      activeView: activeView,\n      minMaxEvent: true,\n      isModalActive: isModalActive\n    });\n  }\n\n  /**\n   * Shows a view by id\n   * @param viewId Id of view to show\n   * @param screenIndex (optional) index of screen if multi screen support is allowed\n   */\n  showView(viewId: string, screenIndex: number = null) {\n    const view = this.getViewById(viewId, screenIndex);\n\n    if (view != null) {\n      view.isMinimized = true;\n    }\n\n    let isModalActive: boolean = false;\n\n    let count = 0;\n\n    do {\n      if (this.activeViewsStack[count]) {\n        isModalActive = this.activeViewsStack[count].isModalDialog();\n        count = count + 1;\n      }\n    } while (isModalActive !== true && count < this.activeViewsStack.length);\n\n    this.viewsChanged.next({\n      views: this.getBreadcrumb(this.activeViewsStack),\n      activeView: view,\n      minMaxEvent: true,\n      isModalActive: isModalActive\n    });\n  }\n\n  /**\n   * Close the view window\n   * @param viewId Id of view to close\n   * @param screenIndex (optional) index of the screen if multi screen support\n   */\n  closeView(viewId: string, screenIndex: number = null) {\n    const view = this.getViewById(viewId, screenIndex);\n\n    if (view != null) {\n      view.close();\n    }\n  }\n\n  /**\n   * Get the number of current active view from [[activeViewsStack]]\n   * @returns Number of active views\n   */\n  activeViewsCount(): number {\n    return this.activeViewsStack.length;\n  }\n\n  /**\n   * Check to see if a view is in the [[activeViewStack]]\n   * @param view ViewComponent's id as a string or [[ViewComponent]] instance\n   * @returns True if the view component is in the [[activeViewStack]]\n   */\n  hasView(view: ViewComponent | string): boolean {\n    if (typeof view === 'string') {\n      return _.filter(this.activeViewsStack, (v)=>v.id === view as string).length > 0;\n    }\n\n    return _.filter(this.activeViewsStack, (v)=>v.uniqueId === view.uniqueId).length > 0;\n  }\n\n  /**\n   * Get the current active view\n   * @returns the active view from the view stack\n   */\n  activeView(): ViewComponent {\n    return this.activeViewsCount() > 0 ? this.activeViewsStack[this.activeViewsCount() - 1] : null;\n  }\n\n  /**\n   * Get a view from [[actriveViewStack]] by ID\n   * @param viewId Views id value\n   * @param screenIndex (optional) the screenIndex of the view (if multiple screen is allow)\n   * @returns View that matches value of id\n   */\n  getViewById(viewId: string, screenIndex: number = null): ViewComponent {\n    return _.find(this.activeViewsStack, (view: ViewComponent)=>{\n      return view.id === viewId && (screenIndex == null || (screenIndex != null && view.screenIndex === screenIndex));\n    });\n  }\n\n  /**\n   * Get handler view component by name\n   * @param actionForwardName\n   * @returns View component or null if there is no component with actionForwardName\n   */\n  getActionForwardHandler(actionForwardName: string) {\n    if (this.actionForwardHandler != null) {\n      return this.actionForwardHandler.get(actionForwardName);\n    }\n\n    return null;\n  }\n\n  /**\n   * Get the [[actionForwardHandler]]\n   */\n  getActionForwardHandlerMap() {\n    return this.actionForwardHandler;\n  }\n\n  /**\n   * Get the [[activeViewStack]]\n   */\n  getViews(): Array<ViewComponent> {\n    return this.activeViewsStack;\n  }\n\n  /**\n   * Update z-index (layer position) of all active views\n   * @param topViewId ID of view component to set max z-index (top)\n   */\n  reStackView(topViewId: string = null, screenIndex: number = null) {\n    this.activeViewsStack = _.sortBy(this.activeViewsStack, (view: ViewComponent)=>{\n      //we are top view\n      if (view.id === topViewId && (screenIndex == null || (screenIndex === view.screenIndex))) {\n        return this.MAX_Z_INDEX;\n      }\n\n      return view.zIndex;\n    });\n\n    let isModalActive: boolean = false;\n\n    _.forEach(this.activeViewsStack, (view: ViewComponent, idx: number)=>{\n      view.updateZIndex(this.MIN_Z_INDEX + idx);\n\n      if (isModalActive !== true && view.isModalDialog() === true) {\n        isModalActive = true;\n      }\n    });\n\n    this.viewsChanged.next({\n      views: this.getBreadcrumb(this.activeViewsStack),\n      activeView: this.activeViewsStack[this.activeViewsStack.length - 1],\n      isModalActive: isModalActive\n    });\n  }\n\n  /**\n   * Get the z-index\n   */\n  getViewZIndex(): number {\n    return this.MIN_Z_INDEX + this.activeViewsCount();\n  }\n\n  private getBreadcrumb(views: Array<ViewComponent>): Array<ViewComponent> {\n    return views.filter(v=>v.skipBreadCrumb !== true && v.dialog != null && v.visible !== false);\n  }\n\n  /**\n   * Get the session from an MCO instance\n   * @param mco\n   * @returns Session\n   */\n  static getClientSessionFromMco(mco: any) {\n    return mco.getSession();\n  }\n  /**\n   * æ¬¡ã®screenIndexãåå¾ãã¾ãã\n   * screenIndexã¯1~8ã®å¤ãã¨ãããã«ããµã¼ãã§æ³å®ããã¦ãã¾ãã\n   */\n  nextScreenIndex(baseScreenId:string, id:string = null): number{\n    const existingScreens = this.activeViewsStack.filter(v=>\n      (id)\n        ? v.id === id\n        : v.baseScreenId === baseScreenId\n    );\n    if (existingScreens.length > 0) {\n      const i = _.orderBy(existingScreens, (scr: ViewComponent)=>scr.screenIndex, \"desc\")\n        .pop().screenIndex\n      return i + 1;\n    }else{\n      return 1;\n    }\n  }\n\n  refreshBreadCrumb() {\n    let isModalActive: boolean = false;\n\n    _.forEach(this.activeViewsStack, (view: ViewComponent)=>{\n      if (isModalActive !== true && view.isModalDialog() === true) {\n        isModalActive = true;\n      }\n    });\n\n    this.viewsChanged.next({\n      views: this.getBreadcrumb(this.activeViewsStack),\n      activeView: this.activeViewsStack[this.activeViewsStack.length - 1],\n      isModalActive: isModalActive\n    });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ClientEvent } from './client-event';\nimport { BaseComponent } from '../base/base.component';\nimport { McoContainerService } from '../mco-container/mco-container.service';\n\n/**\n * Track events\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class EventHandlerService {\n  private _clientEvent: ClientEvent;\n\n  constructor(\n    private mcoContainerService: McoContainerService\n  ) {\n\n  }\n\n  setClientEvent(event: ClientEvent): void {\n    this._clientEvent = event;\n  }\n\n  getClientEvent(): ClientEvent {\n    return this._clientEvent;\n  }\n\n  fireEvent(command: string, mcoName: string, actionName: string, arg: any, source: BaseComponent, clientEvent: ClientEvent) {\n    const mco = this.mcoContainerService.getMco(mcoName);\n\n    if (mco != null && typeof mco[actionName] === \"function\") {\n      if (Array.isArray(arg)) {\n        (mco[actionName] as Function).apply(mco, arg);\n      } else {\n        (mco[actionName] as Function).apply(mco, [arg]);\n      }\n    }\n  }\n}\n","import { MenuItem } from \"./menu-item\";\n\nimport * as _ from \"lodash\";\n\n/**\n * Class for creating [[MenuItems]]\n */\nexport class MenuItemBuilder {\n    //internal menu item for special case, DO NOT use\n    //this is needed when right click event of child item is table column trigger before row\n    _internalMenuItem: MenuItem;\n\n    /**\n     * Map of HTML attributes to add to menu item\n     */\n    attributes: {[name: string]: any} = {};\n\n    /* istanbul ignore next */\n    /**\n     * \n     * @param menuItem \n     */\n    constructor(menuItem: MenuItem = null) {\n        this._internalMenuItem = menuItem;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Allowed attribute names\n     */\n    static knownKeys = [\n        \"id\",\n        \"text\",\n        \"onCommand\",\n        \"onCommandCallback\",\n        \"onMouseDownCallback\",\n        \"menuItems\",\n        \"display\",\n        \"fontColor\",\n        \"fontBold\",\n        \"fontSize\",\n        \"margin\"\n    ];\n\n    /**\n     * Create a menu separator using hyphens\n     */\n    static createHorizontalDivider() {\n        const menuItem = new MenuItemBuilder();\n        menuItem.setAttribute(\"text\", \"-\");\n\n        return menuItem;\n    }\n\n    /**\n     * Get a new [[MenuItemBuilder]] instance\n     * @returns [[MenuItemBuilder]] instance\n     */\n    static createMenuItem() {\n        return new MenuItemBuilder();\n    }\n\n    /**\n     * Set text attribute\n     * @param text \n     */\n    setText(text: string) {\n        this.setAttribute(\"text\", text);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * \n     * @param width \n     */\n    setWidth(width: string) {\n        //don't think this should be doing anything, all menu item shared the same width\n    }\n\n    /* istanbul ignore next */\n    /**\n     * \n     * @param img \n     */\n    setImgHint(img: string) {\n        //TODO\n    }\n\n    /**\n     * Sets event handler for mousedown\n     * @param fn Mouse down event handler function\n     */\n    setOnMouseDown(fn: (thisArg?: any)=>void) {\n        this.setAttribute(\"onMouseDownCallback\", fn);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Set margin attribute\n     * @param margin Should be number\n     */\n    setMargin(margin: string) {\n        this.setAttribute(\"margin\", margin);\n    }\n\n    /**\n     * Set fontColor attribute\n     * @param color Should be CSS valid color string (e.g. #ff0000, red, etc.)\n     */\n    setFontColor(color: string) {\n        this.setAttribute(\"fontColor\", color);\n    }\n\n    /**\n     * Set fontSize attribute\n     * @param size Should be number\n     */\n    setFontSize(size: string) {\n        this.setAttribute(\"fontSize\", size);\n    }\n\n    /**\n     * Set fontBold attribute\n     * @param bold \n     */\n    setFontBold(bold: string) {\n        this.setAttribute(\"fontBold\", bold);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Set custom attribute on [[MenuItem]]\n     * @param name \n     * @param value \n     */\n    setAttribute(name: string, value: any) {\n        this.attributes[name] = value;\n\n        if (this._internalMenuItem != null) {\n            if (MenuItemBuilder.knownKeys.indexOf(name) >= 0) {\n                this._internalMenuItem[name] = value;\n            } else {\n                if (this._internalMenuItem.customAttributes == null) {\n                    this._internalMenuItem.customAttributes = {};                    \n                }\n                \n                this._internalMenuItem.customAttributes[name] = value;\n            }\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Return the value of the attribute\n     * \n     * @param name the name of the attribute\n     */\n    getAttribute(name: string): any {\n        return this.attributes[name];\n    }\n\n    /**\n     * Convert [[MenuItemDirective]] to [[MenuItem]]\n     * @param parentScreenId \n     */\n    toMenuItem(parentScreenId?: string): MenuItem {\n        const menuItem: MenuItem = {};\n        menuItem.parentScreenId = parentScreenId;\n\n       /* istanbul ignore next */\n        if (this.attributes[\"id\"] != null) {\n            menuItem.id = this.attributes[\"id\"];\n        }\n\n        if (this.attributes[\"text\"] != null) {\n            menuItem.text = this.attributes[\"text\"];\n        }\n\n       /* istanbul ignore next */\n        if (this.attributes[\"menuItems\"] != null) {\n            menuItem.menuItems = _.map(this.attributes[\"menuItems\"], (subMenu)=>subMenu.toMenuItem(parentScreenId));\n        }\n\n        if (this.attributes[\"onCommandCallback\"] != null) {\n            menuItem.onCommandCallback = this.attributes[\"onCommandCallback\"];\n        }\n\n        if (this.attributes[\"onCommand\"] != null) {\n            menuItem.onCommandCallback = this.attributes[\"onCommand\"];\n        }\n\n        /* istanbul ignore next */\n        if (this.attributes[\"onMouseDownCallback\"] != null) {\n            menuItem.onMouseDownCallback = this.attributes[\"onMouseDownCallback\"];\n        }\n\n        if (this.attributes[\"display\"] != null) {\n            menuItem.display = this.attributes[\"display\"];\n        }\n\n        if (this.attributes[\"fontColor\"] != null) {\n            MenuItemBuilder.initStyle(menuItem);\n\n            menuItem.styles[\"color\"] = this.attributes[\"fontColor\"];\n        }\n\n        if (this.attributes[\"fontSize\"] != null) {\n            MenuItemBuilder.initStyle(menuItem);\n\n            menuItem.styles[\"font-size\"] = this.attributes[\"fontSize\"];\n        }\n\n       /* istanbul ignore next */ \n        if (this.attributes[\"fontBold\"] != null) {\n            MenuItemBuilder.initStyle(menuItem);\n\n            if (this.attributes[\"fontBold\"] === true || this.attributes[\"fontBold\"] === \"true\") {\n                menuItem.styles[\"font-weight\"] = this.attributes[\"bold\"];\n            } else {\n                menuItem.styles[\"font-weight\"] = \"normal\";\n            }\n        }\n\n        if (this.attributes[\"margin\"] != null) {\n            MenuItemBuilder.initStyle(menuItem);\n\n            menuItem.styles[\"margin\"] = this.attributes[\"margin\"];\n        }\n\n        const keys = _.filter(_.keys(this.attributes), (key)=>{\n            return MenuItemBuilder.knownKeys.indexOf(key) < 0;\n        });\n\n        if (keys && keys.length > 0) {\n            menuItem.customAttributes = {};\n\n            for (let key of keys) {\n                menuItem.customAttributes[key] = this.attributes[key];\n            }\n        }\n\n        return menuItem;\n    }\n\n    /**\n     * Add [[MenuItemBuilder]] instance to menuItems attribute\n     */\n    appendChild(menuItem: MenuItemBuilder) {\n        if (this.attributes[\"menuItems\"] == null) {\n            this.attributes[\"menuItems\"] = [];\n        }\n\n        if (menuItem instanceof MenuItemBuilder) {\n            this.attributes[\"menuItems\"].push(menuItem);\n        }\n    }\n\n    /**\n     * Parse MenuItem and convert to a builder. Need for case where table column trigger context menu\n     * prior to the contextmenu of row is activated. Thus the MenuItemComponent does not exists yet so\n     * we need something as temporary.\n     * \n     * @param menuItem \n     */\n    static fromMenuItem(menuItem: MenuItem) {\n        return new MenuItemBuilder(menuItem);\n    }\n\n    /**\n     * Clear out style values for [[MenuItem]]\n     * @param menuItem\n     */\n    static initStyle(menuItem: MenuItem) {\n        if (menuItem.styles == null) {\n            menuItem.styles = {};\n        }\n    }\n\n    //free resource\n    _free() {\n        this._internalMenuItem = null;\n        this.attributes = null;\n    }\n}","import { Injectable } from '@angular/core';\nimport { PopupMenuComponent } from './popup-menu.component';\nimport { Observable, Subject } from \"rxjs\";\nimport { MenuItemBuilder } from './menu-item-builder';\nimport { MenuItem } from './menu-item';\n\nimport * as _ from \"lodash\";\n\nexport interface PopupMenuData {\n  menuItems: Array<MenuItem>;\n  parentScreenId: string;\n}\n\n/**\n * Service class to handle context menus\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class ContextMenuService {\n  private contextMenuMap: Map<string, PopupMenuData> = new Map<string, PopupMenuData>();\n  private activeMenuSubject: Subject<string> = new Subject<string>();\n  private activeMenu: string;\n  private menuItemBuilders: Array<MenuItemBuilder>;\n\n  activeMenuObservable = this.activeMenuSubject.asObservable();\n\n  constructor() { }\n\n  /**\n   * \n   * @param name \n   * @param menuItems \n   * @param parentScreenId \n   */\n  registerContextMenu(name: string, menuItems: Array<MenuItem>, parentScreenId: string = null) {\n    const key = this.rekey(name);\n    if (this.contextMenuMap.has(key)) {\n      const menuData = this.contextMenuMap.get(key);\n\n      if (parentScreenId != null && parentScreenId !== \"\") {\n        menuData.parentScreenId = parentScreenId;\n      }\n\n      menuData.menuItems = menuItems;\n    } else {\n      this.contextMenuMap.set(key, {\n        menuItems: menuItems,\n        parentScreenId: parentScreenId\n      });\n    }\n  }\n\n  /**\n   * Set the active and visible context menu by name\n   * @param name \n   */\n  showContextMenu(name: string): boolean {\n    let hasContextMenu: boolean = false;\n    \n    if (this.contextMenuMap.has(this.rekey(name))) {\n      hasContextMenu = true;\n    }\n\n    this.setActiveMenu(name);\n    this.activeMenu = name;\n\n    if (this.menuItemBuilders != null) {\n      this.menuItemBuilders.forEach(menuItemBuilder=>menuItemBuilder._free());\n      this.menuItemBuilders = [];\n    }\n\n    return hasContextMenu;\n  }\n\n  /**\n   * Deactivate menu by name, and hide it\n   * @param name\n   */\n  hideContextMenu(name: string) {\n    this.setActiveMenu(null);\n    this.activeMenu = null;\n  }\n\n  /**\n   * Get menu items by [[PopupMenuData]] name key\n   * @param name Name of [[PopupMenuData]] key\n   * @returns Menu items in data if it exists, otherwise null\n   */\n  getContextMenuItems(name: string): Array<MenuItem> {\n    const menuData = this.contextMenuMap.get(this.rekey(name));\n\n    if (menuData != null) {\n      return menuData.menuItems;\n    }\n\n    return null;\n  }\n\n  /**\n   * Get the menu's parent id\n   * @param name Name of [[PopupMenuData]] item key\n   */\n  getContextMenuParentScreenId(name: string) {\n    const menuData = this.contextMenuMap.get(this.rekey(name));\n\n    if (menuData != null) {\n      return menuData.parentScreenId;\n    }\n\n    return null;\n  }\n\n  /**\n   * Remove context menu item by name\n   * @param name Name of [[PopupMenuData]] item key\n   */\n  removeContextMenu(name: string) {\n    this.contextMenuMap.delete(this.rekey(name));\n\n    if (this.activeMenu === name) {\n      this.activeMenu = null;\n    }\n  }\n\n  /**\n   * Set active menu\n   * @param id Id of menu to set as active\n   */\n  setActiveMenu(id: string) {\n    this.activeMenuSubject.next(id);\n  }\n\n  /**\n   * Set menu items by parent screen id\n   * @param id Id of parent containing menu\n   * @param menuItems Items to set\n   */\n  resetMenu(id: string, menuItems: Array<MenuItemBuilder>) {\n    let newMenuItems: Array<MenuItem>;\n\n    const parentScreenId = this.getContextMenuParentScreenId(id);\n\n    if (menuItems.length > 0 && menuItems[0] instanceof MenuItemBuilder) {\n      newMenuItems = _.map(menuItems, (menuItem: MenuItemBuilder)=>menuItem.toMenuItem(parentScreenId));\n    } else {\n      newMenuItems = (menuItems as any)|| [];\n    }\n\n    this.registerContextMenu(id, newMenuItems);\n  }\n\n  /**\n   * Convert key to lowercase\n   * @param key \n   * @returns key value as lowercased string\n   */\n  private rekey(key: string) {\n    return key.toLowerCase();\n  }\n\n  /**\n   * This is for special case\n   * @param menuItemBuilder MenuItemBuilder to be released of memory when showContextMenu is called.\n   */\n  _trackMenuItemBuilderForMemRelease(menuItemBuilder: MenuItemBuilder) {\n    if (this.menuItemBuilders == null) {\n      this.menuItemBuilders = [];\n    }\n\n    this.menuItemBuilders.push(menuItemBuilder);\n  }\n}\n","import { Injectable, Injector, Type, NgZone } from '@angular/core';\nimport { McoContainerService } from '../mco-container/mco-container.service';\nimport { EventHandlerService } from '../event-handler/event-handler.service';\nimport { RequestService } from './request-service';\nimport { RouteNavigator } from './route-navigator';\nimport { Position } from './position';\nimport { ContextMenuService } from '../popup-menu/context-menu.service';\nimport { MenuItemBuilder } from '../popup-menu/menu-item-builder';\nimport { MenuItem } from '../popup-menu/menu-item';\nimport { MessageService } from './messaging-service';\n\n/**\n * Class for managing client sessions\n */\n@Injectable()\nexport class SessionService {\n  private requestService: RequestService;\n  private routeNavigator: RouteNavigator;\n  private mousePosition: Position;\n  private defsMap: Map<string, any> = new Map<string, any>();\n\n  /**\n   * Flag to keep track of when control key is pressed\n   */\n  private isCtrl: boolean;\n\n  /**\n   * Flag to keep track of when shift key is pressed\n   */\n  private isShift: boolean;\n\n  /**\n   * Flag to keep track of when alt key is pressed\n   */\n  private isAlt: boolean;\n\n  private messagingService: MessageService;\n\n  _currentPopupMenuId: string;\n\n  /**\n   * Specify how far a user can drag the dialog down.\n   */\n  dialogMaxTopPosition: number;\n\n  //track window lost focus\n  _windowLostFocus: boolean;\n\n  /**\n   *\n   * @param _mcoContainer\n   * @param _eventHandlerService\n   * @param injector\n   * @param contextMenuService\n   * @param ngZone\n   */\n  constructor(\n    private _mcoContainer: McoContainerService,\n    private _eventHandlerService: EventHandlerService,\n    private injector: Injector,\n    private contextMenuService: ContextMenuService,\n    ngZone: NgZone\n  ) {\n    ngZone.runOutsideAngular(()=>{\n      document.addEventListener(\"keydown\", (event)=>this.checkKey(event), true);\n      document.addEventListener(\"keyup\", (event)=>this.resetKey(event), true);\n\n      //track when window lost/gain focus\n      window.addEventListener(\"focusout\", (event: FocusEvent)=>{\n          this._windowLostFocus = true;\n      }, true);\n\n      window.addEventListener(\"focusin\", ()=>{\n        this._windowLostFocus = false;\n      }, true);\n    });\n  }\n\n  /**\n   * Get internal [[_mcoContainer]]\n   */\n  getMcoContainer(): McoContainerService {\n    return this._mcoContainer;\n  }\n\n  /**\n   * Get internal [[_eventHandlerService]]\n   */\n  getEventHandler(): EventHandlerService {\n    return this._eventHandlerService;\n  }\n\n  /**\n   * Set [[requestService]] value\n   * @param requestService\n   */\n  registerRequestService(requestService: RequestService) {\n    this.requestService = requestService;\n  }\n\n  /**\n   * Get value of [[requestService]] property\n   * @returns The requestService\n   */\n  getRequestService(): RequestService {\n    return this.requestService;\n  }\n\n  /**\n   * Set [[routeNavigator]] value\n   * @param routeNavigator\n   */\n  registerRouteNavigatorService(routeNavigator: RouteNavigator) {\n    this.routeNavigator = routeNavigator;\n  }\n\n  /**\n   * Get value of [[routeNavigator]] property\n   */\n  getRouteNavigatorService(): RouteNavigator {\n    return this.routeNavigator;\n  }\n\n  /**\n   * Set the position of the mouse\n   * @param event\n   */\n  setMousePosition(event: MouseEvent) {\n    this.mousePosition = {\n      x: event.clientX,\n      y: event.clientY,\n      screenX: event.screenX,\n      screenY: event.screenY\n    }\n  }\n\n  /**\n   * Get the mouse position\n   * @returns Object with properties: x, y, screenX, screenY\n   */\n  getMousePosition() {\n    return this.mousePosition;\n  }\n\n  /**\n   * Delegate to [[Injector]].get method\n   * @param type\n   */\n  getInjector(type: any) {\n    return this.injector.get(type);\n  }\n\n  /**\n   * Get display service.\n   */\n  getDisplayService() {\n    //TODO\n    return null;\n  }\n\n  /**\n   * Delegate to [[ContextMenuService]].showContextMenu\n   * @param id Context menu id\n   */\n  showContextMenu(id: string): boolean {\n    return this.contextMenuService.showContextMenu(id);\n  }\n\n  /**\n   * Delegate to [[ContextMenuService]].hideContextMenu\n   * @param id Context menu id\n   */\n  hideContextMenu(id: string) {\n    this.contextMenuService.hideContextMenu(id);\n  }\n\n  /**\n   * Delegate to [[ContextMenuService]].resetMenu. And set [[_currentPopupMenuId]]\n   * @param id Menu id\n   * @param menuItems\n   */\n  resetContextMenu(id: string, menuItems: Array<MenuItemBuilder>) {\n    this.contextMenuService.resetMenu(id, menuItems);\n    this._currentPopupMenuId = id;\n  }\n\n  /**\n   * Add entry to [[defsMap]] Map\n   * @param id Key\n   * @param data Value\n   */\n  storeDef(id: string, data: any) {\n    this.defsMap.set(id, data);\n  }\n\n  /**\n   * Get def map entry by key\n   * @param id Key\n   */\n  getDef(id: string) {\n    return this.defsMap.get(id);\n  }\n\n  /**\n   * Delete def from [[defsMap]] by key\n   * @param id Key to delete\n   */\n  deleteDef(id: string) {\n    this.defsMap.delete(id);\n  }\n\n  /**\n   * Get [[isCtrl]] property value\n   * @returns True if control key is pressed, otherwise false.\n   */\n  isCtrlPressed(): boolean {\n    return this.isCtrl === true;\n  }\n\n  /**\n   * Get [[isShift]] property value\n   * @returns True if shift key is pressed, otherwise false.\n   */\n  isShiftPressed(): boolean {\n    return this.isShift === true;\n  }\n\n  /**\n   * Get [[isAlt]] property value\n   * @returns True if alt key is pressed, otherwise false.\n   */\n  isAltPressed(): boolean {\n    return this.isAlt === true;\n  }\n\n  /**\n   * Get [[messagingService]] property\n   * @returns Value of [[messagingServiced]]\n   */\n  getMessagingService() {\n    return this.messagingService;\n  }\n\n  /**\n   * Set [[messagingService]] property\n   * @param service\n   */\n  registerMessagingService(service: MessageService) {\n    this.messagingService = service;\n  }\n\n  /**\n   * Key down handler to set internal flags for Control, Shift, and Alt\n   * @param event\n   */\n  private checkKey(event: KeyboardEvent) {\n    this.isCtrl = event.ctrlKey;\n    this.isShift = event.shiftKey;\n    this.isAlt = event.altKey;\n  }\n\n  /**\n   * Keyboard event handler for setting all internal flags for Control, Shift, and Alt to false\n   * @param event\n   */\n  private resetKey(event: KeyboardEvent) {\n      this.isCtrl = false;\n      this.isShift = false;\n      this.isAlt = false;\n  }\n}\n","export class IllegalArgumentException extends Error {\n\n}\n","import * as _ from 'lodash';\nimport * as moment from 'moment';\nimport { IllegalArgumentException } from './illegal-argument-exception';\n\nexport class JavaUtils {\n  static readonly NUMERIC = new RegExp(\"^[0-9]+$\");\n\n  static isNumber(str: string): boolean {\n    return str == null ? false : JavaUtils.NUMERIC.test(str);\n  }\n\n  static booleanToString(boo: boolean): string {\n    if (boo === true) {\n      return 'true';\n    }\n\n    return 'false';\n  }\n\n  static equals(a: any, b: any) {\n    return a == b;\n  }\n\n  static parseBoolean(val: any) {\n    if (typeof val === 'boolean') {\n      return val;\n    } else if (typeof val === 'string') {\n      return val === 'true' ? true : false;\n    } else {\n      throw new Error('Unsupport boolean value: ' + val);\n    }\n  }\n\n  static stringValue(val: any) {\n    if (typeof val === 'string') {\n      return val;\n    }\n\n    return val + '';\n  }\n\n  static longValue(str: any) {\n    if (str != null) {\n      return _.parseInt(str);\n    }\n\n    return null;\n  }\n\n  static doubleValue(str: string) {\n    if (str != null) {\n\n      let result :number = str.indexOf(\".\") >= 0 ? parseFloat(str) : _.parseInt(str);\n\n      if (isNaN(result)){\n        throw new IllegalArgumentException;\n      }\n      return result;\n    }\n    return null;\n  }\n\n  static intValue(str: any) {\n    if (str != null) {\n      return _.parseInt(str);\n    }\n\n    return null;\n  }\n\n  static toString(val: any) {\n    if (typeof val === 'number') {\n      return val + '';\n    } else if (typeof val === 'boolean') {\n      return JavaUtils.booleanToString(val);\n    }\n  }\n\n  static compareTo(a: string, b: string): number {\n    let retVal = null;\n\n    if (a === b) {\n      retVal = 0;\n    } else if (a > b) {\n      retVal = 1;\n    } else {\n      retVal = -1;\n    }\n\n    return retVal;\n  }\n\n  static bigDecimal(val: number | string, scale: number = 0, roundingMode: number = -1) {\n    //for now, just retrn the number\n    const fixedValue = typeof val === 'number' ? val : parseFloat(val);\n\n    if (scale > 0) {\n      return parseFloat(`${fixedValue}.${_.padStart('', scale, '0')}`);\n    } else {\n      return fixedValue;\n    }\n  }\n\n  static signum(num: number): number {\n    return num === 0 ? 0 : num > 0 ? 1 : -1;\n  }\n\n  static floatValue(str: string): number {\n    return parseFloat(str);\n  }\n\n  static lessThan(a: any, b: any): boolean {\n    if (moment.isMoment(a) && moment.isMoment(b)) {\n      return (a as moment.Moment).isBefore(b);\n    }\n\n    return a < b;\n  }\n}\n","//import { BaseComponent } from '../base/base.component';\nimport { KeyUtils } from '../base/key-utils';\n\nexport class ClientEvent {\n    private _parameters: Map<string, any> = new Map<string, any>();\n    private _attributes: Map<string, any> = new Map<string, any>();\n    private _returnValue: any;\n    private _returnValueSet: any;\n\n    constructor(private _source: any, private _event: Event) {\n\n    }\n\n    getSource(): any {\n      return this._source;\n    }\n\n    getEvent(): Event {\n      return this._event;\n    }\n\n    setParameter(paramName: string, value: any) {\n      this._parameters.set(KeyUtils.toMapKey(paramName), value);\n    }\n\n    getParameter(paramName: string): any {\n      return this._parameters.get(KeyUtils.toMapKey(paramName));\n    }\n\n    setAttribute(attributeName: string, value: any) {\n      this._attributes.set(KeyUtils.toMapKey(attributeName), value);\n    }\n\n    getAttribute(attributeName: string): any {\n      return this._attributes.get(KeyUtils.toMapKey(attributeName));\n    }\n\n    stopPropagation() {\n      if (this._event != null) {\n        this._event.stopPropagation();\n      }\n    }\n\n    preventDefault() {\n      if (this._event != null) {\n        this._event.preventDefault();\n      }\n    }\n\n    setReturnValue(value: any){\n      this._returnValue = value;\n\n      this._returnValueSet = true;\n    }\n\n    getReturnValue(): any {\n      return this._returnValue;\n    }\n\n    isReturnValueSet(): boolean {\n      //can't check for returnValue is null b/c it can be set to null\n      return this._returnValueSet === true ? true : false;\n    }\n}","import { Iterator } from './iterator';\n\nexport class ListIterator<E = any> implements Iterator<E>{\n    private currentIndex: number = 0;\n\n    constructor(private data: Array<E>) {\n    }\n\n    hasNext(): boolean {\n        return this.data != null && this.data.length > this.currentIndex;\n    }\n\n    next<T extends E>(): E {\n        if (this.currentIndex < this.data.length) {\n            return this.data[this.currentIndex++];\n        }\n\n        throw new Error('No such element');\n    }\n}","import { Iterator } from './iterator';\nimport { ListIterator } from './list-iterator';\nimport { Iterable } from './iterable';\nimport * as _ from 'lodash';\n\n//emulvate Java vector (somewhat)\nexport class Vector<E = any> implements Iterable {\n  private data: Array<E> = [];\n\n  constructor(size?: number | Array<E>) {\n    if (Array.isArray(size)) {\n      this.data = size;\n    }\n  }\n\n  toArray(): Array<E> {\n    return this.data;\n  }\n\n  setData(data: Array<E>) {\n    this.data = data;\n  }\n\n  size(): number {\n    return this.data == null ? 0 : this.data.length;\n  }\n\n  get<T extends E> (idx: number): T {\n    if (this.size() > idx) {\n      return this.data[idx] as T;\n    }\n\n    return null;\n  }\n\n  add(element: E, insertionIndex: number = -1): number {\n    if (insertionIndex === -1) {\n      return this.data.push(element);\n    } else {\n      this.data.splice(insertionIndex, 0, element);\n      return insertionIndex;\n    }\n  }\n\n  delete(idx: number): void {\n    if (this.get(idx)) {\n      this.data.splice(idx, 1);\n    }\n  }\n\n  addElement(element: E): number {\n    return this.add(element);\n  }\n\n  addAll(vec: Vector<E>) {\n    let it: Iterator<E> = vec.iterator();\n    while(it.hasNext()) {\n      this.add(it.next());\n    }\n  }\n\n  firstElement(): E {\n    return this.data != null && this.data.length > 0 ? this.data[0] : null;\n  }\n\n  lastElement(): E {\n    return this.data != null && this.data.length > 0 ? this.data[this.data.length - 1] : null;\n  }\n\n  contains(element: E): boolean {\n    return this.data != null && this.data.indexOf(element) >= 0 ? true: false;\n  }\n\n  elementAt(idx: number): E {\n    return this.get(idx);\n  }\n\n  isEmpty(): boolean {\n    return this.data == null || this.data.length === 0;\n  }\n\n  iterator(): Iterator<E> {\n    return new ListIterator<E>(_.clone(this.data));\n  }\n}\n","import { BaseComponent } from \"./base.component\";\n\nexport class AttributeChangeEvent {\n    constructor(\n        private name: string,\n        private oldValue: any,\n        private newValue: any,\n        private sourceElement: BaseComponent\n    ) {}\n\n    getName(): string {\n        return this.name;\n    }\n\n    getOldValue(): any {\n        return this.oldValue;\n    }\n\n    getNewValue(): any {\n        return this.newValue;\n    }\n\n    getSourceElement(): BaseComponent {\n        return this.sourceElement;\n    }\n    \n}","import { AttributeNameValue } from \"./attribute-name-value\";\nimport { ClientEvent } from \"../event-handler/client-event\";\nimport { BaseComponent } from \"./base.component\";\n\n// @dynamic\nexport class AppUtils {\n    static readonly domParser = new DOMParser();\n\n    /** ã¯ã©ã¹å±æ§å¤æç¨ããã */\n    static _classOverrideMap: Map<any, any> = new Map();\n    static attributeOverrideClassInitializer: () => void  = null;\n    static attributeOverrideClass: (value: string) => Array<AttributeNameValue> = null;\n    /** ããªãã¼ãå±æ§å¤æç¨ããã */\n    static _validateOverrideMap: Map<any, any> = new Map();\n    static attributeOverrideValidateInitializer: () => void  = null;\n    static attributeOverrideValidate: (value: string) => Array<AttributeNameValue> = null;\n\n    static customizeClientEvent: (source: any, clientEvent: ClientEvent) => void = null;\n    static validateField: (source: BaseComponent) => boolean = null;\n    static parseDom(str: string) {\n        return this.domParser.parseFromString(str, \"application/xml\").firstElementChild;\n    }\n    /**\n     * Validate HTML attribute to see if they should be pass to the server. This is needed\n     * because Nexaweb framework allow passing of custom attributes\n     */\n    static validateAttribute: (attributeName: string) => boolean = null;\n    static setCustomAttribute: (json: { [name: string]: string }, el: Element) => void;\n    static enableLogging: boolean = true;\n    static maxFindElementCache: number = 500;\n    static isCloseBtn: boolean = false;\n\n    /** attributeOverrideInitializer */\n    static attributeOverrideInitializer(): void {\n        this.attributeOverrideClassInitializer();\n        this.attributeOverrideValidateInitializer();\n    }\n}\n","export class HashMap<K, V> implements Map<K, V> {\n    private _internalMap: Map<K, V> = new Map<K, V>();\n\n    constructor() {\n\n    }\n\n    get size(): number {\n        return this._internalMap.size;\n    }\n\n    put(key: K, value: V) {\n        this._internalMap.set(key, value);\n    }\n\n    get(key: K): V {\n        return this._internalMap.get(key);\n    }\n\n    set(key: K, value: V) {\n        this._internalMap.set(key, value);\n        return this;\n    }\n\n    delete(key: K): boolean {\n        return this._internalMap.delete(key);\n    }\n\n    remove(key: K): void {\n        this.delete(key);\n    }\n\n    clear() {\n        return this._internalMap.clear();\n    }\n\n    entries() {\n        return this._internalMap.entries();\n    }\n\n    forEach(cb: (value: V, key: K, map: Map<K, V>)=>void, thisArg: any) {\n        return this._internalMap.forEach(cb, thisArg);\n    }\n\n    has(key: K) {\n        return this._internalMap.has(key);\n    }\n\n    keys() {\n        return this._internalMap.keys();\n    }\n\n    values() {\n        return this._internalMap.values();\n    }\n\n    toJson(): {[name: string]: any} {\n      const json = {};\n      const keys = this.keys();\n      let key = keys.next();\n\n      while(key.done !== true) {\n        json[key.value as any] = this.get(key.value);\n        key = keys.next();\n      }\n\n      return json;\n    }\n\n    get [Symbol.iterator]() {\n        return this._internalMap[Symbol.iterator];\n    }\n\n    get [Symbol.toStringTag]() {\n        return this._internalMap[Symbol.toStringTag];\n    }\n}\n","import { HashMap } from \"./hash-map\";\n\nexport class Hashtable<K, V> extends HashMap<K, V> {\n    constructor() {\n        super();\n    }\n}","import { AppUtils } from \"./app-utils\";\n\nexport class Logger {\n    static warn(e: any) {\n        if (AppUtils.enableLogging === true) {\n            console.warn(e);\n        }\n    }\n\n    static log(e: any) {\n        if (AppUtils.enableLogging === true) {\n            console.log(e);\n        }\n    }\n\n    static info(e: any) {\n        if (AppUtils.enableLogging === true) {\n            console.info(e);\n        }\n    }\n\n    static error(e: any) {\n        if (AppUtils.enableLogging === true) {\n            console.error(e);\n        }\n    }\n\n    static debug(e: any) {\n        if (AppUtils.enableLogging === true) {\n            console.debug(e);\n        }\n    }\n}","import { Component, Optional, SkipSelf, AfterViewInit, Input, OnDestroy, ElementRef, OnInit, ChangeDetectorRef, ComponentRef, Output, EventEmitter, Renderer2 } from \"@angular/core\";\n\nimport * as _ from 'lodash';\nimport { SessionService } from \"../session/session.service\";\nimport { KeyUtils } from \"./key-utils\";\nimport { AttributesEnum } from \"./attributes.enum\";\nimport { JavaUtils } from \"../java/java-utils\";\nimport { ClientEvent } from \"../event-handler/client-event\";\nimport { BorderPosition } from \"./style-literals\";\nimport { Vector } from \"../java/vector\";\nimport { AttributeChangeListener } from \"./attribute-change-listener\";\nimport { AttributeChangeEvent } from \"./attribute-change-event\";\nimport { AppUtils } from \"./app-utils\";\nimport { Hashtable } from \"../java/hashtable\";\nimport { HashMap } from \"../java/hash-map\";\nimport { ViewComponent } from \"../view/view.component\";\nimport { Logger } from \"./logger\";\nimport { HTMLElementWrapper } from \"../tree-table/html-element-wrapper\";\nimport { AttributeNameValue } from \"./attribute-name-value\";\nimport { TrustedStyleString } from \"@angular/core/src/sanitization/bypass\";\nimport { TabComponent } from \"../tab-pane/tab/tab.component\";\nimport { TabPaneComponent } from \"../tab-pane/tab-pane.component\";\n\n/**\n * Main class that all core components should inherit.\n */\n@Component({\n  selector: 'vt-base',\n  template: 'nothing here'\n})\nexport class BaseComponent implements AfterViewInit, OnDestroy, OnInit {\n  @Input() autoWrap: boolean;\n  @Input() borderPosition: BorderPosition;\n  @Input() id: string;\n  @Input() disabled: boolean = false;\n  @Input() sort: string = \"\";\n  @Input() visible: boolean = true;\n  @Input() text: string = \"\";\n  @Input() set cssClass(css: string) {\n    this._cssClass = this.cleanCss(css);\n    this.initBorderLayout();\n  }\n\n  @Input() controlWidth: string;\n  @Input() controlHeight: string;\n  @Input() maxHeight: string;\n  @Input() lineHeight: string;\n  @Input() marginRight: string;\n  @Input() marginLeft: string;\n  @Input() marginTop: string;\n  @Input() marginBottom: string;\n  @Input() controlMargin: string;\n  @Input() controlPadding: string;\n  @Input() controlOverflow: string;\n  @Input() panelWidth: string;\n  @Input() panelMinWidth: string;\n  @Input() panelMinHeight: string;\n  @Input() controlFloat: string;\n  @Input() required: boolean = false;\n  @Input() pattern: string;\n  @Input() min: number | string;\n  @Input() max: number | string;\n  @Input() minLength: number | string;\n  @Input() maxLength: number | string;\n  @Input() inputLocale: string;\n  @Input() inputCharsets: string;\n  @Input() focusOnActivation: boolean;\n  @Input() focused: boolean;\n  @Input() orderIndex: number = -1;\n  @Input() x: string;\n  @Input() y: string;\n  @Input() set require(req: boolean) {\n    this.required = req;\n  }\n  @Input() controlWidthComboBox: string;\n\n  /**\n   * Accessor for [[required]] property\n   */\n  get require(): boolean {\n    return this.required;\n  }\n\n  /* istanbul ignore next */\n  //add to prevent confusion\n  @Input() class(css: string) {\n    this.cssClass = css;\n  }\n\n  /**\n   * Accessor for [[cssClass]] property\n   */\n  get cssClass(): string {\n    return this._cssClass;\n  }\n\n  //TODO need to figure out what these do\n  @Input() hGrabSpace: boolean;\n  @Input() vGrabSpace: boolean;\n\n  @Input() bgColor: string;\n\n  //use by <defs ....>\n  //e.g. <vt-combo-box id=\"foo\" editor=\"#fooBar\" ...>\n  @Input() editor: string;\n\n  //popup menu id that should pop when this comp is right click (if there is any)\n  @Input() popup: string;\n\n  /**\n   * Align horizontally? TODO need is a major regression test\n   */\n  @Input() alignHorizontal: string;\n\n  private _cssClass: string;\n\n  /* istanbul ignore next */\n  compRef: ComponentRef<any>;\n\n  /* istanbul ignore next */\n  private _tempFreezeCd: boolean;\n\n  //alias for disabled\n  @Input() set enabled(boo: boolean) {\n    if (typeof boo === 'string') {\n      //if enabled is false, disabled is true\n      this.disabled = boo === 'true' ? false : true;\n    } else {\n      this.disabled = !boo;\n    }\n  }\n\n  get enabled(): boolean {\n    return !this.disabled;\n  }\n\n  @Input() set sortValue(value: string) {\n    this.sort = value\n  }\n\n  get sortValue(): string {\n    return this.sort;\n  }\n\n  //looks like Nexaweb support custom attributes key/value\n  @Input() customAttributes: { [name: string]: any };\n\n  //font\n  @Input() fontBold: boolean | string;\n  @Input() fontColor: string;\n  @Input() fontItalic: boolean | string;\n  @Input() fontSize: number;\n  @Input() fontUnderline: boolean | string;\n  @Input() fontColorDisabled: string;\n  @Input() opacity: string;\n\n  //border\n  @Input() borderColor: string;\n  @Input() borderWidth: number | string;\n  @Input() borderStyle: string;\n  @Input() borderHeight: number | string;\n\n  //skip emiting context menu event\n  @Input() skipEmitContextMenuEvent: boolean;\n\n  /* istanbul ignore next */\n  @Output() onContextMenu: EventEmitter<MouseEvent> = new EventEmitter<MouseEvent>();\n  @Output() onActiveLost: EventEmitter<void> = new EventEmitter<void>();\n  @Output() onBeforeActiveLost: EventEmitter<void> = new EventEmitter<void>();\n\n  styles: { [name: string]: string } = {};\n\n  //for table use\n  tableRowNo: number;\n\n  /* istanbul ignore next */\n  private _uniqueId: string;\n\n  /* istanbul ignore next */\n  /**\n   * This is for use when setAttribute(onCommand is set)\n   */\n  protected _internalOnCommand: (param?: any) => void;\n  protected _internalOnActiveLost: (param?: any) => void;\n\n  //internal use only, do not use externally\n  _internalChangeCb: (comp: BaseComponent) => void;\n\n  get uniqueId(): string {\n    return this._uniqueId;\n  }\n\n  protected _children: Map<string, BaseComponent> = null;\n\n  /* istanbul ignore next */\n  protected _childrenIndex: Array<string> = null;\n\n  get children(): Map<string, BaseComponent> {\n    return this._children;\n  }\n\n  /* istanbul ignore next */\n  private attributeChangeListeners: Array<AttributeChangeListener>;\n\n  private radioButtonGroups: Map<string, Array<BaseComponent>>;\n\n  highlightBgColor: string;\n  highlightFontColor: string;\n\n  parentTableRow: any;\n\n  //cache reduceChildrenIterative\n  // private _reduceChildrenIterativeCache: Array<BaseComponent>;\n\n  //track all children for the view\n  protected _viewChildrenMap: Map<string, BaseComponent>;\n\n  //for TabComponent\n  protected tabChildrenIds: Array<string>;\n\n  private scrollPanes: Array<BaseComponent>;\n\n  _isDying: boolean;\n\n  /**\n   * Constructor where it required minimal injection in order for this class to function properly. Subclass can overload this constructor\n   * but it must provided the minimal required items to be injected.\n   *\n   * @param parent The component where this component will be used. This injection is provided by Angular if the parent component \"provide\" itself.\n   * @param sessionService SessionService needed by this class, this should be injected by Angular.\n   * @param elementRef the element reference that wrap the element (tag) of this component.\n   * @param renderer The renderer (injected by Angular) that we used to perform DOM manipulation.\n   */\n  constructor(@Optional() @SkipSelf() protected parent: BaseComponent, private sessionService: SessionService, protected elementRef: ElementRef, protected renderer: Renderer2) {\n    this._uniqueId = BaseComponent.generateUniqueId();\n\n    //initial id\n    this.id = this._uniqueId;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Got call when this component finished initializing, if you override this, make sure to call super.ngAfterViewInit()\n   */\n  ngAfterViewInit() {\n    if (this.parent != null) {\n      this.parent.addChild(this);\n    }\n\n    this._childrenIndex = _.uniq(this._childrenIndex);\n\n    //commnet out, causing regression b/c the css selector need id of parent window\n    // if (this.renderer != null && typeof this.renderer[\"removeAttribute\"] === \"function\") {\n    //   this.renderer.removeAttribute(this.elementRef.nativeElement, \"id\");\n    // }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Init life cycle of this class, if you override this, make sure to call super.ngOnInit()\n   */\n  ngOnInit() {\n    this.initBorderLayout();\n\n    if (this.fontBold === true || this.fontBold === \"true\") {\n      this.setFontBold(true);\n    }\n\n    if (this.fontItalic === true || this.fontItalic === \"true\") {\n      this.styles[\"font-style\"] = \"italic\";\n      this.setFontItalic(true);\n    }\n\n    if (this.fontSize != null) {\n      this.setFontSize(this.fontSize);\n    }\n\n    if (this.fontUnderline === true || this.fontUnderline === \"true\") {\n      this.setFontUnderline(true);\n    }\n\n    if (this.fontColor != null) {\n      this.setColor(this.fontColor);\n    }\n\n    if (this.autoWrap === true) {\n      this.styles[\"white-space\"] = \"normal\";\n      this.markForCheck();\n    } else if (this.autoWrap === false) {\n      this.styles[\"white-space\"] = \"nowrap\";\n      this.markForCheck();\n    }\n\n    this.checkNxStyling();\n  }\n\n  /* istanbul ignore next */\n  private checkNxStyling(skipAttributeOverride: boolean = false) {\n    if (skipAttributeOverride !== true && this._cssClass != null && this._cssClass.length > 0 && typeof AppUtils.attributeOverrideClass === \"function\") {\n      let newAttributes = AppUtils.attributeOverrideClass(this._cssClass);\n\n      if (newAttributes != null) {\n        // class ã«é¢ãã¦ã¯ãæ¢å­ã®æå®ã¨ãã¼ã¸\n        const newCssClass = _.filter(newAttributes, (attr: AttributeNameValue) => attr.attributeName === AttributesEnum.CLASS).map((attr: AttributeNameValue) => attr.value).join(\" \");\n        newAttributes = _.filter(newAttributes, (attr: AttributeNameValue) => attr.attributeName !== AttributesEnum.CLASS);\n        \n        newAttributes.push({\n          attributeName: AttributesEnum.CLASS,\n          value: (this._cssClass + \" \" + newCssClass).trim(),\n        });\n\n        this.setAttributes(newAttributes, true);\n      }\n    }\n\n    if (this.elementRef != null) {\n      const _validate = this.elementRef.nativeElement.getAttribute(\"validate\");\n\n      if (skipAttributeOverride !== true && _validate != null && _validate.length > 0) {\n        let newAttributes = AppUtils.attributeOverrideValidate(_validate);\n\n        if (newAttributes != null) {\n          // class ã«é¢ãã¦ã¯ãæ¢å­ã®æå®ã¨ãã¼ã¸\n          const newCssClass = _.filter(newAttributes, (attr: AttributeNameValue) => attr.attributeName === AttributesEnum.CLASS).map((attr: AttributeNameValue) => attr.value).join(\" \");\n          newAttributes = _.filter(newAttributes, (attr: AttributeNameValue) => attr.attributeName !== AttributesEnum.CLASS);\n          \n          newAttributes.push({\n            attributeName: AttributesEnum.CLASS,\n            value: (this._cssClass + \" \" + newCssClass).trim(),\n          });\n\n          this.setAttributes(newAttributes, true);\n        }\n      }\n    }\n  }\n\n  /**\n   * Sets border CSS based on borderPosition value (top | left | bottom | right)\n   */\n  private initBorderLayout() {\n    if (this.borderPosition != null && this.borderPosition != '') {\n      if (this._cssClass != null) {\n        this._cssClass = this._cssClass + ' border-' + this.borderPosition;\n      } else {\n        this._cssClass = 'border-' + this.borderPosition;\n      }\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Destroy lifecycle. Clear component references and cache\n   */\n  ngOnDestroy() {\n    this.cleanup();\n    this._isDying = true;\n\n    const parentView = this.getParentView();\n\n    if (parentView != null) {\n      //remove ourself from the view children map\n      if (parentView._viewChildrenMap != null) {\n        parentView._viewChildrenMap.delete(KeyUtils.toMapKey(this.getId()));\n      }\n    }\n\n    this._internalChangeCb = null;\n\n    if (this.parent) {\n      this.parent.removeChild(this);\n    }\n\n    if (this._viewChildrenMap != null) {\n      this._viewChildrenMap.clear();\n    }\n\n    if (this._children !== null) {\n      this._children.clear();\n    }\n\n    this._childrenIndex = null;\n    this._viewChildrenMap = null;\n    this.parent = null;\n    this.sessionService = null;\n    this.attributeChangeListeners = null;\n    this.radioButtonGroups = null;\n    this.elementRef = null;\n    this.scrollPanes = null;\n  }\n\n  protected cleanup() {\n\n  }\n\n  /**\n   * Get [[SessionService]] instance injected via constructor\n   * @returns SessionService instance\n   */\n  getSession(): SessionService {\n    return this.sessionService;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get child component by id\n   * @param id Component ID\n   * @returns Child [[BaseComponent]]\n   */\n  getChild(id: string) {\n    if (this._children !== null) {\n      return this._children.get(KeyUtils.toMapKey(id));\n    } else {\n      return null;\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set [[disabled]] property value\n   * @param boo Value for disabled property\n   */\n  setDisabled(boo: boolean) {\n    this.disabled = boo;\n    this.markForCheck();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set [[visible]] property value\n   * @param boo Value for visible property\n   */\n  setVisible(boo: boolean) {\n    this.visible = boo;\n    this.markForCheck();\n  }\n\n  setScrollPosVertical(expression) {\n    //TODO\n  }\n\n  /**\n   * Set color of text on the component\n   * @param value Color string. Should be hexadecimal or color name supported by CSS\n   */\n  setFontColor(value) {\n    this.setColor(value);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Value of [[disabled]] property\n   * @returns Value of disabled\n   */\n  getDisabled(): boolean {\n    return this.disabled;\n  }\n\n  /**\n   * Value of opposite of [[disabled]] value\n   * @returns Value of enabled\n   */\n  getEnabled(): boolean {\n    return !this.getDisabled();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Value of soColumnNo attribute\n   * @returns Column number\n   */\n  getSoColumnNo(): string {\n    return this.getAttribute(\"soColumnNo\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get the component ref string value from [[editor]] property\n   * @returns Ref of component\n   */\n  getEditor(): string {\n    return this.editor;\n  }\n\n  /**\n   * Value of soRequire attribute\n   * @returns soRequire value\n   */\n  getSoRequire(): string {\n    return this.getAttribute(\"soRequire\");\n  }\n\n  /**\n   * Value of soValidate attribute\n   * @returns soValidate value\n   */\n  getSoValidate(): string {\n    return this.getAttribute(\"soValidate\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Value of soType attribute\n   * @returns soType value\n   */\n  getSoType(): string {\n    return this.getAttribute(\"soType\");\n  }\n\n  /**\n   * Value of soFormat attribute\n   * @returns soFormat value\n   */\n  getSoFormat(): string {\n    return this.getAttribute(\"soFormat\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Value of soMin attribute\n   * @returns soMin value\n   */\n  getSoMin(): string {\n    return this.getAttribute(\"soMin\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Value of soMax attribute\n   * @returns soMax value\n   */\n  getSoMax(): string {\n    return this.getAttribute(\"soMax\");\n  }\n\n  /**\n   * Value of soMaxLength attribute\n   * @returns soMaxLength value\n   */\n  getSoMaxLength(): string {\n    return this.getAttribute(\"soMaxLength\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Value of soPattern attribute\n   * @returns soPattern value\n   */\n  getSoPattern(): string {\n    return this.getAttribute(\"soPattern\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Value of soMaxByteLen attribute\n   * @returns soMaxByteLen value\n   */\n  getSoMaxByteLen(): string {\n    return this.getAttribute(\"soMaxByteLen\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set [[disabled]] property to opposite of input\n   * @param boo Value of enabled\n   */\n  setEnabled(boo: boolean | string) {\n    if (typeof boo === 'string') {\n      boo = boo === 'true' ? true : false;\n    }\n    this.setDisabled(!boo);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set value of [[sort]] property\n   * @param value Sort value to set\n   */\n  setSortValue(value: string) {\n    this.sort = value\n  }\n\n  /**\n   * Get value of [[visible]] property\n   * @returns Visble property value\n   */\n  getVisible(): boolean {\n    return this.visible;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Sets value of text attribute and marks component for change detection\n   * @param value Text to set. If it's a null value, it will be converted to an empty string\n   * If it's a number or non-string, it will be converted to a string representation of the value.\n   */\n  setText(value: string | number): void {\n    if (typeof value === 'string') {\n      this.text = value;\n    } else if (value == null) {\n      this.text = '';\n    } else {\n      this.text = value + '';\n    }\n    this.markForCheck();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set callback function for [[onCommand]]\n   * @param fn Function to be invoked for [[onCommand]] event\n   */\n  setOnCommand(fn: () => void): void {\n    this._internalOnCommand = fn;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set callback function for [[onActiveLost]]\n   * @param fn Function to be invoked for [[onActiveLost]] event\n   */\n  setOnActiveLost(fn: () => void): void {\n    this._internalOnActiveLost = fn;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set all attributes in one go\n   *\n   * @param attrs\n   * @param skipAttributeOverride Set to 'true' if you do not want custom attribute to override exisiting HTML attribute\n   */\n  setAttributes(attrs: Array<AttributeNameValue>, skipAttributeOverride: boolean = false) {\n    this._tempFreezeCd = true;\n\n    for (const attr of attrs) {\n      this.setAttribute(attr.attributeName, attr.value, skipAttributeOverride);\n    }\n\n    this._tempFreezeCd = false;\n    this.markForCheck();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set HTML attribute value on component\n   * @param attribute HTML attribute to set\n   * @param value Value of attribute\n   * @param skipAttributeOverride Set to 'true' if you do not want custom attribute to override exisiting HTML attribute\n   */\n  setAttribute(attribute: AttributesEnum | string, value: any, skipAttributeOverride: boolean = false) {\n    if (typeof attribute === 'string') {\n      const originalAttributeName = attribute;\n      attribute = attribute.toLowerCase();\n\n      if (attribute === \"id\") {\n        this.setAttribute(AttributesEnum.ID, value);\n      } else if (attribute === 'visible') {\n        this.setAttribute(AttributesEnum.VISIBLE, value);\n      } else if (attribute === \"class\") {\n        this.setAttribute(AttributesEnum.CLASS, value);\n      } else if (attribute === 'enabled') {\n        this.setAttribute(AttributesEnum.ENABLED, value);\n      } else if (attribute === 'disabled') {\n        this.setAttribute(AttributesEnum.DISABLED, value);\n      } else if (attribute === 'text') {\n        this.setAttribute(AttributesEnum.TEXT, value);\n      } else if (attribute === 'color') {\n        this.setAttribute(AttributesEnum.COLOR, value);\n      } else if (attribute === \"title\") {\n        this.setAttribute(AttributesEnum.TITLE, value);\n      } else if (attribute === \"require\") {\n        this.setAttribute(AttributesEnum.REQUIRE, value);\n      } else if (attribute === \"fontBold\" || attribute === \"fontbold\") {\n        this.setAttribute(AttributesEnum.FONT_BOLD, value);\n      } else if (attribute === \"selected\") {\n        this.setAttribute(AttributesEnum.SELECTED, value);\n      } else if (attribute === \"bgcolor\") {\n        this.setAttribute(AttributesEnum.BG_COLOR, value);\n      } else if (attribute === \"value\") {\n        this.setAttribute(AttributesEnum.VALUE, value);\n      } else if (attribute === \"maxlength\" || attribute === \"max_length\") {\n        this.setAttribute(AttributesEnum.MAX_LENGTH, value);\n      } else if (attribute === \"require\" || attribute === \"required\") {\n        this.setRequire(value);\n      } else if (attribute === \"width\") {\n        this.setControlWidth(value);\n      } else if (attribute === \"height\") {\n        this.setControlHeight(value);\n      } else if (attribute === \"fontSize\" || attribute === \"fontsize\") {\n        this.setFontSize(value);\n      } else if (attribute === \"oncommand\") {\n        this.setOnCommand(value);\n      } else if (attribute === \"onactivelost\") {\n        this.setOnActiveLost(value);\n      } else if (attribute === \"pattern\") {\n        this.setAttribute(AttributesEnum.PATTERN, value);\n      } else if (attribute === \"max\") {\n        this.setAttribute(AttributesEnum.MAX, value);\n      } else if (attribute === \"min\") {\n        this.setAttribute(AttributesEnum.MIN, value);\n      } else if (JavaUtils.isNumber(originalAttributeName) === true) {\n        this.setAttribute(_.parseInt(originalAttributeName), value);\n      } else {\n        this.setCustomAttribute(originalAttributeName, value);\n        // Logger.warn(`Unknown attribute: ${attribute}, setting as custom attribute`);\n\n        if (attribute === \"validate\" && skipAttributeOverride !== true && value != null && value.length > 0) {\n          let newAttributes = AppUtils.attributeOverrideValidate(value);\n\n          if (newAttributes != null) {\n            // class ã«é¢ãã¦ã¯ãæ¢å­ã®æå®ã¨ãã¼ã¸\n            const newCssClass = _.filter(newAttributes, (attr: AttributeNameValue) => attr.attributeName === AttributesEnum.CLASS).map((attr: AttributeNameValue) => attr.value).join(\" \");\n            newAttributes = _.filter(newAttributes, (attr: AttributeNameValue) => attr.attributeName !== AttributesEnum.CLASS);\n            \n            newAttributes.push({\n              attributeName: AttributesEnum.CLASS,\n              value: (this._cssClass + \" \" + newCssClass).trim(),\n            });\n    \n            this.setAttributes(newAttributes, true);\n          }\n        }\n      }\n\n      this.fireSetAttributeEvent(originalAttributeName, value);\n    } else {\n      if (attribute === AttributesEnum.CLASS && skipAttributeOverride !== true && value != null && value.length > 0 && typeof AppUtils.attributeOverrideClass === \"function\") {\n        let newAttributes = AppUtils.attributeOverrideClass(value);\n\n        if (newAttributes != null) {\n          // class ã«é¢ãã¦ã¯ãæ¢å­ã®æå®ã¨ãã¼ã¸\n          const newCssClass = _.filter(newAttributes, (attr: AttributeNameValue) => attr.attributeName === AttributesEnum.CLASS).map((attr: AttributeNameValue) => attr.value).join(\" \");\n          newAttributes = _.filter(newAttributes, (attr: AttributeNameValue) => attr.attributeName !== AttributesEnum.CLASS);\n          \n          newAttributes.push({\n            attributeName: AttributesEnum.CLASS,\n            value: (this._cssClass + \" \" + newCssClass).trim(),\n          });\n  \n          this.setAttributes(newAttributes, true);\n        }\n      }\n\n      if (attribute === AttributesEnum.ID) {\n        this.setId(value);\n      } else if (attribute === AttributesEnum.VISIBLE) {\n        if (value != null && value !== \"\") {\n          this.setVisible(JavaUtils.parseBoolean(value));\n        }\n      } else if (attribute === AttributesEnum.CLASS) {\n        this.setCssClass(value, skipAttributeOverride);\n      } else if (attribute === AttributesEnum.DISABLED) {\n        if (value != null && value !== \"\") {\n          this.setDisabled(JavaUtils.parseBoolean(value));\n        }\n      } else if (attribute === AttributesEnum.ENABLED) {\n        if (value != null && value !== \"\") {\n          this.setDisabled(!JavaUtils.parseBoolean(value));\n        }\n      } else if (attribute === AttributesEnum.TEXT) {\n        this.setText(value);\n      } else if (attribute === AttributesEnum.COLOR) {\n        this.setColor(value);\n      } else if (attribute === AttributesEnum.FONT_BOLD) {\n        this.setFontBold(value);\n      } else if (attribute === AttributesEnum.ON_COMMAND) {\n        this.setOnCommand(value);\n      } else if (attribute === AttributesEnum.REQUIRE) {\n        this.setRequire(value);\n      } else if (attribute === AttributesEnum.TITLE) {\n        this.setTitle(value);\n      } else if (attribute === AttributesEnum.SELECTED) {\n        this.setSelected(value);\n      } else if (attribute === AttributesEnum.BG_COLOR) {\n        this.setBgColor(value);\n      } else if (attribute === AttributesEnum.VALUE) {\n        this.setValue(value);\n      } else if (attribute === AttributesEnum.MAX_LENGTH) {\n        this.setMaxLength(value);\n      } else if (attribute === AttributesEnum.MAX) {\n        this.setMax(value);\n      } else if (attribute === AttributesEnum.MIN) {\n        this.setMin(value);\n      } else if (attribute === AttributesEnum.PATTERN) {\n        this.setPattern(value);\n      } else {\n        Logger.warn('Unable to set attribute, unknown attribute id: ' + attribute);\n      }\n\n      this.markForCheck();\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get value of HTML attribute\n   * @param attribute Name of HTML attribute to get\n   * @returns Value of attribute\n   */\n  getAttribute(attribute: string | AttributesEnum, skipQueryDOMIfNotExists: boolean = false): any {\n    if (typeof attribute === 'string') {\n      const attributeLower = attribute.toLowerCase();\n      if (attributeLower === 'visible') {\n        return this.getVisible() + '';\n      } else if (attributeLower === 'enabled') {\n        return this.getEnabled() + '';\n      } else if (attributeLower === 'disabled') {\n        return this.getDisabled() + '';\n      } else if (attributeLower === 'text') {\n        return this.getText();\n      } else if (attributeLower === 'color') {\n        return this.getColor();\n      } else if (attributeLower === 'require') {\n        return this.getRequired() + '';\n      } else if (attributeLower === \"value\") {\n        return this.getValue();\n      } else if (attributeLower === \"selected\") {\n        return this.getChecked() + '';\n      } else if (attributeLower === \"id\") {\n        return this.getId();\n      } else if (attributeLower === \"pattern\") {\n        return this.getPattern();\n      } else if (attributeLower === \"min\") {\n        return this.getMin();\n      } else if (attributeLower === \"max\") {\n        return this.getMax();\n      } else if (attributeLower === \"max_length\") {\n        return this.getMaxLength();\n      } else if (this.customAttributes != null && this.customAttributes[attribute] !== undefined) {\n        return this.getCustomAttribute(attribute);\n      } else if (attribute === \"isLockedColumn\") {\n        return false;\n      } else if (skipQueryDOMIfNotExists !== true) {\n        Logger.warn(`Attribute ${attribute} does not exists, trying to get from DOM`);\n        if (this.elementRef != null) {\n          return this.elementRef.nativeElement.getAttribute(attribute)\n        }\n      } else {\n        return undefined;\n      }\n    } else if (attribute === AttributesEnum.VISIBLE) {\n      return this.getVisible() + '';\n    } else if (attribute === AttributesEnum.DISABLED) {\n      return this.getDisabled() + '';\n    } else if (attribute === AttributesEnum.ENABLED) {\n      return !this.getDisabled() + '';\n    } else if (attribute === AttributesEnum.TEXT) {\n      return this.getText();\n    } else if (attribute === AttributesEnum.COLOR) {\n      return this.getColor();\n    } else if (attribute === AttributesEnum.REQUIRE) {\n      return this.getRequired() + '';\n    } else if (attribute === AttributesEnum.VALUE) {\n      return this.getValue();\n    } else if (attribute === AttributesEnum.SELECTED) {\n      return this.getChecked() + '';\n    } else if (attribute === AttributesEnum.PATTERN) {\n      return this.getPattern();\n    } else if (attribute === AttributesEnum.MIN) {\n      return this.getMin();\n    } else if (attribute === AttributesEnum.MAX) {\n      return this.getMax();\n    } else if (attribute === AttributesEnum.MAX_LENGTH) {\n      return this.getMaxLength();\n    } else {\n      console.error('Unable to get attribute, unknown attribute id: ' + attribute);\n    }\n\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Focus the HTML element of this component\n   */\n  requestFocus() {\n    if (this.getElement() != null) {\n      this.getElement().focus();\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Focus the native HTML element of the component and mark for change detection\n   */\n  setFocus() {\n    if (this.elementRef != null) {\n      (this.elementRef.nativeElement as HTMLElement).focus();\n      this.markForCheck();\n    }\n  }\n\n  /**\n   * Event handler for when focus is lost. Invokes onActiveLost event handler\n   * @event [[OnActiveLost]]\n   */\n  focusLost() {\n    this.onActiveLost.emit();\n\n    if (typeof this._internalOnActiveLost === 'function') {\n      this._internalOnActiveLost(this);\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Creates a unique id using an optional prefix\n   * @param prefix String to append to beginning of ID\n   * @returns Unique ID\n   */\n  static generateUniqueId(prefix: string = 'base'): string {\n    return prefix + Date.now() + '_' + _.random(1, 1000) + _.random(1, 100);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Adds child component to this component\n   * @param child Component to add as child\n   */\n  protected addChild(child: BaseComponent) {\n    if (child.id !== this.id) {\n      const childKey = KeyUtils.toMapKey(child.id);\n\n      if (this._children === null) {\n        this._children = new Map<string, BaseComponent>();\n      }\n\n      if (this._childrenIndex === null) {\n        this._childrenIndex = new Array<string>();\n      }\n\n      this._children.set(childKey, child);\n      this._childrenIndex.push(child.id);\n\n      //check to see if we have ViewComponent, if so, register ourself so that\n      //it can be located faster\n      const parentView = this.getParentView();\n\n      if (parentView != null && (child.isFauxElement() || child.isDialog() !== true)) {\n        if (parentView._viewChildrenMap == null) {\n          parentView._viewChildrenMap = new Map<string, BaseComponent>();\n        }\n\n        parentView._viewChildrenMap.set(childKey, child);\n\n        //track ScrollPane for scroll adjustment\n        if (typeof child.isScrollPane === \"function\" && child.isScrollPane() === true) {\n          parentView.registerScrollPane(child);\n        }\n      }\n    }\n  }\n\n  /**\n   * Get the native element of the component if a reference to it is defined\n   * @returns The HTML native element or 'null' if reference is missing\n   */\n  getElement(): HTMLElement {\n    return this.elementRef ? this.elementRef.nativeElement : null;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get the text property value\n   * @returns Text value\n   */\n  getText(): string {\n    return this.text;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set CSS color style attribute and marks for change detection\n   * @param color CSS color string value. Should be hexadecimal or valid CSS color string\n   */\n  setColor(color: string) {\n    if (color == null || color === \"\") {\n      delete this.styles['color'];\n    } else {\n      this.styles['color'] = color;\n    }\n\n    this.markForCheck();\n  }\n\n  /**\n   * Get the color style attribute value\n   * @returns Color string. Hexadecimal or CSS color string\n   */\n  getColor(): string {\n    return this.styles['color'];\n  }\n\n  /**\n   * Set background color CSS style attribute value\n   * @param bgColor Color string value to set. Should be hexadecimal or valid CSS color string.\n   */\n  setBgColor(bgColor: string) {\n    this.bgColor = bgColor;\n    this.styles[\"background\"] = bgColor;\n    this.markForCheck();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Sets font-weight style property to bold\n   * @param boo Switch for turning bold style on/off\n   */\n  setFontBold(boo: boolean | string) {\n    this.fontBold = boo;\n\n    if (boo === true || boo === \"true\") {\n      this.styles[\"font-weight\"] = \"bold\";\n    } else {\n      delete this.styles[\"font-weight\"];\n    }\n\n    this.markForCheck();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Sets CSS style attribute font-style to italic\n   * @param boo Switch for turning italic style on/off\n   */\n  setFontItalic(boo: boolean | string) {\n    this.fontItalic = boo;\n\n    if (boo === true || boo === \"true\") {\n      this.styles[\"font-style\"] = \"italic\";\n    } else {\n      delete this.styles[\"font-style\"];\n    }\n  }\n\n  /**\n   * Sets CSS style attribute font-size\n   * @param size Number of pixels for font-size\n   */\n  setFontSize(size: number) {\n    this.fontSize = size;\n\n    this.styles[\"font-size\"] = size + \"px\";\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Add/remove CSS style attribute text-decoration to underline\n   * @param underline Switch for turning underline style on/off for text\n   */\n  setFontUnderline(underline: boolean | string) {\n    this.fontUnderline = underline;\n\n    if (this.fontUnderline === \"true\" || this.fontUnderline === true) {\n      this.styles[\"text-decoration\"] = \"underline\";\n    } else {\n      delete this.styles[\"text-decoration\"];\n    }\n  }\n\n  /**\n   * Event handler that registers focus event\n   * @param event\n   */\n  handleFocus(event: FocusEvent) {\n    this.registerClientEvent(event);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler that registers click event\n   * @param event\n   */\n  handleClick(event: MouseEvent) {\n    this.registerClientEvent(event);\n  }\n\n  /**\n   * Event handler that registers keydown event\n   * @param event\n   */\n  handleKeyDown(event: KeyboardEvent) {\n    this.registerClientEvent(event);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler that registers keyup event\n   * @param event\n   */\n  handleKeyUp(event: KeyboardEvent) {\n    this.registerClientEvent(event);\n  }\n\n  /**\n   * Event handler that registers mousedown event\n   * @param event\n   */\n  handleMouseDown(event: MouseEvent) {\n    this.registerClientEvent(event);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Gets custom attribute by name if it exists\n   * @param attributeName Name of custom attribute\n   * @returns Custom attribute if it exists, otherwise undefined\n   */\n  getCustomAttribute(attributeName: string): any {\n    if (this.customAttributes != null) {\n      return this.customAttributes[attributeName];\n    }\n\n    return undefined;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set attribute on customAttribute object using name as key\n   * @param name key name of attribute\n   * @param value value to set for key/name\n   */\n  setCustomAttribute(name: string, value: any) {\n    if (this.customAttributes == null) {\n      this.customAttributes = {};\n    }\n\n    if (value != null) {\n      this.customAttributes[name] = value + '';\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Check if custom attribute exists\n   * @param id Key name of attribute\n   * @returns True if custom attribute with name/key exists\n   */\n  hasCustomAttribute(id: string): boolean {\n    return this.customAttributes != null && this.customAttributes[id] != null;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get child component by index\n   * @param idx Index of child component\n   * @returns Child [[BaseComponent]]\n   */\n  getChildAt(idx: number): BaseComponent {\n    if (this._childrenIndex !== null) {\n      if (this._childrenIndex.length > idx) {\n        return this.getChild(this._childrenIndex[idx]);\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Get the number of child components\n   * @returns Number of children\n   */\n  getChildCount(): number {\n    if (this._children !== null) {\n      return this._children.size;\n    } else {\n      return 0;\n    }\n  }\n\n  /**\n   * Get index of child component if it exists\n   * @param child Child component\n   */\n  indexOfChild(child: any): number {\n    //TODO\n    console.error(\"indexOfChild is not implemented\");\n    return -1;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Insert child component to children array at location of index\n   * @param idx Index of insert location\n   * @param row\n   */\n  insertChildAt(idx: number, row: any) {\n    //TODO\n    console.error(\"insertChildAt is not implemented\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * TODO: Add documentation for emitInternalCommand\n   */\n  protected emitInternalOnCommand() {\n    if (typeof this._internalOnCommand === 'function') {\n      this._internalOnCommand(this);\n      return true;\n    } else if (typeof this._internalOnCommand === \"string\") {\n      this.invokeMcoAction(this._internalOnCommand);\n    }\n\n    return false;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Registers event handler for client event\n   * @param event Event to register\n   */\n  protected registerClientEvent(event: Event) {\n    const clientEvent = new ClientEvent(this, event);\n\n    if (AppUtils.customizeClientEvent != null) {\n      AppUtils.customizeClientEvent(this, clientEvent);\n    }\n\n    this.getSession().getEventHandler().setClientEvent(clientEvent);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get the native HTML element tag name\n   * @returns Name of HTML element tag\n   */\n  getTagName(): string {\n    return this.elementRef != null ? this.elementRef.nativeElement.tagName : '';\n  }\n\n  /**\n   * Get component tag name without vivify core prefix (i.e. \"vt-\")\n   * @returns Tag name\n   */\n  getLocalName(): string {\n    return this.getTagName().toLowerCase().replace(\"vt-\", \"\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get the parent component if it exists\n   * @returns Component or null if there is no parent\n   */\n  getParent() {\n    return this.parent;\n  }\n\n  /**\n   * Get value property if it exists, otherwise return 'null'\n   * @returns Value or 'null'\n   */\n  getValue() {\n    if (this[\"value\"]) {\n      return this[\"value\"];\n    }\n\n    return null;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Removes attribute name name\n   * @param attribute Attribute to remove\n   */\n  removeAttribute(attribute: string | AttributesEnum) {\n    if (typeof attribute === 'string') {\n      const attributeLower = attribute.toLowerCase();\n      if (attributeLower === 'visible') {\n        this.removeAttribute(AttributesEnum.VISIBLE);\n      } else if (attributeLower === 'enabled') {\n        this.removeAttribute(AttributesEnum.ENABLED);\n      } else if (attributeLower === 'disabled') {\n        this.removeAttribute(AttributesEnum.DISABLED);\n      } else if (attributeLower === 'text') {\n        this.removeAttribute(AttributesEnum.TEXT);\n      } else if (attributeLower === 'color') {\n        this.removeAttribute(AttributesEnum.COLOR);\n      } else if (attributeLower === 'pattern') {\n        this.removeAttribute(AttributesEnum.PATTERN);\n      } else if (attributeLower === 'max') {\n        this.removeAttribute(AttributesEnum.MAX);\n      } else if (attributeLower === 'maxlength' || attributeLower === 'max_length') {\n        this.removeAttribute(AttributesEnum.MAX_LENGTH);\n      } else if (attributeLower === 'min') {\n        this.removeAttribute(AttributesEnum.MIN);\n      } else if (attributeLower === 'class') {\n        this.removeAttribute(AttributesEnum.CLASS);\n      } else if (attributeLower === 'oncommand' || attributeLower === 'on_command') {\n        this.removeAttribute(AttributesEnum.ON_COMMAND);\n      } else if (attributeLower === 'require') {\n        this.removeAttribute(AttributesEnum.REQUIRE);\n      } else if (attributeLower === 'title') {\n        this.removeAttribute(AttributesEnum.TITLE);\n      } else if (attributeLower === 'fontbold' || attributeLower === 'font_bold') {\n        this.removeAttribute(AttributesEnum.FONT_BOLD);\n      } else if (attributeLower === 'selected') {\n        this.removeAttribute(AttributesEnum.SELECTED);\n      } else if (attributeLower === 'bgColor') {\n        this.removeAttribute(AttributesEnum.BG_COLOR);\n      } else if (attributeLower === 'value') {\n        this.removeAttribute(AttributesEnum.VALUE);\n      } else if (this.customAttributes != null) {\n        delete this.customAttributes[attribute];\n        Logger.warn(`Unknown attribute: ${attribute}, setting as custom attribute`);\n      }\n\n      this.fireRenoveAttributeEvent(attribute);\n    } else if (attribute === AttributesEnum.VISIBLE) {\n      this.setVisible(true);\n    } else if (attribute === AttributesEnum.DISABLED) {\n      this.setDisabled(false);\n    } else if (attribute === AttributesEnum.ENABLED) {\n      this.setEnabled(true);\n    } else if (attribute === AttributesEnum.TEXT) {\n      delete this.text;\n      this.markForCheck();\n    } else if (attribute === AttributesEnum.COLOR) {\n      this.setColor(\"\");\n    } else if (attribute === AttributesEnum.ON_COMMAND) {\n      delete this._internalOnCommand;\n    } else if (attribute === AttributesEnum.PATTERN) {\n      this.setPattern(undefined);\n    } else if (attribute === AttributesEnum.MAX) {\n      this.setMax(undefined);\n    } else if (attribute === AttributesEnum.MAX_LENGTH) {\n      this.setMaxLength(undefined);\n    } else if (attribute === AttributesEnum.MIN) {\n      this.setMin(undefined);\n    } else {\n      Logger.warn('Unable to set attribute, unknown attribute id: ' + attribute);\n    }\n  }\n\n  /**\n   * Alias of [[setRequired]]\n   * @param boo\n   */\n  setRequire(boo: boolean | string) {\n    this.setRequired(boo);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set [[required]] to true or false\n   * @param boo\n   */\n  setRequired(boo: boolean | string) {\n    if (boo === 'true' || boo === true) {\n      this.required = true;\n    }\n    else {\n      this.required = false;\n    }\n    this.markForCheck();\n  }\n\n  /**\n   * Set [[pattern]] value\n   * @param pattern\n   */\n  setPattern(pattern: string) {\n    this.pattern = pattern;\n    this.markForCheck();\n  }\n\n  /**\n   * Set [[min]] value\n   * @param val\n   */\n  setMin(val: any) {\n    this.min = val;\n    this.markForCheck();\n  }\n\n  /**\n   * Set [[max]] value\n   * @param val\n   */\n  setMax(val: any) {\n    this.max = val;\n    this.markForCheck();\n  }\n\n  /**\n   * Get [[pattern]] value\n   * @returns [[pattern]]\n   */\n  getPattern(): string {\n    return this.pattern;\n  }\n\n  /**\n   * Get [[min]] value\n   * @returns [[min]]\n   */\n  getMin(): any {\n    return this.min;\n  }\n\n  /**\n   * Get [[max]] value\n   * @returns [[max]]\n   */\n  getMax(): any {\n    return this.max;\n  }\n\n  /**\n   * Get [[inputLocale]] value\n   * @returns [[inputLocale]]\n   */\n  getInputLocale(): string {\n    return this.inputLocale;\n  }\n\n  /** Set [[inputLocale]] value\n   * @param locale\n   */\n  setInputLocale(locale: string) {\n    this.inputLocale = locale;\n    this.markForCheck();\n  }\n\n  /**\n   * Get [[inputCharsets]] value\n   * @returns [[inputCharsets]]\n   */\n  getInputCharsets(): string {\n    return this.inputCharsets;\n  }\n\n  /**\n   * Set [[inputCharests]] value\n   * @param inputCharSets\n   */\n  setInputCharsets(inputCharSets: string) {\n    this.inputCharsets = inputCharSets;\n    this.markForCheck();\n  }\n\n  /**\n   * Get [[id]] value\n   * @returns [[id]]\n   */\n  getId(): string {\n    return this.id;\n  }\n\n  /**\n   * Set [[id]] value\n   * @param id\n   */\n  setId(id: string) {\n    if (this.parent != null && this.parent.children.has(this.id)) {\n      this.parent.children.delete(KeyUtils.toMapKey(this.id));\n      this.parent.children.set(KeyUtils.toMapKey(id), this);\n\n      if (this._childrenIndex !== null) {\n        const idx = _.findIndex(this.parent._childrenIndex, (item) => item === this.id);\n\n        if (idx >= 0) {\n          this.parent._childrenIndex[idx] = id;\n        } else {\n          this.parent._childrenIndex.push(id);\n        }\n\n        this.parent._childrenIndex = _.uniq(this.parent._childrenIndex);\n      }\n    }\n\n    this.id = id;\n  }\n\n  /**\n   * Abstract method. Implemented by sub class components\n   * @param title\n   */\n  setTitle(title: string) {\n    //impl. by sub class\n  }\n\n  /**\n   * Set [[cssClass]] of component.\n   * @param css Class (CSS) name to set on component. For multiple CSS classes, join with DOT (.)\n   * ```\n   * .class1.class2.class3\n   * ```\n   */\n  setCssClass(css: string, skipAttributeOverride: boolean = false) {\n    if (css != null && css.indexOf(\".\") >= 0) {\n      const temp = css.split(\"\\.\");\n\n      this.cssClass = temp.join(\"-\");\n\n      if (temp[0] === \"\") {\n        this.cssClass = this.cssClass.substring(1);\n      }\n    }\n\n    this.cssClass = css;\n    this.checkNxStyling(skipAttributeOverride);\n    this.markForCheck();\n  }\n\n  /**\n   * Adds a css class name to the internal [[_cssClass]] property\n   * @param css CSS class name to add\n   */\n  addCssClass(css: string) {\n    if (this._cssClass == null || this._cssClass === \"\") {\n      this._cssClass = css;\n    } else if (this._cssClass.indexOf(css) == -1) {\n      this._cssClass = `${this._cssClass} ${css}`;\n    }\n    this.checkNxStyling();\n    this.markForCheck();\n  }\n\n  /**\n   * Removes css class name from internal [[_cssClass]] property\n   * @param css CSS class name to remove\n   */\n  removeCssClass(css: string) {\n\n    if (this._cssClass != null)\n      this._cssClass = this._cssClass.replace(css, '');\n    this.checkNxStyling();\n    this.markForCheck();\n  }\n\n  /**\n   * Get the [[require]] property value\n   * @returns Value of [[require]]\n   */\n  getRequired(): string | boolean {\n    return this.require;\n  }\n\n  /**\n   * Remove all references to the component and invokes Angulars [[ngOnDestroy]] method\n   */\n  destroyComponent() {\n    if (this.compRef != null) {\n      this.compRef.destroy();\n    } else if (this.elementRef != null) {\n      (this.elementRef.nativeElement as HTMLElement).remove();\n      this.ngOnDestroy();\n      Logger.warn(\"Memory leak! Please use ngIf if you want to remove component!\");\n    }\n  }\n\n  /**\n   * Gets JSON representation of the component\n   * @returns JSON object\n   */\n  toJson(): {} {\n    const retVal: any = {};\n\n    //get custom attributes binded to our tag\n    if (this.elementRef != null && this.elementRef.nativeElement != null) {\n      const el = this.elementRef.nativeElement;\n      let attributes: Array<string> = null;\n\n      if (typeof el.getAttributeNames === \"function\") {\n        attributes = el.getAttributeNames();\n      } else if (el.attributes) {\n        attributes = [];\n\n        for (let i = 0; i < el.attributes.length; i++) {\n          attributes.push(el.attributes[i].name);\n        }\n      }\n\n      if (attributes != null) {\n        _.forEach(attributes, (attributeName) => {\n          if (typeof AppUtils.validateAttribute === \"function\" && AppUtils.validateAttribute(attributeName)) {\n            this.setJson(retVal, attributeName, el.getAttribute(attributeName));\n          }\n        });\n      } else if (typeof AppUtils.setCustomAttribute === \"function\") {\n        AppUtils.setCustomAttribute(retVal, el);\n      }\n    }\n\n    this.setJson(retVal, \"nxTagName\", this.getNxTagName());\n    this.setJson(retVal, \"tagName\", this.getTagName());\n    this.setJson(retVal, \"id\", this.id);\n    this.setJson(retVal, \"disabled\", this.getDisabled());\n    this.setJson(retVal, \"enabled\", this.getEnabled());\n    this.setJson(retVal, \"visible\", this.getVisible());\n    this.setJson(retVal, \"text\", this.getText());\n    this.setJson(retVal, \"cssClass\", this.cssClass);\n    this.setJson(retVal, \"customAttributes\", this.customAttributesToJson());\n\n    if (this.getValue() != null) {\n      this.setJson(retVal, \"value\", this.getValue());\n    }\n\n    if (this._children !== null) {\n      if (this._children.size > 0) {\n        //need to return children in proper order\n        retVal[\"children\"] = [];\n\n        if (this._childrenIndex !== null) {\n          for (let id of this._childrenIndex) {\n            const c = this.getChild(id);\n\n            //getChild can return null?\n            if (c != null) {\n              const childJson = this.childToJson(c);\n\n              if (childJson != null) {\n                retVal[\"children\"].push(childJson);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return retVal;\n  }\n\n  /**\n   * Convert child to JSON\n   * @param child child to be converted to JSON\n   */\n  protected childToJson(child: BaseComponent) {\n    return child.toJson();\n  }\n\n  /**\n   * Gets JSON representation of [[customAttributes]]\n   * @returns JSON Object\n   */\n  protected customAttributesToJson() {\n    return BaseComponent.mapToJson(this.customAttributes);\n  }\n\n  static mapToJson(map: { [name: string]: any }) {\n    const customAttributes = {};\n\n    if (map) {\n      const keys = _.keys(map);\n\n      for (let key of keys) {\n        let value = map[key];\n\n        if (typeof value !== \"string\" && value != null) {\n          value = value + \"\";\n        }\n\n        customAttributes[key] = value;\n      }\n    }\n\n    return customAttributes;\n  }\n\n  /**\n   * Should be implemented by sub class otherwise returns default value of \"none\"\n   * @returns NxTagName as string\n   */\n  protected getNxTagName() {\n    return \"none\";\n  }\n\n  /**\n   * Sets JSON values. Mutates JSON object that is passed in\n   * @param json Object to add key to\n   * @param key Key to set\n   * @param value Value to set for key param\n   */\n  protected setJson(json: any, key: any, value: any) {\n    if (key != null) {\n      json[key] = this.toJsonValue(value);\n    }\n  }\n\n  /**\n   * Converts value to a valid JSON property string\n   * @param value Value to convert to string\n   * @returns Value as a valid JSON property string\n   */\n  protected toJsonValue(value: any) {\n    if (typeof value === 'string') {\n      return value;\n    } else if (typeof value === 'number' || typeof value === 'boolean') {\n      return value + '';\n    } else {\n      return value;\n    }\n  }\n\n  /**\n   * Sets [[id]] property to a unique string ID generated by [[_uniqueId]]\n   */\n  resetId() {\n    this.id = this._uniqueId;\n  }\n\n  /**\n   * Get value of checked property. Should be implemented in sub class components that have checked state\n   * @returns Value of [[checked]] property\n   */\n  getChecked(): boolean {\n    return false;\n  }\n\n  /**\n   * Abstract method. Should be implemented by sub class components that have checked state\n   * @param boo Toggle [[checked]] on/off\n   */\n  setChecked(boo: boolean | string) {\n    // NO-OP\n  }\n\n  /**\n   * Abstract method. Should be implemented by sub class components that have selected state\n   * @param boo Toggle [[checked]] on/off\n   */\n  setSelected(boo: boolean | string) {\n    // NO-OP\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get [[maxLength]] property. Returns -1 if it is null\n   * @returns Value of maxLength as integer if it's set, otherwise returns null\n   */\n  getMaxLength(): number {\n    return this.maxLength == null ? -1 : JavaUtils.intValue(this.maxLength);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get [[minLength]] property. Returns -1 if it is null\n   * @returns Value of minLength as integer if it's set, otherwise returns null\n   */\n  getMinLength(): number {\n    return this.minLength == null ? -1 : JavaUtils.intValue(this.minLength);\n  }\n\n  /**\n   * Get a list of child components\n   * @returns Child components\n   */\n  getChildren() {\n    const children = new Vector<BaseComponent>();\n    if (this._childrenIndex !== null) {\n      for (let id of this._childrenIndex) {\n        const c = this.getChild(id);\n\n        if (c != null) {\n          children.add(c);\n        }\n      }\n    }\n\n    return children;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Remove child component from list of children and remove children of child\n   * @param child Child component to remove\n   */\n  removeChild(child: BaseComponent) {\n    //if somehow send it as string (via type any)\n    if (typeof child === \"string\") {\n      child = this.getElementById(child) as BaseComponent;\n    }\n\n    if (child != null) {\n      //first hide it\n      if (child.setVisible) {\n        child.setVisible(false);\n      }\n\n      if (this.children) {\n        this.children.delete(KeyUtils.toMapKey(child.id));\n        if (this._childrenIndex !== null) {\n          this._childrenIndex = _.uniq(_.filter(this._childrenIndex, (item) => item !== child.id));\n        }\n      }\n\n      const parentView = this.getParentView();\n\n      //remove ourself from the view children map\n      if (parentView != null && parentView._viewChildrenMap != null) {\n        parentView._viewChildrenMap.delete(KeyUtils.toMapKey(child.getId()));\n      }\n\n      //move children of children\n      if (child.removeAllChildren) {\n        child.removeAllChildren();\n      }\n    }\n  }\n\n  /**\n   * Removes child component by ID\n   * @param id Child [[id]]\n   */\n  removeChildById(id: string) {\n    const child = this.getElementById(id);\n\n    if (child != null) {\n      this.removeChild(child);\n    }\n  }\n\n  /**\n   * Remove all child components\n   */\n  private removeAllChildren() {\n    if (this.children != null) {\n      const cit = this.children.values();\n      let cr = cit.next();\n\n      while (cr.done !== true) {\n        this.removeChild(cr.value);\n        cr = cit.next();\n      }\n    }\n\n    if (this.tabChildrenIds != null) {\n      this.tabChildrenIds.forEach(cid => {\n        this.removeChildById(cid);\n      });\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Finds the child component by ID. Deep search\n   * @param id Child component [[id]]\n   */\n  getElementById(id: string) {\n    return this.findElementById(id);\n  }\n\n  /**\n   * Check if a child component with id exists\n   * @param id Child component [id]\n   */\n  hasChild(id: string) {\n    return this.findElementById(id) != null;\n  }\n\n  /**\n   * Set validate attribute for input component. Implement on sub class component\n   * @param attr\n   */\n  setValidate(attr: string) {\n    //TODO\n    console.error(\"setValidate is not implemented\");\n  }\n\n  /**\n   * Set type attribute for input component. Implement on sub class component\n   * @param type\n   */\n  setType(type: string) {\n    //TODO\n    console.error(\"setType is not implemented\");\n  }\n\n  /**\n   * Set format attribute for input component. Implement on sub class component\n   * @param format\n   */\n  setFormat(format: string) {\n    //TODO\n    console.error(\"setFormat is not implemented\");\n  }\n\n  /**\n   * Set [[maxLength]] for input component\n   * @param maxLength Input max length property. Should be numeric string\n   */\n  setMaxLength(maxLength: string) {\n    this.maxLength = maxLength;\n    this.markForCheck();\n  }\n\n  /**\n   * Set [[minLength]] for input component\n   * @param minLength Input max length property. Should be numeric string\n   */\n  setMinLength(minLength: string) {\n    this.minLength = minLength;\n    this.markForCheck();\n  }\n\n  /**\n   * Set [[maxLength]] as byte length for input component\n   * @param bl Should be numeric string\n   */\n  setMaxByteLen(bl: string) {\n    this.setMaxLength(bl);\n  }\n\n  /**\n   * Abstract method. Set value of input component\n   * @param val Value to set\n   */\n  setValue(val: any) {\n\n  }\n\n  /**\n   * Set focusable property value for component. Implement on sub class\n   * @param focusable Toggle focusable on/off\n   */\n  setFocusable(focusable: boolean | string) {\n    //TODO\n  }\n\n  /**\n   * Abstract. Select parent component tab. Implement on sub class\n   */\n  selectParentTab() {\n    function findTabBelong(item: BaseComponent) {\n      if (item != null) {\n        const parent = item.getParent();\n        if (parent != null && parent.getLocalName() !== 'tab')\n          return findTabBelong(parent);\n        return parent;\n      }\n    }\n    const tab = findTabBelong(this.getElementById(this.id)) as TabComponent;\n\n    function findTabPaneBelong(tab: BaseComponent) {\n      if (tab != null) {\n        const parent = tab.getParent();\n        if (parent != null && parent.getLocalName() !== 'tab-pane')\n          return findTabPaneBelong(parent);\n        return parent;\n      }\n    }\n    const tabPane = findTabPaneBelong(this.getElementById(this.id)) as TabPaneComponent;\n    if (tab != null) {\n      tabPane.setSelectedTab(tab.id);\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Perform a deep search (that is, looks up descendants)\n   * @param id element id to search\n   */\n  findElementById(id: string): BaseComponent {\n    const mappedChildId = KeyUtils.toMapKey(id);\n\n    let comp: BaseComponent = null;\n    //first check for cache\n    // let comp: BaseComponent = UiDocument.getFromCache(mappedChildId);\n\n    if (comp == null) {\n      //check for radio button group\n      const radioGroup = this.getRadioButtonGroupComponent(id);\n\n      if (radioGroup != null) {\n        comp = radioGroup;\n      }\n\n      if (comp == null) {\n        //get all children from View\n        // const allChildren = this.getParentView().reduceChildrenIterative();\n        // const editorId = `#{id}`;\n\n        // for (let child of allChildren) {\n        //   if (\n        //     KeyUtils.toMapKey(child.getId()) === mappedChildId ||\n        //     //by editor id (e.g. editor=\"#editorId\")\n        //     child.editor === editorId\n        //   ) {\n        //     comp = child;\n        //     break;\n        //   }\n        // }\n        if (this._viewChildrenMap != null) {\n          comp = this._viewChildrenMap.get(mappedChildId);\n        }\n\n        if (comp == null && this.isView() !== true) {\n          const parentView = this.getParentView();\n\n          if (parentView != null) {\n            comp = parentView.findElementById(mappedChildId);\n          }\n        }\n      }\n\n      //if we find component, add to cache\n      // if (comp != null) {\n      //   UiDocument.addToCache(mappedChildId, comp);\n      // }\n    }\n\n    if (comp === undefined) {\n      comp = null;\n    }\n\n    return comp;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get radio button group component by id\n   * @param id Radio button group ID\n   */\n  getRadioButtonGroupComponent(id: string): BaseComponent {\n    if (id === (this as any).group) {\n      //radio button group\n      return this;\n    } else {\n      const radioGroup = this.getRadioButtonGroup(id);\n\n      if (radioGroup != null) {\n        let retVal = radioGroup[0];\n\n        for (let radio of radioGroup) {\n          if (radio.getChecked() === true) {\n            retVal = radio;\n            break;\n          }\n        }\n        return retVal;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Add change listener on attributes\n   * @param listener\n   */\n  addAttributeChangeListener(listener: AttributeChangeListener): void {\n    if (this.attributeChangeListeners == null) {\n      this.attributeChangeListeners = [];\n    }\n\n    listener._internalId = BaseComponent.generateUniqueId('listener');\n\n    this.attributeChangeListeners.push(listener)\n  }\n\n  /**\n   * Remove change listener on attributes\n   * @param listener\n   */\n  removeAttributeChangeListener(listener: AttributeChangeListener): void {\n    if (this.attributeChangeListeners != null) {\n      this.attributeChangeListeners = _.filter(this.attributeChangeListeners, (item: AttributeChangeListener) => item._internalId !== listener._internalId);\n    }\n  }\n\n  /**\n   * Set attribute and emit change event\n   * @param attributeName\n   * @param newValue\n   * @event AttributeChangeEvent\n   */\n  protected fireSetAttributeEvent(attributeName: string, newValue: any) {\n    if (this.attributeChangeListeners && this.attributeChangeListeners.length > 0) {\n      const event: AttributeChangeEvent = new AttributeChangeEvent(\n        attributeName, this.getAttribute(attributeName), newValue, this\n      );\n\n      _.forEach(this.attributeChangeListeners, (listener: AttributeChangeListener) => {\n        listener.onAttributeSet(event);\n      });\n    }\n  }\n\n  /**\n   * Remove attribute and emit change event\n   * @param attributeName\n   * @event AttributeChangeEvent\n   */\n  protected fireRenoveAttributeEvent(attributeName: string) {\n    if (this.attributeChangeListeners && this.attributeChangeListeners.length > 0) {\n      const event: AttributeChangeEvent = new AttributeChangeEvent(\n        attributeName, this.getAttribute(attributeName), null, this\n      );\n\n      _.forEach(this.attributeChangeListeners, (listener: AttributeChangeListener) => {\n        listener.onAttributeRemoved(event);\n      });\n    }\n  }\n\n  /**\n   * Alias for static [[cleanCss]] method\n   * @param css\n   */\n  private cleanCss(css: string) {\n    return BaseComponent.cleanCss(css);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Format css selectors. Remove dot\n   * @param css\n   * @returns New CSS selector string\n   */\n  static cleanCss(css: string) {\n    if (css != null && css.indexOf(\".\") >= 0) {\n      //more than one style?\n      if (css.indexOf(\" \") > 0) {\n        return _.map(css.split(\" \"), (item) => this.cleanCss(item)).join(\" \");\n      } else {\n        //only one style\n        return css.replace(/\\./g, '-').replace(/^\\-/, '');\n      }\n    }\n\n    return css;\n  }\n\n  /**\n   * Abstract method gets the instance's [[ChangeDetectorRef]]. Should be implemented in sub class\n   */\n  protected getChangeDetector(): ChangeDetectorRef {\n    //sub-class override\n    return null;\n  }\n\n  /**\n   * Mark component for change detection\n   */\n  markForCheck() {\n    if (this._tempFreezeCd !== true && this._isDying !== true) {\n      if (this.getChangeDetector() != null) {\n        this.getChangeDetector().markForCheck();\n      }\n    }\n  }\n\n  /**\n   * Invoke change detection on component\n   */\n  detectChanges() {\n    if (this._tempFreezeCd !== true && this._isDying !== true) {\n      if (this.getChangeDetector() != null) {\n        this.getChangeDetector().detectChanges();\n      }\n    }\n  }\n\n  /**\n   * Set CSS height and width style value. Either 'height/width' or 'max-height/max-width'\n   * @param heightStyleName\n   * @param widthStyleName\n   */\n  protected initWidthHeightStyle(heightStyleName: string = 'height', widthStyleName: string = 'max-width') {\n    if (this.controlHeight != null && this.controlHeight != \"\" && parseInt(this.controlHeight) > 0) {\n      this.styles[\"height\"] = parseInt(this.controlHeight) + \"px\";\n    }\n\n    if (this.controlWidth != null && this.controlWidth != \"\" && parseInt(this.controlWidth) > 0) {\n      this.styles[widthStyleName] = parseInt(this.controlWidth) + \"px\";\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Add a radio button component to this component\n   * @param radio\n   */\n  addRadioButtonGroup(radio: BaseComponent) {\n    //radio group need to be at ViewComponent level\n    if (this.isView() !== true && this.getParent() != null) {\n      return this.getParent().addRadioButtonGroup(radio);\n    }\n\n    if (this.radioButtonGroups == null) {\n      this.radioButtonGroups = new Map<string, Array<BaseComponent>>();\n    }\n\n    //ignore type to prevent circular ref\n    let groupId: string = (radio as any).group;\n\n    if (this.radioButtonGroups.get(groupId) == null) {\n      this.radioButtonGroups.set(groupId, [radio]);\n    } else {\n      this.radioButtonGroups.get(groupId).push(radio);\n    }\n\n    return;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get radio button group by group ID\n   * @param groupId\n   * @returns  Radio button group component\n   */\n  getRadioButtonGroup(groupId: string) {\n    let view = this.getParentView();\n\n    return view != null && view.radioButtonGroups != null ? view.radioButtonGroups.get(groupId) : null;\n  }\n\n  /**\n   * Sets [[controlWidth]] property\n   * @param width Should be numeric value\n   */\n  setControlWidth(width: any) {\n    this.controlWidth = width;\n\n    this.initWidthHeightStyle();\n    this.markForCheck();\n  }\n\n  /**\n   * Sets [[controlHeight]] property\n   * @param height Should be numeric value\n   */\n  setControlHeight(height: any) {\n    this.controlHeight = height;\n\n    this.initWidthHeightStyle();\n    this.markForCheck();\n  }\n\n  /**\n   * Alias for [[setControlWidth]] method\n   * @param width Should be a numeric value\n   */\n  setWidth(width: any) {\n    this.setControlWidth(width);\n  }\n\n  /**\n   * Get [[controlWidth]] property\n   * @returns Value of [[controlWidth]]\n   */\n  getWidth(): string {\n    return this.controlWidth;\n  }\n\n  /**\n   * Alias for [[setControlHeight]] method\n   * @param height Should be a numeric value\n   */\n  setHeight(height: any) {\n    this.setControlHeight(height);\n  }\n\n  /**\n   * Get [[controlHeight]] property\n   * @returns Value of [[controlHeight]]\n   */\n  getHeight(): string {\n    return this.controlHeight;\n  }\n\n  /**\n   * Sets value of [[x]] property for horizontal position.\n   * Sets CSS \"left\" property to [[x]] px.\n   * @param x Horizontal coordinate position\n   */\n  setX(x: string) {\n    this.x = x;\n    this.styles[\"left\"] = x + \"px\";\n    this.markForCheck();\n  }\n\n  /**\n   * Get [[x]] property\n   * @returns Value of [[x]]\n   */\n  getX() {\n    return this.x;\n  }\n\n  /**\n   * Sets value of [[y]] property for vertical position.\n   * Sets CSS \"top\" property to [[y]] px.\n   * @param y Vertical coordinate position\n   */\n  setY(y: string) {\n    this.y = y;\n    this.styles[\"top\"] = y + \"px\";\n    this.markForCheck();\n  }\n\n  /**\n   * Get [[y]] property\n   * @returns Value of [[y]]\n   */\n  getY() {\n    return this.y;\n  }\n\n  /**\n   * Set [[borderWidth]] property value\n   * @param borderWidth Should be numeric\n   */\n  setBorderWidth(borderWidth: string) {\n    this.borderWidth = borderWidth;\n    this.markForCheck();\n  }\n\n  /**\n   * Check if component is view component.\n   * Implement in sub class\n   */\n  isView(): boolean {\n    return false;\n  }\n\n  /**\n   * Check if there are active views.\n   * Implement in sub class\n   */\n  isNoneActiveView(): boolean {\n    return false;\n  }\n\n  /**\n   * Check if this component is an instance of [[DialogComponent]]\n   */\n  protected isDialog(): boolean {\n    return false;\n  }\n\n  /**\n   * Check if this component is a dynamic view\n   */\n  isDynamicView(): boolean {\n    return false;\n  }\n\n  /**\n   * Get the parent view of this component\n   * @returns Parent view component\n   */\n  getParentView(): BaseComponent {\n    if (this.isView()) {\n      return this;\n    }\n\n    let parentView: BaseComponent = null;\n\n    if (this.parent != null) {\n      let stack: Array<BaseComponent> = [this.parent];\n\n      while (stack.length > 0) {\n        const temp = stack.pop();\n\n        if (temp.isView() === true) {\n          parentView = temp;\n          break;\n        }\n\n        if (temp.parent != null) {\n          stack.push(temp.parent);\n        }\n      }\n    }\n\n    return parentView;\n  }\n\n  getParentScrollView(): BaseComponent {\n    if (this.isScrollView()) {\n      return this;\n    }\n\n    let parentView: BaseComponent = null;\n\n    if (this.parent != null) {\n      let stack: Array<BaseComponent> = [this.parent];\n\n      while (stack.length > 0) {\n        const temp = stack.pop();\n\n        if (temp.isScrollView() === true) {\n          parentView = temp;\n          break;\n        }\n\n        if (temp.parent != null) {\n          stack.push(temp.parent);\n        }\n      }\n    }\n\n    return parentView;\n  }\n\n  isScrollView(): boolean {\n    return false;\n  }\n\n  /**\n   * Return the parent container component (for subview), not the actual parent view. This is the parent\n   * ViewComponent where canBeActiveView is false\n   */\n  _getNoneActiveViewParent(): BaseComponent {\n    if (this.isNoneActiveView()) {\n      return this;\n    }\n\n    let parentView: BaseComponent = null;\n\n    if (this.parent != null) {\n      let stack: Array<BaseComponent> = [this.parent];\n\n      while (stack.length > 0) {\n        const temp = stack.pop();\n\n        if (temp.isNoneActiveView() === true) {\n          parentView = temp;\n          break;\n        }\n\n        if (temp.parent != null) {\n          stack.push(temp.parent);\n        }\n      }\n    }\n\n    return parentView;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for context menu click (right click).\n   * Delegates to [[SessionService]] to display popup.\n   * @param event Click event\n   * @param force always emit\n   */\n  handleOnContextMenu(event: MouseEvent, force: boolean = false) {\n    //allow component to skip emit event and let parent (i.e. table cell to emit it)\n    if (force === true || this.skipEmitContextMenuEvent !== true) {\n      if (this.getSession() != null) {\n        this.getSession().setMousePosition(event);\n      }\n\n      const parentView = this.getParentView();\n      let popupMenuId: string = null;\n\n      if (parentView != null) {\n        popupMenuId = (parentView as ViewComponent).getFirstPopupMenuId();\n      }\n\n\n      this.onContextMenu.emit(event);\n\n\n      if (this.popup != null && this.popup !== \"\") {\n        if (this.popup.indexOf(\"#\") === 0) {\n          this.popup = this.popup.substring(1);\n        }\n\n        popupMenuId = this.popup;\n\n        this.getSession()._currentPopupMenuId = this.popup;\n      }\n\n      if (popupMenuId != null) {\n        event.stopPropagation();\n        event.preventDefault();\n\n        const tm = setTimeout(() => {\n          clearTimeout(tm);\n\n          if (this.getSession()._currentPopupMenuId != null) {\n            popupMenuId = this.getSession()._currentPopupMenuId;\n          }\n\n          this.getSession().showContextMenu(popupMenuId);\n          this.getSession()._currentPopupMenuId = null;\n        });\n      }\n    }\n  }\n\n  /**\n   * Emits focus lost event for components that require validation\n   * @param event\n   * @event BeforeActiveLost\n   */\n  validateField(event: FocusEvent) {\n    if (AppUtils.validateField != null && AppUtils.validateField(this) !== true) {\n      event.preventDefault();\n      event.stopPropagation();\n    }\n\n    this.onBeforeActiveLost.emit();\n\n    this.focusLost();\n  }\n\n  //iteratative function to prevent stack overflow\n  // reduceChildrenIterative() {\n  //   if (this._reduceChildrenIterativeCache != null && this._reduceChildrenIterativeCache.length > 0) {\n  //     return this._reduceChildrenIterativeCache;\n  //   }\n\n  //   this._reduceChildrenIterativeCache = [];\n\n  //   if (this.children == null) {\n  //     Logger.warn(\"reduceChildrenIterative, children is null\");\n  //     return this._reduceChildrenIterativeCache;\n  //   }\n\n  //   //skip DialogComponent\n  //   let stack: Array<BaseComponent> = _.filter(Array.from(this.children.values()), (comp: BaseComponent)=>{\n  //     return comp.isFauxElement() || comp.isDialog() !== true;\n  //   });\n\n  //   this._reduceChildrenIterativeCache = this._reduceChildrenIterativeCache.concat(stack);\n  //   let counter = 0;\n\n  //   while(stack.length > 0) {\n  //     const child = stack.pop();\n\n  //     if (child.children != null && child.children.size > 0) {\n  //       //get grandchildren\n  //       const grandChildren = Array.from(child.children.values());\n  //       this._reduceChildrenIterativeCache = this._reduceChildrenIterativeCache.concat(grandChildren);\n\n  //       //push to our stack to iterate our grandchildren to look for great grandchildren\n  //       stack = stack.concat(grandChildren);\n  //     }\n\n  //     counter++;\n\n  //     if (counter > 10000 || stack.length > 10000) {\n  //       throw new Error(\"BaseComponent.reduceChildrenIterative: stack overflow\");\n  //     }\n  //   }\n\n  //   return this._reduceChildrenIterativeCache;\n  // }\n\n  /**\n   * Get children of a table component.\n   * @returns Array of table children\n   */\n  getTableChildren(): Array<any> {\n    return [];\n  }\n\n  /**\n   * Get [[bgColor]] property\n   * @returns Value of [[bgColor]]\n   */\n  getBgColor() {\n    return this.bgColor;\n  }\n\n  protected setAttributeFromDef() {\n    const compDef = this.getSession().getDef(this.id);\n\n    if (compDef != null && compDef.attribute != null) {\n      if (\n        compDef.attribute instanceof Map ||\n        compDef.attribute instanceof Hashtable ||\n        compDef.attribute instanceof HashMap\n      ) {\n        const keys = compDef.attribute.keys();\n        let key = keys.next();\n\n        while (key.done !== true) {\n          this.setAttribute(key.value, compDef.attribute.get(key));\n          key = keys.next();\n        }\n      } else {\n        const keys = _.keys(compDef.attribute);\n\n        for (let key of keys) {\n          this.setAttribute(key, compDef.attribute[key]);\n        }\n      }\n    }\n  }\n\n  /**\n   * Perform an xpath lookup on the element. This will be evaluated against the actual HTMLElement.\n   *\n   * @warning PLEASE ENSURE TO FREE UP THE THE RESULT SO WE DON'T HAVE ANY DANGLING HTML ELEMENT\n   *\n   * @param xpathExpression\n   */\n  evaluateXPath(xpathExpression: string): Vector<Node> {\n    return null;\n  }\n\n  /**\n   * Set color of hightlighted text background\n   * @param color Should be a valid CSS color value (e.g. \"#FF0000\" or \"red\")\n   */\n  setHighlightBgColor(color: string) {\n    this.highlightBgColor = color;\n  }\n\n  /**\n   * Set color of highlighted text foreground\n   * @param color Should be a valid CSS color value (e.g. \"#FF0000\" or \"red\")\n   */\n  setHighlightFontColor(color: string) {\n    this.highlightFontColor = color;\n  }\n\n  /**\n   * Get [[hightlightBgColor]] property\n   * @returns Color string\n   */\n  getHighlightBgColor() {\n    return this.highlightBgColor;\n  }\n\n  /**\n   * Get [[highlightFontColor]] property\n   * @returns Color string\n   */\n  getHighlightFontColor() {\n    return this.highlightFontColor;\n  }\n\n  /**\n   * Get [[parentTableRow]] property\n   */\n  getParentTableRow() {\n    return this.parentTableRow;\n  }\n\n  //clear reduce children iterative cache\n  // resetReduceChildrenIterativeCache() {\n  //   this._reduceChildrenIterativeCache = null;\n  // }\n\n  /**\n   * Check if change detection is frozen\n   * @returns Boolean If component change detection is frozen\n   */\n  isChangeDetectionFrozen() {\n    return false;\n  }\n\n  /**\n   * Check if component is a faux element\n   * @returns Boolean If component is faux element\n   */\n  isFauxElement() {\n    return false;\n  }\n\n  /**\n   * Get internal [[_viewChildrenMap]] member\n   * @returns Value of [[_viewChildrenMap]]\n   */\n  getViewChildrenMap(): Map<string, BaseComponent> {\n    return this._viewChildrenMap;\n  }\n\n  /**\n   * Removes view child with id from [[_viewChildrenMap]]\n   * @param id ID of child to remove\n   */\n  removeViewChildFromMap(id: string) {\n    if (this._viewChildrenMap != null) {\n      this._viewChildrenMap.delete(KeyUtils.toMapKey(id));\n    }\n  }\n\n  /**\n   * Adds a component to [[_viewChildrenMap]]\n   * @param obj Child to add to [[_viewChildrenMap]]\n   */\n  addViewChildToMap(obj: BaseComponent | HTMLElementWrapper) {\n    if (this._viewChildrenMap != null) {\n      this._viewChildrenMap.set(KeyUtils.toMapKey(obj.getId()), obj as any);\n    }\n  }\n\n  /**\n   * Invoke an MCO method by name. If a function is passed as argument, it will be called with\n   * this component as an argument.\n   * @param action Name of action method to invoke or a function to invoke\n   */\n  protected invokeMcoAction(action: string | ((arg?: any) => any)) {\n    if (typeof action === \"function\") {\n      action(this);\n    } else if (action.indexOf(\"mco://\") === 0) {\n      const mcoName = action.substring(6, action.indexOf(\".\"));\n      const methodName = action.substring(action.indexOf(\".\") + 1, action.indexOf(\"(\"));\n      const arg = action.substring(action.indexOf(\"(\") + 1, action.indexOf(\")\"));\n\n      if (arg != null && arg.length > 0) {\n        const mco = this.sessionService.getMcoContainer().getMco(mcoName);\n\n        if (mco != null) {\n          if (arg === \"this\") {\n            mco[methodName].apply(mco, [this]);\n          } else {\n            mco[methodName].apply(mco, [arg]);\n          }\n        } else {\n          console.error(\"Unable to execute MCO action, mco not found: \" + mcoName);\n        }\n      } else {\n        const mco = this.sessionService.getMcoContainer().getMco(mcoName);\n\n        if (mco != null) {\n          mco[methodName].apply(mco);\n        } else {\n          console.error(\"Unable to execute MCO action, mco not found: \" + mcoName);\n        }\n      }\n    }\n  }\n\n  protected _notifyInternalChangeCb() {\n    if (typeof this._internalChangeCb === \"function\") {\n      this._internalChangeCb(this);\n    }\n  }\n\n  emptyChildren() {\n    if (this._viewChildrenMap != null) {\n      const cit = this._viewChildrenMap.values();\n      let val = cit.next();\n\n      while (val.done !== true) {\n        //some children are not actual BaseComponent\n        if (typeof val.value.emptyChildren === \"function\") {\n          val.value.emptyChildren();\n          val.value._isDying = true;\n        }\n\n        val = cit.next();\n      }\n    }\n\n    if (this.children != null) {\n      this.children.clear();\n    }\n\n    if (this._viewChildrenMap != null) {\n      this._viewChildrenMap.clear();\n      delete this._viewChildrenMap;\n    }\n\n    // this._viewChildrenMap = null;\n  }\n\n  /**\n   * Check to see if this is a ScrollPaneComponent\n   */\n  isScrollPane() {\n    return false;\n  }\n\n  /**\n   * Reset the scroll position to the previous captured\n   */\n  resetScrollTopToPreviousPosition() {\n    //implement by scrollpane\n  }\n\n  /**\n   * Reset all scrollpane pos\n   */\n  resetAllScrollPanesPositionToPrevious() {\n    if (this.scrollPanes != null) {\n      this.scrollPanes.forEach((scrollPane) => scrollPane.resetScrollTopToPreviousPosition());\n    }\n  }\n\n  resetScrollTopPosition() {\n  }\n  resetAllScrollPanesPositionToTop() {\n    if (this.scrollPanes != null) {\n      this.scrollPanes.forEach((scrollPane) => scrollPane.resetScrollTopPosition());\n    }\n  }\n\n  /**\n   * Notify parent view that there is a validation error on this, this should only be applicabled to disabled element\n   */\n  notifyParentOfError() {\n    if (this.getDisabled() === true) {\n      const parentView = this.getParentView();\n\n      if (parentView != null && parentView[\"dialog\"] != null) {\n        if (parentView[\"dialog\"]._disabledErrorElementId == null) {\n          parentView[\"dialog\"]._disabledErrorElementId = [];\n        }\n\n        if (parentView[\"dialog\"]._disabledErrorElementId.indexOf(this.getId()) < 0) {\n          parentView[\"dialog\"]._disabledErrorElementId.push(this.getId());\n        }\n      }\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Focus the parent tab\n   */\n  focusParentTab() {\n    //get parent view\n    const parentView = this._getNoneActiveViewParent() || this.getParentView();\n\n    if (parentView != null) {\n      //check to see if this view is in a TabPane\n      const tabPane = parentView.getParent();\n\n      //check to see if the parent is a Tab\n      if (tabPane != null && tabPane.getNxTagName() === \"tab\") {\n        tabPane.setFocus();\n      }\n    }\n  }\n\n  /**\n   * Register scrollpane\n   *\n   * @param scrollPane scrollPane to register\n   */\n  private registerScrollPane(scrollPane: BaseComponent) {\n    if (typeof scrollPane.isScrollPane === \"function\" && scrollPane.isScrollPane() === true) {\n      if (this.scrollPanes == null) {\n        this.scrollPanes = [];\n      }\n\n      this.scrollPanes.push(scrollPane);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { McoContainerService } from './mco-container.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [],\n  providers: [\n    McoContainerService\n  ]\n})\nexport class McoContainerModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EventHandlerService } from './event-handler.service';\nimport { McoContainerModule } from '../mco-container/mco-container.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    McoContainerModule\n  ],\n  declarations: [],\n  providers: [\n    EventHandlerService\n  ]\n})\nexport class EventHandlerModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SessionService } from './session.service';\nimport { McoContainerModule } from '../mco-container/mco-container.module';\nimport { EventHandlerModule } from '../event-handler/event-handler.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    McoContainerModule,\n    EventHandlerModule\n  ],\n  declarations: [],\n  providers: [\n    SessionService\n  ]\n})\nexport class SessionModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: []\n})\nexport class JavaModule { }\n","import { Directive, ContentChild, OnInit, ElementRef, EventEmitter, Output, ViewChild, forwardRef, ViewContainerRef, NgZone, Input } from '@angular/core';\nimport { OnCreateEvent } from './on-create-event';\n\n@Directive({\n  selector: '[vtOnCreate]'\n})\nexport class OnCreateDirective implements OnInit {\n  @Input() runOutsideZone: boolean;\n  @Output() vtOnCreate: EventEmitter<OnCreateEvent> = new EventEmitter<OnCreateEvent>();\n\n  constructor(\n    private elementRef: ElementRef<HTMLElement>,\n    private zone: NgZone\n  ) {\n\n  }\n\n  ngOnInit() {\n    if (this.runOutsideZone === true) {\n      this.zone.runOutsideAngular(()=>{\n        this.vtOnCreate.emit({\n          element: this.elementRef\n        });\n      });\n    } else {\n      this.vtOnCreate.emit({\n        element: this.elementRef\n      });\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BaseComponent } from './base.component';\nimport { SessionModule } from '../session/session.module';\nimport { JavaModule } from '../java/java.module';\nimport { EventHandlerModule } from '../event-handler/event-handler.module';\nimport { OnCreateDirective } from './on-create.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    SessionModule,\n    JavaModule,\n    EventHandlerModule\n  ],\n  declarations: [BaseComponent, OnCreateDirective],\n  exports: [BaseComponent, OnCreateDirective]\n})\nexport class BaseModule { }\n","export enum ComponentType {\n  LABEL,\n  BUTTON,\n  TEXT_FIELD,\n  COMBOBOX,\n  CHECKBOX,\n  RADIO,\n  TEXTAREA\n}\n","import { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output, ElementRef, SkipSelf, Optional, ChangeDetectorRef, Renderer2, forwardRef } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\n/* istanbul ignore next */\nimport { SessionService } from '../session/session.service';\n/* istanbul ignore next */\nimport { AppUtils } from '../base/app-utils';\n\n/**\n * Button component class. Inherits from [[BaseComponent]]\n */\n@Component({\n  selector: 'vt-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>ButtonComponent)\n    }\n  ]\n})\nexport class ButtonComponent extends BaseComponent implements OnInit {\n  @Input() focused: boolean = true;\n\t@Output() onCommand = new EventEmitter();\n\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /**\n   * Init lifecycle. Must call parent ngOnInit\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    if(this.marginTop != null){\n      this.marginTop = this.marginTop + 'px';\n    }\n\n    if(this.marginRight != null){\n      this.marginRight = this.marginRight + 'px';\n    }\n\n    if(this.marginLeft != null){\n      this.marginLeft = this.marginLeft + 'px';\n    }\n  }\n\n  /**\n   * After view init lifecycle. Must call parent ngAfterViewInit\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    this.initWidthHeightStyle(\"height\", \"width\");\n    this.setAttributeFromDef();\n    this.cd.detectChanges();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for click event\n   * @param event\n   * @event OnCommand\n   */\n\tonClick(event: MouseEvent) {\n\n    event.stopPropagation();\n\n    //register client event for mco\n    this.handleClick(event);\n\n    this.onCommand.emit();\n\n    //it looks like you can change onCommand binding at runtime and since we are code\n    //we add another fn to do it (we may removed this later once we have a better of usage)\n    this.emitInternalOnCommand();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for mousedown event\n   * @param e\n   */\n  onMouseDown(e: MouseEvent) {\n    let currentTarget: string = e.currentTarget['id'];\n    if (currentTarget != null && currentTarget.indexOf(\"BtnClose\") > 0) {\n      AppUtils.isCloseBtn = true;\n    } else {\n      AppUtils.isCloseBtn = false;\n    }\n    this.handleMouseDown(e);\n  }\n\n  /* istanbul ignore next */\n  handleOnBlur() {\n    AppUtils.isCloseBtn = false;\n  }\n\n  /**\n   * Get change detector reference for the button instance\n   * @returns [[cd]] property (Change detector)\n   */\n  protected getChangeDetector(): ChangeDetectorRef {\n    return this.cd;\n  }\n\n  /**\n   * Get Nexaweb tag name\n   * @returns String\n   */\n  protected getNxTagName() {\n    return \"button\";\n  }\n\n  /**\n   * Get JSON representation of the button component\n   * @returns Json object\n   */\n  toJson(): {} {\n    const json: any = super.toJson();\n    this.setJson(json, \"focused\", this.focused);\n\n    return json;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ButtonComponent } from './button.component';\nimport { BaseModule } from '../base/base.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BaseModule\n  ],\n  declarations: [ButtonComponent],\n  exports: [ButtonComponent],\n  entryComponents: [\n    ButtonComponent\n  ]\n})\nexport class ButtonModule { }\n","import { Component, OnInit, Output, EventEmitter, ElementRef, Input, ChangeDetectionStrategy, Optional, SkipSelf, ChangeDetectorRef, Renderer2, forwardRef } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\n\n/**\n * Check box component class\n */\n@Component({\n  selector: 'vt-check-box',\n  templateUrl: './checkbox.component.html',\n  styleUrls: ['./checkbox.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>CheckboxComponent)\n    }\n  ]\n})\nexport class CheckboxComponent extends BaseComponent implements OnInit {\n  @Input() value: any;\n  @Input() checked: boolean = false;\n  //alias for checked\n  @Input() set isChecked(boo: boolean) {\n    this.checked = boo;\n  }\n\n  get isChecked(): boolean {\n    return this.checked;\n  }\n\n  @Output() onCommand: EventEmitter<any> = new EventEmitter();\n  @Output() onStateChange: EventEmitter<any> = new EventEmitter();\n  \n  @Output() onSelect: EventEmitter<any> = new EventEmitter();\n\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /**\n   * Init lifecycle. Must call parent class ngOnInit\n   */\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n  /**\n   * After view init lifecycle. Must call parent class ngAfterViewInit\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    this.setAttributeFromDef();\n    this.cd.detectChanges();\n  }\n\n  /**\n   * Event handler for click event\n   * @param event\n   * @event OnCommand\n   */\n  onClick(event: MouseEvent) {\n    //consume the event, do not propagate any further\n    event.stopPropagation();\n    \n    this.handleClick(event);\n    this.onCommand.emit();\n  }\n\n  /**\n   * Event handler for mousedown event\n   * @param event \n   */\n  onMouseDown(event: MouseEvent) {\n    //consume the event, do not propagate any further\n    event.stopPropagation();\n\n    this.handleMouseDown(event);\n  }\n\n  /**\n   * Event handler for state change (check/uncheck)\n   * @event OnStateChange\n   * @event OnSelect If the checkbox is set to selected state\n   */\n  handleStateChange() {\n    this.onStateChange.emit();\n\n    if (this.checked === true) {\n      this.onSelect.emit();\n    }\n\n    //notify internal changes (for internal use only)\n    this._notifyInternalChangeCb();\n  }\n\n  /**\n   * Get component name\n   * @returns Name of component\n   */\n  getLocalName(): string {\n    return \"checkBox\";\n  }\n\n  /**\n   * Get [[checked]] property\n   * @returns Value of [[checked]]\n   */\n  getChecked(): boolean {\n    return this.checked;\n  }\n\n  /**\n   * Set [[checked]] property value\n   * @param shouldChecked Value should be true/false or \"true\"/\"false\" to set [[checked]]\n   */\n  setChecked(shouldChecked: boolean | string, skipInternalChange: boolean = false) {\n    this.checked = shouldChecked === true || shouldChecked === 'true';\n\n    this.markForCheck();\n\n    //notify internal changes (for internal use only)\n    if (skipInternalChange !== true) {\n      this._notifyInternalChangeCb();\n    }\n  }\n\n  /**\n   * Alias for [[setChecked]] method\n   * @param boo Toggle [[checked]]\n   */\n  setSelected(boo: boolean | string) {\n    this.setChecked(boo);\n  }\n\n  /**\n   * Get [[value]] property\n   * @returns Value of [[value]]\n   */\n  getValue() {\n    return this.value;\n  }\n\n  /**\n   * Get JSON representation of component state\n   * @returns Object Json object\n   */\n  toJson() {\n    const json = super.toJson();\n\n    if (this.getChecked() === true) {\n      json[\"selected\"] = \"true\";\n    } else {\n      json[\"selected\"] = \"false\";\n    }\n\n    if (this.value != null) {\n      json[\"value\"] = this.value + '';\n    }\n\n    return json;\n  }\n\n  /**\n   * Get Nexaweb tag name\n   * @returns String Tag name\n   */\n  protected getNxTagName() {\n    return \"checkBox\";\n  }\n\n  /**\n   * Get [[cd]] (Change detector) property\n   * @returns The component's change detector reference\n   */\n  protected getChangeDetector(): ChangeDetectorRef {\n    return this.cd;\n  }\n    /**\n   * Set background-color\n   * @param String background color\n   */\n  setBgColor(color:string){\n    this['elementRef'].nativeElement.children[0]['style']['background-color'] = color;\n  }\n  getBgColor(){\n   return  this['elementRef'].nativeElement.children[0]['style']['background-color'];\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CheckboxComponent } from './checkbox.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [CheckboxComponent],\n  exports: [\n    CheckboxComponent,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  entryComponents: [\n    CheckboxComponent\n  ]\n})\nexport class CheckboxModule { }\n","import { Directive, Input } from '@angular/core';\n\n@Directive({\n  selector: 'vt-list-item'\n})\nexport class ListItemDirective {\n  @Input() value: string;\n  @Input() text: string;\n  @Input() selected: boolean | string;\n  @Input() isChecked: boolean | string;\n\n  constructor() { }\n\n}\n","import { ContentChildren, Directive, QueryList } from '@angular/core';\nimport { ListItemDirective } from './list-item.directive';\n\n@Directive({\n  selector: 'vt-list-box'\n})\nexport class ListBoxDirective {\n  @ContentChildren(ListItemDirective)\n  listItems: QueryList<ListItemDirective>;\n\n  constructor() { }\n\n}\n","import { ComboBoxComponent } from \"./combo-box.component\";\nimport { ValuePair } from \"./value-pair\";\nimport { AttributesEnum } from \"../base/attributes.enum\";\n\n/* istanbul ignore next */\nexport class FauxComboElement {\n    static readonly LOCAL_NAME: string = \"listItem\";\n    constructor(private comboBox: ComboBoxComponent, private valuePair: ValuePair) {\n\n    }\n\n    /* istanbul ignore next */\n    setAttribute(name: any, value: any) {\n        if (name === AttributesEnum.SELECTED || name === \"selected\") {\n            if (value == true || value == \"true\") {\n                this.comboBox.setSelectItem(this.valuePair, true);\n            } else {\n                this.comboBox.setSelectItem(null, true);\n            }\n\n            this.valuePair.selected = value == true || value == \"true\";\n\n            this.comboBox.detectChanges();\n        } else if (name === AttributesEnum.VISIBLE || name === \"visible\") {\n            this.valuePair.visible = value;\n        } else if (name === AttributesEnum.TEXT || name === \"text\") {\n            this.valuePair.text = value;\n        } else if (name === AttributesEnum.VALUE || name === \"value\") {\n            this.valuePair.value = value;\n        } else {\n            console.error(\"FauxComboElement: Unknown attribute: \" + name);\n        }\n    }\n\n    getLocalName(): string {\n        return FauxComboElement.LOCAL_NAME;\n    }\n\n    /* istanbul ignore next */\n    getAttribute(name: any) {\n        if (name === \"value\" || name === AttributesEnum.VALUE) {\n            return this.valuePair.value;\n        }\n\n        if (name === \"text\" || name === AttributesEnum.TEXT) {\n            return this.valuePair.text;\n        }\n\n        if (name === \"selected\" || name === AttributesEnum.SELECTED) {\n            return this.valuePair.selected == true ? \"true\" : \"false\";\n        }\n    }\n\n    /* istanbul ignore next */\n    getValue() {\n        return this.getAttribute(\"value\");\n    }\n\n    /* istanbul ignore next */\n    getText() {\n        return this.getAttribute(\"text\");\n    }\n\n    isSelected() {\n        return this.getAttribute(\"selected\");\n    }\n\n    setChecked(boo: boolean) {\n        this.setAttribute(\"selected\", boo);\n    }\n}","import { Component, ContentChild, OnInit, ElementRef, ChangeDetectionStrategy, SkipSelf, Optional, ChangeDetectorRef, Output, EventEmitter, Renderer2, Input, ViewEncapsulation, ViewChild, forwardRef, NgZone } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\n/* istanbul ignore next */\nimport { SessionService } from '../session/session.service';\n/* istanbul ignore next */\nimport { ListBoxDirective } from './list-box.directive';\nimport { ValuePair } from './value-pair';\n\nimport * as _ from 'lodash';\nimport { Vector } from '../java/vector';\nimport { FauxComboElement } from './faux-combo-element';\nimport { ViewComponent } from '../view/view.component';\nimport { BsDropdownDirective } from 'ngx-bootstrap';\n\n/* istanbul ignore next */\ndeclare var $: any;\n\n/* istanbul ignore else */\n/**\n * Class for combo box component\n */\n@Component({\n  selector: 'vt-combo-box',\n  templateUrl: './combo-box.component.html',\n  styleUrls: ['./combo-box.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(() => ComboBoxComponent)\n    }\n  ]\n})\nexport class ComboBoxComponent extends BaseComponent implements OnInit {\n  @Output() onCommand = new EventEmitter();\n\n  @ContentChild(ListBoxDirective)\n  listBox: ListBoxDirective;\n  @ViewChild('input') inputElement: ElementRef;\n\n  @ViewChild(\"dropdown\", { read: BsDropdownDirective }) dropdown: BsDropdownDirective;\n\n  hoveredItem: number;\n\n  hoveredStyle = {\n    'color': '#0000cd',\n    'background-color': '#ff9c00'\n  };\n\n  defaultStyle = {\n    'color': '#333333',\n    'background-color': '#ffffff'\n  };\n\n  dropdownElementId = `dropdown-${this.id}`;\n\n  @Input() set listItems(items: Array<ValuePair>) {\n    this._listItems = items;\n\n    if (this._listItems != null) {\n      const selectedItem = _.find(this._listItems, (item: ValuePair) => item.selected === true);\n\n      if (selectedItem != null) {\n        this.setSelectItem(selectedItem);\n      }\n    }\n  }\n  isDropup = false;\n\n  /**\n   * Accessor method for [[_listItems]] property\n   */\n  get listItems() {\n    return this._listItems;\n  }\n\n  private _listItems: Array<ValuePair>;\n  private isDropdownOpen = false;\n  selectedItem: ValuePair;\n  /* istanbul ignore next */\n  dropdownMenuStyle: { [key: string]: string } = {};\n  /* istanbul ignore next */\n  hasInputFocus: boolean = false;\n\n  /**\n   * Accessor method for [[selectedItem.text]] property\n   */\n  get selectedItemText(): string {\n    return this.selectedItem ? this.selectedItem.text : '';\n  }\n\n  private parentScrollHanlder: () => void;\n  private parentScroller: HTMLElement;\n\n// V3R1-UT-NSD-643 ä¿®æ­£ START\n  private isFirstKeyDown: boolean = true;\n// V3R1-UT-NSD-643 ä¿®æ­£ END\n\n  /**\n   *\n   * @param parent see [[BaseComponent]]\n   * @param sessionService see [[BaseComponent]]\n   * @param elementRef see [[BaseComponent]]\n   * @param cd ChangeDetector reference provided by Angular to control change detection\n   * @param renderer see [[BaseComponent]]\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2, private ngZone: NgZone) {\n    super(parent, sessionService, elementRef, renderer);\n\n    this.parentScrollHanlder = () => {\n      /* istanbul ignore else */\n      if (this.dropdown != null) {\n        this.dropdown.hide();\n      }\n    };\n  }\n\n  ngOnDestroy() {\n    if (this.parentScrollHanlder != null && this.parentScroller != null) {\n      this.ngZone.runOutsideAngular(() => {\n        this.parentScroller.removeEventListener(\"scroll\", this.parentScrollHanlder);\n      });\n    }\n\n    this.parentScrollHanlder = null;\n    this.parentScroller = null;\n    if(this.dropdown && this.dropdown.isOpen) {\n      this.dropdown.hide();\n    }\n    this.dropdown = null;\n\n    super.ngOnDestroy();\n  }\n\n  /**\n   * Initialize component and set css stye attribute for dropdown element\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.dropdownElementId = `dropdown-${this.id}`;\n\n    // Ensure controlWidth is exists and is a number\n    if (parseInt(this.controlWidth, 10)) {\n      this.dropdownMenuStyle['min-width'] = this.controlWidth + 'px !important';\n    }\n\n    if (this.alignHorizontal) {\n      this.alignHorizontal = this.alignHorizontal;\n    }\n  }\n  /**\n   * Set up list items and set value/text on them. Sets selected item\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    if (this.listBox != null && this.listBox.listItems != null) {\n      this._listItems = [];\n\n      this.listBox.listItems.forEach((item) => {\n        let text = item.text || '',\n          value = item.value || '';\n        this._listItems.push({\n          text: text ? text : value,\n          value: value ? value : text,\n          selected: item.selected === true || item.selected === \"true\" || item.isChecked === true || item.isChecked === \"true\"\n        });\n      });\n\n      //selectd first item that is selected\n      const selectedItem = _.find(this._listItems, (item: ValuePair) => item.selected === true);\n\n      if (selectedItem != null) {\n        this.setSelectItem(selectedItem);\n      }\n    }\n\n    this.loadDataFromDef();\n\n    this.cd.detectChanges();\n\n    this.subscribeToParentScroller();\n\n  }\n\n  /**\n   * Sets combobox list using array of values\n   * @param values Array of [[ValuePairs]] to set combobox options.\n   */\n  initializeComboboxValues(values: Array<ValuePair>) {\n    if (values != null) {\n      this._listItems = _.map(values, (item) => {\n        item.text = item.text || '';\n\n        return {\n          text: item.text,\n          value: item.value,\n          selected: item.selected\n        }\n      });\n\n      //selectd first item that is selected\n      const selectedItem = _.find(this._listItems, (item: ValuePair) => item.selected === true);\n\n      if (selectedItem != null) {\n        this.setSelectItem(selectedItem);\n      }\n      else {\n        this.setSelectItem(this._listItems[0]);\n      }\n    } else {\n      this._listItems = [];\n    }\n\n    this.cd.markForCheck();\n  }\n\n  /**\n   * Focuses and selects item that is clicked\n   * @param item Item to focus and select\n   * @param event Mouse click event on item\n   * @event onCommand\n   */\n  selectItem(item: ValuePair, event: MouseEvent) {\n    this.inputElement.nativeElement.focus();\n    this.setSelectItem(item);\n    if (this.emitInternalOnCommand() === false) {\n      this.onCommand.emit();\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Sets selected item that matches item [[ValuePair]] parameter\n   * @param item Item to set as selected\n   * @param forceCd Force change detection\n   */\n  setSelectItem(item: ValuePair, forceCd: boolean = false) {\n    this.selectedItem = item;\n\n    if (forceCd === true) {\n      this.cd.markForCheck();\n    }\n\n    //notify internal changes (for internal use only)\n    this._notifyInternalChangeCb();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Sets selected item based on value\n   * @param value Value to set\n   */\n  setSelectValue(value: string | number) {\n    if (this._listItems != null) {\n      const temp = _.find(this._listItems, (item: ValuePair) => item.value == value || (value != null && value !== \"\" && value === item.text));\n\n      if (temp != null) {\n        this.setSelectItem(temp);\n        this.cd.markForCheck();\n      }\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for mouse click on input\n   * @param event Mouse click event on input element.\n   */\n  onInputClick(event: MouseEvent, dropdown: BsDropdownDirective) {\n    event.stopPropagation();\n    this.hoveredStyle = {\n      'color': '#0000cd',\n      'background-color': '#ff9c00'\n    };\n    dropdown.toggle(true);\n \n    if (parseInt(this.controlWidthComboBox, 10)) {\n      this.dropdownMenuStyle['width'] = (parseInt(this.controlWidthComboBox)) + 'px';\n    }else{\n      this.dropdownMenuStyle['width'] = (parseInt(this.elementRef.nativeElement.children[0].children[0].children[0].clientWidth) + 20) + 'px';\n    }\n  }\n\n  /* istanbul ignore next */\n  onKeyDown(e: KeyboardEvent, dropdown: BsDropdownDirective) {\n    if (!this.isDropdownOpen && (e.keyCode === 38 || e.keyCode === 40)) { // 38 = UP arrow, 40 = DOWN arrow\n      this.hoveredStyle = this.defaultStyle;\n      e.preventDefault();\n      dropdown.toggle(true);\n// V3R1-UT-NSD-643 ä¿®æ­£ START\n      // è¨­å®ãããã«ãã¦ã³ã®ã¤ã³ããã¯ã¹\n      let idx: number = 0;\n      // ãã°ã«ãéãããã¦ããç¶æã§ã­ã¼ãã¼ãã®UPãDOWNãæ¼ä¸ãããå ´å\n      if (e.keyCode === 38) {\n        // UPã®å ´åããã«ãã¦ã³ã®æçµã«ç§»åãã¦ãã¾ããããæå¾ã®è¦ç´ ãè¨­å®ã¨ãã\n        idx = this._listItems.length - 1;\n      } else {\n        // DOWNã®å ´åãæåã®è¦ç´ ãè¨­å®ã¨ãã\n        idx = 0;\n      }\n      // :hoverç¶æã®ã¤ã³ããã¯ã¹ãæ´æ°\n      this.hoveredItem = idx;\n      // ãã«ãã¦ã³ãè¨­å®\n      this.selectItem(this._listItems[idx], null);\n      // ãã©ã°ãæ´æ°\n      this.isFirstKeyDown = false;\n\n    } else if (this.isDropdownOpen && (e.keyCode === 38 || e.keyCode === 40)) { // 38 = UP arrow, 40 = DOWN arrow\n      // ãã°ã«ãéãã¦ããç¶æãã¤ã­ã¼ãã¼ãã®UPãDOWNãæ¼ä¸ãããå ´å\n      this.hoveredStyle = this.defaultStyle;\n      e.preventDefault();\n\n      // è¨­å®ãããã«ãã¦ã³ã®ã¤ã³ããã¯ã¹\n      let idx: number = 0;\n      if (e.keyCode === 38) { // 38 = UP arrow\n        if (this.isFirstKeyDown || this.hoveredItem === 0) {\n          // ãã°ã«ãéãããç¶æã§ãåãã¦ã­ã¼ãæ¼ä¸ãããå ´å\n          // :hoverç¶æã®ãã«ãã¦ã³è¦ç´ ãä¸çªä¸ã®å ´å\n          // UPã¯æå¾ã®è¦ç´ ãè¨­å®ãã\n          idx = this._listItems.length - 1;\n        } else {\n          // ä¸è¨ä»¥å¤\n          // :hoverç¶æã®è¦ç´ ã®ï¼ã¤ä¸ãè¨­å®\n          idx = this.hoveredItem - 1;\n        }\n      } else { // 40 = DOWN arrow\n        if (this.isFirstKeyDown || this.hoveredItem === (this._listItems.length - 1)) {\n          // ãã°ã«ãéãããç¶æã§ãåãã¦ã­ã¼ãæ¼ä¸ãããå ´å\n          // :hoverç¶æã®ãã«ãã¦ã³è¦ç´ ãä¸çªä¸ã®å ´å\n          // åãã®è¦ç´ ãè¨­å®\n          idx = 0;\n        } else {\n          // ä¸è¨ä»¥å¤\n          // :hoverç¶æã®è¦ç´ ã®ï¼ã¤ä¸ãè¨­å®\n          idx = this.hoveredItem + 1;\n        }\n      }\n      // :hoverç¶æã®ã¤ã³ããã¯ã¹ãæ´æ°\n      this.hoveredItem = idx;\n      // ãã«ãã¦ã³ãè¨­å®\n      this.selectItem(this._listItems[idx], null);\n      // ãã©ã°ãæ´æ°\n      this.isFirstKeyDown = false;\n    }\n    this.cd.markForCheck();\n// V3R1-UT-NSD-643 ä¿®æ­£ END\n  }\n\n  adjustPulldownWidth() {\n    this.hoveredStyle = {\n      'color': '#0000cd',\n      'background-color': '#ff9c00'\n    };\n    if (parseInt(this.controlWidthComboBox, 10)) {\n      this.dropdownMenuStyle['width'] = (parseInt(this.controlWidthComboBox)) + 'px';\n    }else{\n      this.dropdownMenuStyle['width'] = (parseInt(this.elementRef.nativeElement.children[0].children[0].children[0].clientWidth) + 20) + 'px';\n    }\n  }\n\n  /* istanbul ignore next */\n  toggleStatus() {\n    if (!this.isDropdownOpen) {\n      let id = _.get(this.getParentScrollView(), \"id\");\n      let _this = this;\n      $(`#${id}`).on('scroll mousewheel', function(e) {\n        if (_this.dropdown != null) {\n          _this.dropdown.hide();\n        }\n        // return false;\n      });\n\n      const parentView: ViewComponent = this.getParentView() as ViewComponent;\n      if (parentView != null && parentView.dialog != null && parentView.dialog.modalContent && parentView.dialog.modalContent != null) {\n        let parentPanel = parentView.dialog && parentView.dialog.modalContent.nativeElement;\n        let comboBox = this.inputElement.nativeElement.parentElement;\n        let parentPos = parentPanel.getBoundingClientRect()\n        let childrenPos = comboBox.getBoundingClientRect()\n        let distanceToBottom = parentPos.bottom - childrenPos.bottom;\n        let distanceToTop = childrenPos.top - parentPos.top;\n        let heightOfBox = this._listItems ? Math.min(18 * this._listItems.length, 200) : 200;\n        if (distanceToBottom < 200) {\n          if (distanceToTop > 200) {\n            $(\".dropdown-menu\").parent().attr(\"class\", \"dropup\")\n          } else if (distanceToTop > distanceToBottom) {\n            $(\".dropdown-menu\").parent().attr(\"class\", \"dropup\")\n          } else {\n            $(\".dropdown-menu\").parent().attr(\"class\", \"dropdown\")\n          }\n        } else {\n          $(\".dropdown-menu\").parent().attr(\"class\", \"dropdown\")\n        }\n      } else if (parentView != null) {\n        let dialog = $(`#${parentView[\"mainScreenId\"]}`);\n        if (dialog != null && dialog.children() && dialog.children()[0] && dialog.children()[0] != null) {\n          let comboBox = this.inputElement.nativeElement.parentElement;\n          let parentPos = dialog.children()[0].getBoundingClientRect()\n          let childrenPos = comboBox.getBoundingClientRect()\n          let distanceToBottom = parentPos.bottom - childrenPos.bottom;\n          let distanceToTop = childrenPos.top - parentPos.top;\n          let heightOfBox = this._listItems ? Math.min(18 * this._listItems.length, 200) : 200;\n          if (distanceToBottom < 200) {\n            if (distanceToTop > 200) {\n              $(\".dropdown-menu\").parent().attr(\"class\", \"dropup\")\n            } else if (distanceToTop > distanceToBottom) {\n              $(\".dropdown-menu\").parent().attr(\"class\", \"dropup\")\n            } else {\n              $(\".dropdown-menu\").parent().attr(\"class\", \"dropdown\")\n            }\n          } else {\n            $(\".dropdown-menu\").parent().attr(\"class\", \"dropdown\")\n          }\n        }\n      }\n    } else {\n      let id = _.get(this.getParentScrollView(), \"id\");\n      $(`#${id}`).off('scroll mousewheel');\n// V3R1-UT-NSD-643 ä¿®æ­£ START\n      // ãã°ã«ãéããããã¿ã¤ãã³ã°ã§ãã©ã°ãæ»ã\n      this.isFirstKeyDown = true;\n// V3R1-UT-NSD-643 ä¿®æ­£ END\n      this.dropdown.hide();\n    }\n    this.isDropdownOpen = !this.isDropdownOpen;\n  }\n\n  /**\n   * Sets the selected combobox option to 'val' parameter.\n   * @param val Value to set.\n   */\n  setValue(val: any) {\n    this.setSelectValue(val);\n    this.cd.markForCheck();\n  }\n\n  /**\n   * Sets the selected combobox option that matches 'text' parameter.\n   * @param text Text of option to mark as selected.\n   */\n  setText(text: string) {\n    if (text == null) {\n      this.setSelectItem(null);\n      this.cd.markForCheck();\n    } else if (this._listItems != null) {\n      const temp = _.find(this._listItems, (item: ValuePair) => item.text == text);\n\n      if (temp != null) {\n        this.setSelectItem(temp);\n        this.cd.markForCheck();\n      }\n    }\n  }\n\n  /**\n   * Returns the selected item value.\n   * @returns Value of the selected item in the combobox.\n   */\n  getValue(): any {\n    return this.selectedItem ? this.selectedItem.value : null;\n  }\n\n  /**\n   * Returns the text of the selected item.\n   * @returns String value of selected item text.\n   */\n  getText(): string {\n    return this.selectedItem ? this.selectedItem.text : \"\";\n  }\n\n  /**\n   * Focuses the native input element\n   */\n  setFocus() {\n    this.inputElement.nativeElement.focus();\n  }\n\n  /**\n   * Set the background color of the input element.\n   * @param bgColor A CSS color string value. Should be hexadecimal or valid color name.\n   */\n  setBgColor(bgColor: string) {\n    this.inputElement.nativeElement.style.backgroundColor = bgColor;\n  }\n\n  /**\n   * Finds a list item by text.\n   * @param text Item text to search for\n   * @returns [[ValuePair]] in [[_listItems]] that matches text\n   */\n  findItemByText(text: string) {\n    return _.find(this._listItems, (item: ValuePair) => item.text == text);\n  }\n\n  /**\n   * Gets all list items that are children of the combobox component.\n   * @returns Collection of list items.\n   */\n  getChildren(): Vector<any> {\n    const result = new Vector<any>();\n\n    if (this._listItems != null) {\n      _.forEach(this._listItems, (item) => {\n        result.add(new FauxComboElement(this, item));\n      });\n    }\n\n    return result;\n  }\n\n  /**\n   * Outputs JSON object that describes component\n   * @returns Object\n   */\n  toJson() {\n    const json: any = super.toJson();\n    json.value = this.getValue();\n\n    return json;\n  }\n\n  /**\n   * Returns string name of the component\n   * @returns String\n   */\n  getLocalName() {\n    return \"comboBox\";\n  }\n\n  /**\n   * Returns string tag name of component\n   */\n  protected getNxTagName() {\n    return \"comboBox\";\n  }\n\n  /* istanbul ignore next */\n  /**\n   * @returns [[ChangeDetector]] for the component\n   */\n  protected getChangeDetector() {\n    return this.cd;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Sets combobox values based on definition map\n   */\n  private loadDataFromDef() {\n    let defId: string = this.getId();\n\n    if (this.editor != null && this.editor.length > 0) {\n      defId = this.editor.substring(1);\n    }\n\n    const def = this.getSession().getDef(defId);\n\n    if (def != null && def.valueList != null) {\n      const attribute = def.attribute;\n\n      this.initializeComboboxValues(_.map(def.valueList, (item) => {\n        return {\n          value: item[\"value\"],\n          text: item[\"name\"],\n          selected: item[\"selectFlg\"] === \"true\" || item[\"selectFlg\"] === true\n        }\n      }));\n\n      this.setAttributeFromDef();\n    }\n  }\n\n  /**\n   * Removes focus from input element and sets unfocus background\n   * @event OnBeforeActiveLost\n   */\n  inputFocusOut() {\n    if (!this.hasInputFocus) return;//On the IE, prevent to fire focusout event without focusin event.(this occurs when error-dialog is showed.)issue#1433NG(2)\n    if (this.inputElement.nativeElement.ownerDocument.activeElement === this.inputElement.nativeElement) return;//prevent focuslost whenever active process is changed.\n    this.setBgColor('');\n    this.onBeforeActiveLost.emit();\n    this.hasInputFocus = false;\n    setTimeout(() => {\n      let $active = $(\":focus\");\n      if($active.length > 0 && !$active.is(\"body\") && $active.closest(\".vt-combo-box,[vt-arrow-navigatable-container]\").length == 0) {\n        if(this.dropdown && this.dropdown.isOpen) {\n          this.dropdown.hide();\n        }\n      }\n    }, 10);\n  }\n\n  /**\n   * if the interval between focusin and focusout event is less than 200ms, don't fire focusin.\n   */\n  inputFocusIn() {\n    this.hasInputFocus = true;\n  }\n\n  /**\n   * Delegate method wrapper for native browser preventDefault\n   * @param event Event object\n   */\n  preventDefault(event) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.inputElement.nativeElement.focus();\n  }\n\n  private subscribeToParentScroller() {\n    const scrollParent = $(this.elementRef.nativeElement).scrollParent();\n\n    if (scrollParent != null && scrollParent[0] instanceof HTMLElement) {\n      this.parentScroller = scrollParent[0];\n\n      this.ngZone.runOutsideAngular(() => {\n        this.parentScroller.addEventListener(\"scroll\", this.parentScrollHanlder);\n      });\n    }\n  }\n}\n","import { Directive, ElementRef, NgZone, OnDestroy, Renderer2, HostListener, Output, EventEmitter } from '@angular/core';\n\ndeclare var $: any;\n\n@Directive({\n  selector: '[vt-arrow-navigatable-item]',\n})\nexport class ArrowNavigatableItemDirective implements OnDestroy {\n  @Output() vtArrowOnMouseEnter: EventEmitter<void> = new EventEmitter<void>();\n  @Output() vtArrowOnMouseLeave: EventEmitter<void> = new EventEmitter<void>();\n\n  parent: any;\n  jq: any;\n\n  @HostListener(\"blur\")\n  handleOnBlur() {\n    this.blur();\n  }\n\n  @HostListener(\"focus\")\n  handleOnFocus() {\n    if (this.parent != null) {\n      this.parent.activeItem = this;\n    }\n  }\n\n  constructor(\n    public element: ElementRef,\n    private zone: NgZone,\n    private renderer: Renderer2\n  ) {\n    this.jq = $(this.element.nativeElement);\n\n    this.renderer.setAttribute(this.element.nativeElement, \"tabindex\", \"-1\");\n  }\n\n  ngOnDestroy() {\n    this.jq = null;\n    this.element = null;\n    this.zone = null;\n  }\n\n  focus() {\n    this.zone.run(()=>{\n      this.jq.mouseover();\n      this.jq.focus();\n      this.renderer.addClass(this.element.nativeElement, \"mouse-hover\");\n    });\n  }\n\n  blur() {\n    this.zone.run(()=>{\n      this.jq.mouseout();\n      this.jq.blur();\n      this.renderer.removeClass(this.element.nativeElement, \"mouse-hover\");\n    });\n  }\n\n  select() {\n    (this.element.nativeElement as HTMLElement).click();\n  }\n\n  hover() {\n    this.zone.run(()=>{\n      //(this.element.nativeElement as HTMLElement).dispatchEvent(new Event(\"mouseenter\"));\n      this.vtArrowOnMouseEnter.emit();\n    });\n  }\n\n  leave() {\n    this.zone.run(()=>{\n      this.vtArrowOnMouseLeave.emit();\n    });\n  }\n}\n","import { Directive, ContentChildren, QueryList, NgZone, ElementRef, OnDestroy, Output, EventEmitter, Input } from '@angular/core';\nimport { ArrowNavigatableItemDirective } from './arrow-navigatable-item.directive';\n\nimport * as _ from \"lodash\";\n\n@Directive({\n  selector: '[vt-arrow-navigatable-container]'\n})\n/**\n * Usage.\n * <ul vt-arrow-navigatable-container ...>\n *  <li vt-arrow-navigatable-item ...>\n *  <li vt-arrow-navigatable-item ...>\n * </ul>\n */\nexport class ArrowNavigatableContainerDirective implements OnDestroy {\n  @Input() activeParent: HTMLElement;\n  @Output() onItemHover: EventEmitter<ArrowNavigatableItemDirective> = new EventEmitter<ArrowNavigatableItemDirective>();\n  @Output() onTab: EventEmitter<void> = new EventEmitter<void>();\n\n  @ContentChildren(ArrowNavigatableItemDirective)\n  set navigatableItemsQuery(items: QueryList<ArrowNavigatableItemDirective>) {\n    if (items == null) {\n      this.navigatableItems = null;\n    } else {\n      this.navigatableItems = items.toArray();\n    }\n  }\n\n  private keydownHandler: (event: KeyboardEvent)=>void;\n\n  private activeItem: ArrowNavigatableItemDirective;\n\n  private navigatableItems: Array<ArrowNavigatableItemDirective>;\n\n  constructor(private zone: NgZone, private element: ElementRef) {\n    this.keydownHandler = (event)=>this.handleKeydown(event);\n    this.zone.runOutsideAngular(()=>{\n      (document).addEventListener(\"keydown\", this.keydownHandler);\n    });\n  }\n\n  ngOnDestroy() {\n    this.navigatableItems = null;\n    this.zone.runOutsideAngular(()=>{\n      (document).removeEventListener(\"keydown\", this.keydownHandler);\n    });\n\n    this.element = null;\n    this.keydownHandler = null;\n    this.navigatableItems = null;\n    this.activeItem = null;\n  }\n\n  private handleKeydown(event: KeyboardEvent) {\n    if (document.activeElement === this.element.nativeElement || document.activeElement === this.activeParent || this.isActiveElementDirectChildren()) {\n      //check for arrow key and do stuff\n      if (event.keyCode === 38 || event.key === \"ArrowUp\") {\n        this.moveUp();\n      } else if (event.keyCode === 40 || event.key === \"ArrowDow\") {\n        this.moveDown();\n      } else if (\n        event.keyCode === 13 || event.key === \"Enter\" ||\n        event.keyCode === 32 || event.key === \"Space\"\n      ) {\n        this.select();\n      } else if (event.keyCode === 39 || event.key === \"ArrowRight\") {\n        if (this.activeItem != null) {\n          this.activeItem.hover();\n        }\n      } else if (event.keyCode === 37 || event.key === \"ArrowLeft\") {\n        if (this.activeItem != null) {\n          this.activeItem.leave();\n        }\n      } else if (event.keyCode === 9 || event.key === \"Tab\") {\n        this.onTab.emit();\n      }\n    }\n  }\n\n  private moveUp() {\n    //can only go up if there are any items above\n    if (this.hasItems()) {\n      let idx = 0;\n\n      if (this.activeItem != null) {\n        this.activeItem.blur();\n        idx = _.findIndex(this.navigatableItems, (item)=>item === this.activeItem);\n      } else if (this.isActiveElementDirectChildren()) {\n        idx = _.findIndex(this.navigatableItems, (item)=> item.element.nativeElement === document.activeElement);\n\n        if (idx >= 0) {\n          this.navigatableItems[idx].blur();\n        }\n      }\n\n      if (idx < this.navigatableItems.length && idx > 0) {\n        this.activeItem = this.navigatableItems[idx - 1];\n        this.activeItem.focus();\n        this.onItemHover.emit(this.activeItem);\n      } else if (idx === 0) {\n        this.activeItem = this.navigatableItems[this.navigatableItems.length - 1];\n        this.activeItem.focus();\n        this.onItemHover.emit(this.activeItem);\n      }\n    }\n  }\n\n  private moveDown() {\n    if (this.hasItems()) {\n      let idx = -1;\n\n      if (this.activeItem != null) {\n        idx = _.findIndex(this.navigatableItems, (item)=>item === this.activeItem);\n\n        this.activeItem.blur();\n      } else if (this.isActiveElementDirectChildren()) {\n        idx = _.findIndex(this.navigatableItems, (item)=> item.element.nativeElement === document.activeElement);\n      }\n\n      if (idx < this.navigatableItems.length - 1) {\n        this.activeItem = this.navigatableItems[idx + 1];\n        this.activeItem.focus();\n        this.onItemHover.emit(this.activeItem);\n      } else if (idx == this.navigatableItems.length - 1) {\n        this.activeItem = this.navigatableItems[0];\n        this.activeItem.focus();\n        this.onItemHover.emit(this.activeItem);\n      }\n    }\n  }\n\n  private select() {\n    if (this.activeItem != null) {\n      this.activeItem.select();\n    }\n  }\n\n  private hasItems(): boolean {\n    return this.navigatableItems != null && this.navigatableItems.length > 0;\n  }\n\n  private isActiveElementDirectChildren() {\n    let retVal: boolean = false;\n\n    if (document.activeElement != null && this.navigatableItems != null && this.navigatableItems.length > 0) {\n      retVal = _.findIndex(this.navigatableItems, (item)=>item.element.nativeElement === document.activeElement) >= 0;\n    }\n\n    return retVal;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ArrowNavigatableContainerDirective } from './arrow-navigatable-container.directive';\nimport { ArrowNavigatableItemDirective } from './arrow-navigatable-item.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    ArrowNavigatableItemDirective,\n    ArrowNavigatableContainerDirective\n  ],\n  exports: [\n    ArrowNavigatableItemDirective,\n    ArrowNavigatableContainerDirective\n  ]\n})\nexport class KeyboardModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ComboBoxComponent } from './combo-box.component';\nimport { ListBoxDirective } from './list-box.directive';\nimport { ListItemDirective } from './list-item.directive';\nimport { BsDropdownModule } from 'ngx-bootstrap';\nimport { KeyboardModule } from '../keyboard/keyboard.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BsDropdownModule.forRoot(),\n    KeyboardModule\n  ],\n  declarations: [ComboBoxComponent, ListBoxDirective, ListItemDirective],\n  exports: [\n    ComboBoxComponent,\n    ListBoxDirective,\n    ListItemDirective,\n    BsDropdownModule,\n    KeyboardModule\n  ],\n  entryComponents: [\n    ComboBoxComponent\n  ]\n})\nexport class ComboBoxModule { }\n","import { Directive, ElementRef, Input, Renderer2, AfterViewInit, OnDestroy, Host, ContentChild, NgZone } from '@angular/core';\nimport { SessionService } from '../session/session.service';\nimport { TableComponent } from '../table/table.component';\nimport { UiDocument } from '../base/ui-document';\nimport * as _ from 'lodash';\n\ninterface Position {\n  x: number,\n  y: number\n}\n\n@Directive({\n  selector: '[vtDraggable]',\n  host: {\n    // '(dragstart)': 'onDragStart($event)',\n    // '(dragend)': 'onDragEnd($event)',\n    // '(drag)': 'onDrag($event)',\n    '(click)': 'onClick($event)'\n  }\n})\nexport class DraggableDirective implements AfterViewInit, OnDestroy {\n  public positionAttrValues: Array<string> = ['absolute', 'fixed', 'relative'];\n  @Input() vtDraggable: boolean;\n  @Input(\"modal\") modal: boolean;\n  @Input() isView: boolean = true;\n\n  private viewId: string;\n  private tableId: string; //ãªãµã¤ãºæã«æä½ãããã¼ãã«ã¿ã°ã®ID\n\n  private parentElement:any;\n\n  @Input() title: string;\n\n  screenIndex: number;\n\n    /** @Input */ @Input() canDrag: boolean = true; //this is dumn but work around for now (for main mdi window where we don't want to drag)\n  @ContentChild('draggablePanel', { read: ElementRef }) draggablePanel: ElementRef;\n  @ContentChild('myModal', { read: ElementRef }) parentPanel: ElementRef;\n\n  mouseDownHandler: (event) => void;\n  mouseMoveHandler: (event) => void;\n  mouseUpHandler: (event) => void;\n\n  private canTrackMouseMove: boolean = false;\n  private mousePosition: Position = {\n    x: 0,\n    y: 0\n  };\n\n  constructor(\n    public renderer: Renderer2,\n    public ngZone: NgZone,\n    private sessionService: SessionService) {\n      this.mouseDownHandler = (event) => this.onMouseDownHandler(event);\n      this.mouseMoveHandler = _.throttle((event) => this.onMouseMoveHandler(event),75);\n      this.mouseUpHandler = (event) => this.onMouseUpHandler(event);\n  }\n\n  public addDragListeners() {\n    let dragElement: HTMLElement = this.getDragElement();\n\n    if (dragElement) {\n      this.ngZone.runOutsideAngular(() => {\n          dragElement.addEventListener('mousedown', this.mouseDownHandler, true);\n          document.addEventListener('mouseup', this.mouseUpHandler, true);\n          dragElement = null;\n      });\n    }\n  }\n\n  public removeDragListeners() {\n    let dragElement: HTMLElement = this.getDragElement();\n\n    if (dragElement) {\n        dragElement.removeEventListener('mousedown', this.mouseDownHandler, true);\n        document.removeEventListener('mousemove', this.mouseMoveHandler, true); // å¿µã®ããç½®ãã¦ãã\n        document.removeEventListener('mouseup', this.mouseUpHandler, true);\n        dragElement = null;\n    }\n  }\n\n  public ngAfterViewInit(): void {\n    this.addDragListeners();\n    if(this.isView){\n      this.parentElement = this.parentPanel.nativeElement;\n    }\n    else{\n      this.parentElement = this.parentPanel.nativeElement.parentElement.parentElement.parentElement;//get div('modal-dialog')\n    }\n    if (this.canDrag && this.parentElement != null) {\n      // const bound = this.getBound((this.parentPanel.nativeElement as HTMLElement).firstChild as HTMLElement);\n      // console.error(bound);\n      //this.parentPanel.nativeElement.style.position = \"absolute\";\n      //this.applyTranslate(bound.x, bound.y);\n    } else {\n      this.canDrag = false;\n    }\n\n  }\n\n  public ngOnDestroy(): void {\n    this.removeDragListeners();\n\n    delete this.renderer;\n    delete this.ngZone;\n    delete this.draggablePanel;\n    delete this.mouseDownHandler;\n    delete this.mouseMoveHandler;\n    delete this.mouseUpHandler;\n    delete this.parentPanel;\n  }\n\n  onMouseDownHandler(event: any) {\n    let dragElement: HTMLElement = this.getDragElement();\n\n    if (dragElement) {\n      this.ngZone.runOutsideAngular(() => {\n          document.addEventListener('mousemove', this.mouseMoveHandler, true);\n          dragElement = null;\n      });\n    }\n    this.mousePosition = {\n      x: event.pageX,\n      y: event.pageY\n    };\n\n    if (this.canDrag) {\n      if(this.isView){//for main dialog\n        const bound = this.getBound(this.parentElement);\n        this.renderer.setStyle(this.parentElement, \"position\", \"absolute\");\n        this.renderer.setStyle(this.parentElement, \"margin\", \"0\");\n        this.applyTranslate(bound.x, bound.y);\n        this.moveWindowToTop();\n        this.canTrackMouseMove = true;\n      }\n      else{//for error/info dialog\n        const bound = this.getBound(this.parentElement);\n        const height = this.parentElement.offsetHeight + 'px';\n        const width = this.parentElement.offsetWidth + 'px';\n        this.renderer.setStyle(this.parentElement, \"position\", \"absolute\");\n        this.renderer.setStyle(this.parentElement, \"margin\", \"0\");\n        this.renderer.setStyle(this.parentElement,'height', height);\n        this.renderer.setStyle(this.parentElement,'width', width);\n        this.applyTranslate(bound.x, bound.y);\n        this.canTrackMouseMove = true;\n      }\n    }\n  }\n\n  onMouseMoveHandler(event: MouseEvent) {\n    if (this.canDrag && this.canTrackMouseMove) {\n      const currentMousePosition: Position = {\n        x: event.pageX,\n        y: event.pageY\n      }\n\n      const diffX = currentMousePosition.x - this.mousePosition.x;\n      const diffY = currentMousePosition.y - this.mousePosition.y;\n\n      const parentBound = this.getBound(this.parentElement);\n\n      const newX = parentBound.x + diffX;\n      const newY = parentBound.y + diffY;\n      this.applyTranslate(newX, newY);\n      this.mousePosition = currentMousePosition;\n    }\n  }\n\n  onMouseUpHandler(event: any) {\n    let dragElement: HTMLElement = this.getDragElement();\n\n    if (dragElement) {\n        document.removeEventListener('mousemove', this.mouseMoveHandler, true);\n        dragElement = null;\n    }\n\n    if (this.canDrag && this.canTrackMouseMove) {\n      this.canTrackMouseMove = false;\n    }\n\n  }\n\n  onClick(event: MouseEvent) {\n    if (this.canDrag) {\n      if(this.isView) this.moveWindowToTop();\n    }\n  }\n\n  applyTranslate(x: number, y: number) {\n    if (y > 0) {\n      this.ngZone.runOutsideAngular(() => {\n        let top: number = 0;\n        // let left: number = 0;\n\n        // This is height of app header\n        let topMax = 82;\n\n        if(this.isView) {\n          top = Math.max(y, topMax);\n        } else {\n          top = Math.max(y, 0);\n        }\n\n        if (this.sessionService.dialogMaxTopPosition > 0 && top > this.sessionService.dialogMaxTopPosition) {\n          top = this.sessionService.dialogMaxTopPosition;\n        }\n\n        //#1587: in the as-is, there is no limit to where you can drag the window to the left/right\n        //left = Math.max(x, 0);\n\n        this.renderer.setStyle(this.parentElement, 'top', top + 'px');\n        this.renderer.setStyle(this.parentElement, 'left', x + 'px');\n      });\n    }\n  }\n\n  moveWindowToTop() {\n    this.sessionService.getMcoContainer().reStackView(this.viewId, this.screenIndex);\n  }\n\n  setViewId(id: string) {\n    if (id != null) {\n      this.viewId = id;\n    }\n  }\n\n  setTableId(id: string) {\n    if (id != null) {\n      this.tableId = id;\n    }\n  }\n\n  private getDragElement(): HTMLElement {\n    if (this.vtDraggable === true && this.draggablePanel) {\n      return this.draggablePanel.nativeElement;\n    }\n\n    return null;\n  }\n\n  private getBound(el: HTMLElement): Position {\n    const bound = el.getBoundingClientRect() as DOMRect;\n\n    return {\n      x: bound.x || bound.left,\n      y: bound.y || bound.top\n    }\n  }\n}\n","import { Injectable, ViewContainerRef, ComponentFactoryResolver, Type, ComponentRef } from '@angular/core';\n\nimport * as _ from \"lodash\";\nimport { ViewComponent } from './view.component';\nimport { SessionService } from '../session/session.service';\n\n/**\n * Class for managing dynamic views\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class DynamicPagesService {\n  private viewContainer: ViewContainerRef;\n  private dynamicViewsMap: Array<ComponentRef<ViewComponent>> = [];\n  static onCreateViewCloser: (sessionService: SessionService, viewType: Type<ViewComponent>, routeId: string) => void = null;\n\n  /**\n   * \n   * @param viewFactory \n   */\n  constructor(\n    private viewFactory: ComponentFactoryResolver,\n    private sessionService: SessionService\n  ) { }\n\n  /* istanbul ignore next */\n  /**\n   * Set the [[viewContainer]] property to reference a [[ViewContainer]]\n   * @param viewContainer \n   */\n  registerViewContainer(viewContainer: ViewContainerRef) {\n    this.viewContainer = viewContainer;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Create a new [[ViewComponent]] instance\n   * @param viewType \n   * @param routeId \n   */\n  createDynamicView(viewType: Type<ViewComponent>, routeId: string = null): Promise<ViewComponent> {\n    // For suppress warning (Circular dependency), it is not able to call ViewComponent's method directly here.\n    if(DynamicPagesService.onCreateViewCloser) {\n      DynamicPagesService.onCreateViewCloser(this.sessionService, viewType, routeId);\n    }\n\n    if (this.sessionService.getMessagingService() != null) {\n      this.sessionService.getMessagingService().setFreezePushService(true);\n    }\n\n    const view = this.viewContainer.createComponent(this.viewFactory.resolveComponentFactory(viewType));\n    this.dynamicViewsMap.push(view);\n    view.instance.isDynamicPage = true;\n\n    view.changeDetectorRef.detectChanges();\n    return new Promise<ViewComponent>((r, j)=>{\n      //has route id?\n      if (routeId != null && routeId !== \"\") {\n        view.instance[\"routeId\"] = routeId;\n      }\n\n      if (view.instance.viewIsInitialized === true) {\n        if (this.sessionService.getMessagingService() != null) {\n          this.sessionService.getMessagingService().setFreezePushService(false);\n        }\n\n        r(view.instance);\n      } else {\n        const sub = view.instance.viewInitialized.subscribe(()=>{\n          sub.unsubscribe();\n          \n          if (this.sessionService.getMessagingService() != null) {\n            this.sessionService.getMessagingService().setFreezePushService(false);\n          }\n\n          r(view.instance);\n        });\n      }\n    });\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Destroy [[ViewComponent]] instance reference\n   * @param viewToRemove \n   * @param immediate\n   */\n  removeView(viewToRemove: ViewComponent, immediate: boolean) {\n    const deadView = _.find(this.dynamicViewsMap, (view: ComponentRef<ViewComponent>)=>{\n      return view.instance.uniqueId == viewToRemove.uniqueId;\n    });\n\n    this.dynamicViewsMap = _.filter(this.dynamicViewsMap, (view: ComponentRef<ViewComponent>)=>{\n      return view.instance.uniqueId != viewToRemove.uniqueId;\n    });\n\n    if (viewToRemove.isDestroyed !== true && deadView != null) {\n      if(immediate) {\n        deadView.destroy();\n      } else {\n        setTimeout(() => {\n          deadView.destroy();\n        }, 1);\n      }\n    }\n  }\n}\n","import { appInjector } from \"../session/app-injector\";\nimport { McoContainerService } from \"../mco-container/mco-container.service\";\nimport { BaseComponent } from \"../base/base.component\";\nimport { AttributesEnum } from \"./attributes.enum\";\nimport { MenuItemComponent } from \"../popup-menu/menu-item/menu-item.component\";\nimport { Logger } from \"./logger\";\nimport { ComboBoxComponent } from \"../combo-box/combo-box.component\";\nimport { ValuePair } from \"../combo-box/value-pair\";\nimport { ContextMenuService } from \"../popup-menu/context-menu.service\";\nimport { MenuItemBuilder } from \"../popup-menu/menu-item-builder\";\nimport { NgZone } from \"@angular/core\";\n\n/**\n * Document object class to access virtual DOM\n */\n\n// @dynamic -- this line comment is necessary to prevent packagr error\nexport class UiDocument {\n  static menuItemElementMap: Map<string, MenuItemComponent> = null;\n\n  /**\n   * Get [[MenuItemComponent]] by id key in [[menuItemElementMap]]\n   * @param id\n   */\n  static getMenuComponent(id: string): any {\n    if (this.menuItemElementMap == null) {\n      return null;\n    }\n\n    return this.menuItemElementMap.get(id);\n  }\n\n  /**\n   * Alias for [[findElementById]]\n   * @param id\n   */\n  static getElementById(id: string) {\n    return UiDocument.findElementById(id);\n  }\n\n  /**\n   * Search for and return a component by id\n   * @param id ViewComponent id\n   */\n  static findElementById(id: string): BaseComponent {\n    if (id == null) return null;\n\n    //WARNING: We can't cache here as we don't id here is NOT unique!!\n    let comp: BaseComponent = null;\n\n    if (!appInjector()) return;\n    const mcoContainer: McoContainerService = appInjector().get(McoContainerService);\n\n    if (mcoContainer != null) {\n      comp = mcoContainer.getViewById(id);\n\n      if (comp == null && mcoContainer.activeView() != null) {\n        comp = mcoContainer.activeView().findElementById(id);\n      }\n\n      if (comp == null) {\n        comp = this.getMenuComponent(id);\n      }\n\n      if (comp == null) {\n        const views = mcoContainer.getViews();\n\n        for (let view of views) {\n          if (view.id === id) {\n            comp = view;\n          } else {\n            comp = view.findElementById(id);\n          }\n\n          if (comp != null) {\n            break;\n          }\n        }\n      }\n\n      //our component is in a subview?\n      if (comp == null && mcoContainer.getActionForwardHandlerMap() != null) {\n        const actionForwardIt = mcoContainer.getActionForwardHandlerMap().values();\n        let forwardItResult = actionForwardIt.next();\n\n        while(forwardItResult.done !== true) {\n          comp = forwardItResult.value.findElementById(id);\n\n          if (comp != null) {\n            break;\n          }\n\n          forwardItResult = actionForwardIt.next();\n        }\n      }\n    } else {\n      comp = this.getMenuComponent(id);\n    }\n\n    /////////////////WARNING!!!!!!!!!!!!!!!!!!!!!!!\n    //MenuItem???? for special case where right click event of inner comp of table column\n    //is trigger before row context menu is trigger (row context menu display popup menu)\n    //this special component is MenuItemBuilder so it only support setAttribute\n    if (comp == null) {\n      const mcoContainer: McoContainerService = appInjector().get(McoContainerService);\n\n      if (mcoContainer != null) {\n        const activeView = mcoContainer.activeView();\n\n        if (activeView != null && activeView.hasPopupMenu()) {\n          const contextMenuService = appInjector().get(ContextMenuService);\n\n          if (contextMenuService != null) {\n            const popupMenuItems = contextMenuService.getContextMenuItems(activeView.getFirstPopupMenuId());\n\n            if (popupMenuItems != null) {\n              const menuItem = popupMenuItems.find(item=>{\n                return item.id === id;\n              });\n\n              if (menuItem != null) {\n                //fake component, specifically for menu\n                comp = MenuItemBuilder.fromMenuItem(menuItem) as any;\n\n                contextMenuService._trackMenuItemBuilderForMemRelease(comp as any);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return comp;\n  }\n\n  /**\n   * Get JSON representation of component\n   * @returns Object JSON metadata for this component\n   */\n  static toJson(): {} {\n    const views = appInjector().get(McoContainerService).getViews();\n    const json = {};\n\n    for (let view of views) {\n      json[view.getId()] = view.toJson();\n    }\n\n    return json;\n  }\n\n  /**\n   * Set attribute with value on component by id\n   * @param id Component id\n   * @param attributeName Name of attribute to set\n   * @param value Value of attribute to set\n   */\n  static setElementAttribute(id: string, attributeName: string | AttributesEnum, value: any) {\n    const element = this.getElementById(id);\n\n    if (element != null) {\n      element.setAttribute(attributeName, value);\n    } else {\n      Logger.warn(`Unable to set attribute to element id: ${id}, doesn't exists`);\n    }\n  }\n\n  /**\n   * Get the value of an attribute if it exists, otherwise return null\n   * @param id Component id\n   * @param attributeName Name of attribute value to get\n   */\n  static getElementAttribute(id: string, attributeName: string | AttributesEnum) {\n    const element = this.getElementById(id);\n\n    if (element != null) {\n      return element.getAttribute(attributeName);\n    } else {\n      Logger.warn(`Unable to get attribute to element id: ${id}, doesn't exists`);\n    }\n\n    return null;\n  }\n\n  /**\n   * Add a [[MenuItemComponent]] to internal [[menuItemElementMap]]\n   * @param id Key to use in map for menu item being added\n   * @param menuItemElement Component to add to map\n   */\n  static registerMenuItemElement(id: string, menuItemElement: MenuItemComponent) {\n    if (this.menuItemElementMap == null) {\n      this.menuItemElementMap = new Map();\n    }\n\n    this.menuItemElementMap.set(id, menuItemElement);\n\n    //track menu item for sending to server\n    if (menuItemElement.item != null && menuItemElement.item.parentScreenId != null) {\n      const mcoContainer: McoContainerService = appInjector().get(McoContainerService);\n\n      if (mcoContainer != null) {\n        const activeView = mcoContainer.getViewById(menuItemElement.item.parentScreenId);\n\n        if (activeView != null) {\n          activeView.trackInactiveMenuItem(menuItemElement);\n        }\n      }\n    }\n  }\n\n  /**\n   * Remove [[MenuItemComponent]] from internal [[menuItemElementMap]]\n   * @param id Key of menu item to remove from map\n   */\n  static unregisterMenuItemElement(id: string) {\n    if (this.menuItemElementMap != null) {\n      this.menuItemElementMap.delete(id);\n    }\n  }\n\n  /**\n   * Sets [[ComboboxComponent]] values\n   * @param id Combobox component id\n   * @param values Initial values to set on combobox component\n   */\n  static initializeComboBoxValues(id: string, values: Array<ValuePair>) {\n    const comp: ComboBoxComponent = this.findElementById(id) as any;\n\n    if (comp != null) {\n      comp.initializeComboboxValues(values);\n    } else {\n      console.warn(\"Unable to initialie combo: \" + id);\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Focus the parent tab of this [[elementId]]\n   * @param elementId the element id where we want its parent tab to be focused\n   */\n  static focusParentTab(elementId: string) {\n    if (elementId != null) {\n      const comp = this.findElementById(elementId);\n\n      if (comp != null && typeof comp[\"focusParentTab\"] === \"function\") {\n        comp[\"focusParentTab\"]();\n      }\n\n      if (comp != null) {\n        appInjector().get(NgZone).runOutsideAngular(()=>{\n          setTimeout(()=>{\n            comp.setFocus();\n          }, 100);\n        });\n      }\n    }\n  }\n}\n","import {\n  Component,\n  Input,\n  OnInit,\n  ElementRef,\n  ViewChild,\n  AfterViewInit,\n  Inject,\n  ChangeDetectorRef,\n  ChangeDetectionStrategy,\n  SkipSelf,\n  Optional,\n  ViewContainerRef,\n  TemplateRef,\n  ContentChild,\n  Renderer2,\n  Output,\n  EventEmitter,\n  NgZone\n} from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { InitialPosition } from '../base/initial-position';\nimport { DraggableDirective } from './draggable.directive';\nimport { DynamicPagesService } from '../view/dynamic-pages.service';\nimport { TableComponent } from '../table/table.component';\nimport { UiDocument } from '../base/ui-document';\n\nimport * as _ from 'lodash';\n\n//this stupid thing is needed b/c ng-packagr is complained about namespace\nimport * as tabbableFRollup from \"tabbable\";\nimport { JavaUtils } from '../java/java-utils';\n\nconst tabbable = tabbableFRollup;\n\ndeclare var $: any;\n\n/*\n * Modal markup placement.\n * Always try to place a modal's HTML code in a top-level position in your document to\n * avoid other components affecting the modal's appearance and/or functionality.\n*/\n\n/**\n * Class for dialog component\n */\n@Component({\n  selector: 'vt-dialog',\n  templateUrl: './dialog.component.html',\n  styleUrls: ['./dialog.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DialogComponent extends BaseComponent implements OnInit, AfterViewInit {\n  @ViewChild('modalBody') body: ElementRef;\n  @ViewChild(\"modalDialog\") modalDialog: ElementRef;\n  @ViewChild(\"modalContent\") modalContent: ElementRef;\n\n  @Input() title: String;\n  @Input() draggable: boolean = true; //default to true\n  @Input() initialPosition: InitialPosition;\n\n  //modal is default to false, when true, it is blocking\n  @Input()\n  set modal(modal: string | boolean) {\n    this._modal = modal;\n\n    this.updateModalDialogStyle();\n  }\n\n  get modal() {\n    return this._modal;\n  }\n\n  private _modal: string | boolean = \"false\";\n\n  @Input() set centered(boo: boolean | string) {\n    if (typeof boo === 'string') {\n      this._center = boo === 'true' ? true : false;\n    } else {\n      this._center = boo;\n    }\n  }\n\n  //alias\n  @Input() set windowTitle(title: string) {\n    this.title = title;\n  }\n\n  _center: boolean = false;\n  @Input() modalSize: string = 'large';\n\n  @Input() resizeable: boolean = false;\n\n  @Output() onClosing: EventEmitter<void> = new EventEmitter<void>();\n\n  @ViewChild('myModal', {read: ElementRef}) modalElement: ElementRef;\n  @ViewChild('viewContainer', {read: ViewContainerRef}) viewContainer: ViewContainerRef;\n  @ViewChild('draggablePanel', {read: ViewContainerRef}) draggablePanel: ViewContainerRef;\n  @ViewChild(DraggableDirective) draggableDirective: DraggableDirective;\n\n  modalWidth: number | string = '100%';\n  modalHeight: number | string = '100%';\n  modalBodyHeight: number | string = '100%';\n  isMaximize: boolean = false;\n  isUnMaximize: boolean = false;\n  contentWidth: string;\n  contentHeight: string;\n\n  static readonly UNMAXIMIZE_HEGHT: string =\"20px\";\n\n  // ç»é¢ãªãµã¤ãºå¯¾å¿ Start\n  @Input() resizeDialog: boolean = false;\n  modalBodyMinHeight: string = null;\n  modalBodyDivHeight: string = null;\n  modalBodyDivWidth: string = null;\n  modalBodyPercentHeight: string = null;\n  // ç»é¢ãªãµã¤ãºå¯¾å¿ End\n  resizeFlg: boolean = false;\n\n  modalOriginalLeft: number = 0;\n  modalOriginalTop: number = 0;\n\n  /* istanbul ignore next */\n  bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"in\"];\n\n  private viewRouteUrl: string = '';\n\n  private viewId: string;\n  @Input() tableId: string; //ãªãµã¤ãºæã«æä½ããå¯¾è±¡ã¨ãªããã¼ãã«ã¿ã°ã®ID\n\n  screenIndex: number;\n\n  //sophia 1803: track disabled element that has error background\n  _disabledErrorElementId: Array<string>;\n  _canTrackFocusLostOnErrorDisabled: boolean;\n\n  //tab cycling\n  private _tabbables: Array<HTMLElement>;\n  private wasClickOutside: boolean;\n  private docClickHandler: (event: MouseEvent)=>void;\n  private modalFocusOutHandler: (event: FocusEvent)=>void;\n  private keydownHandler: (event: KeyboardEvent)=>void;\n\n  /* istanbul ignore next */\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param cd [[ChangeDetectorRef]] to inject\n   * @param renderer see [[BaseComponent]]\n   * @param dynamicPageService [[DynamicPageService]] instance to inject\n   * @param zone Angular zone\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2, private dynamicPageService: DynamicPagesService, private zone: NgZone) {\n    super(parent, sessionService, elementRef, renderer);\n\n    this.docClickHandler = (event: MouseEvent)=>{\n      this.handleDocClickEvent(event);\n    };\n\n    this.modalFocusOutHandler = (event: FocusEvent)=>{\n      this.checkFocusOut(event);\n    };\n\n    this.keydownHandler = (event: KeyboardEvent)=>{\n      this.checkKey(event);\n    }\n  }\n\n  /**\n   * Set [[viewRouteUrl]] property\n   * @param viewRouteUrl\n   */\n  setViewRouteUrl(viewRouteUrl: string) {\n    this.viewRouteUrl = viewRouteUrl;\n  }\n\n  /**\n   * Set draggable directive id and [[id]]\n   */\n  resetId() {\n    this.updateDraggableDirectiveId();\n    super.resetId();\n\n    this.cd.detectChanges();\n  }\n\n  /**\n   * ä¸è¦§ç»é¢ããã³ãã¬ã¼ããè¡¨ç¤ºãã¦ããç»é¢ã§æ¨ªã¹ã¯ã­ã¼ã«ãã§ã¦ãã¾ãäºè±¡ãåé¿ããããã®ã¡ã½ãã\n   * ååãªãµã¤ãºãã\n   */\n  dialogResize() {\n    /* istanbul ignore else */\n    if (this.resizeFlg === false) {\n      //this.resizeExecute();\n      this.resizeFlg = true;\n      this.setDisabledDialogWidth();\n    }\n  }\n\n    /**\n   * ä¸è¦§ç»é¢ããã³ãã¬ã¼ããè¡¨ç¤ºãã¦ããç»é¢ã§æ¨ªã¹ã¯ã­ã¼ã«ãã§ã¦ãã¾ãäºè±¡ãåé¿ããããã®ã¡ã½ãã\n   * ãªãµã¤ãºãè¡ã\n   */\n  resizeExecute() {\n    const bound: DOMRect = (this.modalElement.nativeElement.firstChild.lastElementChild as HTMLElement).getBoundingClientRect() as DOMRect;\n    const newX = bound.right - bound.left + 20;\n    this.zone.runOutsideAngular(() => {\n      this.renderer.setStyle(this.modalElement.nativeElement.firstChild.lastElementChild, 'width', newX + 'px');\n    });\n    this.cd.detectChanges();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Init lifecycle. Sets [[viewId]]\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.viewId = this.id;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Destroy lifecycle. Cleans up references\n   */\n  ngOnDestroy() {\n    super.ngOnDestroy();\n\n    this.modalDialog = null;\n    this.modalContent = null;\n\n    if (this.viewContainer != null) {\n      this.viewContainer.clear();\n      this.viewContainer = null;\n    }\n\n    if (this.draggablePanel != null) {\n      this.draggablePanel.clear();\n      this.draggablePanel = null;\n    }\n\n    if (this.docClickHandler != null) {\n      document.removeEventListener(\"mousedown\", this.docClickHandler);\n    }\n\n    if (this.modalFocusOutHandler != null) {\n      (this.modalElement.nativeElement as HTMLElement).removeEventListener(\"focusout\", this.modalFocusOutHandler, true);\n    }\n\n    if (this.keydownHandler) {\n      (this.modalElement.nativeElement as HTMLElement).removeEventListener(\"keydown\", this.keydownHandler, true);\n    }\n\n    this.docClickHandler = null;\n    this.modalFocusOutHandler = null;\n    this.keydownHandler = null;\n\n    this.draggableDirective = null;\n    this.modalElement = null;\n    this._tabbables = null;\n  }\n\n  /**\n   * After view init lifecycle. Sets initial dialog height/width and positioning\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    //add 80px for grid padding\n    this.modalWidth = parseInt(this.controlWidth) + 80;\n    this.modalHeight = parseInt(this.controlHeight) + 80;\n\n    // ç»é¢ãªãµã¤ãºå¯¾å¿ Start\n    if (this.resizeDialog) {\n      this.modalBodyPercentHeight = \"calc(100% - 25px)\"; //modal-headeråãåã£ã¦è¨­å®\n      this.modalBodyDivHeight = \"100%\";\n      this.modalBodyDivWidth = \"100%\";\n      this.modalBodyMinHeight = \"auto\";\n    } else {\n      this.modalBodyHeight = parseInt(this.controlHeight) - 25; //modal-headeråãåã£ã¦è¨­å®\n    }\n    // ç»é¢ãªãµã¤ãºå¯¾å¿ End\n\n    this.cd.detectChanges();\n\n    if (this.modal !== \"true\" && this.modal !== true) {\n      this.setModalLessPosition();\n      this.bsModalClass.push(\"modaless\");\n      this.cd.detectChanges();\n    } else {\n      //disable buttons\n      $(\".header\").addClass(\"header-disabled\");\n      $(\".footer\").addClass(\"footer-disabled\");\n    }\n\n    this.setInitialPosition(this.initialPosition);\n    this.updateDraggableDirectiveId();\n\n    this.setDisabledDialogWidth();\n    // if(this.resizeDialog){ ä¸æçã«ã³ã¡ã³ãã¢ã¦ã\n      $(this.modalElement.nativeElement).resizable({\n        handles: 'n, e, s, w, ne, se, sw, nw',\n        minWidth: 150,\n        minHeight: 20,\n        resize: (event, ui)=>{\n          //topå ´æå¶éè¨­å®\n          if (ui.position.top <= 82){\n            ui.position.top = 82;\n            return;\n          }\n          ui.element.css(\"min-height\", \"\");\n          ui.element.css(\"min-width\", \"\");\n\n          $(this.modalDialog.nativeElement).css(\"height\", ui.size.height);\n          $(this.modalDialog.nativeElement).css(\"width\", ui.size.width);\n\n          $(this.modalContent.nativeElement).css(\"height\", ui.size.height);\n          $(this.modalContent.nativeElement).css(\"width\", ui.size.width);\n\n          $(this.body.nativeElement).css(\"min-height\", \"calc(100% - 25px)\");\n\n          if (this.tableId != null) {\n            const table: TableComponent = UiDocument.getElementById(this.tableId) as TableComponent;\n            if (table != null) {\n              table.tableResize();\n            }\n          }\n        }\n      });\n      $(this.modalElement.nativeElement).on( \"resizestop\", ()=> {\n        this.setDisabledDialogWidth();\n      });\n    // }\n\n    this._tabbables= tabbable(this.body.nativeElement);\n\n    this.zone.runOutsideAngular(()=>{\n      document.addEventListener(\"mousedown\", this.docClickHandler);\n      (this.modalElement.nativeElement as HTMLElement).addEventListener(\"focusout\", this.modalFocusOutHandler, true);\n      (this.modalElement.nativeElement as HTMLElement).addEventListener(\"keydown\", this.keydownHandler, true);\n    });\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set the width of disabled-dialog with the width of the modal-content\n   */\n  private setDisabledDialogWidth(){\n    const element = this.modalElement.nativeElement;\n    this.renderer.setStyle(element.querySelector('.disabled-dialog'),'width', element.querySelector('.modal-content').offsetWidth+'px');\n    this.renderer.setStyle(element.querySelector('.disabled-dialog'),'height', element.querySelector('.modal-content').offsetHeight+'px');\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Sets the [[draggableDirective]] view id to the dialog instance [[id]]\n   */\n  private updateDraggableDirectiveId() {\n    if (this.draggableDirective != null) {\n      this.draggableDirective.setViewId(this.id);\n      this.draggableDirective.setTableId(this.tableId);\n      this.draggableDirective.screenIndex = this.screenIndex;\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set position of window component\n   */\n  private setModalLessPosition() {\n    const bound: DOMRect = (this.modalElement.nativeElement.firstChild as HTMLElement).getBoundingClientRect() as DOMRect;\n    const left = (bound.x || bound.left) + \"px\";\n    const top = (Math.max(bound.y || bound.top, 120)) + \"px\";\n\n    this.renderer.setStyle(this.modalElement.nativeElement, \"left\", left);\n    this.renderer.setStyle(this.modalElement.nativeElement, \"top\", top);\n  }\n\n  /**\n   * Get the native HTML element of this dialog\n   * @returns DOM element\n   */\n  getElement(): HTMLElement {\n    return this.elementRef.nativeElement;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for click on close button. Closes the window\n   * @param event\n   * @param immediate\n   */\n  close(event: MouseEvent = null, immediate: boolean = false) {\n    // this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"out\"];\n\n    //this.cd.detectChanges();\n\n    if (event != null) {\n      event.stopPropagation();\n    }\n\n    if (this.modal === \"true\" || this.modal === true) {\n      $(\".header\").removeClass(\"header-disabled\");\n      $(\".footer\").removeClass(\"footer-disabled\");\n    }\n\n    if (this.getParent() != null && this.getParent().isView() && this.getParent().isDynamicView()) {\n      this.dynamicPageService.removeView(this.getParent() as any, immediate);\n    } else {\n      if (this.getSession() != null && this.getSession().getRouteNavigatorService() != null) {\n        this.getSession().getRouteNavigatorService().destroyRoute(this.viewRouteUrl);\n      } else {\n        console.error(\"Unable to change route, session or route navigation service is not defined\");\n      }\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set [[disabled]] property value\n   * @param boo Value for disabled property\n   */\n  setDisabled(boo: boolean){\n    this.disabled = boo;\n    $(this.modalElement.nativeElement).resizable( \"option\", \"disabled\", boo );//Don't remove this. This makes disabled-dialog not to be resizable.\n    $(this.modalElement.nativeElement.querySelector('.modal-content')).disabled = boo;//I am not sure why this is needed.\n  }\n\n  /**\n   * Sets the dialogs 'z-index' CSS property\n   * @param newZIndex\n   */\n  updateZIndex(newZIndex: number) {\n    if (this.modalElement != null && this.renderer != null) {\n      this.renderer.setStyle(this.modalElement.nativeElement, \"z-index\", newZIndex);\n    }\n\n    this.setInactiveDialogStyle();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set inactive window style if this dialog is not the current active dialog\n   */\n  setInactiveDialogStyle() {\n    const inactiveDialogClass = 'inactive-dialog';\n\n    // Apply inactive dialog class when other window is focused\n    if (\n      this.getSession().getMcoContainer().activeView() == null ||\n      this.getSession().getMcoContainer().activeView().id != this.viewId\n    ) {\n      this.bsModalClass.push(inactiveDialogClass);\n    } else {\n      this.bsModalClass = _.filter(this.bsModalClass, (c)=> {\n        return c !== inactiveDialogClass;\n      });\n    }\n\n    //we used OnPush and change detector only know that it needs to do something if\n    //our style array is immutable, so we need to tell it that changes happen.\n    this.cd.markForCheck();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set position of this dialog when it is first opened\n   * @param position Window position\n   */\n  setInitialPosition(position: InitialPosition) {\n    if (position != null) {\n      if (position.left >= 0) {\n        this.renderer.setStyle(this.modalElement.nativeElement, \"left\", position.left + \"px\");\n      } else {\n        this.renderer.setStyle(this.modalElement.nativeElement, \"left\", \"auto\");\n      }\n\n      if (position.right >= 0) {\n        this.renderer.setStyle(this.modalElement.nativeElement, \"right\", position.right + \"px\");\n      }\n\n      if (position.top >= 0) {\n        this.renderer.setStyle(this.modalElement.nativeElement, \"top\", position.top + \"px\");\n      } else {\n        this.renderer.setStyle(this.modalElement.nativeElement, \"top\", \"auto\");\n      }\n\n      if (position.bottom >= 0) {\n        this.renderer.setStyle(this.modalElement.nativeElement, \"bottom\", position.bottom + \"px\");\n      } else {\n        this.renderer.setStyle(this.modalElement.nativeElement, \"bottom\", \"auto\");\n      }\n    }\n\n    // header height and footer height\n    const appHeader = $(\".header\")[0];\n\n    /* istanbul ignore if */\n    //appHeader can be null (in unit test, etc)\n    if (appHeader) {\n      let headerH = appHeader.clientHeight + appHeader.offsetTop;\n      // init position\n      this.renderer.setStyle(this.modalElement.nativeElement, \"top\", headerH + \"px\");\n      if ((position != null)) {\n        if ( !(position.left > 0)  ) {\n          this.renderer.setStyle(this.modalElement.nativeElement, \"left\", \"0\");\n        }\n      } else {\n        this.renderer.setStyle(this.modalElement.nativeElement, \"left\", \"0\");\n      }\n\n      // If 'centered' input is true, override initialPosition and modalLessPosition\n      if (this._center) {\n        let modelH = $(this.modalElement.nativeElement).height();\n        let footerH = $(\".footer\")[0].clientHeight;\n        this.renderer.setStyle(this.modalElement.nativeElement, \"top\", `calc(((100vh - ${headerH}px - ${footerH}px - ${modelH}px) / 2) + ${headerH}px)`);\n        this.renderer.setStyle(this.modalElement.nativeElement, \"left\", \"calc((100vw / 2) - \" + ($(this.modalElement.nativeElement).width() / 2) + \"px\");\n      }\n    }\n  }\n\n  /**\n   * Event handler for close event\n   * @event OnClosing\n   */\n  handleOnClosing() {\n    this.onClosing.emit();\n  }\n\n  /**\n   * Get the Nexaweb tag name of this component\n   */\n  protected getNxTagName() {\n    return \"dialog\";\n  }\n\n  /**\n   * Get JSON representation of dialog state\n   */\n  toJson(): {} {\n    const json: any = super.toJson();\n    this.setJson(json, \"title\", this.title);\n    this.setJson(json, \"modal\", this.modal);\n    this.setJson(json, \"centered\", this._center);\n\n    return json;\n  }\n\n  /**\n   * Check whether or not this dialog is a container\n   * @returns Boolean\n   */\n  protected isContainer() {\n    return true;\n  }\n\n  /**\n   * Check whether or not this is a dialog. Implementation of BaseComponent method\n   * @returns Boolean\n   */\n  protected isDialog() {\n    return true;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get the [[cd]] (ChangeDetectorRef) property\n   * @returns ChangeDetectorRef\n   */\n  getChangeDetector() {\n    return this.cd;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for minimize button click. Minimizes dialog\n   * @param event\n   */\n  minimize(event: MouseEvent) {\n    if (event != null) {\n      event.stopPropagation();\n    }\n    if((JavaUtils.parseBoolean(this.modal))){\n      if (!this.isUnMaximize){\n        let minHeightLoc = DialogComponent.UNMAXIMIZE_HEGHT;\n        this.isUnMaximize =true;\n        if (this.isMaximize) {\n          $(this.modalElement.nativeElement).css(\"top\", `${this.modalOriginalTop}px`);\n          $(this.modalElement.nativeElement).css(\"left\", `${this.modalOriginalLeft}px`);\n          this.isMaximize =false;\n        }        \n        $(this.body.nativeElement).css(\"min-height\", \"\");\n        $(this.body.nativeElement).css(\"height\", minHeightLoc);\n        $(this.modalElement.nativeElement).css(\"min-height\", \"\");\n        $(this.modalElement.nativeElement).css(\"height\", minHeightLoc);\n        $(this.modalElement.nativeElement.querySelector('.modal-content')).css(\"height\", minHeightLoc);\n        this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"in\", \"unmaximize\"];\n      }else{\n        this.isUnMaximize =false;\n        let minHeightLoc =$(this.modalElement.nativeElement.querySelector('.modal-dialog')).css(\"height\");\n        $(this.body.nativeElement).css(\"min-height\", \"calc(100% - 25px\");\n        $(this.body.nativeElement).css(\"height\", \"auto\");\n        $(this.modalElement.nativeElement).css(\"min-height\", minHeightLoc);\n        $(this.modalElement.nativeElement).css(\"height\", minHeightLoc);\n        $(this.modalElement.nativeElement.querySelector('.modal-content')).css(\"height\", minHeightLoc);\n        this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"in\", \"unmaximize\"];       \n      }\n    }else{\n      this.isUnMaximize =false;\n      this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"out\", \"minimize\"];\n      this.getSession().getMcoContainer().minimizeView(this.viewId);\n    }\n    this.cd.detectChanges();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for maximize button click. Maximizes dialog\n   * @param event\n   */\n  maximize(event: MouseEvent) {\n    \n    if (event != null) {\n      event.stopPropagation();\n    }\n\n    if (this.isMaximize) {\n      this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"in\"];\n      $(this.modalElement.nativeElement).css(\"top\", `${this.modalOriginalTop}px`);\n      $(this.modalElement.nativeElement).css(\"left\", `${this.modalOriginalLeft}px`);\n      this.isMaximize = false;\n      if(JavaUtils.parseBoolean(this.modal) &&  $(this.modalElement.nativeElement.querySelector('.modal-content'))[0].style.height === DialogComponent.UNMAXIMIZE_HEGHT){\n        this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"in\", \"unmaximize\"];\n        this.isUnMaximize =true;\n      }else{\n        this.isUnMaximize =false;\n      }\n      \n      this.cd.detectChanges();\n    } else {\n      $(this.body.nativeElement).css(\"min-height\", \"calc(100% - 25px)\");\n      $(this.modalElement.nativeElement).css(\"height\", \"auto\");\n      this.modalOriginalLeft = (this.modalElement.nativeElement as HTMLElement).getBoundingClientRect().left;\n      this.modalOriginalTop = (this.modalElement.nativeElement as HTMLElement).getBoundingClientRect().top;\n      $(this.modalElement.nativeElement).css(\"left\", `${this.modalOriginalLeft}px`);\n      $(this.modalElement.nativeElement).css(\"top\", `${this.modalOriginalTop}px`);\n      this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"in\", \"maximize\"];\n      this.isMaximize = true;\n      this.isUnMaximize =false;\n      this.cd.detectChanges();\n    }\n    \n    // istanbul ignore if */\n    if (this.tableId != null) {\n      const table: TableComponent = UiDocument.getElementById(this.tableId) as TableComponent;\n      if (table != null) {\n        table.tableResize();\n      }\n    }\n    this.getSession().getMcoContainer().showView(this.viewId);\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Show the view after it has been hidden via minimized\n   */\n  showView() {\n    if(this.disabled) return;\n    if (this.isMaximize) {\n      this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"in\", \"maximize\"];\n    } else {\n      this.bsModalClass = [\"vt-dialog\", \"modal\", \"fade\", \"in\"];\n    }\n\n    this.cd.detectChanges();\n    this.getSession().getMcoContainer().showView(this.viewId, this.screenIndex);\n  }\n\n  /**\n   * Event handler for mousedown event. Resets dialog view stack\n   */\n  handleMouseDown() {\n    //make this screen top most.\n    this.getSession().getMcoContainer().reStackView(this.viewId, this.screenIndex);\n  }\n  /**\n   * Stop propagation on disabled dialog\n   */\n  onClickDisableContent(event){\n    if(this.disabled) event.stopPropagation();\n  }\n  /**\n   * Stop propagation on modal dialog\n   */\n  onClickBackdrop(event){\n    if(this.modal == true || this.modal == 'true') event.stopPropagation();\n  }\n\n  private updateModalDialogStyle() {\n    if (this.renderer != null && this.elementRef != null) {\n      if (this.modal === true || this.modal === \"true\") {\n        this.renderer.addClass(this.elementRef.nativeElement, \"modal\");\n        this.renderer.setStyle(this.elementRef.nativeElement, \"display\", \"inline-block\");\n      } else {\n        this.renderer.removeClass(this.elementRef.nativeElement, \"modal\");\n        this.renderer.removeStyle(this.elementRef.nativeElement, \"display\");\n      }\n    }\n  }\n\n  private checkFocusOut(event: FocusEvent) {\n    if ((this.elementRef.nativeElement as HTMLElement).contains(event.relatedTarget as HTMLElement)) {\n      this.getSession()._windowLostFocus = false;\n    }\n\n    if (\n      this.getSession()._windowLostFocus !== true &&\n      this._tabbables &&\n      this._tabbables.length > 0 &&\n      this.wasClickOutside !== true &&\n      !((this.elementRef.nativeElement as HTMLElement).contains(event.relatedTarget as HTMLElement))\n      && this.disabled !== true\n    ) {\n\n      if (\n        event.relatedTarget == null ||\n        (\n          !(event.relatedTarget as HTMLElement).classList.contains(\"dropdown-item\") &&\n          !(event.relatedTarget as HTMLElement).classList.contains(\"menuItem\")\n        )\n      ) {\n        event.stopPropagation();\n        this._tabbables[0].focus();\n      }\n    }\n\n    this.getSession()._windowLostFocus = false;\n  }\n\n  private handleDocClickEvent(event: MouseEvent) {\n    this.wasClickOutside = false;\n\n    if (\n      !((this.elementRef.nativeElement as HTMLElement).contains(event.target as HTMLElement))\n    ) {\n      this.wasClickOutside = true;\n    }\n\n    let _leftDisabledErroElementId = [];\n    //if disabled element\n    if (this._canTrackFocusLostOnErrorDisabled === true) {\n      if (\n        this._disabledErrorElementId != null &&\n        this._disabledErrorElementId.length > 0\n      ) {\n\n        for (let elId of this._disabledErrorElementId) {\n          const disabledEl = UiDocument.getElementById(elId);\n          const inputElement = disabledEl.getElement().querySelector('input');\n          if (disabledEl != null) {\n            if(event.target != inputElement)\n              disabledEl.setBgColor(\"\");\n            else\n              _leftDisabledErroElementId.push(elId);\n          }\n        }\n      }\n      if(_leftDisabledErroElementId.length == 0){\n        this._disabledErrorElementId = null;\n        this._canTrackFocusLostOnErrorDisabled = false;\n      }\n      else{\n        this._disabledErrorElementId = _leftDisabledErroElementId;\n      }\n    }\n  }\n\n  checkKey(event){\n    if (this.disabled === true){\n      event.preventDefault();\n      event.stopPropagation();\n    }\n  }\n\n  trackFocusLostOnErrorDisabled() {\n    this._canTrackFocusLostOnErrorDisabled = true;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DialogComponent } from './dialog.component';\nimport { ModalModule } from 'ngx-bootstrap';\nimport { DraggableDirective } from './draggable.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ModalModule.forRoot()\n  ],\n  declarations: [\n    DialogComponent,\n    DraggableDirective\n  ],\n  exports: [\n    DialogComponent,\n    DraggableDirective,\n    ModalModule\n  ]\n})\nexport class DialogModule { }\n","import { Directive, Input, ElementRef, OnInit } from '@angular/core';\n\n@Directive({\n  selector: '[vtGridColumn]'\n})\nexport class GridColumnDirective implements OnInit {\n  // ColumnSpan of element\n  @Input() vtGridColumn: number;\n\n  constructor(private el: ElementRef) {\n  }\n\n  /**\n   * Init lifecycle. Set grid column css class\n   */\n  ngOnInit() {\n    let cssClass = this.vtGridColumn ? `col-sm-${this.vtGridColumn}` : 'col-sm';\n    this.el.nativeElement.classList.add(cssClass);\n  }\n\n}\n","import { Component, OnInit, ElementRef, Input, Renderer2, forwardRef, Optional, SkipSelf } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\n\n/**\n * Class for Horizontal line (HR) component\n */\n@Component({\n  selector: 'vt-horizontal-separator',\n  templateUrl: './horizontal-separator.component.html',\n  styleUrls: ['./horizontal-separator.component.css'],\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>HorizontalSeparatorComponent)\n    }\n  ]\n})\nexport class HorizontalSeparatorComponent extends BaseComponent implements OnInit {\n  @Input() borderColor: string;\n\n  /**\n   * \n   * @param parent see [[BaseComponent]]\n   * @param sessionService see [[BaseComponent]]\n   * @param elementRef see [[BaseComponent]]\n   * @param renderer see [[BaseComponent]]\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /**\n   * Init lifecycle method\n   */\n  ngOnInit() {\n  }\n\n  /**\n   * Get JSON representation for this component\n   */\n  toJson() {\n    const json: any = super.toJson();\n    this.setJson(json, \"borderColor\", this.borderColor);\n\n    return json;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HorizontalSeparatorComponent } from './horizontal-separator.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [HorizontalSeparatorComponent],\n  exports: [HorizontalSeparatorComponent]\n})\nexport class HorizontalSeparatorModule { }\n","export class Integer {\n  static toString(num: string) {\n    return num + '';\n  }\n}\n","import * as momentImported from 'moment';\n\nconst moment = momentImported;\n\n/**\n * Java DateFormat\n */\nexport class DateFormat {\n    static readonly SHORT: string = 'M/D/YY';\n    static readonly MEDIUM: string = 'MMM D, YYYY';\n    static readonly LONG: string = 'MMMM D, YYYY';\n\n    private calendar: momentImported.Moment;\n\n    static getDateInstance(pattern: string) {\n        return new DateFormat(pattern);\n    }\n\n    //if not lenient and date is invalid after being parsed, we throw error\n    private isLenient: boolean = true;\n\n    constructor(public formatPattern: string = null) {\n    }\n\n    static javaToMomentDateFormat(fm: string): string {\n        const s = fm.replace(/y/g, 'Y');\n        return s.replace(/d/g, 'D');\n        //the above is needed b/c ng-packagr is being a b***\n        //it doesn't like return fm.replace(/y/g, 'Y').replace(/d/g, 'D');\n    }\n\n    static now(): momentImported.Moment {\n      return moment();\n    }\n\n    format(date: Date | momentImported.Moment): string {\n        if (date === null) return null;\n        if (date === undefined) return undefined;\n        return this.formatPattern == null ? moment(date).format(): moment(date).format(this.formatPattern);\n    }\n\n    parse(dateString: string): momentImported.Moment {\n        let momentDate: momentImported.Moment = this.formatPattern ? moment(dateString, this.formatPattern) : moment(dateString);\n\n        if (this.isLenient === false && momentDate.isValid() === false) {\n            throw new Error(`Unable to parse date string: ${dateString}, using format: ${this.formatPattern}`);\n        }\n\n        this.calendar = momentDate;\n\n        return momentDate;\n    }\n\n    setLenient(lenient: boolean) {\n        this.isLenient = lenient;\n    }\n\n    setCalendar(date: Date | momentImported.Moment) {\n      this.calendar = moment(date);\n    }\n\n    getCalendar(): momentImported.Moment {\n      return this.calendar;\n    }\n}\n","import { Component, OnInit, Input, ElementRef, ChangeDetectionStrategy, SkipSelf, Optional, ChangeDetectorRef, EventEmitter, Output, Renderer2 } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { AlignHorizontal } from '../base/style-literals';\n\n/**\n * Class for label component. Renders text\n */\n@Component({\n  selector: 'vt-label,vt-cell',\n  templateUrl: './label.component.html',\n  styleUrls: ['./label.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: LabelComponent\n    }\n  ]\n})\nexport class LabelComponent extends BaseComponent implements OnInit {\n  @Input() alignHorizontal: AlignHorizontal;\n  @Input() set tooltip(tooltip: string) {\n    if (tooltip == null || tooltip === \"undefined\") {\n      this._tooltip = \"\";\n    } else {\n      this._tooltip = tooltip;\n    }\n  }\n\n  /**\n   * Accessor method for internal [[_tootip]] property\n   */\n  get tooltip() {\n    return this._tooltip;\n  }\n\n  private _tooltip: string = '';\n\n  @Output() onCommand = new EventEmitter();\n\n  /**\n   *\n   * @param parent See [[BaseComponent]]\n   * @param sessionService see [[BaseComponent]]\n   * @param elementRef see [[BaseComponent]]\n   * @param cd Change detector ref\n   * @param renderer see [[BaseComponent]]\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2) {\n\t\tsuper(parent, sessionService, elementRef, renderer);\n\t}\n\n  /**\n   * Init lifecycle method. Runs when component is created\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    if(this.controlWidth) {\n      this.controlWidth = this.controlWidth + 'px';\n    }\n\n    if(this.marginRight) {\n      this.marginRight = this.marginRight + 'px';\n    }\n\n    if(this.marginLeft) {\n      this.marginLeft = this.marginLeft + 'px';\n    }\n  }\n\n  /**\n   * After view init lifecycle method. Runs after component view is created\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    if (this.controlHeight != null && this.controlHeight !== \"\") {\n      this.styles[\"height\"] = this.controlHeight + \"px\";\n    }\n\n    this.setAttributeFromDef();\n\n    //fix expression has changed blah blah blah\n    this.cd.detectChanges();\n  }\n\n  /**\n   * Get JSON representation of component\n   */\n  toJson(): {} {\n    const json: any = super.toJson();\n    this.setJson(json, \"alignHorizontal\", this.alignHorizontal);\n\n    return json;\n  }\n\n  /**\n   * Set value of [[tooltip]] property\n   * @param tooltip\n   */\n  setTooltip(tooltip: string) {\n    this.tooltip = tooltip;\n    this.cd.markForCheck();\n  }\n\n  /**\n   * Event handler for mousedown event. Call parent class [[handleMouseDown]]\n   * @param e Mouse click event\n   */\n  onMouseDown(e: MouseEvent) {\n    this.handleMouseDown(e)\n  }\n\n  /**\n   * Event handler for click event.\n   * @event OnCommand\n   */\n  handleOnClick() {\n    if (this.emitInternalOnCommand() === false) {\n      this.onCommand.emit();\n    }\n  }\n\n  /**\n   * Get value of [[cd]] (ChangeDetectorRef) property\n   * @returns The component's change detector\n   */\n  protected getChangeDetector() {\n    return this.cd;\n  }\n\n  /**\n   * Get NexaWeb tag name\n   * @returns Name of tag\n   */\n  protected getNxTagName() {\n    return \"label\";\n  }\n\n  /**\n   * Check if the text is all space characters\n   * @returns If text is just space characters TRUE, otherwise FALSE\n   */\n  get spaceText() {\n    return this.text && this.text.length > 0 && this.text.trim().length === 0;\n  }\n\n  /**\n   * Set [[visible]] property value\n   * @override\n   * @param value Toggle visibility\n   */\n  setVisible(value: boolean) {\n    this.visible = value;\n    if (this.visible) {\n      this.removeCssClass('hidden');\n      this.getElement().removeAttribute('hidden');\n    } else {\n      this.addCssClass('hidden');\n      this.getElement().setAttribute('hidden', '');\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LabelComponent } from './label.component';\nimport { BaseModule } from '../base/base.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n\t\tBaseModule\n  ],\n  declarations: [LabelComponent],\n  exports: [LabelComponent],\n  entryComponents: [\n    LabelComponent\n  ]\n})\nexport class LabelModule { }\n","import { Component, OnInit, Input, Optional, SkipSelf, ElementRef, ChangeDetectionStrategy, forwardRef, ViewContainerRef, ContentChildren, QueryList, ChangeDetectorRef, Renderer2 } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { BorderPosition, Layout } from '../base/style-literals';\nimport { AttributesEnum } from '../base/attributes.enum';\nimport * as _ from \"lodash\";\n\n@Component({\n  selector: 'vt-panel',\n  templateUrl: './panel.component.html',\n  styleUrls: ['./panel.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>PanelComponent)\n    }\n  ]\n})\nexport class PanelComponent extends BaseComponent implements OnInit {\n  @Input() layout: Layout;\n  @Input() caption: String;\n  @Input() evenlySpace: boolean; //TODO not sure what this is for\n  /**\n   * For escaping unneeded row & fluid container. This is a trikcy option.\n   * Almost case, fluid container is not needed. it's too late...\n   * @property {boolean}\n   */\n  @Input() noGutter: boolean = false;\n    /**\n   * For escaping fluid container. This is a trikcy option.\n   * should be validated by `(layout !== 'grid')` . it's too late...\n   * @property {boolean}\n   */\n  @Input() noGrid: boolean = false;\n  //children list to keep indexes\n  @ContentChildren(BaseComponent) set childrenList(children: QueryList<BaseComponent>) {\n    this.resetChildIndexes(children.filter(child=>child !== this));\n  }\n\n  panelClasses: Array<string> = ['vt-panel'];\n  panelStyles: {[name: string]: string} = {};\n\n  // ç»é¢ãªãµã¤ãºå¯¾å¿ Start\n  @Input() resizeComponent: boolean = false;\n  @Input() resizeMarginTop: string = null;\n  resizeHeight: string = null;\n  divHeight: string = null;\n  // ç»é¢ãªãµã¤ãºå¯¾å¿ End\n\n  // ç»é¢ã®ã¬ã¤ã¢ã¦ãåºå®åå¯¾å¿ Start\n  @Input() contentDisplayWidth: string = null;\n  // ç»é¢ã®ã¬ã¤ã¢ã¦ãåºå®åå¯¾å¿ End\n\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /**\n   * Init lifecycle. Set dimensions and css styles\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (this.cssClass != null) {\n      this.cssClass.split(' ').forEach(css=>this.panelClasses.push(css));\n    }\n\n    if (this.containerLayout === true && !this.noGrid && !this.noGutter) {\n      this.panelClasses.push('container-fluid');\n    }\n\n    /*if (!this.borderColor) {\n      this.borderColor = 'transparent';\n    }*/\n\n    if (this.borderWidth) {\n      this.borderWidth = this.borderWidth + 'px';\n      this.borderStyle = 'solid';\n\n       if(this.borderColor == null){\n         this.borderColor = '#ffffff';\n       }\n    }\n    if (this.controlHeight == null) {\n      this.controlHeight = '100%';\n    }\n\n    this.setVisible(this.visible);\n\n    // ç»é¢ãªãµã¤ãºå¯¾å¿ Start\n    if (this.resizeComponent) {\n      this.resizeHeight = \"calc(100% - \" + this.resizeMarginTop + \"px)\";\n      this.divHeight = \"100%\";\n    }\n\n    if (this.marginLeft) {\n      this.marginLeft = this.marginLeft + 'px';\n    }\n  }\n\n  /**\n   * After view init lifecycle. Set dimensions and trigger change detection\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    this.initWidthHeightStyle();\n\n    this.cd.detectChanges();\n  }\n\n  /**\n   *\n   * @param childrenList Update list of children ids\n   */\n  private resetChildIndexes(childrenList: Array<BaseComponent>) {\n    if (childrenList != null && childrenList.length > 0) {\n      if (this._childrenIndex !== null) {\n        this._childrenIndex = _.uniq(_.concat(childrenList.map(child=>child.getId()), this._childrenIndex));\n      }\n    }\n  }\n\n  /**\n   * Set dimensions of panel based on [[controlHeight]] and [[controlWidth]] properties\n   * @param heightStyleName\n   * @param widthStyleName\n   */\n  protected initWidthHeightStyle(heightStyleName: string = 'height', widthStyleName: string = 'max-width') {\n    if (this.controlHeight != null && this.controlHeight != \"\" && parseInt(this.controlHeight) > 0) {\n      this.panelStyles[\"height\"] = parseInt(this.controlHeight) + \"px\";\n    }\n\n    if (this.controlWidth != null && this.controlWidth != \"\" && parseInt(this.controlWidth) > 0) {\n      this.panelStyles[widthStyleName] = parseInt(this.controlWidth) + \"px\";\n    }\n  }\n\n  /**\n   * Set [[disabled]] property value\n   * @param boo Toggle disabled\n   */\n  setDisabled(boo: boolean){\n    this.disabled = boo;\n    this.getChildren().toArray().forEach(item => {\n      item.setAttribute(AttributesEnum.DISABLED, boo);\n    })\n  }\n\n  /**\n   * Set [[visible]] property value\n   * @param boo Toggle visibility\n   */\n  setVisible(boo: boolean) {\n    this.visible = boo;\n    if (this.visible) {\n      this.removeCssClass('hidden');\n      this.getElement().removeAttribute('hidden');\n    } else {\n      this.addCssClass('hidden');\n      this.getElement().setAttribute('hidden', '');\n    }\n  }\n\n  /**\n   * Check if [[caption]] property exists and is set\n   * @returns True if caption exists and has content, otherwise false\n   */\n  get hasCaption(): boolean {\n    return this.caption != null && this.caption.length > 0;\n  }\n\n  /**\n   * Check if [[layout]] property exists\n   * @returns True if layout exists, otherwise false\n   */\n  get containerLayout(): boolean {\n    return this.layout != null;\n  }\n\n  /**\n   * Get the [[cd]] (ChangeDetectorRef) property\n   * @returns Change detector for this panel\n   */\n  protected getChangeDetector(): ChangeDetectorRef {\n    return this.cd;\n  }\n\n  /**\n   * Check whether or not this component is a container\n   * @returns True since panels are always containers\n   */\n  protected isContainer() {\n    return true;\n  }\n\n  protected getNxTagName(): string {\n    return \"panel\";\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PanelComponent } from './panel.component';\nimport { GridColumnDirective } from './grid-column.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    GridColumnDirective,\n    PanelComponent\n  ],\n  exports: [\n    GridColumnDirective,\n    PanelComponent\n  ]\n})\nexport class LayoutModule { }\n","import { Component, OnInit, Input, Output, EventEmitter, ElementRef, SkipSelf, Optional, ChangeDetectionStrategy, ChangeDetectorRef, Renderer2, forwardRef } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\n\n/**\n * Class for a link component\n */\n@Component({\n  selector: 'vt-link',\n  templateUrl: './link.component.html',\n  styleUrls: ['./link.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>LinkComponent)\n    }\n  ]\n})\nexport class LinkComponent extends BaseComponent implements OnInit {\n  @Input() idName: string;\n  @Output() onCommand = new EventEmitter();\n\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param cd Change detector reference for this component\n   * @param renderer see [[BaseComponent]] constructor\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /* ã«ã¬ã³ãã¼ãã¿ã³æ´»æ§/éæ´»æ§ã®è²æå® */\n  _disabled:boolean;\n  get disabled(){return this._disabled; }\n  @Input('disabled')\n  set disabled(value){\n    this.opacity = value ? '0.3':'1.0';\n    this._disabled = value;\n  }\n  @Input('innerhtml') innerhtml: string;\n\n  /**\n   * Init lifecycle. Calls parent init method\n   */\n  ngOnInit() {\n    super.ngOnInit();\n  }\n\n  /**\n   * Event handler for click event. Does not emit event if the panel is disabled\n   * @event OnCommand\n   */\n  onClick() {\n    if (!this.disabled)\n      this.onCommand.emit();\n  }\n\n  /**\n   * Event handler for keydown event. Execute click handler if it's the enter key\n   * @param e Keyboard Event\n   */\n  onKeyUp(e: KeyboardEvent) {\n    // if ENTER key\n    if (e.keyCode === 13) {\n      this.onClick();\n    }\n  }\n\n  /**\n   * Get the JSON representation for panel\n   */\n  toJson(): {} {\n    const json: any = super.toJson();\n\n    if (json[\"customAttributes\"] == null) {\n      json[\"customAttributes\"] = {};\n    }\n\n    this.setJson(json[\"customAttributes\"], \"idName\", this.idName);\n\n    return json;\n  }\n\n  /**\n   * Get the [[cd]] (ChangeDetector) property\n   * @returns Value of [[cd]] property\n   */\n  protected getChangeDetector(): ChangeDetectorRef {\n    return this.cd;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LinkComponent } from './link.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [LinkComponent],\n  exports: [LinkComponent]\n})\nexport class LinkModule { }\n","export class Long {\n  static toString(num: number): string {\n    return num + '';\n  }\n}\n","import * as momentImported from 'moment-timezone';\n\n// Need to do this to prevent packagr namespace error\n// https://github.com/ng-packagr/ng-packagr/issues/217\nconst moment = momentImported;\n\n/**\n * Simple util to parse moment into proper zone (if needed)\n */\n// @dynamic -- this line comment is necessary to prevent packagr error\nexport class MomentUtils {\n  static timeZone: string;\n\n  static moment(dateString: string, format?: string): momentImported.Moment {\n    if (format != null && format != '') {\n      if (MomentUtils.timeZone != null && MomentUtils.timeZone != '') {\n        return moment.tz(dateString, format, MomentUtils.timeZone);\n      }\n\n      return moment(dateString, format);\n    } else {\n      if (MomentUtils.timeZone != null && MomentUtils.timeZone != '') {\n        return moment.tz(dateString, MomentUtils.timeZone);\n      }\n\n      return moment(dateString);\n    }\n  }\n}\n","import { Component, Input, ViewChild, ChangeDetectorRef, AfterViewInit, ChangeDetectionStrategy } from \"@angular/core\";\nimport { DynamicElement } from \"./dynamic-element\";\nimport { BaseComponent } from \"../base/base.component\";\nimport { AppUtils } from \"../base/app-utils\";\nimport { AttributesEnum } from \"../base/attributes.enum\";\nimport * as _ from \"lodash\";\n\n/**\n * DynamicComponent class. Renders components at runtime by definition\n */\n@Component({\n    selector: \"vt-dynamic-component\",\n    templateUrl: \"./dynamic.component.html\",\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DynamicComponent implements AfterViewInit {\n    /**\n     * Definition of component to render\n     */\n    @Input() elementDef: DynamicElement;\n    @ViewChild(\"myComponent\", { read: BaseComponent }) myComponent: BaseComponent;\n\n    constructor(private cd: ChangeDetectorRef) {\n\n    }\n\n    /**\n     * After init lifecycle.\n     */\n    ngAfterViewInit() {\n        this.cleanClass();\n\n        this.cd.detectChanges();\n    }\n\n    /**\n     * Check if element is visible\n     * @returns Value of [[DynamicElement]] visible property.\n     */\n    isVisible() {\n        return this.elementDef.visible !== false;\n    }\n\n    /**\n     * Get component ID if it exists, otherwise generate a unique id\n     * @returns Component's id value\n     */\n    getId() {\n        return this.elementDef.id == null ? BaseComponent.generateUniqueId() : this.elementDef.id;\n    }\n\n    /**\n     * Event handler for OnCommand event. Call runtime component's onCommand handler\n     */\n    handleOnCommand() {\n        if (typeof this.elementDef.onCommand === \"function\") {\n            this.elementDef.onCommand(this.myComponent);\n        }\n    }\n\n    /**\n     * Event handler for OnContextMenu (i.e. right click, ctrl click) event. Call runtime component's onContextMenu Handler\n     */\n    handleOnContextMenu() {\n        if (typeof this.elementDef.onContextMenu === \"function\") {\n            this.elementDef.onContextMenu(this.myComponent);\n        }\n    }\n\n    /**\n     * Set runtime component's 'enabled' property value based on cssClass and call parent class cleanCss method\n     */\n    cleanClass() {\n        if (this.elementDef.cssClass != null && this.elementDef.cssClass !== \"\") {\n            if (typeof AppUtils.attributeOverrideClass === \"function\") {\n                const attrs = AppUtils.attributeOverrideClass(this.elementDef.cssClass);\n                \n                if (attrs != null) {\n                    _.forEach(attrs, (val)=>{\n                        if (val != null && val.attributeName === AttributesEnum.ENABLED) {\n                            this.elementDef.enabled = val.value;\n                        }\n                    });\n                }\n            }\n\n            this.elementDef.cssClass = BaseComponent.cleanCss(this.elementDef.cssClass);\n        }\n    }\n}","import { Component, Input, OnInit, Output, ElementRef, EventEmitter, ChangeDetectorRef, AfterViewInit , ChangeDetectionStrategy, SkipSelf, Optional, ViewChild, forwardRef, Renderer2} from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { AttributesEnum } from '../base/attributes.enum'\n\ndeclare var $ : any;\n\n/**\n * Class for text field component\n */\n@Component({\n  selector: 'vt-text-field',\n  templateUrl: './text-field.component.html',\n  styleUrls: ['./text-field.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>TextFieldComponent)\n    }\n  ]\n})\nexport class TextFieldComponent extends BaseComponent implements OnInit, AfterViewInit {\n  static readonly MAX_LENGTH: number = 9999; //should be 523...but 9999 should be good enough\n\n  /**\n   * Input element's value\n   */\n  @Input() value: string;\n\n  /**\n   * Whether or not text field is editable\n   */\n  @Input() editable: boolean | string = true;\n\n  /**\n   * Max input allowed for characters\n   */\n  @Input() set maxLength(max: number) {\n    this._maxLength = max;\n  }\n\n  /**\n   * HTML input element type attribute. Defaults to 'text'\n   */\n  @Input() type: string = 'text';\n\n  @Output() onTextChange = new EventEmitter();\n  @Output() onEdit = new EventEmitter();\n  @Output() onMouseUp = new EventEmitter();\n\n  get maxLength(): number {\n    return this._maxLength > 0 ? this._maxLength : TextFieldComponent.MAX_LENGTH;\n  }\n\n  private _maxLength: number = TextFieldComponent.MAX_LENGTH;\n  private _textBeforeFocusIn:string;//for onEdit()\n  private _textPreviousKeyInput:string;//for onTextChange()\n  @ViewChild('input') input: ElementRef;\n\n  styleVar: {[key: string]: string} = {};\n\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param cd Change detector for this component\n   * @param renderer see [[BaseComponent]] constructor\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n\n  }\n\n  /**\n   * Init lifecycle. Set dimensions and style properties\n   */\n  ngOnInit() {\n    super.ngOnInit();\n    if (this.disabled && this.fontColorDisabled) {\n      this.styleVar[\"color\"] = this.fontColorDisabled;\n    } else {\n      this.styleVar[\"color\"] = this.fontColor || 'inherit';\n    }\n    // this.styleVar[\"margin-left\"] = \"1px\";\n    this.styleVar[\"margin-right\"] = \"5px\";\n\n    // this.styles[\"margin-left\"] = \"1px\";\n    this.styles[\"margin-right\"] = \"5px\";\n\n    if(this.controlWidth){\n      this.controlWidth = this.controlWidth + 'px';\n    }\n\n    if(this.controlHeight){\n      this.controlHeight = this.controlHeight + 'px';\n    }\n\n    if(this.marginLeft){\n      this.marginLeft = this.marginLeft + 'px';\n    }\n\n    if(this.marginTop){\n      this.marginTop = this.marginTop + 'px';\n    }\n\n  }\n\n  /**\n   * After view init lifecycle. Set dimensions, focus text field\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    this.initWidthHeightStyle();\n\n    this.setAttributeFromDef();\n    this.cd.detectChanges();\n\n    if (this.focusOnActivation) {\n      this.input.nativeElement.focus();\n    }\n\n    if (this.type === 'date') {\n      // Remove native datepicker controls applied by Chrome\n      this.renderer.setProperty(this.input.nativeElement, 'type', 'text');\n    }\n  }\n\n  /**\n   * Event handler for blur (unfocus) event\n   * @param e Input blur event\n   */\n  onBlur(e, value) {\n    if(!document.hasFocus() && $(\":focus\").length > 0) {\n      return;\n    }\n\n    this.text = value;//when the last char is Zenkaku and the user doesn't press 'Enter', this is needed.\n    if(this.text != this._textBeforeFocusIn)\n      this.onEdit.emit();\n    // Checks for numeric date entry without slashes: e.g 20190104\n\n    // If the user enters numbers without slashes auto format as date\n    if (this.type==='date' && /^\\d{8}$/m.test(this.text)) {\n      let formattedDateString = [this.text.substr(0,4), this.text.substr(4,2), this.text.substr(6,2)].join('/');\n      this.text = formattedDateString;\n    }\n\n    this.validateField(e);\n  }\n\n  /**\n   * Event handler for focus event\n   * @param e Input focus event\n   */\n  onFocus(e) {\n    this.input.nativeElement.selectionStart = this.text.length;\n    this.input.nativeElement.selectionEnd = this.text.length;\n\n    if(!this.customAttributes)\n      return;\n    let formatName:string= this.customAttributes['format'];\n    if (formatName && formatName.indexOf(\"add_comma\") >= 0) {\n      let txtMount = this.text.replace(/,/g,\"\")\n      this.text = txtMount;\n    }\n    this._textBeforeFocusIn = this.text;\n    this._textPreviousKeyInput = this.text;\n  }\n\n  /**\n   * Event handler for text input\n   * Emit onTextChange b/c user keep typing (input still has focus)\n   * @param event\n   * @param value\n   * @event onTextChange\n   */\n  onInput(event: KeyboardEvent, value: string) {\n    if(event.keyCode == 8 || event.keyCode == 46)//Backspace || Delete\n    {\n      let pos = this.input.nativeElement.selectionStart;\n      this.text = value;\n      setTimeout(() => {\n        this.input.nativeElement.selectionStart = pos;\n        this.input.nativeElement.selectionEnd = pos;\n      });\n    }\n    if(this._textPreviousKeyInput != this.text)\n      this.onTextChange.emit();\n    this._textPreviousKeyInput = this.text;\n  }\n\n  /**\n   * Focus the input element\n   */\n  /* istanbul ignore next */\n  setFocus(){\n    this.input.nativeElement.focus();\n  }\n\n  /**\n   * Set background color CSS for the text input\n   * @param bgColor CSS color string value for background\n   */\n  setBgColor(bgColor: string)\n  {\n    this.input.nativeElement.style.backgroundColor = bgColor;\n  }\n\n  /**\n   * Get [[_maxLength]] property value\n   */\n  getMaxLength() {\n    return this._maxLength;\n  }\n\n  /**\n   * Set [[_maxLength]] property value\n   * @param max Maximum length of character input\n   */\n  setMaxLength(max: number | string) {\n    if (typeof max === \"number\") {\n      this._maxLength = max;\n    } else {\n      this._maxLength = parseInt(max);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  /**\n   * Get JSON representation for this text-field\n   */\n  toJson(): {} {\n    const json: any = super.toJson();\n    this.setJson(json, \"editable\", this.editable);\n\n    if (this.value != null) {\n      this.setJson(json, \"value\", this.value);\n    }\n\n    return json;\n  }\n\n  /**\n   * Get component name\n   */\n  getLocalName(): string {\n    return \"textField\";\n  }\n\n  /**\n   * Get the text content value of the input element\n   */\n  getValue(): string {\n    return this.getText();\n  }\n\n  /**\n   * Event handler for mouseup\n   * @event OnMouseUp\n   */\n  handleMouseUp() {\n    this.onMouseUp.emit();\n  }\n\n  /**\n   * @returns String Tag name\n   */\n  /* istanbul ignore next */\n  protected getNxTagName() {\n    return \"textField\";\n  }\n\n  /**\n   * Get the [[cd]] (ChangeDetector) property\n   * @returns Change detector\n   */\n  protected getChangeDetector(): ChangeDetectorRef {\n    return this.cd;\n  }\n\n  //angular doesn't like accessing private/public method\n  _notifyInternalChangeCb() {\n    super._notifyInternalChangeCb();\n  }\n\n  /**\n   * Select all text\n   */\n  selectText(){\n    this.input.nativeElement.select();\n  }\n  /**\n   * Set [[visible]] property value\n   * @override\n   * @param value Toggle visibility\n   */\n  setVisible(value: boolean) {\n    this.visible = value;\n    if (this.visible) {\n      this.removeCssClass('hidden');\n      this.getElement().removeAttribute('hidden');\n    } else {\n      this.addCssClass('hidden');\n      this.getElement().setAttribute('hidden', '');\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TextFieldComponent } from './text-field.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [TextFieldComponent],\n  exports: [\n    TextFieldComponent,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  entryComponents: [\n    TextFieldComponent\n  ]\n})\nexport class TextFieldModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { DynamicComponent } from './dynamic.component';\nimport { ButtonModule } from '../button/button.module';\nimport { TextFieldModule } from '../text-field/text-field.module';\nimport { LayoutModule } from '../layout/layout.module';\nimport { LabelModule } from '../label/label.module';\nimport { HorizontalSeparatorModule } from '../horizontal-separator/horizontal-separator.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ButtonModule,\n    LabelModule,\n    TextFieldModule,\n    LayoutModule,\n    HorizontalSeparatorModule\n  ],\n  declarations: [\n    DynamicComponent\n  ],\n  exports: [\n    DynamicComponent,\n    ButtonModule,\n    LabelModule,\n    TextFieldModule,\n    LayoutModule,\n    HorizontalSeparatorModule\n  ]\n})\nexport class DynamicModule { }\n","import { DynamicElement } from \"./dynamic-element\";\n\nexport class DynamicElementBuilder {\n    private dynamicElement: DynamicElement;\n    private dropShadowColor: string;\n    private dropShadowOffset: string;\n\n    static createLabelElement(whiteSpaceWrap: boolean = false, padding: string = null) {\n        const el = new DynamicElementBuilder();\n        el.dynamicElement = {\n            type: \"label\"\n        };\n\n        el.initStyle();\n\n        if (whiteSpaceWrap === true) {\n            el.dynamicElement.styles[\"white-space\"] = \"nowrap\";\n        }\n\n        if (padding != null && padding !== '') {\n            el.dynamicElement.styles[\"padding\"] = padding;\n        }\n\n        return el;\n    }\n\n    toDynamicElement() {\n        return this.dynamicElement;\n    }\n\n    setId(id: string) {\n        this.dynamicElement.id = id;\n    }\n\n    setText(text: string) {\n        this.dynamicElement.text = text;\n    }\n\n    setText2(text: string) {\n        //not sure what this is, for now, custom attribute\n        this.setAttribute(\"text2\", text);\n    }\n\n    setValue(value: string) {\n        this.dynamicElement.value = value;\n    }\n\n    setTooltip(tooltip: string) {\n        this.dynamicElement.tooltip = tooltip;\n    }\n\n    setVisible(visible: boolean) {\n        this.dynamicElement.visible = visible;\n    }\n\n    setEnabled(enabled: boolean) {\n        this.dynamicElement.enabled = enabled;\n    }\n\n    setPopup(popupMenuId: string) {\n        this.dynamicElement.popupMenuId = popupMenuId;\n    }\n\n    setBgColor(bgColor: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"background-color\"] = this.checkCustomColor(bgColor);\n    }\n\n    addCssClass(cssClass: string) {\n        this.initStyle();\n        if (this.dynamicElement.cssClass == undefined){\n            this.dynamicElement.cssClass = cssClass;\n        } else {\n            this.dynamicElement.cssClass = this.dynamicElement.cssClass + \" \" + cssClass;\n        }\n    }\n\n    setBorderColor(borderColor: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"border-color\"] = this.checkCustomColor(borderColor);\n        this.initBorderStyle();\n    }\n\n    setBorderWidth(borderWidth: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"border-width\"] = this.convertStyleUnit(borderWidth);\n        this.initBorderStyle();\n    }\n\n    setBorderStyle(borderStyle: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"border-style\"] = borderStyle;\n    }\n\n    setHeight(height: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"height\"] = height + \"px\";\n    }\n\n    setWidth(width: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"width\"] = width + \"px\";\n    }\n\n    setX(x: string | number) {\n        this.initStyle();\n        this.dynamicElement.styles[\"position\"] = \"absolute\";\n        this.dynamicElement.styles[\"left\"] = x + \"px\";\n    }\n\n    setY(y: string | number) {\n        this.initStyle();\n        this.dynamicElement.styles[\"position\"] = \"absolute\";\n        this.dynamicElement.styles[\"top\"] = y + \"px\";\n    }\n\n    setZ(z: string | string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"z-index\"] = z ;\n    }\n\n\n    setFontBold(boo: string | boolean) {\n        this.initStyle();\n\n        if (boo === \"true\" || boo === true) {\n            this.dynamicElement.styles[\"font-weight\"] = \"bold\";\n        } else {\n            this.dynamicElement.styles[\"font-weight\"] = \"normal\";\n        }\n    }\n\n    setFontSize(size: string | number) {\n        this.initStyle();\n        this.dynamicElement.styles[\"font-size\"] = size + \"px\";\n    }\n\n    setFontColor(color: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"color\"] = this.checkCustomColor(color);\n    }\n\n    setMargin(margin: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"margin\"] = this.convertStyleUnit(margin);\n    }\n\n    setAlignVertical(align: string) {\n        this.initStyle();\n\n        if (align === \"center\") {\n            align = \"middle\";\n        }\n\n        this.dynamicElement.styles[\"vertical-align\"] = align;\n    }\n\n    setAlignHorizontal(align: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"text-align\"] = align;\n    }\n\n    setBorderCorner(borderCorner: string) {\n        this.initStyle();\n        this.dynamicElement.styles[\"border-radius\"] = this.convertStyleUnit(borderCorner);\n    }\n\n    setDropShadowColor(dropShadowColor: string) {\n        this.dropShadowColor = this.checkCustomColor(dropShadowColor);\n        this.setBoxShadow();\n    }\n\n    setDropShadowOffset(dropShadowOffset: string) {\n        this.dropShadowOffset = dropShadowOffset;\n        this.setBoxShadow();\n    }\n\n    setOnContextMenu(fn: (thisArg?: any)=>void) {\n        this.dynamicElement.onContextMenu = fn;\n    }\n\n    setOnCommand(fn: (thisArg?: any)=>void) {\n        this.dynamicElement.onCommand = fn;\n    }\n\n    setAttribute(name: string, value) {\n        if (this.dynamicElement.customAttributes == null) {\n            this.dynamicElement.customAttributes = {};\n        }\n\n        this.dynamicElement.customAttributes[name] = value;\n    }\n\n    setRichText(str: string | boolean) {\n        this.dynamicElement.richText = str === true || str === \"true\";\n    }\n\n    appendChild(child: DynamicElementBuilder) {\n        if (this.dynamicElement.children == null) {\n            this.dynamicElement.children = [child.dynamicElement];\n        } else {\n            this.dynamicElement.children.push(child.dynamicElement);\n        }\n    }\n\n    private initStyle() {\n        if (this.dynamicElement.styles == null) {\n            this.dynamicElement.styles = {};\n        }\n    }\n\n    private initBorderStyle() {\n        if (this.dynamicElement.styles[\"border-style\"] == null || this.dynamicElement.styles[\"border-style\"] == \"\") {\n            this.dynamicElement.styles[\"border-style\"] = \"solid\";\n        }\n    }\n\n    private convertStyleUnit(unit: string) {\n        if (unit != null && unit.indexOf(\",\") > 0) {\n            unit = unit.split(\",\").map(m=>m + \"px\").join(\" \");\n        } else if (unit != null && unit !== \"\") {\n            unit = unit + \"px\";\n        }\n\n        return unit;\n    }\n\n    private setBoxShadow() {\n        if (this.dropShadowColor != null && this.dropShadowOffset != null) {\n            this.initStyle();\n            this.dynamicElement.styles[\"box-shadow\"] = `${this.dropShadowOffset}px ${this.dropShadowOffset}px ${this.dropShadowOffset}px ${this.dropShadowColor}`;\n        }\n    }\n\n    private checkCustomColor(color: string) {\n        if (color != null && color.indexOf(\"#\") === 0 && color.length > 7) {\n            color = \"var(\" + color.replace(\"#\", \"--\") + \")\";\n        }\n\n        return color;\n    }\n}\n","import { Component, Input, OnInit, Output, ElementRef, EventEmitter, ChangeDetectionStrategy, SkipSelf, Optional, ChangeDetectorRef, Renderer2, forwardRef } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { element } from 'protractor';\nimport { UiDocument } from '../base/ui-document';\n\n/**\n * Class for radio button input control\n */\n@Component({\n  selector: 'vt-radio-button',\n  templateUrl: './radio-button.component.html',\n  styleUrls: ['./radio-button.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>RadioButtonComponent)\n    }\n  ]\n})\nexport class RadioButtonComponent extends BaseComponent implements OnInit {\n  @Input() group: string;\n  @Input() idName: string;\n  @Input() value: any;\n  @Input() set isChecked(boo: boolean) {\n    this.checked = boo;\n  }\n\n  @Input() checked: boolean = false;\n\n  private _internalChangeTracking: boolean;\n\n  @Output() onCommand = new EventEmitter();\n\n  /**\n   * \n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param cd Change detector for this panel\n   * @param renderer see [[BaseComponent]] constructor\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /**\n   * Init lifecycle. Call parent init method.\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    if (this.idName != null) {\n      this.setCustomAttribute('idName', this.idName);\n    }\n  }\n\n  /**\n   * After view init lifecycle. Set the radiobutton group and attributes.\n   * Calls parent ngAfterViewInti method\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    if (this.getParent() != null) {\n      this.getParent().addRadioButtonGroup(this);\n    }\n\n    this.setAttributeFromDef();\n    this.cd.detectChanges();\n    this._internalChangeTracking = this.checked;\n  }\n\n  /**\n   * Event handler for change event\n   * @event OnCommand\n   */\n  onChange() {\n    this.onCommand.emit();\n  }\n\n  /**\n   * Event handler for click event. Updates radio button state\n   * @param event Mouse click event\n   */\n  onClick(event: MouseEvent) {\n    event.stopPropagation();\n    \n    let fireOnChange = false;\n\n    //save current value before reset\n    const tempCheck = this.checked;\n\n    this.resetGroupRadios();\n\n    //reset current value back for onChange\n    this._internalChangeTracking = tempCheck;\n\n    //register click for mco\n    this.checked = true;\n    this.handleClick(event);\n\n    if (this._internalChangeTracking !== this.checked) {\n      this.onChange();\n      this._internalChangeTracking = this.checked;\n    }\n  }\n\n  /**\n   * Event handler for mousedown event\n   * @param e MouseDown event\n   */\n  onMouseDown(e: MouseEvent) {\n    this.handleMouseDown(e);\n  }\n\n  /**\n   * Get the component name\n   */\n  getLocalName(): string {\n    return \"radioButton\";\n  }\n\n  /**\n   * Get the [[value]] property\n   */\n  getValue(): any {\n    return this.value;\n  }\n\n  /**\n   * Get the [[checked]] property\n   */\n  getChecked(): boolean {\n    return this.checked;\n  }\n\n  /**\n   * Sets the value for [[checked]] property and updated [[_internalChangeTracking]] value\n   * @param shouldChecked Toggle checked\n   */\n  setChecked(shouldChecked: boolean | string, skipInternalChange: boolean = false) {\n    if (shouldChecked === true) {\n      this.resetGroupRadios();\n    }\n\n    this.checked = shouldChecked === true || shouldChecked === 'true';\n    this._internalChangeTracking = this.checked;\n    this.markForCheck();\n\n    //notify internal changes (for internal use only)\n    if (skipInternalChange !== true) {\n      this._notifyInternalChangeCb();\n    }\n  }\n\n  /**\n   * Check the radio button of the parent group that matches [[value]]\n   * @param value \n   */\n  setSelected(value: any) {\n    if (value === true || value === \"true\") {\n      this.setChecked(true);\n    } else if (value == this.value) {\n      this.setChecked(true);\n    }\n    else if (this.getParent() != null) {\n      const group = this.getParent().getRadioButtonGroup(this.group);\n\n      if (group != null) {\n        for (let radio of group) {\n          if (radio.getValue() == value) {\n            radio.setChecked(true);\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Get JSON representation for the radiobutton component\n   * @returns JSON\n   */\n  toJson(): {} {\n    const json = super.toJson();\n\n    json[\"group\"] = this.group;\n    json[\"selected\"] = this.checked === true ? \"true\" : \"false\";\n\n    return json;\n  }\n\n  /**\n   * Get the NexaWeb tag name\n   * @return Tag name\n   */\n  protected getNxTagName() {\n    return \"radioButton\";\n  }\n\n  /**\n   * Uncheck all radio buttons in the radio button's group\n   */\n  private resetGroupRadios() {\n    const group = this.getParent().getRadioButtonGroup(this.group);\n\n    if (group != null) {\n      for (let radio of group) {\n        radio.setChecked(false);\n      }\n    }\n  }\n\n  /**\n   * Get [[cd]] (ChangeDetector) of this component\n   */\n  protected getChangeDetector(): ChangeDetectorRef {\n    return this.cd;\n  }\n\n  /**\n   * Check if this component is a radiobutton\n   * @returns True\n   */\n  protected isRadioButton() {\n    return true;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RadioButtonComponent } from './radio-button.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [RadioButtonComponent],\n  exports: [\n    RadioButtonComponent,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  entryComponents: [\n    RadioButtonComponent\n  ]\n})\nexport class RadioButtonModule { }\n","import { Component, OnInit, ElementRef, ChangeDetectionStrategy, SkipSelf, Optional, forwardRef, Renderer2, ChangeDetectorRef, Input, ViewChild, NgZone } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\n\n/**\n * Class for scroll pane component\n */\n@Component({\n  selector: 'vt-scroll-pane',\n  templateUrl: './scroll-pane.component.html',\n  styleUrls: ['./scroll-pane.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>ScrollPaneComponent)\n    }\n  ]\n})\nexport class ScrollPaneComponent extends BaseComponent implements OnInit {\n\n  //æå®ãããåã ãåºå®é¨åã¨ãã¦é¤ããããä»¥å¤ãå¯å¤é åã¨ãã\n  @Input() resizeHeight: string;\n  @Input() skipScrollAdjustment: boolean;\n\n  @ViewChild('scrollDiv') scrollDivElement: ElementRef;\n\n  private _scrollerHandler: (event)=>void;\n\n  private _scrollVerticalPos = 0;\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param renderer see [[BaseComponent]] constructor\n   * @param cd Change detector for this component instance\n   */\n  constructor(\n    @Optional() @SkipSelf() parent: BaseComponent,\n    sessionService: SessionService,\n    elementRef: ElementRef,\n    renderer: Renderer2,\n    private cd: ChangeDetectorRef,\n    private zone: NgZone\n  ) {\n    super(parent, sessionService, elementRef, renderer);\n\n    this._scrollerHandler = (event)=>{\n      this.handleOnScroll(event);\n    }\n  }\n\n  /**\n   * Get [[cd]] (Change detector) property value\n   * @returns Change detector reference\n   */\n  getChangeDetector() {\n    return this.cd;\n  }\n\n  /**\n   * After view init lifecycle. Set dimensions and trigger change detection\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    if (this.controlHeight == null) {\n      this.controlHeight = '100%';\n    }\n    if (this.controlHeight != null && this.controlHeight !== \"\") {\n      this.styles[\"height\"] = this.controlHeight + \"px\";\n    }\n\n    if (this.controlWidth != null && this.controlWidth !== \"\") {\n      this.styles[\"max-width\"] = this.controlWidth + \"px\";\n    }\n\n    if (this.maxHeight != null && this.maxHeight !== \"\") {\n      this.styles[\"max-height\"] = this.maxHeight + \"px\";\n    }\n    if (this.resizeHeight != null && this.resizeHeight !== \"\") {\n      this.styles[\"height\"] = \"calc(100% - \" + this.resizeHeight + \"px)\";\n    }\n\n    this.zone.runOutsideAngular(()=>{\n      //for https://github.com/weaveio/ngnsophia/issues/1392, track position of scroll pane\n      //so it can be reset back when user switching tabs\n      if (this.skipScrollAdjustment !== true) {\n        (this.scrollDivElement.nativeElement as HTMLElement).addEventListener(\"scroll\", this._scrollerHandler, true);\n      }\n    });\n\n    this.cd.detectChanges();\n  }\n\n  ngOnDestroy() {\n    super.ngOnDestroy();\n\n    (this.scrollDivElement.nativeElement as HTMLElement).removeEventListener(\"scroll\", this._scrollerHandler, true);\n    this._scrollerHandler = null;\n  }\n\n  /**\n   * Scroll event of div\n   */\n  private handleOnScroll(event) {\n    this._scrollVerticalPos = event.srcElement.scrollTop;\n  }\n\n  resetScrollTopToPreviousPosition() {\n    this.zone.runOutsideAngular(()=>{\n      setTimeout(()=>{\n        if(this.scrollDivElement.nativeElement.scrollTop != this._scrollVerticalPos) {\n          this.scrollDivElement.nativeElement.scrollTop = this._scrollVerticalPos;\n        }\n      }, 300);\n    });\n  }\n\n  resetScrollTopPosition() {\n    this.zone.runOutsideAngular(()=>{\n      setTimeout(()=>{\n        this._scrollVerticalPos = 0;\n        this.scrollDivElement.nativeElement.scrollTop = this._scrollVerticalPos;\n      }, 300);\n    });\n  }\n\n  isScrollView(): boolean {\n    return true;\n  }\n\n  isScrollPane() {\n    return true;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ScrollPaneComponent } from './scroll-pane.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [ScrollPaneComponent],\n  exports: [\n    ScrollPaneComponent\n  ]\n})\nexport class ScrollPaneModule { }\n","import * as _ from \"lodash\";\n\nexport class StringBuilder {\n  private _internalString: string = \"\";\n\n  constructor(initial?: string) {\n    if (initial != null) {\n      this.append(initial);\n    }\n  }\n\n  append(str: string | StringBuilder) {\n    if (str instanceof StringBuilder) {\n      this._internalString = this._internalString + str.toString();\n    } else {\n      this._internalString = this._internalString + str;\n    }\n    return this;\n  }\n\n  toString() {\n    return this._internalString;\n  }\n\n  clear() {\n    this._internalString = \"\";\n    return this;\n  }\n\n  destroy() {\n    this.clear();\n  }\n\n  indexOf(str: string): number {\n    return this._internalString.indexOf(str);\n  }\n\n  substring(startIdx: number, endIdx?: number): string {\n    if (endIdx != null) {\n      return this._internalString.substring(startIdx, endIdx);\n    }\n\n    return this._internalString.substring(startIdx);\n  }\n\n  replace(startIdx: number, endIdex: number, replaceStr: string): StringBuilder {\n    const b = this._internalString.substring(0, startIdx);\n    const e = this._internalString.substring(endIdex);\n\n    this._internalString = b + replaceStr + e;\n    return this;\n  }\n\n  length() {\n    return this._internalString.length;\n  }\n\n  charAt(i: number): string {\n    if (i < this._internalString.length) {\n      return this._internalString.charAt(i);\n    }\n\n    return null;\n  }\n\n  setCharAt(idx: number, val: number | string): void {\n    if (typeof val === \"number\") {\n      this.insert(idx, String.fromCharCode(val));\n    } else {\n      this.insert(idx, val);\n    }\n  }\n\n  deleteCharAt(i: number): StringBuilder {\n    this.replace(i, i, '');\n    return this;\n  }\n\n  insert(index: number, str: string): StringBuilder {\n    if (index <= this._internalString.length) {\n      this._internalString = this._internalString.substring(0, index - 1) + str + this._internalString.substring(index);\n    }\n\n    return this;\n  }\n\n  lastIndexOf(chr: string) {\n    if (this._internalString != null) {\n      return _.lastIndexOf(this._internalString, chr);\n    }\n\n    return -1;\n  }\n}\n","import { Directive, TemplateRef, Input } from '@angular/core';\n\n/**\n * This directive serve as a template for rendering table cell.\n */\n@Directive({\n    selector: '[vt-table-cell]'\n})\nexport class TableCellDirective {\n    @Input() onContextMenuCb: (parentView: any)=>void;\n\n    /**\n     * Horizontal alignment (center, left, right)\n     */\n    @Input() alignHorizontal: string;\n    \n    /**\n     * \n     * @param template Template on how to render the cell, we will forward row, column, etc to the template\n     */\n    constructor(public template: TemplateRef<any>) {\n\n    }\n}\n","import { Directive, TemplateRef, Input } from '@angular/core';\n\n/**\n * This template is used to render header if a customer rendering is needed, by default, header can be passed in\n * to the TableColumnDirective as a string\n */\n@Directive({\n    selector: '[vt-table-header]'\n})\nexport class TableHeaderDirective {\n    @Input() id: string;\n    @Input() autoWrap: boolean | string;\n    /**\n     * \n     * @param template Template on how to render the header, we will forward row, column, etc to the template\n     */\n    constructor(public template: TemplateRef<any>) {\n        \n    }\n}\n","import { Directive, Input, OnInit } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\n\n@Directive({\n  selector: 'vt-header'\n})\nexport class HeaderDirective implements OnInit {\n  @Input() text: string;\n  @Input() cssClass: string;\n  @Input() controlHeight: string;\n  @Input() controlWidth: string;\n  @Input() headerHeight: string;\n  @Input() autoWrap: boolean | string;\n  @Input() id: string;\n\n  constructor() { }\n\n  ngOnInit() {\n    if (this.id == null) {\n      this.id = BaseComponent.generateUniqueId(\"header\");\n    }\n  }\n\n}\n","import { Directive, Input, TemplateRef, ContentChild, OnInit } from '@angular/core';\n\nimport { TableCellDirective } from './table-cell.directive';\nimport { TableHeaderDirective } from './table-header.directive';\nimport { HeaderDirective } from './header.directive';\nimport { CellDefinition } from './cell-definition';\nimport { BaseComponent } from '../base/base.component';\nimport { AttributesEnum } from '../base/attributes.enum';\nimport { JavaUtils } from '../java/java-utils';\n\n@Directive({\n    selector: 'vt-table-column'\n})\nexport class TableColumnDirective implements OnInit {\n    //TODO\n    @Input() locked: boolean = false;\n\n    //TODO\n    @Input() enabled: boolean = true;\n\n    @Input() sortable: boolean = true;\n\n    @Input() isChecked: boolean = false;\n\n    /**\n     * Horizontal alignment (center, left, right)\n     */\n    @Input() alignHorizontal: string;\n\n    @Input() id: string;\n\n    //cell template\n    @ContentChild(TableCellDirective, {read: TableCellDirective})\n    cellTemplate: TableCellDirective;\n\n    //header template if we want to render the header differently (i.e. checkbox, etc)\n    @ContentChild(TableHeaderDirective, {read: TemplateRef})\n    headerTemplate: TemplateRef<any>;\n\n    //header tag?\n    @ContentChild(HeaderDirective) headerDirective: HeaderDirective;\n\n    //default, use the {header} as the header for the cell\n    @Input() set header (header: string) {\n        this._header = header;\n    }\n\n    get header(): string {\n        return this.headerDirective ? this.headerDirective.text : this._header;\n    }\n\n    @Input() autoWrap: boolean;\n\n    _header: string;\n\n    sortDirection: string;\n\n    originalColumnIndex: number;\n\n    @Input() controlWidth: string | number;\n    @Input() controlHeight: string | number;\n\n    @Input() cellHeight: string | number;\n\n    @Input() headerHeight: string | number;\n\n    @Input() set visible(vis: boolean) {\n        this._visible = vis;\n\n        if (this._visible === true) {\n            if (this.styles) {\n                delete this.styles[\"display\"];\n            }\n        } else {\n            if (this.styles) {\n                this.styles[\"display\"] = \"none\";\n            } else {\n                this.styles = {\n                    \"display\": \"none\"\n                }\n            }\n        }\n    }\n\n    get visible() {\n        return this._visible;\n    }\n\n    _visible: boolean = true;\n\n    @Input() customAttributes: {[name: string]: any};\n\n    styles: {[name: string]: string};\n\n    get isHeaderTemplate() {\n        return this.headerTemplate === null || this.headerTemplate === undefined ? false : true;\n    }\n\n    /**\n     * Don't track this column (that is, use for display only).\n     */\n    @Input() skipTracking: boolean;\n\n    ngOnInit() {\n      if (this.headerDirective != null) {\n        this.header = this.headerDirective.text;\n\n        if (this.autoWrap == null) {\n            this.autoWrap = this.headerDirective.autoWrap === true || this.headerDirective.autoWrap === \"true\"\n        }\n      }\n\n      if (this.id == null) {\n          this.id = BaseComponent.generateUniqueId(\"column\");\n      }\n\n      if (this.headerHeight != null) {\n        this.headerHeight = this.headerHeight;\n      }\n\n    }\n\n    setAttribute(name: string, value: string) {\n        if (typeof name === \"number\" && name === AttributesEnum.VISIBLE) {\n            this.visible = JavaUtils.parseBoolean(value);\n        } else {\n            if (this.customAttributes == null) {\n                this.customAttributes = {};\n            }\n\n            this.customAttributes[name] = value;\n        }\n    }\n\n    getAttribute(name: string): string {\n        if (typeof name === \"number\" && name === AttributesEnum.VISIBLE) return this.visible as any;\n        if (typeof name === \"number\" && name === AttributesEnum.ID) return this.id;\n\n        let retVal = this.customAttributes != null ? this.customAttributes[name] : null;\n\n        if (typeof retVal !== \"string\") {\n          retVal = retVal + \"\";\n        }\n\n        return retVal;\n    }\n\n    setVisible(vis: boolean) {\n      this.visible = vis;\n    }\n}\n","export class TableSelectionEvent {\n    constructor(\n        public rows: Array<any>\n    ){}\n}","import { BaseComponent } from \"../base/base.component\";\nimport { Renderer2 } from \"@angular/core\";\nimport { SessionService } from \"../session/session.service\";\nimport { ClientEvent } from \"../event-handler/client-event\";\nimport { AppUtils } from \"../base/app-utils\";\nimport * as _ from \"lodash\";\nimport { LabelComponent } from \"../label/label.component\";\nimport { AttributeChangeListener } from \"../base/attribute-change-listener\";\nimport { AttributeChangeEvent } from \"../base/attribute-change-event\";\ndeclare var jQuery: any;\n\nexport class HTMLElementWrapper implements AttributeChangeListener {\n  // attributes: Map<string, string>;\n  // text: any;\n  // draggable: string;\n  // cssClass: string;\n  // onDoubleClick: string;\n  // onContextMenu: string;\n  // onMouseDown: string;\n  // popupName: string;\n\n  private parent: HTMLElementWrapper;\n  private localName: string;\n  parentTableId: string;\n  parentScreenId: string;\n  parentTable: any;\n\n  _uniqueId: string;\n  htmlElement: HTMLElement;\n  component: BaseComponent;\n\n  //for none dynamic stuf\n  childNodes: Array<HTMLElementWrapper> = [];\n\n  //for tree table\n  dynamicChildNodes: Array<HTMLElementWrapper>;\n\n  onContextHandler: (event) => any;\n  onMouseDownHandler: (event) => any;\n  onDoubleClickHandler: (event) => any;\n\n  //indicate that component create dynamically (via createElement)\n  private _dynamicComponent: boolean;\n\n  popupName: string;\n  contextMenuAction: string | ((any) => any);\n  mouseDownAction: string | (() => any);\n  doubleClickAction: string | (() => any);\n  rowNumber: number;\n  expanded: string;\n\n  private childRows: Array<HTMLElementWrapper>;\n\n  get id() {\n    return this.getId();\n  }\n  private customAttributes: {[name: string]: any} = null;\n  private attributesName: Array<string>;\n\n  private fauxElementAttributes: Map<string, string>;\n\n  private draggableApplied: boolean;\n\n  customData: any;\n\n  static createVirtualElement(type: string): HTMLElementWrapper {\n    return new HTMLElementWrapper(null, type, null, true);\n  }\n\n  constructor(private renderer: Renderer2, type: string, private sessionService: SessionService, virtual: boolean = false, docFragment: DocumentFragment = null) {\n    this._uniqueId = BaseComponent.generateUniqueId(type);\n\n    this.localName = type;\n\n    if (type === \"row\" && virtual !== true) {\n      this.htmlElement = this.renderer.createElement(\"tr\");\n      this._dynamicComponent = true;\n    } else if (type === \"cell\" && virtual !== true) {\n      this.htmlElement = this.renderer.createElement(\"td\");\n      this._dynamicComponent = true;\n    } else if (type === \"label\" || type === \"menuItem\" || virtual === true) {\n      this.fauxElementAttributes = new Map<string, string>();\n      this.setAttribute(\"id\", this._uniqueId);\n    }\n\n    if (this._dynamicComponent === true) {\n      if (this.htmlElement instanceof HTMLTableRowElement) {\n        this.htmlElement.setAttribute(\"data-tt-id\", this._uniqueId);\n      }\n\n      this.onContextHandler = (event) => {\n        const clientEvent = new ClientEvent(this, event);\n\n        if (AppUtils.customizeClientEvent != null) {\n          AppUtils.customizeClientEvent(this, clientEvent);\n        }\n\n        if (this.parentScreenId != null) {\n          clientEvent.setParameter(\"screenId\", this.parentScreenId);\n        }\n\n        this.sessionService.getEventHandler().setClientEvent(clientEvent);\n\n        if (typeof this.contextMenuAction === \"string\") {\n          this.invokeMcoAction(this.contextMenuAction);\n        } else if (typeof this.contextMenuAction === \"function\") {\n          this.contextMenuAction.apply(this, [this]);\n        }\n\n        this.showPopupMenu(event);\n      };\n\n      this.htmlElement.addEventListener(\"mousedown\", (event) => this.onMouseDownHandler(event), true);\n      this.htmlElement.addEventListener(\"dblclick\", (event) => this.onDoubleClickHandler(event), true);\n\n      this.onMouseDownHandler = (event) => {\n        this.handleOnMouseDown(event);\n      };\n\n      this.onDoubleClickHandler = (event) => {\n        this.handleDoubleClick(event);\n      };\n    }\n  }\n\n  destroy(skipDestroyChild: boolean = false) {\n    if (this._dynamicComponent === true && this.htmlElement != null) {\n      this.htmlElement.removeEventListener(\"contextmenu\", this.onContextHandler, true);\n      this.htmlElement.removeEventListener(\"mousedown\", this.onMouseDownHandler, true);\n      this.htmlElement.removeEventListener(\"dblclick\", this.onDoubleClickHandler, true);\n    }\n\n    if (this.childNodes != null && skipDestroyChild !== true) {\n      let stack = this.childNodes;\n\n      while (stack.length > 0) {\n        const node = stack.pop();\n\n        if (node.childNodes != null) {\n          stack = stack.concat(node.childNodes);\n        }\n\n        node.destroy(true);\n      }\n    }\n\n    if (this.dynamicChildNodes != null && skipDestroyChild !== true) {\n      let stack = this.dynamicChildNodes;\n\n      while (stack.length > 0) {\n        const node = stack.pop();\n\n        if (node.dynamicChildNodes != null) {\n          stack = stack.concat(node.dynamicChildNodes);\n        }\n\n        node.destroy(true);\n      }\n    }\n\n    if (this.childRows != null && skipDestroyChild !== true) {\n      let stack = this.childRows;\n\n      while (stack.length > 0) {\n        const node = stack.pop();\n\n        if (node.childRows != null) {\n          stack = stack.concat(node.childRows);\n        }\n\n        node.destroy(true);\n      }\n    }\n\n    if (this.component != null) {\n      this.component.removeAttributeChangeListener(this);\n    }\n\n    this.htmlElement = null;\n    this.parent = null;\n    this._uniqueId = null;\n    this.component = null;\n    this.childNodes = null;\n    this.attributesName = null;\n    this.fauxElementAttributes = null;\n    this.childRows = null;\n  }\n\n  setText(text: any) {\n    if (this._dynamicComponent === true) {\n      this.renderer.setProperty(this.htmlElement, \"innerHTML\", text);\n    } else if (this.component != null) {\n      this.component.setText(text);\n    } else if (this.fauxElementAttributes != null) {\n      this.fauxElementAttributes.set(\"text\", text);\n    }\n  }\n\n  setFontSize(size: any) {\n    if (this._dynamicComponent === true) {\n      this.renderer.setStyle(this.htmlElement, \"font-size\", size + \"px\");\n    } else if (this.component != null) {\n      this.component.setFontSize(size);\n    } else if (this.fauxElementAttributes != null) {\n      this.fauxElementAttributes.set(\"fontSize\", size);\n    }\n  }\n\n  setFontBold(bold: any) {\n    if (this._dynamicComponent === true) {\n      if (bold === \"true\" || bold === true) {\n        this.renderer.setStyle(this.htmlElement, \"font-weight\", \"bold\");\n      } else {\n        this.renderer.setStyle(this.htmlElement, \"font-weight\", \"normal\");\n      }\n    } else if (this.component != null) {\n      this.component.setFontBold(bold);\n    } else if (this.fauxElementAttributes != null) {\n      this.fauxElementAttributes.set(\"fontBold\", bold);\n    }\n  }\n\n  setClass(css: string) {\n    if (css != null && css.indexOf(\".\") >= 0) {\n      const temp = css.split(\"\\.\");\n\n      let cssClass = temp.join(\"-\");\n\n      if (temp[0] === \"\") {\n        css = cssClass.substring(1);\n      }\n    }\n    if (this.htmlElement != null) {\n      this.renderer.setAttribute(this.htmlElement, \"class\", css);\n    } else if (this.component != null) {\n      this.component.addCssClass(css);\n    } else if (this.fauxElementAttributes != null) {\n      this.setAttribute(\"class\", css);\n    }\n  }\n\n  /**\n   * Insert a child row at specific location\n   * @param idx\n   * @param child\n   */\n  insertChildRowAt(idx: number, child: HTMLElementWrapper) {\n    if (child.htmlElement instanceof HTMLTableRowElement !== true && this._dynamicComponent === true) {\n      throw new Error(\"Invalid insertion, only HTMLTableRowElement is allowed\");\n    }\n\n    if (idx > 0 && (this.childRows == null || this.childRows.length <= idx)) {\n      throw new Error(\"Unable to insert child row at this specific location (index overflow)\");\n    } else if (idx >= 0 && (this.childRows != null && this.childRows.length > idx)) {\n      //track child rows so we can used insertChildRowAt\n      if (this.childRows == null) {\n        this.childRows = [];\n      }\n\n      if (this.parentTable.useDocFragment === true) {\n        (this.parentTable._bodyFragment as DocumentFragment).insertBefore(child.htmlElement, this.childRows[idx].htmlElement);\n      } else {\n        this.renderer.insertBefore(this.parentTable.tableBody.nativeElement, child.htmlElement, this.childRows[idx].htmlElement);\n      }\n\n      this.childRows.splice(idx, 0, child);\n    }\n\n    this.renderer.setAttribute(child.htmlElement, \"data-tt-parent-id\", this._uniqueId);\n\n    child.parent = this;\n  }\n\n  /**\n   * Append a child to this element. If this is a row and we append a row, set {@ appendToTable} to true\n   * will also append the actual table row (tr) to the table.\n   *\n   * @param child child to be appended\n   * @param appendToTable\n   */\n  appendChild(child: HTMLElementWrapper, appendToTableIfRow: boolean = false) {\n    if (this._dynamicComponent === true) {\n      if (child.htmlElement instanceof HTMLTableRowElement) {\n        this.renderer.setAttribute(child.htmlElement, \"data-tt-parent-id\", this._uniqueId);\n\n        if (appendToTableIfRow === true) {\n          if (this.parentTable.useDocFragment === true) {\n            (this.parentTable._bodyFragment as DocumentFragment).appendChild(child.htmlElement);\n          } else {\n            this.renderer.appendChild(this.parentTable.tableBody.nativeElement, child.htmlElement);\n          }\n        }\n\n        //track child rows so we can used insertChildRowAt\n        if (this.childRows == null) {\n          this.childRows = [];\n        }\n\n        this.childRows.push(child);\n      } else if (child.htmlElement instanceof HTMLTableCellElement) {\n        this.renderer.appendChild(this.htmlElement, child.htmlElement);\n\n        if (this.dynamicChildNodes == null) {\n          this.dynamicChildNodes = [];\n        }\n\n        this.dynamicChildNodes.push(child);\n      }\n    } else {\n      this.childNodes.push(child);\n    }\n\n    child.parent = this;\n  }\n\n  appendCustomAttributes(cust: { [name: string]: string }) {\n    if (cust != null) {\n      const keys = _.keys(cust);\n\n      for (let key of keys) {\n        this.setAttribute(key, cust[key]);\n      }\n    }\n  }\n\n  //NSD will override this, added to fix error\n  // setCustomAttribute(name: string, value: string) {\n  //   this.setAttribute(name, value);\n  // }\n\n  setAttribute(name: string, value: string) {\n    if(name === 'selected' && this.localName == 'row'){\n      if(this.parentTable != null){\n        if(value == 'true')\n          this.parentTable.selectRow(this, true);\n        else\n          this.parentTable.selectRow(this, false);\n        this.parentTable.markForCheck();\n      }\n    }\n    if (name === \"expanded\") {\n      this.expandNode(value);\n    } else if (this.component != null) {\n      this.component.setAttribute(name, value);\n      this.trackAttributeName(name);\n    } else if (this.htmlElement != null) {\n      if (name === \"isLockedColumn\") {\n        if (this.fauxElementAttributes == null) {\n          this.fauxElementAttributes = new Map<string, string>();\n        }\n\n        this.fauxElementAttributes.set(name, value);\n      } else {\n        this.renderer.setAttribute(this.htmlElement, name, value);\n      }\n\n      this.trackAttributeName(name);\n    } else if (this.fauxElementAttributes != null) {\n      this.fauxElementAttributes.set(name, value);\n      this.trackAttributeName(name);\n    }\n  }\n\n  getAttribute(name: any, skipQueryDOMIfNotExists: boolean = false) {\n    if (name === \"expanded\") {\n      return this.expanded === \"true\" ? \"true\" : \"false\";\n    }\n\n    if (this.component != null) {\n      return this.component.getAttribute(name, skipQueryDOMIfNotExists);\n    } else if (this.htmlElement != null && skipQueryDOMIfNotExists !== true) {\n      if (name === \"text\") {\n        let text = this.htmlElement.getAttribute(name);\n\n        if (text == null) {\n          text = this.htmlElement.innerText;\n        }\n\n        if (text == null || text === \"\") {\n          text = (this.htmlElement as HTMLTableCellElement).textContent;\n        }\n\n        if (typeof text === \"string\") {\n          text = text.trim();\n        }\n\n        return text;\n      } else if (name === \"isLockedColumn\" && this.fauxElementAttributes != null) {\n        return this.fauxElementAttributes.get(name);\n      } else if (name === \"isLockedColumn\") {\n        return \"false\";\n      }\n\n      return this.htmlElement.getAttribute(name);\n    } else if (this.fauxElementAttributes != null) {\n      return this.fauxElementAttributes.get(name);\n    }\n  }\n\n  getText() {\n    return this.getAttribute(\"text\");\n  }\n\n  getId() {\n    return this.getAttribute(\"id\");\n  }\n\n  setDraggable(draggable: string) {\n    this.setAttribute(\"draggable\", draggable);\n\n    if (draggable == \"true\") {\n      this.applyDraggable();\n    }\n  }\n\n  getExpanded(): string {\n    return this.getAttribute(\"expanded\");\n  }\n\n  setExpanded(str: string) {\n    this.setAttribute(\"expanded\", str);\n  }\n\n  setOnContextMenu(action: string | (() => any)) {\n    if (this.htmlElement != null) {\n      this.contextMenuAction = action;\n      this.htmlElement.addEventListener(\"contextmenu\", (event) => this.onContextHandler(event), true);\n    }\n  }\n\n  setOnMouseDown(action: string | (() => any)) {\n    this.mouseDownAction = action;\n  }\n\n  setOnDoubleClick(action: string | (() => any)) {\n    this.doubleClickAction = action;\n  }\n\n  setPopup(popupName: string) {\n    this.popupName = popupName.replace(\"#\", \"\");\n  }\n\n  getParent() {\n    return this.parent;\n  }\n\n  getLocalName() {\n    return this.localName;\n  }\n\n  setLocaleName(localName: string) {\n    this.localName = localName;\n  }\n\n  getChildren() {\n    let children: Array<HTMLElementWrapper> = this.childNodes;\n\n    if ((children == null || children.length === 0) && (this.dynamicChildNodes != null)) {\n      children = this.dynamicChildNodes;\n    }\n\n    if (\n      this.getLocalName() === \"row\" &&\n      children != null &&\n      this.parentTable != null &&\n      this.parentTable.getLocalName() === \"table\" &&\n      this.parentTable.columnsHasBeenSwapped === true\n    ) {\n      children = _.orderBy(children, (child: HTMLElementWrapper)=> {\n        return child[\"originalColumnIndex\"];\n      }) as any;\n    }\n\n    return children;\n  }\n\n  getChildCount(): number {\n    return this.childNodes != null ? this.childNodes.length : 0;\n  }\n\n  getChildAt(idx: number): HTMLElementWrapper {\n    return this.getChildCount() > idx ? this.childNodes[idx] : null;\n  }\n\n  setComponent(component: BaseComponent, fromVirtualTable: boolean = false) {\n    this.component = component;\n    this.component.parentTableRow = this.parent;\n\n    if (component != null && fromVirtualTable === true) {\n      component.addAttributeChangeListener(this);\n    }\n  }\n\n  private invokeMcoAction(action: string | (() => any)) {\n    if (typeof action === \"function\") {\n      action();\n    } else if (action.indexOf(\"mco://\") === 0) {\n      const mcoName = action.substring(6, action.indexOf(\".\"));\n      const methodName = action.substring(action.indexOf(\".\") + 1, action.indexOf(\"(\"));\n      const arg = action.substring(action.indexOf(\"(\") + 1, action.indexOf(\")\"));\n\n      if (arg != null && arg.length > 0) {\n        const mco = this.sessionService.getMcoContainer().getMco(mcoName);\n\n        if (mco != null) {\n          if (arg === \"this\") {\n            mco[methodName].apply(mco, [this]);\n          } else {\n            mco[methodName].apply(mco, [arg]);\n          }\n        } else {\n          console.error(\"Unable to execute MCO action, mco not found: \" + mcoName);\n        }\n      } else {\n        const mco = this.sessionService.getMcoContainer().getMco(mcoName);\n\n        if (mco != null) {\n          mco[methodName].apply(mco);\n        } else {\n          console.error(\"Unable to execute MCO action, mco not found: \" + mcoName);\n        }\n      }\n    }\n  }\n\n  getComponent(): BaseComponent {\n    return this.component;\n  }\n\n  private showPopupMenu(event: MouseEvent) {\n    this.sessionService.setMousePosition(event);\n\n    if (this.popupName != null) {\n      const contextMenu = this.sessionService.showContextMenu(this.popupName);\n\n      if (contextMenu === true) {\n        event.preventDefault();\n        event.stopPropagation();\n\n        // contextMenu.show(this.htmlElement);\n      }\n    }\n\n    const clientEvent = new ClientEvent(this, event);\n\n    if (AppUtils.customizeClientEvent != null) {\n      AppUtils.customizeClientEvent(this, clientEvent);\n    }\n\n    clientEvent.setParameter(\"screenId\", this.parentScreenId);\n\n    this.sessionService.getEventHandler().setClientEvent(clientEvent);\n  }\n\n  private handleOnMouseDown(event) {\n    if(this.parentTable != null){\n      let table = this.parentTable.elementRef.nativeElement;\n      let tds: NodeList = table.querySelectorAll('td');\n\n      for (let i = 0; i < tds.length; i++) {\n        (tds[i] as any).style.color = '';\n      }\n\n      tds = this.htmlElement.querySelectorAll('td');\n      for (let i = 0; i < tds.length; i++) {\n        (tds[i] as any).style.color = 'blue';\n      }\n    }\n\n    if (this.mouseDownAction != null) {\n      const clientEvent = new ClientEvent(this, event);\n\n      if (AppUtils.customizeClientEvent != null) {\n        AppUtils.customizeClientEvent(this, clientEvent);\n      }\n\n      if (this.parentScreenId != null) {\n        clientEvent.setParameter(\"screenId\", this.parentScreenId);\n      }\n\n      this.sessionService.getEventHandler().setClientEvent(clientEvent);\n\n      this.invokeMcoAction(this.mouseDownAction);\n    }\n  }\n\n  private handleDoubleClick(event) {\n    const clientEvent = new ClientEvent(this, event);\n\n    if (AppUtils.customizeClientEvent != null) {\n      AppUtils.customizeClientEvent(this, clientEvent);\n    }\n\n    if (this.parentScreenId != null) {\n      clientEvent.setParameter(\"screenId\", this.parentScreenId);\n    }\n\n    this.sessionService.getEventHandler().setClientEvent(clientEvent);\n\n    if (this.doubleClickAction != null) {\n      this.invokeMcoAction(this.doubleClickAction);\n    }\n  }\n\n  expandNode(isExpanded: boolean | string, justUpdateAttribute: boolean = false) {\n    this.expanded = typeof isExpanded === \"string\" ? isExpanded : isExpanded + '';\n\n    if (justUpdateAttribute !== true && this.parentTableId != null && this.parentTableId !== \"\") {\n      const jq = jQuery(`#${this.parentTableId} .jq-tree-table`);\n\n      if (jq != null) {\n        let nodeId: string = this.getAttribute(\"data-tt-id\");\n\n        if (nodeId != null) {\n          try {\n            if (isExpanded === \"true\" || isExpanded === true) {\n              jq.treetable(\"expandNode\", nodeId);\n            } else {\n              jq.treetable(\"collapseNode\", nodeId);\n            }\n          } catch (e) {\n            console.error(\"Unable to expand node due to error\");\n          }\n        }\n      } else {\n        console.error(\"Unable to expand node, tree table is null\");\n      }\n    }\n  }\n\n  private trackAttributeName(name: string) {\n    if (this.attributesName == null) {\n      this.attributesName = [];\n    }\n\n    this.attributesName.push(name);\n  }\n\n  toJson(): {} {\n    let retVal = {};\n\n    if (this.component != null) {\n      retVal = this.component.toJson();\n\n      if (this.component instanceof LabelComponent) {\n        retVal[\"nxTagName\"] = this.getLocalName();\n        retVal[\"tagName\"] = this.getLocalName();\n      }\n    } else {\n      retVal[\"nxTagName\"] = this.getLocalName();\n      retVal[\"tagName\"] = this.getLocalName();\n    }\n\n    if (this.component == null) {\n      retVal[\"id\"] = this.getId() || this._uniqueId;\n      retVal[\"text\"] = this.getText();\n    }\n\n    if (this.attributesName != null) {\n      this.attributesName.forEach(name => {\n        retVal[name] = this.getAttribute(name);\n      });\n    }\n\n    //any children?\n    let children: Array<HTMLElementWrapper>;\n    if (this.childNodes != null && this.childNodes.length > 0) {\n      children = this.childNodes;\n    } else if (this.dynamicChildNodes != null && this.dynamicChildNodes.length > 0) {\n      children = this.dynamicChildNodes;\n    }\n\n    if (children != null) {\n      if (\n        this.getLocalName() === \"row\" &&\n        this.parentTable != null &&\n        this.parentTable.getLocalName() === \"table\" &&\n        this.parentTable.columnsHasBeenSwapped === true\n      ) {\n        children = _.orderBy(children, (child: HTMLElementWrapper)=> {\n          return child[\"originalColumnIndex\"];\n        }) as any;\n      }\n\n      retVal[\"children\"] = children.map(child=>child.toJson());\n    }\n    if(this.customAttributes)\n      retVal['customAttributes'] = this.customAttributes;\n    return retVal;\n  }\n\n  isView(): boolean {\n    return false;\n  }\n\n  isDialog(): boolean {\n    return false;\n  }\n\n  isDynamicView(): boolean {\n    return false;\n  }\n\n  isFauxElement() {\n    return true;\n  }\n\n  setChecked(chk: string | boolean) {\n    if (typeof chk === \"boolean\") {\n      chk = chk + \"\";\n    }\n\n    this.setAttribute(\"checked\", chk);\n  }\n\n  /**\n   * Search for child using the provided function\n   *\n   * @param fn function to execute while iterating child lookup\n   */\n  findChildByFn(fn: (element: HTMLElementWrapper)=>boolean) {\n    let retVal: HTMLElementWrapper;\n\n    let children: Array<HTMLElementWrapper> = this.concatNode([] as any, this);\n\n    while(children.length > 0) {\n      const child = children.pop();\n\n      if (child != null) {\n        if (fn(child) === true) {\n          retVal = child;\n          break;\n        } else {\n          children = this.concatNode(children, child);\n        }\n      }\n    }\n\n    return retVal;\n  }\n\n  /**\n   * Concate {fromNode} to {toNode}\n   *\n   * @param toNode array of nodes to be concated to\n   * @param fromNode node to be concated from\n   * @returns the concated node\n   */\n  private concatNode(toNode: Array<HTMLElementWrapper>, fromNode: HTMLElementWrapper): Array<HTMLElementWrapper> {\n    let retVal = toNode;\n\n    if (fromNode != null) {\n      if (fromNode.childNodes != null) {\n        retVal = retVal.concat(fromNode.childNodes);\n      }\n\n      if (fromNode.childRows != null) {\n        retVal = retVal.concat(fromNode.childRows);\n      }\n\n      if (fromNode.dynamicChildNodes != null) {\n        retVal = retVal.concat(fromNode.dynamicChildNodes);\n      }\n    }\n\n    return retVal;\n  }\n\n  //attribute change listener\n  _internalId: string;\n\n  beforeAttributeRemoved(evt: AttributeChangeEvent): void {\n\n  }\n\n  beforeAttributeSet(evt: AttributeChangeEvent): void {\n\n  }\n\n  onAttributeRemoved(evt: AttributeChangeEvent): void {\n\n  }\n\n  onAttributeSet(evt: AttributeChangeEvent): void {\n    if (evt.getName() === \"sortValue\" && this.htmlElement != null) {\n      this.updateSortValue(evt.getNewValue());\n    }\n  }\n\n  private updateSortValue(value) {\n    if (this.renderer != null) {\n      this.renderer.setAttribute(this.htmlElement, \"data-text\", value);\n\n      if (this.component != null && this.component.getParent() != null && typeof (this.component.getParent() as any).refreshTableSorterCache === \"function\") {\n        (this.component.getParent() as any).refreshTableSorterCache();\n      }\n    }\n  }\n\n  isDraggable(): boolean {\n    return this.getAttribute(\"draggable\") === \"true\";\n  }\n\n  applyDraggable() {\n    if (this.isDraggable() && this.draggableApplied !== true && this.htmlElement != null) {\n      jQuery(this.htmlElement).draggable({\n        appendTo: \"body\",\n        addClasses: false,\n        helper: ()=>{\n          const helper: HTMLElement = document.createElement(\"div\");\n          helper.classList.add(\"draggable-row-helper\");\n          helper.id = \"draggableRowHelperInternal\";\n\n          // if (this.parentTable != null && this.parentTable.selectedRows != null && this.parentTable.selectedRows.length > 1) {\n          //   helper.classList.add(\"drag-row-helper-container\");\n\n          //   const c = this.parentTable.selectedRows.length;\n          //   const frag = document.createDocumentFragment();\n\n          //   for (let i = 0; i < c; i++) {\n          //     const row = document.createElement(\"div\");\n          //     row.classList.add(\"drag-row-helper-row\");\n          //     frag.appendChild(row);\n          //   }\n\n          //   helper.appendChild(frag);\n          // }\n\n          return helper;\n        },\n        start: ()=>{\n          const clientEvent = new ClientEvent(this, event);\n          clientEvent.setParameter(\"dragId\", this.parentTableId);\n\n          if (AppUtils.customizeClientEvent != null) {\n            AppUtils.customizeClientEvent(this, clientEvent);\n          }\n\n          if (this.parentScreenId != null) {\n            clientEvent.setParameter(\"screenId\", this.parentScreenId);\n          }\n\n          this.sessionService.getEventHandler().setClientEvent(clientEvent);\n        }\n      });\n    }\n\n    this.draggableApplied = true;\n  }\n\n  isDraggableApplied() {\n    return this.draggableApplied;\n  }\n  /**\n   * rowãªã©BaseComponentã¨ãã¦å­å¨ããªãwrapperã«customAttributesãè¨­å®ãã¾ãã\n   * @param name\n   * @param value\n   */\n  setCustomAttribute(name: string, value: any) {\n    if(!this.customAttributes)\n      this.customAttributes = {};\n    this.customAttributes[name] = value;\n  }\n}\n","import { Directive, Input } from '@angular/core';\n\n@Directive({\n  selector: 'vt-table-row-def'\n})\nexport class TableRowDefDirective {\n  @Input() customAttributes: {[name: string]: string};\n  \n  constructor() { }\n\n}\n","import { Directive, TemplateRef, ContentChild, ContentChildren, QueryList } from '@angular/core';\nimport { TableCellDirective } from './table-cell.directive';\n\n@Directive({\n  selector: 'vt-footer-row'\n})\nexport class FooterRowDirective {\n\n  @ContentChildren(TableCellDirective, {read: TableCellDirective})\n  cellTemplates: QueryList<TableCellDirective>;\n\n}\n","import { Directive, TemplateRef, ContentChild, ContentChildren, QueryList, Input } from '@angular/core';\nimport { TableCellDirective } from './table-cell.directive';\n\n@Directive({\n  selector: 'vt-row'\n})\nexport class RowDirective {\n  @Input() customAttributes: {[name: string]: string};\n  @Input() id: string;\n  @Input() cssClass: string;\n\n  @ContentChildren(TableCellDirective, {read: TableCellDirective})\n  cellTemplates: QueryList<TableCellDirective>;\n}\n","import { Injectable, Inject } from '@angular/core';\nimport * as clipboard from \"clipboard-polyfill\";\n\n@Injectable({\n  providedIn: 'root'\n})\n/**\n * Clipboard service that use the modern implementation of cliboard. For older browser, a polyfill\n * is used instead.\n */\nexport class ClipboardService {\n\n  //constructor(@Inject(\"ClipboardPolyfill\") private clipboard: any) { }\n\n  /**\n   * Copy the {txt} text into the clipboard\n   * \n   * @param txt text to be copied into the clipboard\n   */\n  copy(txt: string) {\n    return clipboard.writeText(txt);\n  }\n}\n","//copy from dragndrop\nexport function isIE() {\n    var nav = navigator.userAgent.toLowerCase();\n    return nav.indexOf(\"msie\") !== -1 ? parseInt(nav.split(\"msie\")[1]) : false;\n}","import * as _ from 'lodash';\nimport { Component, ContentChildren, EventEmitter, Input, OnInit, Output, QueryList, ElementRef, ChangeDetectorRef, ChangeDetectionStrategy, ViewChild, SkipSelf, Optional, forwardRef, Renderer2, ContentChild, NgZone, IterableDiffers, IterableDiffer, DoCheck } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { TableColumnDirective } from './table-column.directive';\nimport { TableSelectionEvent } from './table-selection-event';\nimport { HTMLElementWrapper } from '../tree-table/html-element-wrapper';\nimport { OnCreateEvent } from '../base/on-create-event';\nimport { Vector } from '../java/vector';\nimport { TableRowDefDirective } from './table-row-def.directive';\nimport { FooterRowDirective } from './footer-row.directive';\nimport { Subscription, Subject, timer } from 'rxjs';\nimport { debounce } from \"rxjs/operators\";\nimport { RowDirective } from './row.directive';\nimport { ClientEvent } from '../event-handler/client-event';\nimport { AppUtils } from '../base/app-utils';\nimport { ViewComponent } from '../view/view.component';\nimport { ClipboardService } from '../clipboard/clipboard.service';\nimport { TableCellDirective } from './table-cell.directive';\nimport { CheckboxComponent } from '../checkbox/checkbox.component';\nimport { RadioButtonComponent } from '../radio-button/radio-button.component';\nimport { TextFieldComponent } from '../text-field/text-field.component';\nimport { ComboBoxComponent } from '../combo-box/combo-box.component';\nimport { KeyUtils } from '../base/key-utils';\nimport { isIE } from '../../functions/is-ie';\n\ndeclare var jQuery: any;\n\ndeclare var $;\n\ndeclare type SelectionMode = \"none\" | \"singleRow\" | \"multiRow\" | \"singleCell\" | \"multiCell\" | \"singleColumn\" | \"multiColumn\";\n\nexport interface VirtualColumnChangeData {\n    text: string,\n    checked: boolean\n}\n/**\n * Class for table component\n */\n@Component({\n    selector: 'vt-table',\n    templateUrl: './table.component.html',\n    styleUrls: ['./table.component.css'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n      {\n        provide: BaseComponent,\n        useExisting: forwardRef(()=>TableComponent)\n      }\n    ]\n})\nexport class TableComponent extends BaseComponent implements OnInit, DoCheck {\n    private static readonly INTERNAL_VIRTUAL_ORIGINAL_INDEX: string = \"$$INTERNAL_VIRTUAL_ORIGINAL_INDEX$$\";\n    private static readonly INTERNAL_VIRTUAL_ROW_DATA : string = \"$$INTERNAL_VIRTUAL_ROW_DATA$$\";\n    private static readonly INTERNAL_ROW_DIFFER_ID : string = \"$$INTERNAL_VIRTUAL_ROW_DIFFER_ID$$\";\n    private static readonly INTERNAL_ROW_ID : string = \"$$INTERNAL_VIRTUAL_ROW_ID$$\";\n    private static readonly INTERNAL_COLUMN_HEADER_ID = \"$$INTERNAL_COLUMN_HEADER_ID$$\";\n\n    @Input() selectionMode: SelectionMode = \"singleRow\";\n    @Input() rowCustomAttributeBuilder: (row:any, rowNumber?: number, view?: ViewComponent)=>{};\n    @Input() rowIdBuilder: (row:any, rowNumber?: number)=>string;\n    @Input() rowStyleFn: (row:any)=>string;\n\n    /** Enable use of virtual scrolling, if this is on, controlWidth and controlHeight must be defined */\n    @Input() virtualScroll: boolean;\n\n    //custom sort function for virtual scroll\n    @Input() virtualScrollSortFn: (view: BaseComponent, columnIndex: number)=>string;\n\n    //custom function to \"render\" the invisible row (for virtual scroll)\n    @Input() virtualScrollInvisibleRowBuilder: (view: BaseComponent, rowData: any)=>HTMLElementWrapper;\n\n    //use for virtual scrolling\n    @Input() rowHeight: number = 24;\n\n    @Input() scrollTimeout: number = 200;\n\n    //show blank row if we don't have enough data\n    showBlankRow: boolean;\n\n    @Input() set dataSource(ds: Array<any>) {\n        //data has changes, we need to do some clean up.\n        this.cleanUpChildNodes();\n\n        this.resetTableColumns();\n        this._dataSource = this.buildRowIdentity(ds);\n\n        this.checkShowBlankRow();\n        this.previousRowIndex = null;\n        this.modifiedVirtualRows = null;\n        this.modifiedVirtualRowsJson = null;\n        this.selectedRows = [];\n\n        this.calcVirtualScrollHeight();\n        this.calcVirtualScrollViewPort();\n    }\n\n    get dataSource() {\n        return this.virtualScroll === true ? this._virtualViewPort : this._dataSource;\n    }\n\n    /* istanbul ignore next */\n    //virtual datasource\n    private _virtualViewPort: Array<any>;\n\n    /* istanbul ignore next */\n    private _dataSource: Array<any>;\n\n    /* istanbul ignore next */\n    /** Weather or not should enabled sort, default to enabled (null/undefined/true mean enabled) */\n    @Input() enableSort: boolean;\n\n    /* istanbul ignore next */\n    /** Weather or not should allow column drag/drop, default to enabled (null/undefined/true mean enabled) */\n    @Input() enableColumnDragging: boolean\n\n    /* istanbul ignore next */\n    /** Weather or not should allow column resize, default to enabled (null/undefined/true mean enabled) */\n    @Input() enableColumnResize: boolean;\n\n    /* istanbul ignore next */\n    /** Whether row can be dropped into this table */\n    @Input() droppable: boolean | string;\n\n    /* istanbul ignore next */\n    /**\n     * Restricted right click popup menu only to cell where popup is defined\n     * <ng-template ...><vt-label ...popup=\"abc\"></vt-label></ng-template>\n     * */\n    @Input() restrictCellPopup: boolean;\n\n    /* istanbul ignore next */\n    @Output() onChange: EventEmitter<TableSelectionEvent> = new EventEmitter<TableSelectionEvent>();\n    @Output() onStateChange: EventEmitter<void> = new EventEmitter<void>();\n    @Output() onDoubleClick: EventEmitter<TableSelectionEvent> = new EventEmitter<TableSelectionEvent>();\n    @Output() onDragDrop: EventEmitter<void> = new EventEmitter<void>();\n\n    @ViewChild('table') table: ElementRef;\n    @ViewChild(\"tableContainer\", {read: ElementRef}) tableContainer: ElementRef;\n    @ViewChild(\"tableWrapper\", {read: ElementRef}) tableWrapper: ElementRef;\n    @ViewChild(\"tableHead\", {read: ElementRef}) tableHead: ElementRef;\n    /* istanbul ignore next */\n    @ViewChild(\"tableFoot\", {read: ElementRef}) tableFoot: ElementRef;\n\n    // @ViewChild(\"fakeTable\", {read: ElementRef}) fakeTable: ElementRef;\n    @ViewChild(\"ghostHeader\", {read: ElementRef}) ghostHeader: ElementRef;\n\n    @ContentChildren(TableColumnDirective)\n    set tableColumns(columns: QueryList<TableColumnDirective>) {\n      this.clearHeaderNodes();\n      this.columns = this.toColumns(columns);\n\n      if (this._isViewInit === true) {\n        this.initPlugins();\n      }\n    }\n\n    columns: Array<TableColumnDirective>;\n\n    @ContentChild(TableRowDefDirective) tableRowDef: TableRowDefDirective;\n    @ContentChild(FooterRowDirective) footerRow: FooterRowDirective;\n\n    //table with no datasource\n    @ContentChildren(RowDirective) set tableRowQuery(rows: QueryList<RowDirective>) {\n        this.cleanUpChildNodes();\n        this._tableRow = [];\n        this.detectChanges();\n\n        this._tableRow = rows.toArray();\n    }\n\n    get tableRow(): Array<RowDirective> {\n        return this._tableRow;\n    }\n\n    private _tableRow: Array<RowDirective>;\n\n    //custom sort function for virtual scroll\n    @Input() forceFixWidth: boolean = true;\n    @Input() isHeaderPadding: boolean = false;\n    @Input() isHeaderAuto: boolean = false;\n\n    @Input() skipRowsAdjustment: boolean;\n\n    //force reset columns when dataSource changes\n    @Input() forceResetColumns: boolean;\n\n    //table-layout default fixed\n    @Input() tableLayout: string = \"fixed\";\n\n    //track dynamic rows so we can query for child later\n    nodes: Array<HTMLElementWrapper> = [];\n    headNode: HTMLElementWrapper;\n    selectedRows: Array<number> = [];\n    lastSelectedRowIndex: number;\n    private _prevSelectedRows = [];\n    private get ROW_INDEX_KEY(): string {\n        return '$$$$rowIndex$$$$';\n    }\n    private $colResizable: JQuery | any;\n    private $dragableColumns: JQuery | any;\n    private $tablesorter: JQuery | any;\n    private scrollHandler: Function = null;\n    private modifiedVirtualRows: {[name: string]: {[name: string]: VirtualColumnChangeData}};\n    private modifiedVirtualRowsJson: {[name: string]: {}};\n    // mouseUpHandler: Function = null;\n\n    /* istanbul ignore next */\n    private dataSourceDiffer: IterableDiffer<Array<any>>;\n    private columnsDiffer: IterableDiffer<Array<any>>;\n    private customRowDiffer: IterableDiffer<Array<any>>;\n\n    //virtual scroll\n    private virtualScrollDataSourceDiffer: IterableDiffer<Array<any>>;\n\n    private previousRowIndex: number = null;\n\n    /* istanbul ignore next */\n    private scrollSubcription: Subscription;\n    private scrollSubject: Subject<any> = new Subject<any>();\n    private keyupHandler: (evt: KeyboardEvent)=>void;\n\n    // Virtual script height, use internally\n    _virtualScrollDivHeight: number;\n\n    private _virtualScrollRowPerView: number;\n\n    private _isViewInit: boolean;\n\n    private maxScrollTop: number;\n\n    tableStyles: {[name: string]: string};\n    scrollContainerStyles: {[name: string]: string};\n    /* istanbul ignore next */\n    virtualScrollProgressStyles: {[name: string]: string};\n    virtualScrollSortKeys: Array<string>;\n    prevScrollTop: number = 0;\n    prevScrollTopForHiddenHeader: number = 0;\n\n    sortDirection:string = \"\";   // RXC Add\n    sortColumnId:number = 0;    // RXC Add\n\n    private _disabledScrolling: boolean;\n\n    private _tableSorterRefreshTm: any;\n\n    private _tableSorterCacheRefreshTm: any;\n\n    private _isHeaderCell: boolean;\n\n    private animationFrameId: any;\n\n    private theadHeight: number = 0;\n\n    private scrollLeft: number = 0;\n\n    private columnsHasBeenSwapped: boolean;\n\n    //init plugins timer\n    private initTm: any;\n\n    private draggableRows: boolean;\n    private shouldHandleMouseUp: boolean;\n    private isHeaderAppendToFakeTable: boolean;\n    private adjustedRows: number = 0;\n    private skipGhostHeader: boolean;\n\n    private clientHeightVirtualScroll: number;\n\n    private preMouseEvent: MouseEvent = null;\n\n    private isIE9: boolean;\n\n    /* istanbul ignore next */\n    /**\n     *\n     * @param parent see [[BaseComponent]] constructor\n     * @param sessionService see [[BaseComponent]] constructor\n     * @param el see [[BaseComponent]] constructor\n     * @param changeDetectorRef Inject ChangeDetector\n     * @param renderer see [[BaseComponent]] constructor\n     * @param zone Inject NgZone\n     * @param differs Inject InterableDiffers\n     * @param clipboardService Inject [[ClipboardService]]\n     */\n    constructor(\n        @Optional() @SkipSelf() parent: BaseComponent,\n        sessionService: SessionService,\n        private el: ElementRef,\n        private changeDetectorRef: ChangeDetectorRef,\n        renderer: Renderer2,\n        private zone: NgZone,\n        differs: IterableDiffers,\n        private clipboardService: ClipboardService\n    ) {\n        super(parent, sessionService, el, renderer);\n\n        this.dataSourceDiffer = differs.find([]).create();\n        this.columnsDiffer = differs.find([]).create();\n        this.customRowDiffer = differs.find([]).create();\n\n        this.isIE9 = isIE() == 9;\n\n        //for virtual scroll\n        this.virtualScrollDataSourceDiffer = differs.find([]).create();\n\n        this.keyupHandler = (evt: KeyboardEvent)=> this.handleKeyUp(evt);\n        this.scrollHandler = (event: MouseEvent) => {\n            if (this._disabledScrolling === true) {\n                event.preventDefault();\n                event.stopPropagation();\n                return;\n            }\n\n            if (this.prevScrollTopForHiddenHeader !== event.srcElement.scrollTop) {\n                if (!this.skipGhostHeader) {\n                    this.renderer.setStyle(this.ghostHeader.nativeElement, \"display\", \"inline-block\");\n                    if (this.controlWidth === \"100%\") {\n                        this.renderer.setStyle(this.ghostHeader.nativeElement, \"width\", \"100%\");\n                    }\n                    this.renderer.setStyle(this.tableHead.nativeElement, \"visibility\", \"hidden\");\n                }\n\n            //   if(this.forceFixWidth){\n            //     this.renderer.setStyle(this.fakeTable.nativeElement, \"table-layout\", \"fixed\");\n            //   }\n\n              if(this.tableFoot != null) {\n                this.renderer.setStyle(this.tableFoot.nativeElement, \"visibility\", \"hidden\");\n              }\n\n            //   this.appendHeaderToFakeTable();\n            \n\n                if (this.virtualScroll === true) {\n                    if (this.animationFrameId != null) {\n                        cancelAnimationFrame(this.animationFrameId);\n                    }\n\n                    this.adjustTableHead(event, false, true);\n                }\n            }\n\n            this.prevScrollTopForHiddenHeader = event.srcElement.scrollTop;\n\n            //disabled for IE11/IE9 (too slow)\n            // else {\n            //     if (this.animationFrameId != null) {\n            //         cancelAnimationFrame(this.animationFrameId);\n            //    }\n\n            //     this.animationFrameId = requestAnimationFrame(()=>this.adjustTableHead(event, true));\n            // }\n\n            this.scrollSubject.next(event);\n        };\n    }\n\n    /* istanbul ignore next */\n    /**\n     * ç»é¢ããªãµã¤ãºãããéã«åããã¤ãã³ã\n     */\n    tableResize() {\n        this.adjustTableFooter();\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Do check lifecycle\n     */\n    ngDoCheck() {\n        if (\n            this.dataSourceDiffer.diff(this._dataSource)\n        ) {\n            if (this.virtualScroll === true) {\n                this.calcVirtualScrollHeight();\n                this.calcVirtualScrollViewPort(this.prevScrollTop);\n            }\n\n            this.checkShowBlankRow();\n            this.markForCheck();\n            this.refreshTableSorter();\n        } else if (this.virtualScroll === true && this.virtualScrollDataSourceDiffer.diff(this._virtualViewPort)) {\n          this.checkShowBlankRow();\n            this.markForCheck();\n        } else {\n          this.checkCustomRowsForChanged();\n          this.checkColumnsForChanged();\n        }\n    }\n\n    /**\n     * Init lifecycle. Call parent class ngOnInit\n     */\n    ngOnInit() {\n      super.ngOnInit();\n    }\n\n    /* istanbul ignore next */\n    /**\n     * After view init lifecycle. Apply jQuery plugin and event listeners\n     */\n    ngAfterViewInit() {\n        super.ngAfterViewInit();\n\n        //1726: It looks like sophia also querying for table column def so we need to store to our parent\n        const view = this._getNoneActiveViewParent() || this.getParentView();\n\n        if (view != null && this.columns != null) {\n            this.columns.filter(col=>col.id != null && col.id !== \"\").forEach(col=>{\n              if (view[\"_tableColumnsMap\"] == null) {\n                view[\"_tableColumnsMap\"] = new Map<string, BaseComponent>();\n              }\n\n              view[\"_tableColumnsMap\"].set(KeyUtils.toMapKey(col.id), col as any);\n            });\n        }\n\n        //droppable?\n        if (this.droppable === true || this.droppable === \"true\") {\n            $(this.tableContainer.nativeElement).droppable({\n                classes: {\n                  \"ui-droppable-hover\": \"ui-state-hover\"\n                },\n                hoverClass: \"ui-state-hover\",\n                accept: \"tr\",\n                drop: (event, ui)=>{\n                    this.onDragDrop.emit();\n                },\n                tolerance: \"pointer\"\n            });\n        }\n\n        this.scrollSubcription = this.scrollSubject.pipe(debounce(()=>timer(this.scrollTimeout))).subscribe((event)=>{\n          this.renderer.removeAttribute(this.ghostHeader.nativeElement, \"display\");\n\n          /* istanbul ignore next */\n          if (this.virtualScroll === true) {\n              this.recalculateVirtualScrollData(event);\n          } else {\n              this.adjustTableHead(event);\n          }\n        });\n\n        this.scrollContainerStyles = {\n            \"overflow-y\": \"auto\",\n            \"overflow-x\": \"visible\",\n            \"position\": \"relative\"\n        }\n\n        /* istanbul ignore next */\n        if (this.virtualScroll === true) {\n            try {\n                if(this.controlHeight == null || this.controlHeight == \"100%\")\n                    this.clientHeightVirtualScroll = (this.tableContainer.nativeElement as HTMLElement).clientHeight;\n                else \n                    this.clientHeightVirtualScroll = parseInt(this.controlHeight);\n\n                if (isNaN(this.clientHeightVirtualScroll) === false) {\n                    this.recCalcNoVirtualRow();\n                    this._isViewInit = true;\n                }\n            } catch (e) {\n\n            }\n\n            this.tableStyles = {\n                \"top\": \"0px\",\n                \"left\": \"0px\",\n                \"position\": \"absolute\",\n                \"width\": \"100%\",\n                \"height\": \"calc(100% - 17px)\",\n                \"max-width\": \"100vw\",\n                \"max-height\": \"100vh\"\n            }\n\n            this.virtualScrollProgressStyles = {\n                \"top\": \"0px\",\n                \"display\": \"none\",\n                \"position\": \"absolute\"\n            }\n\n            this.calcVirtualTablePosition(0);\n        }\n\n        /* istanbul ignore next */\n         //fix expression has changed blah blah blah\n        this.detectChanges();\n\n        if (this.virtualScroll === true) {\n            this.calcVirtualScrollHeight();\n            this.calcVirtualScrollViewPort(0);\n        }\n\n        this.zone.runOutsideAngular(()=> {\n            this._isViewInit = true;\n            this.initPlugins();\n\n            this.zone.runOutsideAngular(()=>{\n                this.el.nativeElement.addEventListener('scroll', this.scrollHandler, true);\n                // this.el.nativeElement.addEventListener(\"mouseup\", this.mouseUpHandler, true);\n                this.el.nativeElement.addEventListener(\"keyup\", this.keyupHandler, true);\n            });\n        });\n    }\n\n    /* istanbul ignore next */\n    private initPlugins() {\n        if (this.$dragableColumns) {\n            this.$dragableColumns.destroy();\n        }\n\n        if (this.initTm != null) {\n          clearTimeout(this.initTm);\n        }\n\n        // if (this.table) {\n            this.renderer.setStyle(this.table.nativeElement, \"visibility\", \"hidden\");\n\n            this.initTm = setTimeout(()=>{\n                if (this.table) {\n                    this.renderer.setStyle(this.table.nativeElement, \"visibility\", \"hidden\");\n                    // åè¡¨ç¤ºæã«ã¹ã¯ã­ã¼ã«ãã¼ã®ä½ç½®ãæ»ã\n                    this.tableContainer.nativeElement.scrollLeft = 0;\n\n                    const jQueryTable = jQuery(this.table.nativeElement);\n\n                    if (this.enableColumnDragging == null || this.enableColumnDragging === true) {\n                        this.$dragableColumns = jQueryTable.dragableColumns({\n                            dropCallback: (fromIndex, toIndex)=>this.swapColumns(fromIndex, toIndex),\n                            dragEndCallback: ()=> {\n                                this.skipGhostHeader = false;\n                                this.scrollContainerStyles[\"overflow-y\"] = \"auto\";\n                                this.detectChanges();\n                                this._disabledScrolling = false;\n                            },\n                            dragStartCallback: (colIdx)=> {\n                                this.skipGhostHeader = true;\n                                let canDrag = this.canDragColumn(colIdx);\n\n                                if (canDrag) {\n                                    this.scrollContainerStyles[\"overflow-y\"] = \"hidden\";\n                                    this.detectChanges();\n                                    this._disabledScrolling = true;\n                                }\n\n                                return canDrag;\n                            },\n                            dragEnterCallback: (colIdx)=>{\n                                return this.canDragColumn(colIdx);\n                            }\n                        });\n                    }\n\n                    if ((this.enableSort == null || this.enableSort === true) && this.$tablesorter == null) {\n                        if (this.virtualScroll !== true) {\n                            this.$tablesorter = jQueryTable.tablesorter({\n                                widgets        : ['zebra', 'columns'],\n                                usNumberFormat : false,\n                                tabIndex : false,\n                                sortReset : false,\n                                sortRestart : true,\n                                sortStable : true,\n                                delayInit: true // move the initial performance hit to first sort so the table would load faster\n                            });\n                        }\n                    } else if (this.virtualScroll !== true && this.$tablesorter != null) {\n                        this.$tablesorter.trigger(\"updateHeaders\");\n                    }\n\n                    this.setHeaderWidthHeight();\n\n                    if (this.enableColumnResize == null || this.enableColumnResize === true) {\n                        let target_columns = new Array();\n                        let original_columnWidths = new Array();\n\n                        for(let i = 0; i < this.columns.length; i++){\n                            let column = this.columns.find((item, idx)=>idx === i);\n                            if(column != null)\n                            {\n                                const headChildren = this.tableHead.nativeElement.querySelector('th:nth-child(' + (i+1) + ')');\n                                target_columns.push(headChildren);\n                                original_columnWidths.push(headChildren.style.width);\n                            }\n                        }\n                        //reset\n                        this._cleanupColResize();\n                        this.$colResizable = jQueryTable.colResizable({\n                            liveDrag: false, //turning this on will incurred a severe performance penalty on IE so leave it off\n                            resizeMode: 'overflow',\n                            partialRefresh: true, //After closing the window and opening again, columnResizer can't work. To fix that, this value is needed.,\n                            headerOnly: true //allow dragging using header only\n                        });\n\n                        for(let i = 0; i < target_columns.length; i++){\n                            const targetColumn = target_columns[i];\n                            const headChildren_width = this.toWholeNumber(targetColumn.style.width.slice(0,-2));\n                            const originalChildren_width = this.toWholeNumber(original_columnWidths[i]);\n                            // if(headChildren_width < originalChildren_width){\n                                this.renderer.setStyle(targetColumn, \"width\", original_columnWidths[i]);\n                            // }\n                        }\n                        target_columns = null;\n                        original_columnWidths = null;\n                    }\n\n                    this.adjustTableFooter();\n                    this.renderer.setStyle(this.table.nativeElement, \"table-layout\", this.tableLayout);\n                }\n\n                if (this.table != null) {\n                    this.renderer.removeStyle(this.table.nativeElement, \"visibility\");\n                }\n            }, 200);\n        //}\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Destroy lifecycle. Remove event listeners\n     */\n    ngOnDestroy() {\n        super.ngOnDestroy();\n        this.cleanUpChildNodes(true);\n        this.clearHeaderNodes(true);\n\n        //1726: It looks like sophia also querying for table column def so we need to store to our parent\n        const view = this._getNoneActiveViewParent() || this.getParentView();\n\n        if (view != null && view[\"_tableColumnsMap\"] != null) {\n          view[\"_tableColumnsMap\"].clear();\n          view[\"_tableColumnsMap\"] = null;\n        }\n\n        if (this._children != null) {\n          this._children.clear();\n        }\n\n        this._children = null;\n\n        if (this._viewChildrenMap != null) {\n          this._viewChildrenMap.clear();\n        }\n\n        this._viewChildrenMap = null;\n\n        if (this.scrollSubcription != null) {\n          this.scrollSubcription.unsubscribe();\n        }\n\n        this.modifiedVirtualRows = null;\n        this.modifiedVirtualRowsJson = null;\n\n        this.scrollSubject = null;\n        this.scrollSubcription = null;\n\n        if(this.scrollHandler) {\n            this.el.nativeElement.removeEventListener('scroll', this.scrollHandler, true);\n            this.scrollHandler = null;\n        }\n\n        // if (this.mouseUpHandler) {\n        //     this.el.nativeElement.removeEventListener(\"mouseup\", this.mouseUpHandler, true);\n        //     this.mouseUpHandler = null;\n        // }\n\n        if (this.keyupHandler) {\n            this.table.nativeElement.removeEventListener(\"keyup\", this.keyupHandler, true);\n            this.keyupHandler = null;\n        }\n\n        if (this.$dragableColumns != null) {\n            this.$dragableColumns.destroy();\n        }\n\n        // if (this.columnsChangeSubscription != null) {\n        //     this.columnsChangeSubscription.unsubscribe();\n        // }\n\n        // this.columnsChangeSubscription = null;\n        this.dataSourceDiffer = null;\n        this.columnsDiffer = null;\n        this.customRowDiffer = null;\n        this.virtualScrollDataSourceDiffer = null;\n        this.selectedRows = null;\n        this.tableHead = null;\n        this.tableWrapper = null;\n        this.tableContainer = null;\n        this.table = null;\n        this.preMouseEvent = null;\n        this.scrollContainerStyles = null;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Check to see if columns have changes\n     */\n    private checkColumnsForChanged() {\n        if (this.columns != null && this.columnsDiffer.diff(this.columns.map<any>(item=>{\n            return {\n                visible: item.visible,\n                header: item.header,\n                controlWidth: item.controlWidth,\n                locked: item.locked,\n                enabled: item.enabled,\n                sortable: item.sortable\n            }\n\n            // PK: DO NOT REMOVED\n            // Comment this out for now and revert to previous, will bring this back\n            // when we added a diff to check for changes in vt-row\n            // return item.visible +\n            //     item.header +\n            //     item.controlWidth +\n            //     item.locked +\n            //     item.enabled +\n            //     item.sortable;\n        }))){\n          //this.cleanUpChildNodes();\n          this.markForCheck();\n          this.recCalcNoVirtualRow();\n        }\n    }\n\n    /* istanbul ignore next */\n    private checkCustomRowsForChanged() {\n        if (this._tableRow != null && this.customRowDiffer.diff(this._tableRow as any)) {\n          this.checkShowBlankRow();\n            this.markForCheck();\n        }\n    }\n\n    /* istanbul ignore next */\n    private clearHeaderNodes(nullOutHeadNode: boolean = false) {\n      if (this.headNode != null) {\n        if (this.headNode.childNodes != null && this.headNode.childNodes.length > 0) {\n          for (let node of this.headNode.childNodes) {\n            const parentView = this.getParentView();\n\n            if (parentView != null) {\n              parentView.removeViewChildFromMap(node.getId());\n            }\n\n            node.destroy();\n          }\n        }\n\n        this.headNode.childNodes = [];\n      }\n\n      if (nullOutHeadNode === true) {\n        this.headNode = null;\n      }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Clean up our faux table children\n     */\n    private cleanUpChildNodes(skipTrackingVirtualRow: boolean = false) {\n        if (this.nodes != null) {\n            const parentView = this.getParentView();\n\n            for (let node of this.nodes) {\n                //cache modified data if virtual scroll\n                if (\n                    skipTrackingVirtualRow !== true &&\n                    node.getLocalName() === \"row\" &&\n                    this.virtualScroll === true &&\n                    this.modifiedVirtualRows != null &&\n                    this.modifiedVirtualRows[node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] != null\n                ) {\n                    this._checkInitModifiedVirtualRowsJson();\n                    this.modifiedVirtualRowsJson[node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = node.toJson();\n                }\n\n                //removed ourself from parent cache\n                if (parentView != null) {\n                    parentView.removeViewChildFromMap(node.getId());\n                }\n\n                node.destroy();\n            }\n        }\n\n        this.nodes = [];\n\n        if (this.virtualScroll !== true) {\n            this.selectedRows = [];\n        }\n\n        this._prevSelectedRows = [];\n        this.lastSelectedRowIndex = null;\n    }\n\n    /**\n     * Get the datasource row count\n     * @returns Number of rows in [[dataSource]]\n     */\n    getRowCount(): number {\n        return this._dataSource ? this._dataSource.length : 0;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Add/remove row to list of selected rows\n     * @param row\n     * @param isSelected If true, row will be added, otherwise row will be removed from selected rows collection\n     */\n    selectRow(row: HTMLElementWrapper, isSelected: boolean) {\n        let rowIndex = -1;\n\n        if (this.virtualScroll === true) {\n            const tempNode = _.find(this.nodes, (node) => {\n                return node === row;\n            });\n\n            if (tempNode != null) {\n                rowIndex = tempNode[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];\n            }\n        } else {\n            rowIndex = _.findIndex(this.nodes, (node) => {\n                return node === row;\n            });\n        }\n\n        if (rowIndex >= 0 && rowIndex < this._dataSource.length) {\n            let idx = _.findIndex(this.selectedRows, (row) => {\n                return row === rowIndex;\n            });\n\n            if (isSelected) {\n                //if it wasn't selected, add it in selectedRows.\n                if (idx < 0) {\n                    this.selectedRows.push(rowIndex);\n                }\n            } else {\n                //if it was selected before, remove it from selectedRows.\n                if (idx >= 0) {\n                    this.selectedRows.splice(idx, 1);\n                }\n            }\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Event handler for click on row\n     * @param event Mouse click event\n     * @param rowIndex Index of the row that was clicked\n     * @event onStateChange\n     */\n    onRowClick(event: MouseEvent, rowIndex: number) {\n        //add the row to view children map for lookup\n        const parentView = this.getParentView();\n\n        /* istanbul ignore if */\n        if (parentView != null) {\n            parentView.addViewChildToMap(this.nodes[rowIndex]);\n\n            if (this.previousRowIndex != null && this.nodes[this.previousRowIndex] != null) {\n                parentView.removeViewChildFromMap(this.nodes[this.previousRowIndex].getId());\n            }\n        }\n\n        this.previousRowIndex = rowIndex;\n        this.triggerStateChange();\n    }\n\n    /* istanbul ignore next */\n    private triggerStateChange() {\n      const clientEvent = new ClientEvent(this, event);\n\n      if (AppUtils.customizeClientEvent != null) {\n        AppUtils.customizeClientEvent(this, clientEvent);\n      }\n\n      if (this.getParentView() != null) {\n          clientEvent.setParameter(\"screenId\", this.getParentView().getId());\n      }\n\n      clientEvent.setParameter(\"id\", this.getId());\n\n      //user can selected more than one row\n      let rowId: string = this.selectedRows.map(idx=>this.getChildByOriginalRowIndex(idx).getId()).join(\",\");\n\n      clientEvent.setParameter(\"rowId\", rowId);\n\n      this.getSession().getEventHandler().setClientEvent(clientEvent);\n      this.onStateChange.emit();\n    }\n\n    /* istanbul ignore next */\n    private getChildByOriginalRowIndex(index: number): HTMLElementWrapper {\n        let node: HTMLElementWrapper = this.nodes[index];\n\n        if (this.virtualScroll === true) {\n            node = _.find(this.nodes, (el: HTMLElementWrapper)=>{\n                return el[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] === index;\n            });\n        }\n\n        return node;\n    }\n\n    handleMouseUp(event: MouseEvent, rowIndex: number, row: any) {\n      //for draggale rows, we need to double check row selection again\n      if (this.draggableRows === true && this.shouldHandleMouseUp === true) {\n        this.toggleRowSelection(event, rowIndex, row, true);\n      }\n\n      this.shouldHandleMouseUp = false;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Set row as selected/unselected\n     * @param rowIndex Index of row to toggle on/off\n     */\n    toggleRowSelection(event: MouseEvent, rowIndex: number, row: any, isMouseUp: boolean = false) {\n\n        const targetEl = <HTMLElement>event.target;\n\n        if (targetEl.tagName.toLowerCase() == 'input' && targetEl.getAttribute('type') != null) {\n            if (targetEl.getAttribute('type').toLowerCase() == 'radio') {\n                return;\n            }\n        }\n\n        if (targetEl.tagName.toLowerCase() == 'button') {\n            return;\n        }\n\n        let actualRowIndex = rowIndex;\n\n        //prevent text selection when shiftKey is pressed\n        if (event.shiftKey === true && event.preventDefault) {\n            event.preventDefault();\n        }\n\n        if (this.selectionMode !== \"none\") {\n            if (this.virtualScroll === true && row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] != null) {\n              actualRowIndex = row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];\n            }\n\n            //if user is not pressing shift key, clear all previous selection\n            if (event.shiftKey !== true && event.ctrlKey !== true && event.buttons !== 2) {\n              let clearSelection = true;\n\n              if (this.draggableRows === true && isMouseUp !== true && this.selectedRows.indexOf(actualRowIndex) >= 0) {\n                clearSelection = false;\n                this.shouldHandleMouseUp = true;\n              }\n\n              if (clearSelection) {\n                this.selectedRows.splice(0, this.selectedRows.length);\n              }\n            }\n\n            let idx = _.findIndex(this.selectedRows, (row) => {\n                return row === actualRowIndex;\n            });\n\n            if (idx < 0) {\n                //if multi row and user is pressing shift/ctrl key, allow multi row selection\n                if (this.selectionMode === \"multiRow\" && (event.shiftKey || event.ctrlKey)) {\n                    if (event.ctrlKey) {\n                        this.selectedRows.push(actualRowIndex);\n                    } else if (event.shiftKey) {\n                        if (this.lastSelectedRowIndex >= 0) {\n                            if (this.lastSelectedRowIndex > rowIndex) {\n                                for (let i = rowIndex; i < this.lastSelectedRowIndex; i++) {\n                                    this.selectedRows.push(this.getOriginalIndex(i));\n                                }\n                            } else if (this.lastSelectedRowIndex < rowIndex) {\n                                for (let i = this.lastSelectedRowIndex + 1; i <= rowIndex; i++) {\n                                    this.selectedRows.push(this.getOriginalIndex(i));\n                                }\n                            } else {\n                                this.selectedRows.push(actualRowIndex);\n                            }\n                        } else {\n                            this.selectedRows.push(actualRowIndex);\n                        }\n                    }\n                } else {\n                    this.selectedRows = [actualRowIndex];\n                }\n            } else if (event.ctrlKey === true && idx >= 0 && event.buttons !== 2) {\n                //if control key is pressed (and not right click), remove the selected row\n                this.selectedRows.splice(idx, 1);\n            }\n\n            this.detectChanges();\n            this.lastSelectedRowIndex = rowIndex;\n        }\n\n        this.triggerStateChange();\n    }\n\n    /**\n     * return the actual indexes base on datasource\n     *\n     * @param index\n     */\n    private getOriginalIndex(index: number): number {\n        if (this.virtualScroll === true && this.nodes[index] != null) {\n            return this.nodes[index][TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];\n        }\n\n        return index;\n    }\n\n    /**\n     * Set [[disabled]] property value\n     * @param boo Toggle [[disabled]]\n     */\n    setDisabled(boo: boolean) {\n        this.disabled = boo;\n    }\n\n    /**\n     * Get [[disabled]] property value\n     */\n    getDisabled(): boolean {\n        return this.disabled;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Get a collection of all row elements that are selected\n     * @returns The selected rows\n     */\n    getSelectedRows(): Array<HTMLElementWrapper> {\n        const selectedRowElements: Array<HTMLElementWrapper> = [];\n\n        /* istanbul ignore if */\n        if (this.selectedRows.length > 0 && this.nodes != null && this.nodes.length > 0) {\n            for (let rowIndex of this.selectedRows) {\n                for (let node of this.nodes) {\n                    if (node.getLocalName() === \"row\" && node.rowNumber === rowIndex) {\n                        selectedRowElements.push(node);\n                        break;\n                    }\n                }\n            }\n        }\n\n        return selectedRowElements;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Get collection of selected row indexes\n     */\n    getSelectedRowIndexes(): Array<number> {\n        return this.selectedRows.map(row => {\n            return row[this.ROW_INDEX_KEY];\n        });\n    }\n\n    /**\n     * Event handler for row select event\n     * @param event\n     */\n    handleRowSelection(event: any) {\n        /* istanbul ignore next */\n        if (!_.isEqual(event.selected, this._prevSelectedRows)) {\n            this.onChange.emit(new TableSelectionEvent(event.selected));\n        }\n\n        this._prevSelectedRows = event.selected;\n    }\n\n    /**\n     * Event handler for double click on cell\n     * @param event\n     * @event onDoubleClick\n     */\n    handleCellActivation(event: any) {\n        if (event.type === 'dblclick') {\n            this.onDoubleClick.emit(new TableSelectionEvent(event.row));\n        }\n    }\n\n    //internal\n    appendRowIndexToRow(row: any, rowIndex: number) {\n        row[this.ROW_INDEX_KEY] = rowIndex;\n    }\n\n    /* istanbul ignore */\n    /**\n     * Trigger change detection and re-render the table\n     * @param clearData Set to true to empty table data\n     */\n    refresh(clearData: boolean = false) {\n        if (clearData == true) {\n            this._dataSource = [];\n        }\n\n        this.detectChanges();\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Get [[changeDetectorRef]] property\n     * @return the ChangeDetector\n     */\n    protected getChangeDetector(): ChangeDetectorRef {\n      return this.changeDetectorRef;\n    }\n\n    /**\n     * Get NexaWeb tag name\n     * @returns Tag name\n     */\n    protected getNxTagName() {\n        return \"table\";\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Conver the content of this screens to JSON object so it can be sent to the server.\n     */\n    toJson(): {} {\n        const json: any = super.toJson();\n\n        // if (this.getSelectedRows() != null && this.getSelectedRows().length > 0) {\n        //     this.setJson(json, \"selectedRows\", this.getSelectedRows().map(item=>item.toJson()));\n        // }\n\n        if (\n            this.nodes != null &&\n            this.nodes.length > 0\n        ) {\n            //virtual scroll (track which rows we already converted)\n            let tempRows: {[name: string]: any}\n\n            if (this.virtualScroll === true) {\n                tempRows = {};\n            }\n\n            json[\"rows\"] = this.nodes.map((node, index)=>{\n                const rowJson = node.toJson();\n\n                if (this.selectedRows != null && this.selectedRows.indexOf(index) >= 0) {\n                    rowJson[\"selected\"] = \"true\";\n                    rowJson[\"index\"] = index + \"\";\n                }\n\n                if (this.virtualScroll === true) {\n                    tempRows[node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];\n                }\n\n                return rowJson;\n            });\n\n            //virtual scroll data\n            if (this.virtualScroll === true && this.modifiedVirtualRowsJson != null) {\n                const keys = _.keys(this.modifiedVirtualRowsJson);\n\n                for (const key of keys) {\n                    //make sure we not already converted them\n                    if (tempRows[key] == null) {\n                        json[\"rows\"].push(this.modifiedVirtualRowsJson[key]);\n                    }\n                }\n            }\n        }\n\n        if (this.columns != null && this.columns.length > 0) {\n            let columns = this.columns;\n            if (\n                this.getLocalName() === \"table\" &&\n                this.columnsHasBeenSwapped === true\n            ) {\n                columns = _.orderBy(columns, (child: TableColumnDirective)=> {\n                  return child.originalColumnIndex;\n                }) as any;\n            }\n\n            json[\"columnDefs\"] = columns.map((column, index)=>{\n                const def = {\n                    \"visible\": this.toJsonValue(column.visible),\n                    \"locked\": this.toJsonValue(column.locked),\n                    \"enabled\": this.toJsonValue(column.enabled),\n                    \"sortable\": this.toJsonValue(column.sortable),\n                    \"isChecked\": this.toJsonValue(column.isChecked),\n                    \"customAttributes\": BaseComponent.mapToJson(column.customAttributes)\n                };\n\n                // make sure customAttributes has 'width' property\n                if (def[\"customAttributes\"][\"width\"] != null)\n                {\n                    const node = this.headNode.getChildAt(index);\n                    const width = this.toWholeNumber(node.htmlElement.style.width.slice(0,-2));//server expect whole number\n                    def[\"customAttributes\"][\"width\"] = this.toJsonValue(width);\n                }\n\n                if (column.id) {\n                    def[\"id\"] = this.toJsonValue(column.id);\n                } else {\n                    def[\"id\"] = BaseComponent.generateUniqueId(\"column\");\n                }\n\n                if (column.locked === true) {\n                    def[\"tagName\"] = \"lockedColumn\";\n                    def[\"nxTagName\"] = \"lockedColumn\";\n                } else {\n                    def[\"tagName\"] = \"column\";\n                    def[\"nxTagName\"] = \"column\";\n                }\n\n                //header tag of column\n                /* istanbul ignore next */\n                const header = {\n                    \"tagName\": \"header\",\n                    \"nxTagName\": \"header\",\n                    \"text\": this.toJsonValue(column.header)\n                };\n\n                if (column.headerDirective && column.headerDirective.id) {\n                    header[\"id\"] = this.toJsonValue(column.headerDirective.id);\n                } else {\n                    header[\"id\"] = BaseComponent.generateUniqueId(\"header\");\n                }\n\n                def[\"children\"] = [header];\n\n                return def;\n            });\n        }\n\n        return json;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Convert child to JSON\n     * @param child child to be converted to JSON\n     */\n    protected childToJson(child: BaseComponent) {\n        return child.getTagName() === \"headrow\" || child.getTagName() === \"headcell\" ? child.toJson() : null;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Add element to internal list of row, cell, or header cell\n     * @param type 'row' | 'cell' | 'headcell'\n     * @param event Create event\n     * @param rowOrColumnIndex\n     * @param rowDataOrColumnDef\n     */\n    registerFauxElement(type: string, event: OnCreateEvent, rowOrColumnIndex: number, rowDataOrColumnDef: any) {\n        this._isHeaderCell = false;\n\n        if (rowDataOrColumnDef === null ||\n            (rowDataOrColumnDef !== undefined &&\n                rowDataOrColumnDef !== null &&\n                rowDataOrColumnDef.skipTracking !== true)) {\n            if (type === \"row\") {\n                this.trackRow(event, rowOrColumnIndex, rowDataOrColumnDef);\n            } else if (type === \"cell\") {\n                this.trackCell(event, rowOrColumnIndex, rowDataOrColumnDef);\n            } else if (type === \"headcell\") {\n                this._isHeaderCell = true;\n                this.trackHeadCell(event, rowDataOrColumnDef);\n\n                if (rowOrColumnIndex === this.columns.length - 1) {\n                  this.initPlugins();\n                }\n            }\n        }\n    }\n\n    /**\n     * Get [[nodes]] property\n     * @returns Node list\n     */\n    getTableChildren(): Array<HTMLElementWrapper> {\n      return this.nodes;\n    }\n\n    /**\n     * Get number of nodes\n     * @returns Number of nodes\n     */\n    getChildCount(): number {\n        return this.nodes != null ? this.nodes.length : 0;\n    }\n\n    /**\n     * Get all children of this table\n     * @return List of children\n     */\n    getChildren(): Vector<any> {\n        const children: Vector<HTMLElementWrapper> = new Vector<HTMLElementWrapper>();\n\n        _.forEach(this.getTableChildren(), (child)=>children.add(child));\n\n        return children;\n    }\n\n    /**\n     *\n     * @param xpathExpression Get query result from an xpath expression string\n     */\n    evaluateXPath(xpathExpression: string): any {\n      const result: Vector<any> = new Vector<any>();\n      const xpathResult: XPathResult = document.evaluate(xpathExpression.replace(\"cell[\", \"td[\").replace(\"row[\", \"tr[\"), this.elementRef.nativeElement, null, XPathResult.ANY_TYPE, null);\n\n      if (xpathResult != null) {\n        let node: Node = xpathResult.iterateNext();\n\n        while(node) {\n          result.add(node);\n          node = xpathResult.iterateNext();\n        }\n      }\n\n      return result;\n    }\n\n    /**\n     *\n     * @param childOrArrayOrStringWtf\n     * @param rowNumber\n     */\n    /* istanbul ignore next */\n    appendChild(childOrArrayOrStringWtf: any, rowNumber: number = -1) {\n        //TODO need to append child to certain row? dpending on childOrArrayOrStringWtf\n    }\n\n    /**\n     * Check if the row has been selected\n     * @param rowIndex Index of row to check\n     * @returns True if row is a selected row\n     */\n    isSelectedRow(rowIndex: number, row: any) {\n      if (this.virtualScroll === true && row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] != null) {\n        rowIndex = row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];\n      }\n\n      return this.selectedRows != null && this.selectedRows.indexOf(rowIndex) >= 0;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Get custom attributes of row if it has any, otherwise return null\n     * @param row\n     * @param rowOrColumnIndex\n     */\n    getRowCustomAttributes(row: any, rowOrColumnIndex: number) {\n        if (typeof this.rowCustomAttributeBuilder === \"function\") {\n            return this.rowCustomAttributeBuilder(row, rowOrColumnIndex, (this._getNoneActiveViewParent() || this.getParentView()) as ViewComponent);\n        }\n\n        if (row != null && row.customAttributes) {\n            return row.customAttributes;\n        }\n\n        return null;\n    }\n\n    /**\n     * Check if column is visible. Either by index or column\n     * @param index\n     * @param column\n     * @returns True if column is visible\n     */\n    isColumnVisible(index: number, column: TableColumnDirective = null): boolean {\n        if (column != null) {\n            return column.visible;\n        }\n\n        return this.columns.find((item, idx)=>idx === index).visible;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Add a child component to the table\n     * @param child Component to add\n     */\n    protected addChild(child: BaseComponent) {\n        super.addChild(child);\n        const row = this.nodes[this.nodes.length - 1];\n\n        if (this._isHeaderCell !== true && row) {\n            child.tableRowNo = row.rowNumber;\n            row.parentTableId = this.id;\n            row.parentTable = this;\n            //when we get here row.childNodes[currentLength] should be the cell parent row\n            //append child component to cell (for dynamic)\n            if (row.childNodes[row.childNodes.length - 1] == null) {\n                console.error(\"TableComponent: Unable to register element to cell of current row (cell is null)\");\n            } else {\n                child.setAttribute(\"isLockedColumn\", row.childNodes[row.childNodes.length - 1].getAttribute(\"isLockedColumn\", true));\n                row.childNodes[row.childNodes.length - 1].setComponent(child, true);\n\n                //sophia #1728: restricted right click\n                if (this.restrictCellPopup === true) {\n                  child.skipEmitContextMenuEvent = true;\n                }\n\n                if (this.virtualScroll !== true) {\n                  const sortValue = child.getAttribute(\"sortValue\", true);\n\n                  if (sortValue != null) {\n                      this.renderer.setAttribute(row.childNodes[row.childNodes.length - 1].htmlElement, \"data-text\", sortValue);\n                  }\n                }\n\n                //track change if virtual scroll\n                /* istanbul ignore if */\n                if (\n                    this.virtualScroll === true &&\n                    (\n                        child instanceof CheckboxComponent ||\n                        child instanceof RadioButtonComponent ||\n                        child instanceof TextFieldComponent ||\n                        child instanceof ComboBoxComponent\n                    )\n                ) {\n                    const columnIdx = row.childNodes.length - 1;\n\n                    //has cached data?\n                    if (\n                      this.modifiedVirtualRows != null &&\n                      this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] != null &&\n                      this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]][row.childNodes[columnIdx][\"originalColumnIndex\"]] != null\n                    ) {\n                        const temp = this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]][row.childNodes[columnIdx][\"originalColumnIndex\"]];\n\n                        if (temp.text !== undefined) {\n                            (child as any).setText(temp.text);\n                        }\n\n                        (child as any).setChecked(temp.checked, true);\n                    }\n\n                    child._internalChangeCb = (comp)=>{\n                        this._checkInitModifiedVirtualRows();\n\n                        if (this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] == null) {\n                            this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = {};\n                        }\n\n                        this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]][row.childNodes[columnIdx][\"originalColumnIndex\"]] = {\n                            text: comp.getText(),\n                            checked: comp.getChecked()\n                        };\n                    }\n                }\n            }\n        }\n        else if(this.headNode != null){\n          //skip emiting event so we can emit ourself.\n          child.skipEmitContextMenuEvent = true;\n          child.tableRowNo = -1;\n          this.headNode.parentTableId = this.id;\n          this.headNode.parentTable = this;\n          this.headNode.childNodes[this.headNode.childNodes.length - 1].setComponent(child);\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * é¸æä¸­ã®è¡ãåé¤ãã\n     */\n    removeSelectedRow(){\n        if (this.selectedRows.length > 0){\n            // é¸æè¡ãéé ã§ä¸¦ã³æ¿ãã\n            let selected :Array<number> = this.selectedRows.concat().sort(function(v1,v2){return v2-v1;});\n            for (let idx of selected) {\n                let child : HTMLElementWrapper = this.nodes[idx];\n                for(let target of child.childNodes) {\n                    this.removeChild(target.getComponent());\n                }\n                child.destroy();\n                this.nodes.splice(idx, 1);\n                this.dataSource.splice(idx, 1);\n            }\n            let rowNumber :number = 0;\n            for(let row of this.nodes){\n                row.rowNumber = rowNumber++;\n            }\n            this.selectedRows = [];\n        }\n    }\n\n    /**\n     * Check if this is a container component\n     * @returns True\n     */\n    protected isContainer() {\n      return true;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Add row to list of nodes\n     * @param event\n     * @param rowOrColumnIndex\n     * @param rowData\n     */\n    private trackRow(event: OnCreateEvent, rowOrColumnIndex: number, rowData: any) {\n        const row = new HTMLElementWrapper(this.renderer, \"\", this.getSession());\n        row.rowNumber = rowOrColumnIndex;\n        row.htmlElement = event.element.nativeElement as HTMLElement;\n        this.setParentScreenId(row);\n        row.setLocaleName(\"row\");\n\n        const customAttributes = this.getRowCustomAttributes(rowData, rowOrColumnIndex);\n\n        if (customAttributes != null && customAttributes !== \"\") {\n            row.appendCustomAttributes(customAttributes);\n        }\n\n        if (rowData != null && rowData.id != null) {\n            row.setAttribute(\"id\", rowData.id);\n        }\n\n        if (this.virtualScroll === true && rowData != null) {\n            row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] = rowData[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];\n        }\n\n        this.trackNode(row);\n\n        //draggable row\n        if (row.isDraggable()) {\n            row.applyDraggable();\n            this.draggableRows = true;\n        }\n    }\n\n    toRowIndex(rowIndex: number, rowData: any): number {\n        return this.virtualScroll === true && rowData != null ? rowData[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] : rowIndex;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Add cell to list of nodes\n     * @param event\n     * @param columnDef\n     */\n    private trackCell(event: OnCreateEvent, columnIndex: number, columnDef: TableColumnDirective) {\n        const cell = new HTMLElementWrapper(this.renderer, \"\", this.getSession());\n        cell.htmlElement = event.element.nativeElement as HTMLElement;\n        cell.setLocaleName(\"cell\");\n        if (columnDef.customAttributes !== undefined) {\n            if (!cell.getAttribute(\"class\")) {\n                cell.setAttribute(\"class\", columnDef.customAttributes[\"class\"]);\n            } else {\n                let orgClass: string = cell.getAttribute(\"class\");\n                cell.setAttribute(\"class\", orgClass + \" \" + columnDef.customAttributes[\"class\"]);\n            }\n        }\n        cell.setAttribute(\"isLockedColumn\", columnDef.locked + \"\");\n        this.setParentScreenId(cell);\n\n        //track original column index for sorting\n        if (columnDef.originalColumnIndex == null) {\n            columnDef.originalColumnIndex = columnIndex;\n        }\n\n        cell[\"originalColumnIndex\"] = columnDef.originalColumnIndex;\n\n        //add cell to current row\n        if (this.nodes[this.nodes.length - 1] !== undefined && this.nodes[this.nodes.length - 1] !== null){\n            this.nodes[this.nodes.length - 1].appendChild(cell,false);\n        }\n    }\n\n    /* istanbul ignore next */\n    private trackHeadCell(event: OnCreateEvent, columnDef: TableColumnDirective) {\n        if(this.headNode == null){\n            this.headNode = new HTMLElementWrapper(this.renderer, \"\", this.getSession());\n            this.headNode.rowNumber = -1;\n            this.setParentScreenId(this.headNode);\n            this.headNode.setLocaleName(\"headrow\");\n        }\n\n        const cell = new HTMLElementWrapper(this.renderer, \"\", this.getSession());\n        cell.htmlElement = event.element.nativeElement as HTMLElement;\n        cell.setLocaleName(\"headcell\");\n        cell.setAttribute(\"isLockedColumn\", columnDef.locked + \"\");\n        cell.customData = columnDef;\n        this.setParentScreenId(cell);\n\n        this.headNode.appendChild(cell);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Add element to internal [[nodes]] list to keep track of\n     * @param node Element to add to internal node list\n     */\n    private trackNode(node: HTMLElementWrapper) {\n        if (this.nodes == null) {\n        this.nodes = [];\n        }\n\n        this.nodes.push(node);\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Set the parent screen id on an element\n     * @param el\n     */\n    private setParentScreenId(el: HTMLElementWrapper) {\n        if (this.getParentView() != null) {\n            el.parentScreenId = this.getParentView().getId();\n        }\n    }\n\n    /**\n     * Get invoke [[rowStyleFn]] on a row and get it's style\n     * @param row\n     * @returns Style attributes\n     */\n    rowStyleClass(row: any): string {\n        if (typeof this.rowStyleFn === \"function\") {\n            return this.rowStyleFn(row);\n        }\n\n        return \"\";\n    }\n\n    /**\n     * Find the child node by id\n     * @param id Child's id\n     */\n    getChildNodeById(id: string): HTMLElementWrapper {\n        return this.nodes != null ? this.nodes.find(child=>child.id === id) : null;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Handle cell onContextMenu if component inside the cell has not already handle it\n     *\n     * @param rowNumber\n     * @param columnIndex\n     * @param event\n     */\n    handleColumnOnContextMenu(column: TableCellDirective ,rowNumber, columnIndex: number, event: MouseEvent) {\n        if (this.nodes != null && this.nodes[rowNumber] != null) {\n            const childColumn = this.nodes[rowNumber].getChildAt(columnIndex);\n\n            if (childColumn != null && childColumn.component != null) {\n              //sophia #1728\n              if (this.restrictCellPopup !== true) {\n                childColumn.component.handleOnContextMenu(event);\n              } else if (this.restrictCellPopup === true) {\n                if (childColumn.component.popup != null && childColumn.component.popup !== \"\") {\n                  childColumn.component.handleOnContextMenu(event, true);\n                } else {\n                  event.preventDefault();\n                  event.stopPropagation();\n                }\n              }\n            } else if (column != null) {\n                if (this.getSession() != null) {\n                    this.getSession().setMousePosition(event);\n                }\n\n                const parentView = this.getParentView();\n                let popupMenuId: string = null;\n\n                if (parentView != null) {\n                    popupMenuId = (parentView as ViewComponent).getFirstPopupMenuId();\n                }\n\n                if (typeof column.onContextMenuCb === \"function\") {\n                  column.onContextMenuCb(this._getNoneActiveViewParent() || this.getParentView());\n                }\n\n                if (popupMenuId != null) {\n                    event.stopPropagation();\n                    event.preventDefault();\n\n                    const tm = setTimeout(()=>{\n                      clearTimeout(tm);\n\n                      if (this.getSession()._currentPopupMenuId != null) {\n                          popupMenuId = this.getSession()._currentPopupMenuId;\n                      }\n\n                      this.getSession().showContextMenu(popupMenuId);\n                      this.getSession()._currentPopupMenuId = null;\n                    });\n                }\n            }\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Event handler for context click on the header\n     * @param columnIndex Index of column that was clicked\n     * @param event\n     */\n    handleHeaderOnContextMenu(columnIndex: number, event: MouseEvent) {\n        /* istanbul ignore if */\n        if (this.headNode != null) {\n            const childColumn = this.headNode.getChildAt(columnIndex);\n\n            if (childColumn != null && childColumn.component != null) {\n              const clientEvent = new ClientEvent(childColumn, event);\n\n              if (AppUtils.customizeClientEvent != null) {\n                AppUtils.customizeClientEvent(childColumn, clientEvent);\n              }\n\n              if (this.getParentView() != null) {\n                  clientEvent.setParameter(\"screenId\", this.getParentView().getId());\n              }\n\n              clientEvent.setParameter(\"id\", this.getId());\n\n              this.getSession().getEventHandler().setClientEvent(clientEvent);\n\n              childColumn.component.handleOnContextMenu(event, true);\n            }\n        }\n    }\n\n    /* istanbul ignore next */\n    private recalculateVirtualScrollData(event: MouseEvent) {\n        /* istanbul ignore if */\n        if (this.virtualScroll === true) {\n          let scrollTop = event.srcElement.scrollTop;\n\n          //adjust only on IE9, otherwise, it will stuck in inf loop\n          if (this.isIE9 === true) {\n              scrollTop -= 0.5;\n          }\n\n          if (this.scrollLeft === event.srcElement.scrollLeft) {\n            this.calcVirtualScrollViewPort(scrollTop);\n            this.detectChanges();\n          }\n\n          this.adjustTableHead(event);\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Event handler for table head change. Set style to properly display\n     * @param event\n     */\n    private adjustTableHead(event, skipBodyAdjustment: boolean = false, skipHeader: boolean = false) {\n        if (this.table == null || event == null) return;\n        this.preMouseEvent = event;\n        let scrollTop = event.srcElement.scrollTop;\n\n        //adjust only on IE9, otherwise, it will stuck in inf loop\n        if (this.isIE9 === true) {\n            scrollTop -= 0.5;\n        }\n        \n        this.scrollLeft = event.srcElement.scrollLeft\n\n        if (this.virtualScroll === true) {\n            // if (event.srcElement.scrollTop > this.maxScrollTop) {\n            //     scrollTop = this.maxScrollTop;\n            // }\n\n            //this.calcVirtualScrollViewPort(scrollTop);\n            if (this.prevScrollTopForHiddenHeader !== scrollTop && skipHeader === true) {\n              scrollTop -= this.theadHeight;\n            }\n\n            this.prevScrollTopForHiddenHeader = scrollTop;\n            this._disabledScrolling = true;\n            this.calcVirtualTablePosition(scrollTop);\n            setTimeout(()=>{\n                this._disabledScrolling = false;\n            },100);\n        }\n\n        if (skipHeader !== true) {\n        //   this.fakeTable.nativeElement.innerHTML = \"\";\n        //   this.isHeaderAppendToFakeTable = false;\n          this.renderer.removeStyle(this.tableHead.nativeElement, \"visibility\");\n          if(this.tableFoot != null) {\n            this.renderer.removeStyle(this.tableFoot.nativeElement, \"visibility\");\n          }\n\n          this.renderer.setStyle(this.ghostHeader.nativeElement, \"display\", \"none\");\n\n          const table = this.table.nativeElement;\n          const thead = table.querySelector('thead');\n          const tbody = table.querySelector('tbody');\n\n\n          for(let i = 0; i < this.columns.length; i++){\n              let column = this.columns.find((item, idx)=>idx === i);\n              if(column != null && column.visible && column.locked)\n              {\n                  const headChildren = $(thead.querySelector('th:nth-child(' + (i+1) + ')'));\n                  let trans = `translate(${this.scrollLeft}px, ${scrollTop}px)`;\n\n                  if (this.virtualScroll === true) {\n                      trans = `translateX(${this.scrollLeft}px)`;\n                  }\n\n                  headChildren.css(\"transform\", trans);\n                  headChildren.css(\"-ms-transform\", trans);\n\n                  if (skipBodyAdjustment !== true) {\n                      const bodyChildren = $(tbody.querySelectorAll('td:nth-child(' + (i+1) + ')'));\n                      bodyChildren.css(\"transform\", `translate(${this.scrollLeft}px`);\n                      bodyChildren.css(\"-ms-transform\", `translate(${this.scrollLeft}px`);\n                  }\n              } else if (column != null && column.visible && this.virtualScroll !== true) {\n                  const headChildren = $(thead.querySelector('th:nth-child(' + (i+1) + ')'));\n                  const trans = `translateY(${scrollTop}px)`;\n\n                  headChildren.css(\"transform\", trans);\n                  headChildren.css(\"-ms-transform\", trans);\n              }\n          }\n\n          this.adjustTableFooter();\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Set table footer styles for proper display\n     */\n    private adjustTableFooter() {\n        /* istanbul ignore if */\n      if (this.table == null) return;\n\n      const tfoot = this.table.nativeElement.querySelector(\"tfoot\");\n      /* istanbul ignore if */\n      if (tfoot != null) {\n        //Vivify, for https://github.com/weaveio/ngnsophia/issues/1806\n        let tfootPos = 0;\n        if($(this.table.nativeElement).height() < $(this.tableContainer.nativeElement).height()) {\n            tfootPos = $(this.tableContainer.nativeElement).height() - $(this.table.nativeElement).height();\n        } else {\n            tfootPos = ($(this.tableContainer.nativeElement).height() - $(this.table.nativeElement).height()) + this.tableContainer.nativeElement.scrollTop;\n        }\n\n        for(let i = 0; i < this.columns.length; i++){\n            let column = this.columns.find((item, idx)=>idx === i);\n            if (column != null) {\n                const footChildren = $(tfoot.querySelector('td:nth-child(' + (i+1) + ')'));\n                const trans = `translateY(${tfootPos}px)`;\n\n                footChildren.css(\"transform\", trans);\n                footChildren.css(\"-ms-transform\", trans);\n                footChildren.css(\"position\", \"relative\");\n                footChildren.css(\"z-index\", \"3\");\n            }\n        }\n      }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Event handler for keyup. Copy keyboard shortcut support\n     * @param event Keyup event\n     */\n    handleKeyUp(event: KeyboardEvent) {\n        if (\n            event.ctrlKey === true &&\n            (\n                event.code === \"KeyC\" ||\n                event.keyCode === 67 ||\n                event.keyCode === 99\n            )\n         ) {\n            // istanbul ignore next\n            this.copySelectedRowAsText();\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Check to see if we can send selected rows to clipboard\n     */\n    copySelectedRowAsText() {\n        /* istanbul ignore if */\n        if (this.selectedRows != null && this.selectedRows.length === 1) {\n            let selectedRowText: Array<string>;\n            const selectedRow: HTMLElementWrapper = this.getSelectedRows()[0];\n\n            /* istanbul ignore if */\n            if (selectedRow.childNodes != null && selectedRow.childNodes.length > 0) {\n                selectedRowText = selectedRow.childNodes.map(child => child.getText());\n            } else if (selectedRow.dynamicChildNodes != null && selectedRow.dynamicChildNodes.length > 0) {\n                selectedRowText = selectedRow.dynamicChildNodes.map(child => child.getText());\n            }\n\n            /* istanbul ignore if */\n            if (selectedRowText != null && selectedRowText.length > 0) {\n                this.clipboardService.copy(selectedRowText.join(String.fromCharCode(9)));\n            }\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Generate a row id based on row's [[id]] and index\n     * @param row\n     * @param rowIndex\n     */\n    buildRowId(row: any, rowIndex: number): string {\n        if (typeof this.rowIdBuilder === \"function\") {\n            return this.rowIdBuilder(row, rowIndex);\n        }\n\n        return ['row', this.id, rowIndex].join('-');\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Sort the data (for virtual scroll)\n     *\n     * @param column\n     */\n    handleSort(column: TableColumnDirective) {\n        //sorting is only allowed on a non locking column\n        /* istanbul ignore if */\n        if (this.virtualScroll === true && column.locked !== true) {\n            //find previous sort direction for the column\n            this.columns.forEach(col=>{\n                //using originalColumnIndex b/c use can drag column around and thus column index changed\n                if (col.originalColumnIndex !== column.originalColumnIndex) {\n                    col.sortDirection = null;\n                }\n            });\n\n            if (column.sortDirection === \"asc\") {\n                column.sortDirection = \"desc\";\n            } else {\n                column.sortDirection = \"asc\";\n            }\n\n            let sortColumnId: string = this.virtualScrollSortKeys[column.originalColumnIndex];\n\n            //if custom sortn fn is provided, used to find proper column to sort\n            if (typeof this.virtualScrollSortFn === \"function\") {\n                sortColumnId = this.virtualScrollSortFn(this._getNoneActiveViewParent() || this.getParentView(), column.originalColumnIndex);\n            }\n\n            if (sortColumnId != null) {\n                this._dataSource = _.orderBy(this._dataSource, [sortColumnId], [column.sortDirection] as any);\n            }\n\n            this.calcVirtualScrollViewPort(this.prevScrollTop);\n            this.detectChanges();\n        }  else if (this.virtualScroll !== true && column.locked !== true) {\n            // RXC Add\n            if (this.sortDirection === \"\") {\n                this.sortDirection = \"asc\";\n            } else if (this.sortColumnId === column.originalColumnIndex) {\n                if (this.sortDirection === \"asc\") {\n                    this.sortDirection = \"desc\";\n                } else {\n                    this.sortDirection = \"asc\";\n                }\n            } else {\n                this.sortDirection = \"asc\";\n            }\n            this.sortColumnId = column.originalColumnIndex;\n        }\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Calculate the overall height so we can add scrollbar for virtual scroll. This is done\n     * by multiplying the number of rows to the height of each row.\n     *\n     */\n    private calcVirtualScrollHeight() {\n        // istanbul ignore if\n        if (this.virtualScroll === true) {\n            if (this._dataSource != null && this._dataSource.length > 0) {\n                //scroll height = 10px * # rows (10px is the height of each row)\n                this._virtualScrollDivHeight = (this.rowHeight * this._dataSource.length);\n                this.maxScrollTop = this._virtualScrollDivHeight;\n                this.virtualScrollSortKeys = _.keys(this._dataSource[0]);\n\n                //track original index\n                if (typeof this._dataSource[this._dataSource.length - 1][TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] !== \"number\") {\n                    _.forEach(this._dataSource, (item, index)=>{\n                        item[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] = index;\n                    });\n                }\n            } else {\n                this._virtualScrollDivHeight = 0;\n            }\n            this.markForCheck();\n        }\n    }\n\n    /**\n     * Adjust/move the position of the table container so that it displayed properly.\n     *\n     * @param scrollTop\n     */\n    private calcVirtualTablePosition(scrollTop: number) {\n        if (this.virtualScroll === true) {\n            //-ms-transform\n            //transform\n            // if (this.maxScrollTop > 0) {\n            //     scrollTop = Math.min(scrollTop, this.maxScrollTop);\n            // }\n\n            this.renderer.setStyle(this.tableWrapper.nativeElement, \"transform\", `translateY(${scrollTop}px)`);\n            this.renderer.setStyle(this.tableWrapper.nativeElement, \"-ms-transform\", `translateY(${scrollTop}px)`);\n            // this.markForCheck();\n        }\n    }\n\n    /**\n     * Calculate the visible virtual rows to display to the user\n     *\n     * @param scrollTop\n     */\n    private calcVirtualScrollViewPort(scrollTop: number = 0) {\n        if (this._isViewInit === true && this._dataSource != null) {\n            let startIdx: number = 0;\n\n            //if scrollTop is greater than 0, need to figure the starting row\n            if (scrollTop > 0) {\n                //each row is 10px height, if scrollTop is 100px, then we start at row 10\n                //scrollTop / 10px?\n                startIdx = Math.floor(scrollTop / this.rowHeight);\n\n                if (startIdx > this._dataSource.length - this._virtualScrollRowPerView) {\n                    startIdx = this._dataSource.length - this._virtualScrollRowPerView;\n                }\n            }\n\n            this._virtualViewPort = null;\n            this.prevScrollTop = scrollTop;\n            this.cleanUpChildNodes();\n            this.detectChanges();\n\n            this.zone.run(()=>{\n                this._virtualViewPort = this.buildRowIdentity(this._dataSource.slice(startIdx, startIdx + this._virtualScrollRowPerView + this.adjustedRows));\n            });\n        }\n    }\n\n    private _swap(fromIndex: number, toIndex: number) {\n      const tempToColumn = this.columns[toIndex];\n\n      this.columns[toIndex] = this.columns[fromIndex];\n      this.columns[fromIndex] = tempToColumn;\n    }\n\n    /* istanbul ignore next */\n    /**\n     * Swap the columns after a column is being drag and rop\n     *\n     * @param fromIndex column that is being dragged (moved)\n     * @param toIndex  column that is being droped into\n     */\n    private swapColumns(fromIndex: number, toIndex: number) {\n      //sophia 1856: need to properly swap columns\n      if (fromIndex < toIndex) {\n        for (let i = fromIndex; i < toIndex; i++) {\n          this._swap(i, i + 1);\n        }\n      } else if (fromIndex > toIndex) {\n        for (let i = fromIndex; i > toIndex; i--) {\n          this._swap(i, i - 1);\n        }\n      }\n\n      if (this.scrollContainerStyles != null) {\n          this.scrollContainerStyles[\"overflow-y\"] = \"auto\";\n          this.detectChanges();\n      }\n\n      //sophia 1823: for server tracking\n      _.forEach(this.columns, (col, idx)=>{\n        col.setAttribute(\"visualIndex\", idx + \"\");\n      });\n\n      if (this.virtualScroll !== true) {\n        this.detectChanges();\n\n        setTimeout(()=>{\n          this.applyResizeColumns();\n        }, 200);\n      }\n\n      this.columnsHasBeenSwapped = true;\n    }\n\n    /* istanbul ignore next */\n    private _cleanupColResize() {\n        //reset\n        this.$colResizable = $(this.table.nativeElement).colResizable({\n          disable: true\n        });\n\n        $(`#${this.id} .JCLRgrips`).remove();\n    }\n\n    /* istanbul ignore next */\n    applyResizeColumns() {\n      if (this.table != null && (this.enableColumnResize == null || this.enableColumnResize === true)) {\n        this._cleanupColResize();\n        this.$colResizable = $(this.table.nativeElement).colResizable({\n            liveDrag: false, //turning this on will incurred a severe performance penalty on IE so leave it off\n            resizeMode: 'overflow',\n            partialRefresh: true, //After closing the window and opening again, columnResizer can't work. To fix that, this value is needed.,\n            headerOnly: true //allow dragging using header only\n        });\n      }\n    }\n\n    /**\n     * Return whether or not the column at the particular index can be dragged/drop\n     *\n     * @param colIdx\n     */\n    private canDragColumn(colIdx: number) {\n        let canDrag = true;\n\n        for (let col of this.columns) {\n            if (col.originalColumnIndex === colIdx && col.locked === true) {\n                canDrag = false;\n                break;\n            }\n        }\n\n        return canDrag;\n    }\n\n    /**\n     * Return the index of the suppplied row\n     *\n     * @param child row to check fo rindex?\n     */\n    indexOfChild(child: any): number {\n        if (this.nodes != null && this.nodes.length > 0) {\n            return _.findIndex(this.nodes, (node)=>node === child);\n        }\n\n        //child does not exists\n        return -1;\n    }\n\n    private _checkInitModifiedVirtualRows() {\n      if (this.modifiedVirtualRows == null) {\n        this.modifiedVirtualRows = {};\n      }\n    }\n\n    private _checkInitModifiedVirtualRowsJson() {\n      if (this.modifiedVirtualRowsJson == null) {\n        this.modifiedVirtualRowsJson = {};\n      }\n    }\n\n    /**\n     * Refresh the table sorter\n     */\n    private refreshTableSorter() {\n        //data changes, need to update tableSorter\n        if (this._tableSorterRefreshTm != null) {\n            clearTimeout(this._tableSorterRefreshTm);\n            this._tableSorterRefreshTm = null;\n        }\n\n        this.zone.runOutsideAngular(() => {\n            this._tableSorterRefreshTm = setTimeout(() => {\n                clearTimeout(this._tableSorterRefreshTm);\n                this._tableSorterRefreshTm = null;\n\n                if (this.$tablesorter != null) {\n                    this.$tablesorter.trigger(\"update\");\n                }\n                this.adjustTableHead(this.preMouseEvent);\n            }, 200);\n        });\n    }\n\n    /**\n     * Refresh cache data (sort value, etc)\n     */\n    refreshTableSorterCache() {\n      //data changes, need to update tableSorter\n      if (this._tableSorterCacheRefreshTm != null) {\n          clearTimeout(this._tableSorterCacheRefreshTm);\n          this._tableSorterCacheRefreshTm = null;\n      }\n\n      this.zone.runOutsideAngular(() => {\n          this._tableSorterCacheRefreshTm = setTimeout(() => {\n              clearTimeout(this._tableSorterCacheRefreshTm);\n              this._tableSorterCacheRefreshTm = null;\n\n              if (this.$tablesorter != null) {\n                  this.$tablesorter.trigger(\"updateCache\");\n              }\n          }, 200);\n      });\n  }\n\n    setSelectAllVirtualRows(shouldSelected: boolean) {\n        if (shouldSelected !== true) {\n            this.modifiedVirtualRows = {};\n            this.modifiedVirtualRowsJson = {};\n            this.selectedRows = [];\n        } else {\n            this._checkInitModifiedVirtualRows();\n            this._checkInitModifiedVirtualRowsJson();\n\n            const checkBoxeColumnIdxs = [];\n\n            if (this.nodes != null && this.nodes.length > 0) {\n                //find all checkboxes columns\n                for (let i = 0; i < this.nodes[0].childNodes.length; i++) {\n                    if (this.nodes[0].childNodes[i].component instanceof CheckboxComponent) {\n                        checkBoxeColumnIdxs.push(i);\n                    }\n                }\n            }\n\n            //if there are checkboxes, check them\n            this.lastSelectedRowIndex = 0;\n            if (checkBoxeColumnIdxs.length > 0) {\n                for (let row of this._dataSource) {\n                    //make sure row is not visible\n                    if (_.findIndex(this.nodes, (node)=>{\n                        return node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] === row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];\n                    }) < 0) {\n                        if (this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] == null) {\n                            this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = {};\n                        }\n\n                        for (let colIdx of checkBoxeColumnIdxs) {\n                            this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]][colIdx] = {\n                                checked: true,\n                                text: undefined\n                            };\n                        }\n\n                        //this.modifiedVirtualRowsJson []\n                        if (typeof this.virtualScrollInvisibleRowBuilder === \"function\") {\n                            const rowElement: HTMLElementWrapper = this.virtualScrollInvisibleRowBuilder(\n                                this._getNoneActiveViewParent() || this.getParentView(),\n                                row\n                            );\n\n                            rowElement.setAttribute(\"selected\", \"true\");\n\n                            this.modifiedVirtualRowsJson[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = rowElement.toJson();\n                        }\n\n                        //selected the row\n                        if (this.selectedRows == null) {\n                            this.selectedRows = [];\n                        }\n\n                        this.selectedRows.push(row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]);\n                    }\n                }\n            }\n        }\n    }\n\n    private recCalcNoVirtualRow() {\n      if (this.virtualScroll === true) {\n        let height = $(this.tableContainer.nativeElement).height();\n\n        if (this.tableHead != null) {\n          this.theadHeight = $(this.tableHead.nativeElement).height();\n          height = height - this.theadHeight;\n\n          if (this.skipRowsAdjustment !== true) {\n            this.adjustedRows = Math.round(this.theadHeight / this.rowHeight) + 2;\n          }\n        }\n\n        this._virtualScrollRowPerView = Math.round(height / this.rowHeight);\n      }\n    }\n\n    private setHeaderWidthHeight(){//For https://github.com/weaveio/ngnsophia/issues/1618\n        const table = this.table.nativeElement;\n        const thead = table.querySelector('thead');\n        let headerMaxHeight = 0;\n        var id = table.id;\n        if (this.columns != null){\n            if(this.forceFixWidth){\n                //please do not removed our code\n                //this.renderer.setStyle(this.table.nativeElement, \"table-layout\", \"fixed\");\n\n                for(let i = 0; i < this.columns.length; i++){\n                    let column = this.columns.find((item, idx)=>idx === i);\n                    if(column != null)\n                    {\n                        const headChildren = thead.querySelector('th:nth-child(' + (i+1) + ')');\n                        this.renderer.setStyle(headChildren, \"width\", `${column.controlWidth}px`);\n                        if(column.controlHeight !== undefined){\n                            this.isHeaderAuto = true;\n                            if(headerMaxHeight < column.controlHeight){\n                                headerMaxHeight = Number(column.controlHeight);\n                            }\n                        }\n                    }\n                }\n                if(this.isHeaderAuto){\n                    $(\"#\" + id + \">div>div>table\").removeClass(\"header-fixed\");\n                }\n            }\n            /*else{\n                for(let i = 0; i < this.columns.length; i++){\n                    let column = this.columns.find((item, idx)=>idx === i);\n                    if(column != null)\n                    {\n                        const headChildren = thead.querySelector('th:nth-child(' + (i+1) + ')');\n                        this.renderer.setStyle(headChildren, \"min-width\", `${column.controlWidth}px`);\n                    }\n                }\n            }*/\n        }\n\n        if (this.ghostHeader != null) {\n            if (headerMaxHeight == 0) {\n                headerMaxHeight = 30;\n            }\n\n            this.renderer.setStyle(this.ghostHeader.nativeElement, \"height\", headerMaxHeight + \"px\");\n        }\n    }\n\n    /**\n     * Reset table column (in case it has been swapped)\n     */\n    private resetTableColumns() {\n        if (\n          this.forceResetColumns === true &&\n          this._isDying !== true &&\n          this.columns != null &&\n          this.columnsHasBeenSwapped === true\n        ) {\n            this.columnsHasBeenSwapped = false;\n\n            const temp = _.clone(this.columns);\n            this.columns = [];\n            this.detectChanges();\n\n            if (this.headNode != null) {\n                this.headNode.childNodes = [];\n            }\n\n            this.columns = _.sortBy(temp, (col: TableColumnDirective, idx: number)=>{\n                col.setAttribute(\"visualIndex\", idx + \"\");\n                return col.originalColumnIndex;\n            });\n            this.detectChanges();\n            this.initPlugins();\n        }\n    }\n\n    private buildRowIdentity(rows: Array<any>) {\n        // if (rows == null) return rows;\n\n        // for (let rowIndex = 0; rowIndex < rows.length; rowIndex++) {\n        //     rows[rowIndex][TableComponent.INTERNAL_ROW_DIFFER_ID] = BaseComponent.generateUniqueId(\"row_differ\");\n        //     rows[rowIndex][TableComponent.INTERNAL_ROW_ID] = this.buildRowId(rows[rowIndex], rowIndex);\n        // }\n\n        return rows;\n    }\n\n    rowTrackByFn(idx:number, row: any) {\n        return row[TableComponent.INTERNAL_ROW_DIFFER_ID];\n    }\n\n    columnHeaderTrackByFn(idx: number, column: TableColumnDirective) {\n      return column[TableComponent.INTERNAL_COLUMN_HEADER_ID];\n    }\n\n    /**\n     * Removed vt-row by index. This will not works for rows that are created by dataSource\n     */\n    removeTableRowByIndex(index: number) {\n        if (this._tableRow != null && this._tableRow.length > index) {\n            this._tableRow = _.filter(this._tableRow, (row, rowIndex)=>{\n                return rowIndex !== index;\n            });\n\n            this.cleanUpChildNodes();\n            this.detectChanges();\n        }\n    }\n\n    /**\n     * Removed vt-row by id. This will not works for rows that are created by dataSource\n     */\n    removeTableRowById(id: string) {\n        if (this._tableRow != null && this._tableRow.length > 0) {\n            this._tableRow = _.filter(this._tableRow, (row)=>{\n                return row.id !== id;\n            });\n\n            this.cleanUpChildNodes();\n            this.detectChanges();\n        }\n    }\n\n    private toColumns(columns: QueryList<TableColumnDirective>): Array<TableColumnDirective> {\n      return columns.map((col, idx)=>{\n        col[TableComponent.INTERNAL_COLUMN_HEADER_ID] = BaseComponent.generateUniqueId(\"hc\");\n        col.setAttribute(\"visualIndex\", idx + '');\n        return col;\n      });\n    }\n\n    private toWholeNumber(width: string): number {\n      return parseInt(width);\n    }\n\n    private checkShowBlankRow() {\n      if (\n        this.dataSource == null ||\n        this.dataSource.length === 0 ||\n        (this.tableContainer.nativeElement as HTMLElement).scrollHeight > (this.tableContainer.nativeElement as HTMLElement).clientHeight\n      ) {\n        this.showBlankRow = false;\n      } else {\n        this.showBlankRow = true;\n      }\n    }\n\n    // removeFromTableRow(whtvr:string) {\n    //   //no idea what this for\n    // }\n\n    // private appendHeaderToFakeTable() {\n    //   if (this.isHeaderAppendToFakeTable !== true) {\n    //     this.fakeTable.nativeElement.appendChild($(this.tableHead.nativeElement).clone()[0]);\n    //     this.isHeaderAppendToFakeTable = true;\n    //   }\n    // }\n    /**\n     * Remove row from tableRows by id. no detect change\n     * @param id row element id\n     */\n    removeFromTableRow(id: string){\n      const i = this.tableRow.findIndex(r=>r.id === id);\n      this.tableRow.splice(i, 1);\n    }\n}\n","import { Directive, ContentChild, forwardRef } from '@angular/core';\nimport { TableColumnDirective } from './table-column.directive';\n\n@Directive({\n  selector: 'vt-locked-column',\n  providers: [\n    {\n      provide: TableColumnDirective,\n      useExisting: forwardRef(()=>LockedColumnDirective)\n    }\n  ]\n})\n/**\n * Just aliasing vt-table-column for locked column\n */\nexport class LockedColumnDirective extends TableColumnDirective {\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.locked = true;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ClipboardService } from './clipboard.service';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [],\n  providers: [\n    ClipboardService\n  ]\n})\nexport class ClipboardModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TableComponent } from './table.component';\nimport { TableCellDirective } from './table-cell.directive';\nimport { TableHeaderDirective } from './table-header.directive';\nimport { TableColumnDirective } from './table-column.directive';\nimport { HeaderDirective } from './header.directive';\nimport { LockedColumnDirective } from './locked-column.directive';\nimport { BaseModule } from '../base/base.module';\nimport { TableRowDefDirective } from './table-row-def.directive';\nimport { FooterRowDirective } from './footer-row.directive';\nimport { RowDirective } from './row.directive';\nimport { ClipboardModule } from '../clipboard/clipboard.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BaseModule,\n    ClipboardModule\n  ],\n  declarations: [\n    TableComponent,\n    TableCellDirective,\n    TableColumnDirective,\n    TableHeaderDirective,\n    HeaderDirective,\n    LockedColumnDirective,\n    TableRowDefDirective,\n    FooterRowDirective,\n    RowDirective\n  ],\n  exports: [\n    TableComponent,\n    TableCellDirective,\n    TableColumnDirective ,\n    TableHeaderDirective,\n    HeaderDirective,\n    LockedColumnDirective,\n    TableRowDefDirective,\n    FooterRowDirective,\n    RowDirective\n  ]\n})\nexport class TableModule { }\n","import { Component, OnInit, ElementRef, EventEmitter, Input, Output, ViewChild, TemplateRef, Optional, SkipSelf, Renderer2, ContentChild, ViewContainerRef, forwardRef } from '@angular/core';\nimport { BaseComponent } from '../../base/base.component';\nimport { SessionService } from '../../session/session.service';\n\n/**\n * Class for tab component\n */\n@Component({\n  selector: 'vt-tab',\n  templateUrl: './tab.component.html',\n  styleUrls: ['./tab.component.css'],\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>TabComponent)\n    }\n  ]\n})\nexport class TabComponent extends BaseComponent implements OnInit {\n  // Sets active tab class\n  @Input() active: boolean;\n  @Input() id: string;\n\n  @Output() onCommand = new EventEmitter();\n\n  @ViewChild(TemplateRef) content: TemplateRef<any>;\n\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param renderer see [[BaseComponent]] constructor\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /* istanbul ignore next */\n  /**\n   *\n   * @param child Tab child component to add\n   */\n  protected addChild(child: BaseComponent) {\n    (this.parent as any).addChild(child);\n\n    if (this.tabChildrenIds == null) {\n      this.tabChildrenIds = [];\n    }\n\n    this.tabChildrenIds.push(child.getId());\n  }\n\n  /* istanbul ignore next */\n  /**\n   * After view init lifecycle\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get JSON representation of this component\n   * @returns Object JSON metadata about this component\n   */\n  toJson() {\n    const json: any = super.toJson();\n    this.setJson(json, \"active\", this.focused);\n\n    return json;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get NexaWeb component tag name\n   */\n  protected getNxTagName() {\n    return \"tab\";\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for click event\n   * @event onCommand\n   */\n  onClick() {\n    this.onCommand.emit(this.id);\n    this.active = true;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Focus this tab\n   */\n  setFocus() {\n    const parent = this.getParent();\n\n    if (parent != null && typeof parent[\"setSelectedTab\"] === \"function\") {\n      parent[\"setSelectedTab\"](this.id);\n    } else {\n      super.setFocus();\n    }\n  }\n}\n","import {\n  Component,\n  ElementRef,\n  ChangeDetectionStrategy,\n  ContentChildren,\n  ViewChild,\n  ViewChildren,\n  ViewContainerRef,\n  QueryList,\n  SkipSelf,\n  Optional,\n  EventEmitter,\n  Output,\n  Input,\n  ChangeDetectorRef,\n  Renderer2,\n  forwardRef,\n  ContentChild\n} from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { TabComponent } from './tab/tab.component';\nimport { TabEvent } from './tab-event';\n\nimport * as _ from \"lodash\";\n\ntype TabPlacement = \"left\" | \"top\" | \"bottom\" | \"right\";\n\n/**\n * Class for tab pane container component\n */\n@Component({\n  selector: 'vt-tab-pane',\n  templateUrl: './tab-pane.component.html',\n  styleUrls: ['./tab-pane.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>TabPaneComponent)\n    }\n  ]\n})\nexport class TabPaneComponent extends BaseComponent {\n  @Input() tabPlacement: TabPlacement = \"top\";\n  @ContentChildren(TabComponent) set tabsList(tabList: QueryList<TabComponent>) {\n    this.tabs = tabList.toArray();\n  }\n  @ViewChildren('tabNavItem') tabNavItems: Array<ElementRef>;\n\n  @Output() onClick: EventEmitter<TabEvent> = new EventEmitter<TabEvent>();\n\n  selectedTabIndex: number = 0;\n  focusedTabIndex: number = 0;\n  tabs: Array<TabComponent> = [];\n\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param cd Inject change detector\n   * @param renderer see [[BaseComponent]] constructor\n   */\n  constructor(\n    @Optional() @SkipSelf() parent: BaseComponent,\n    sessionService: SessionService,\n    elementRef: ElementRef,\n    private cd: ChangeDetectorRef,\n    renderer: Renderer2\n  ) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /**\n   * After view init lifecycle. Set up tabs and trigger change detector\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    this.configureTabs();\n    this.cd.detectChanges();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set the [[selectedTabIndex]] to index of active tab\n   */\n  private configureTabs() {\n    _.forEach(this.tabs, (tab, index)=>{\n      if (tab.active === true) {\n        this.selectedTabIndex = index;\n      }\n    });\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for when tab is selected\n   * @param event\n   * @param index Index of tab to select\n   * @param tabId\n   * @event onCommand\n   */\n  handleSelectTab(event: Event, index: number, tabId: string) {\n    event.preventDefault();\n    this.setFocusedTab(index);\n    this.selectedTabIndex = index;\n    // this.onClick.emit({\n    //   tabId: tabId,\n    //   tabIndex: index\n    // });\n    this.selectedTab.onCommand.emit(tabId);\n    this.markForCheck();\n\n    const parentView = this.getParentView();\n\n    if (parentView != null) {\n      parentView.resetAllScrollPanesPositionToPrevious();\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for keydown event. Arrow keys used for navigation\n   * @param e Key event\n   */\n  handleKeydown(e: KeyboardEvent) {\n    if (!document.activeElement.className.includes(\"combobox-input-box\") && !document.activeElement.className.includes(\"dropdown-item\")) {\n      /* Allow tab navigation via arrow keys: https://github.com/weaveio/ngnsophia/issues/1465 */\n      const UP_KEY_CODE = 38;\n      const DOWN_KEY_CODE = 40;\n      const ENTER_KEY_CODE = 13;\n      const keyPressed = e.which;\n  \n      // Ignore all keys except up/down or ENTER\n      const navigationKeys = [UP_KEY_CODE, DOWN_KEY_CODE, ENTER_KEY_CODE];\n      if (navigationKeys.indexOf(keyPressed) === -1) return;\n  \n      e.stopPropagation();\n  \n      let newIndex: number;\n  \n      if(keyPressed === DOWN_KEY_CODE && this.focusedTabIndex < this.tabs.length - 1) {\n        newIndex = this.focusedTabIndex + 1;\n      } else if(keyPressed === UP_KEY_CODE && this.focusedTabIndex > 0) {\n        newIndex = this.focusedTabIndex - 1;\n      } else if (keyPressed === ENTER_KEY_CODE) {\n        this.setSelectedTab(this.focusedTabIndex);\n      } else {\n        newIndex = this.focusedTabIndex;\n      }\n      this.setFocusedTab(newIndex);\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Focus a tab by it's index position\n   * @param index Index of tab to focus\n   */\n  setFocusedTab(index: number) {\n    this.focusedTabIndex = index;\n    const tabItem = this.tabNavItems.find((item, i)=> {\n      return i === index;\n    });\n\n    if (tabItem) {\n      setTimeout(()=>{\n        tabItem.nativeElement.focus();\n      }, 0);\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set selected tab by index or id\n   * @param index Index or Id of [[TabComponent]] to select\n   */\n  setSelectedTab(index: number | string) {\n    if (typeof index === \"number\") {\n      this.selectedTabIndex = index;\n    } else {\n      //selected tab by name?\n      const tempIndex = _.findIndex(this.tabs, (tab: TabComponent)=>tab.id === index);\n\n      if (tempIndex >= 0) {\n        this.selectedTabIndex = tempIndex;\n      }\n    }\n\n    this.markForCheck();\n  }\n\n  /**\n   * Get the selected [[TabComponent]]\n   * @returns Tab that is selected\n   */\n  get selectedTab(): TabComponent {\n    return this.tabs.find((item, index)=>index === this.selectedTabIndex);\n  }\n\n  /**\n   * Get NexaWeb tag name\n   * @returns Name of tag\n   */\n  protected getNxTagName() {\n    return \"tabPane\";\n  }\n\n  /**\n   * Get [[cd]] (ChangeDetector) member\n   */\n  getChangeDetector() {\n    return this.cd;\n  }\n\n  /**\n   * Remove a tab child from the pane\n   * @param child Tab to remove\n   */\n  removeChild(child: TabComponent) {\n    super.removeChild(child);\n    this.tabs = _.filter(this.tabs, (tab)=>tab.id !== child.id);\n    this.cd.markForCheck();\n  }\n\n  /**\n   * Get JSON representation of this component\n   * @returns Object JSON metadata\n   */\n  toJson() {\n    const json = super.toJson();\n    json[\"selectedTabIndex\"] = this.selectedTabIndex;\n\n    return json;\n  }\n\n  /**\n   * Check if this is a container component\n   * @returns True\n   */\n  protected isContainer() {\n    return true;\n  }\n}\n","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[vt-tab-host]'\n})\nexport class TabHostDirective {\n\n  constructor(\n    public viewContainerRef: ViewContainerRef\n  ) { }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TabPaneComponent } from './tab-pane.component';\nimport { TabComponent } from './tab/tab.component';\nimport { TabHostDirective } from './tab/tab-host.directive';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [TabPaneComponent, TabComponent, TabHostDirective],\n  exports: [TabComponent, TabPaneComponent, TabHostDirective]\n})\nexport class TabPaneModule { }\n","import { Component, Input, OnInit, Output, ElementRef, EventEmitter, ChangeDetectionStrategy, SkipSelf, Optional, ChangeDetectorRef, forwardRef, Renderer2, ViewChild } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\n/* istanbul ignore next */\nimport { SessionService } from '../session/session.service';\n\n/**\n * Class for textarea component\n */\n@Component({\n  selector: 'vt-text-area',\n  templateUrl: './text-area.component.html',\n  styleUrls: ['./text-area.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>TextAreaComponent)\n    }\n  ]\n})\nexport class TextAreaComponent extends BaseComponent implements OnInit {\n  static readonly MAX_LENGTH: number = 9999;\n  private _maxLength: number = TextAreaComponent.MAX_LENGTH;\n\n  @Input() set maxLength(max: number) {\n    this._maxLength = max;\n  }\n  @Input() set editable(val: string | boolean) {\n    this._editable = val;\n  }\n\n  @ViewChild('textarea') textarea: ElementRef;\n  @Output() onTextChange = new EventEmitter();\n  @Output() onEdit = new EventEmitter();\n\n  _editable: boolean | string = true;\n\n  get editable(): boolean | string {\n    return this._editable !== \"false\" && this._editable !== false;\n  }\n  get maxLength(): number {\n    return this._maxLength > 0 ? this._maxLength : TextAreaComponent.MAX_LENGTH;\n  }\n\n  private _textBeforeFocusIn:string;//for onEdit()\n  private _textPreviousKeyInput:string;//for onTextChange()\n\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param cd ChangeDetector for this component\n   * @param renderer see [[BaseComponent]] constructor\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, private cd: ChangeDetectorRef, renderer: Renderer2) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /**\n   * Init lifecycle. Call parent ngOnInit\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    if(this.controlPadding){\n      this.controlPadding = this.controlPadding + 'px';\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * After view init lifecycle.\n   * Focus the textarea and set dimensions\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    if (this.focusOnActivation) {\n      this.elementRef.nativeElement.focus();\n    }\n\n    this.initWidthHeightStyle(\"height\", \"width\");\n    this.setAttributeFromDef();\n    this.cd.detectChanges();\n  }\n\n  /**\n   * Get the name of the component\n   * @returns Name of component\n   */\n  getLocalName(): string {\n    return \"textArea\";\n  }\n\n  /**\n   * Focus the textarea element\n   */\n  setFocus() {\n    this.textarea.nativeElement.focus();\n  }\n\n  /**\n   * Get the value of internal [[_maxLength]] property\n   */\n  getMaxLength() {\n    return this._maxLength;\n  }\n\n  /**\n   * Set [[_maxLength]] property value and mark for change detection\n   * @param max Length of text content\n   */\n  setMaxLength(max: number | string) {\n    if (typeof max === \"number\") {\n      this._maxLength = max;\n    } else {\n      this._maxLength = parseInt(max);\n    }\n\n    this.cd.markForCheck();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for text input\n   * Emit onTextChange b/c user keep typing (input still has focus)\n   * @param event\n   * @param value\n   * @event onTextChange\n   */\n  onInput(event: KeyboardEvent, value: string) {\n    let pos = this.textarea.nativeElement.selectionStart;\n    if(event.keyCode == 8 || event.keyCode == 46)//Backspace || Delete\n    {\n      this.text = value;\n      setTimeout(() => {\n        this.textarea.nativeElement.selectionStart = pos;\n        this.textarea.nativeElement.selectionEnd = pos;\n      });\n    }\n\n    if(this.text != null && this._maxLength > 0 && this._maxLength < this.text.length) {\n        this.text = this.text.substring(0, this._maxLength);\n    }\n\n    if(this._textPreviousKeyInput != this.text)\n      this.onTextChange.emit();\n    this._textPreviousKeyInput = this.text;\n  }\n\n  /**\n   * Get the value of [[cd]] (ChangeDetector) property\n   * @returns Change detector for this component\n   */\n  protected getChangeDetector(): ChangeDetectorRef {\n    return this.cd;\n  }\n\n  /**\n   * Get Nexaweb tag name\n   * @returns Tag name\n   */\n  protected getNxTagName() {\n    return \"textArea\";\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for focus event\n   * @param e Input focus event\n   */\n  onFocus(e) {\n    this._textBeforeFocusIn = this.text;\n    this._textPreviousKeyInput = this.text;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for blur (unfocus) event\n   * @param e Input blur event\n   */\n  onBlur(event, value) {\n    if(this.textarea.nativeElement.ownerDocument.activeElement === this.textarea.nativeElement) return;//prevent focuslost whenever active process is changed.\n    this.text = value;//when the last char is Zenkaku and the user doesn't press 'Enter', this is needed.\n    if(this.text != null && this._maxLength > 0 && this._maxLength < this.text.length) {\n      this.text = this.text.substring(0, this._maxLength);\n    }\n    if(this.text != this._textBeforeFocusIn)\n      this.onEdit.emit();\n    this.validateField(event);\n  }\n  /**\n   * Set [[visible]] property value\n   * @override\n   * @param value Toggle visibility\n   */\n  setVisible(value: boolean) {\n    this.visible = value;\n    if (this.visible) {\n      this.removeCssClass('hidden');\n      this.getElement().removeAttribute('hidden');\n    } else {\n      this.addCssClass('hidden');\n      this.getElement().setAttribute('hidden', '');\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TextAreaComponent } from './text-area.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [TextAreaComponent],\n  exports: [\n    TextAreaComponent,\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n  entryComponents: [\n    TextAreaComponent\n  ]\n})\nexport class TextAreaModule { }\n","import { Component, OnInit, Input, ElementRef, SkipSelf, Optional, QueryList, ViewChildren, ViewEncapsulation, NgZone, ContentChildren, ViewChild, TemplateRef, Renderer2, ChangeDetectionStrategy, ChangeDetectorRef, forwardRef } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { TableColumnDirective } from '../table/table-column.directive';\nimport { HTMLElementWrapper } from './html-element-wrapper';\n\ndeclare var jQuery: any;\n\nimport * as _ from \"lodash\";\nimport { Vector } from '../java/vector';\n\n/**\n * Class for tree table component\n */\n@Component({\n  selector: 'vt-tree-table',\n  templateUrl: './tree-table.component.html',\n  styleUrls: ['./tree-table.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>TreeTableComponent)\n    }\n  ]\n})\nexport class TreeTableComponent extends BaseComponent implements OnInit {\n  @Input() rowData: Array<any>;\n  @Input() columnDefs: Array<any>;\n  @Input() useDocFragment: boolean;\n\n  @ContentChildren(TableColumnDirective)\n  columns: QueryList<TableColumnDirective>;\n\n  @ViewChild(\"tableBody\", {read: ElementRef}) tableBody: ElementRef<HTMLElement>;\n\n  _bodyFragment: DocumentFragment;\n\n  private nodes: Array<HTMLElementWrapper> = [];\n  selectedNodes: Array<number> = [];\n  private selectedRowElements: Array<HTMLElementWrapper> = [];\n\n  constructor(\n    @Optional() @SkipSelf() parent: BaseComponent,\n    sessionService: SessionService,\n    elementRef: ElementRef,\n    private zone: NgZone,\n    renderer: Renderer2,\n    private cd: ChangeDetectorRef\n  ) {\n    super(parent, sessionService, elementRef, renderer);\n  }\n\n  /**\n   * Init lifecycle. Must call parent ngOnInit\n   */\n  ngOnInit() {\n    super.ngOnInit();\n\n    // Width/Height is required otherwise grid will collapse to zero.\n    // if (!this.controlHeight) this.controlHeight = '500px';\n    // if (!this.controlWidth) this.controlWidth = '500px';\n  }\n\n  /* istanbul ignore next */\n  /**\n   * After view init lifecycle. Set table columns and call parent ngAfterViewInit\n   */\n  ngAfterViewInit() {\n    //make sure to call sure it can init thing\n    super.ngAfterViewInit();\n\n    this.createDocFragment();\n\n    if (this.columns != null && this.columns.length > 0) {\n      this.columnDefs = [];\n\n      this.columns.forEach(column=>{\n        this.columnDefs.push({\n          headerName: column.header,\n          controlWidth: column.controlWidth\n        });\n      });\n    }\n\n    if (this.rowData && this.rowData.length > 0) {\n      this.zone.runOutsideAngular(()=> {\n        jQuery(`#${this.id} .jq-tree-table`).treetable();\n      });\n    }\n  }\n\n  /**\n   * Destroy lifecycle. Delete tree nodes to clear out references\n   */\n  ngOnDestroy() {\n    this.tableBody = null;\n\n    this._bodyFragment = null;\n\n    if (this.nodes != null) {\n      for (let node of this.nodes) {\n        node.destroy();\n      }\n    }\n\n    this.nodes = null;\n  }\n\n  /**\n   * Remove all child rows from this table\n   */\n  clearRows() {\n    // while(this.tableBody.nativeElement.firstChild) {\n    //   this.renderer.removeChild(this.tableBody.nativeElement, this.tableBody.nativeElement.firstChild);\n    // }\n\n    (this.tableBody.nativeElement as HTMLElement).innerHTML = \"\";\n\n    this.nodes = [];\n    this.selectedNodes = [];\n    this.selectedRowElements = [];\n    this.createDocFragment();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Create table row but DO NOT append to table\n   */\n  createRow(): HTMLElementWrapper {\n    const row: HTMLElementWrapper = new HTMLElementWrapper(this.renderer, \"row\", this.getSession());\n    row.setAttribute(\"id\", BaseComponent.generateUniqueId(\"row\"));\n    row.parentTableId = this.id;\n    row.parentTable = this;\n    this.setParentScreenId(row);\n\n    this.zone.runOutsideAngular(()=>{\n      row.htmlElement.addEventListener(\"mousedown\", ()=>{\n        if (this.selectedNodes != null) {\n          this.selectedNodes.forEach(idx=>{\n            this._selectRow(idx, false);\n          });\n        }\n\n        this.selectedRowElements = [];\n        this.selectRow(row, true);\n      });\n    });\n\n    this.trackNode(row);\n\n    return row;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Create table row and append to table\n   */\n  addRow(): HTMLElementWrapper {\n    const row = this.createRow();\n\n    if (this.useDocFragment === true) {\n      this._bodyFragment.appendChild(row.htmlElement);\n    } else {\n      this.renderer.appendChild(this.tableBody.nativeElement, row.htmlElement);\n    }\n    row.htmlElement.style[\"background\"] = \"\";\n    return row;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set a row as selected and set selected style\n   * @param nodeIndex Index of node/row to select\n   * @param isSelected Toggle to set selected style\n   */\n  _selectRow(nodeIndex: number, isSelected: boolean) {\n\n    let idx = _.findIndex(this.selectedNodes, (node) => {\n        return node === nodeIndex;\n    });\n\n    /* istanbul ignore if */\n    if (isSelected) {\n        //if it wasn't selected, add it in selectedRows.\n        if (idx < 0) {\n            this.selectedNodes.push(nodeIndex);\n            this.nodes[nodeIndex].htmlElement.querySelector('td').style.color = 'blue';\n        }\n    } else {\n        //if it was selected before, remove it from selectedRows.\n        if (idx >= 0) {\n            this.selectedNodes.splice(idx, 1);\n            this.nodes[nodeIndex].htmlElement.querySelector('td').style.color = \"\";\n        }\n    }\n  }\n\n  /**\n   * This function is called by setAttribute(row, value);\n   * @param row Row to set as selected row\n   * @param isSelected Toggle selected state and style\n   */\n  selectRow(row: HTMLElementWrapper, isSelected: boolean) {\n    if (this.nodes == null) return;\n    let nodeIndex = _.findIndex(this.nodes, (node) => {\n      return node === row;\n    });\n    //Now in the as-is'tree-table only one row can be selected.\n\n    let tds: NodeList = this.elementRef.nativeElement.querySelectorAll('td');\n\n    for (let i = 0; i < tds.length; i++) {\n      (tds[i] as HTMLElement).style.color = '';\n    }\n\n    for (let i = 0; i < this.nodes.length; i++) {\n      this._selectRow(i, false);\n    }\n\n    this._selectRow(nodeIndex, true);\n\n    if (isSelected) {\n      this.selectedRowElements.push(row);\n    } else {\n      this.selectedRowElements = this.selectedRowElements.filter(el=>{\n        return el._uniqueId !== row._internalId;\n      });\n    }\n  }\n\n  getSelectedRows(): Array<HTMLElementWrapper> {\n    return this.selectedRowElements;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Create table cell (will not append to anything)\n   * @returns The table cell that is created\n   */\n  createCell(): HTMLElementWrapper {\n    const cell: HTMLElementWrapper = new HTMLElementWrapper(this.renderer, \"cell\", this.getSession());\n    cell.setAttribute(\"id\", BaseComponent.generateUniqueId(\"cell\"));\n    this.setParentScreenId(cell);\n\n    //for cell, we need to append it to the row\n    this.trackNode(cell);\n\n    return cell;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * @deprecated used createCell instead\n   */\n  addCell(): HTMLElementWrapper {\n    return this.createCell();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Re-render tree table. Must call jQuery plugin's method on element to re-render.\n   */\n  redrawTree() {\n    this.zone.runOutsideAngular(()=>{\n      /* istanbul ignore next */\n      jQuery(`#${this.id} .jq-tree-table`).treetable({\n        expandable: true\n      }, true);\n\n      this.cd.markForCheck();\n    });\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Expand all nodes in the tree\n   */\n  expandAll() {\n    /* istanbul ignore next */\n    jQuery(`#${this.id} .jq-tree-table`).treetable(\"expandAll\");\n    this.setNodeExpandedStatus(\"true\");\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Collapse all node in the tree\n   */\n  collapseAll() {\n    jQuery(`#${this.id} .jq-tree-table`).treetable(\"collapseAll\");\n    this.setNodeExpandedStatus(\"false\");\n  }\n\n  /**\n   * Get child nodes of the table\n   * @returns [[nodes]]\n   */\n  getTableChildren(): Array<HTMLElementWrapper> {\n    return this.nodes;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get number of child nodes for this tree\n   * @returns Number of child nodes\n   */\n  getChildCount(): number {\n    return this.nodes != null ? this.nodes.length : 0;\n  }\n\n  /**\n   * Get child node by id\n   * @param id\n   */\n  getChildById(id: string): HTMLElementWrapper {\n    if (this.nodes != null) {\n      const temp = _.filter(this.nodes, (item: HTMLElementWrapper)=>item.getId() === id);\n\n      if (temp.length > 0) {\n        return temp[0];\n      }\n    }\n\n    return null;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get list of nodes from XPath expression string\n   * @param xpathExpression\n   */\n  /* istanbul ignore next */\n  evaluateXPath(xpathExpression: string): any {\n    /* istanbul ignore next */\n    const result: Vector<any> = new Vector<any>();\n    /* istanbul ignore next */\n    const xpathResult: XPathResult = document.evaluate(xpathExpression.replace(\"cell[\", \"td[\").replace(\"row[\", \"tr[\"), this.elementRef.nativeElement, null, XPathResult.ANY_TYPE, null);\n\n    if (xpathResult != null) {\n      let node: Node = xpathResult.iterateNext();\n\n      while(node) {\n        result.add(node);\n        node = xpathResult.iterateNext();\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Adds child node to the tree\n   * @param node Child to add\n   */\n  private trackNode(node: HTMLElementWrapper) {\n    if (this.nodes == null) {\n      this.nodes = [];\n    }\n\n    this.nodes.push(node);\n  }\n\n  /**\n   * Get NexaWeb tag name\n   * @returns Tagname\n   */\n  protected getNxTagName() {\n    return \"treeTable\";\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Get [[cd]] (Change detector) property\n   * @returns Change detector reference\n   */\n  protected getChangeDetector() {\n    return this.cd;\n  }\n\n  /**\n   * Set node expanded property value\n   * @param status Value for node's expanded property\n   */\n  private setNodeExpandedStatus(status: string) {\n    if (this.nodes != null) {\n      _.forEach(this.nodes, (node)=>{\n        if (node.getLocalName() === \"row\") {\n          node.expanded = status;\n        }\n      });\n    }\n  }\n\n  /**\n   * Get JSON representation for this component\n   * @returns Component metadata as JSON object\n   */\n  toJson(): {} {\n    const retVal = super.toJson();\n\n    if (this.nodes != null) {\n      const children = this.nodes.filter(node=>node.getLocalName() === \"row\");\n\n      if (children.length > 0) {\n        retVal[\"children\"] = children.map(child=>child.toJson());\n      }\n    }\n\n    return retVal;\n  }\n  /**\n   * Set the elements parent ID\n   * @param el\n   */\n  private setParentScreenId(el: HTMLElementWrapper) {\n    if (this.getParentView() != null) {\n        el.parentScreenId = this.getParentView().getId();\n    }\n  }\n\n  public getNodes(): HTMLElementWrapper[] {\n    return this.nodes\n  }\n\n  private createDocFragment() {\n    if (this.useDocFragment === true) {\n      this._bodyFragment = document.createDocumentFragment();\n    }\n  }\n\n  appendFragment() {\n    if (this._bodyFragment != null) {\n      (this.tableBody.nativeElement as HTMLElement).appendChild(this._bodyFragment);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { TreeTableComponent } from './tree-table.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [TreeTableComponent],\n  exports: [\n    TreeTableComponent\n  ],\n  entryComponents: [\n    TreeTableComponent\n  ]\n})\nexport class TreeTableModule { }\n","import { Component, AfterViewInit, ViewChild, Type, ComponentFactoryResolver, ComponentRef, Input, ElementRef, Renderer2, SkipSelf, Optional } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { AttributesEnum } from '../base/attributes.enum';\n\nimport { DialogComponent } from '../dialog/dialog.component';\nimport { ComponentType } from '../base/component-type.enum';\nimport { LabelComponent } from '../label/label.component';\nimport { ButtonComponent } from '../button/button.component';\nimport { ComboBoxComponent } from '../combo-box/combo-box.component';\nimport { TextFieldComponent } from '../text-field/text-field.component';\nimport { CheckboxComponent } from '../checkbox/checkbox.component';\nimport { RadioButtonComponent } from '../radio-button/radio-button.component';\nimport { TextAreaComponent } from '../text-area/text-area.component';\n\nimport * as _ from 'lodash';\nimport { DynamicPagesService } from './dynamic-pages.service';\nimport { AppUtils } from '../base/app-utils';\n\nimport { Subject, Observable } from \"rxjs\";\nimport { SessionService } from '../session/session.service';\nimport { HTMLElementWrapper } from '../tree-table/html-element-wrapper';\nimport { UiDocument } from '../base/ui-document';\nimport { PopupMenuDirective } from '../popup-menu/popup-menu.directive';\nimport { Logger } from '../base/logger';\nimport { KeyUtils } from '../base/key-utils';\nimport { JavaUtils } from '../java/java-utils';\nimport { AttributeNameValue } from '../base/attribute-name-value';\nimport { MenuItemComponent } from '../popup-menu/menu-item/menu-item.component';\n\n/**\n * Base parent component class that all other screen components inherit from\n */\n@Component({\n  selector: 'vt-dummy-view',\n  template: ''\n})\nexport class ViewComponent extends BaseComponent {\n  @ViewChild(DialogComponent) dialog: DialogComponent;\n  private routeUrl: string;\n  private routeDeactivated: boolean;\n  private mcos: Set<string> = new Set<string>();\n  zIndex: number;\n  isDynamicPage: boolean;\n  isDestroyed: boolean;\n  canBeActiveView: boolean = true;\n  actionForwardName: string;\n  modal:string;\n  routeId: string;   //For route.service\n\n  private _viewInitializedSubject: Subject<void> = new Subject<void>();\n  viewInitialized: Observable<void> = this._viewInitializedSubject.asObservable();\n\n  private defIds: Array<string> = [];\n  private popupMenus: Array<PopupMenuDirective>;\n\n  //private _findElementCache: any;\n\n  private changeDetectionFrozen: boolean;\n\n  isMinimized: boolean;\n\n  skipBreadCrumb: boolean;\n\n  //allow this same screen to launch multiple time\n  allowMultipleScreen: boolean;\n  screenIndex: number = null;\n  baseScreenId: string; //id for grouping screen (avoiding screenindex)\n\n  //callback for any custom cleanup\n  beforeDestroyCb: (id: string)=>void;\n\n\n  //keep track of menu items (that are not active) as are menu items are destroyed after it is closed.\n  private _inactiveMenuItems: Map<string, HTMLElementWrapper>;\n\n  private _tableColumnsMap: Map<string, any>;\n\n  _viewStatus: number;\n\n  private viewRouteSet: boolean;\n\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   */\n  constructor(\n    @Optional() @SkipSelf() parent: BaseComponent,\n    sessionService: SessionService,\n    elementRef: ElementRef){\n    super(parent, sessionService, elementRef, null);\n    this.actionForwardName = this.getId();\n  }\n\n  viewIsInitialized: boolean;\n\n  /**\n   * Set [[routeUrl]] property value. If [[dialog]] exists, set it's route URL\n   * @param url\n   */\n  setRouteUrl(url: string) {\n    this.routeUrl = url;\n\n    if (this.dialog != null) {\n      this.dialog.setViewRouteUrl(url);\n    }\n  }\n\n  /**\n   * Get [[routeUrl]] property value\n   * @returns Route URL\n   */\n  getRouteUrl(): string {\n    return this.routeUrl;\n  }\n\n\n  /**\n   * Check if route is deactivated.\n   * @returns True if route is deactivated\n   */\n  isRouteDeactivated() {\n    return this.routeDeactivated === true;\n  }\n\n\n  /**\n   * After view init lifecycle\n   */\n  ngAfterViewInit() {\n    if (this.canBeActiveView !== false) {\n      this.parent = null;\n    }\n\n    //add view to stack\n    this.getSession().getMcoContainer().registerView(this);\n\n    super.ngAfterViewInit();\n\n    this.afterDialogInit();\n\n    if (this.popupMenus != null) {\n      _.forEach(this.popupMenus, (popupMenu)=>popupMenu.convertSubMenuItems(this.id));\n    }\n\n    this.componentInitialize();\n\n    if (this.dialog) {\n      this.dialog.setViewRouteUrl(this.routeUrl);\n      this.viewRouteSet = true;\n    }\n\n    this.getSession().getMcoContainer().reStackView(this.id, this.screenIndex);\n\n    this._viewInitializedSubject.next();\n    this.viewIsInitialized = true;\n  }\n\n\n  protected afterDialogInit() {\n    if (this.dialog) {\n      //get id of dialog as our id\n      this.id = this.dialog.getId();\n      this.dialog.screenIndex = this.screenIndex;\n\n      if (typeof this.dialog.modal === \"boolean\"){\n        this.modal = JavaUtils.booleanToString(this.dialog.modal);\n      }else{\n        this.modal = this.dialog.modal;\n      }\n      if (this.modal != null && (this.modal === \"true\" || this.modal === \"false\")) {\n        this.setElementAttributeById(this.id, 'modal', this.modal);\n        this.setModalMode();\n      } else {\n        this.dialog.modal = \"false\";\n        this.modal = this.dialog.modal;\n        this.setElementAttributeById(this.id, 'modal', \"false\");\n      }\n\n      if (this.popupMenus != null) {\n        _.forEach(this.popupMenus, (popupMenu)=>popupMenu.convertSubMenuItems(this.id));\n      }\n\n      this.dialog.resetId();\n\n      if (this.viewRouteSet !== true) {\n        this.dialog.setViewRouteUrl(this.routeUrl);\n        this.viewRouteSet = true;\n      }\n    }\n  }\n\n\n  /**\n   * Set modal CSS and dialog's modal property value to true.\n   * Make view component display as modal\n   */\n  setModalMode(){\n    if (this.modal == \"true\") {\n      this.dialog[\"elementRef\"].nativeElement.className = \"modal fade in\";\n      this.dialog[\"elementRef\"].nativeElement.style.cssText = \"display:inline-block;\";\n      this.setElementAttributeById(this.id, 'modal', this.modal);\n      this.dialog.modal = this.modal;\n    }\n  }\n\n\n  /**\n   * Destroy lifecycle. Clear all references\n   */\n  ngOnDestroy() {\n    if (this.beforeDestroyCb != null) {\n      this.beforeDestroyCb(this.getId());\n    }\n\n    this._inactiveMenuItems = null;\n\n    this.routeDeactivated = true;\n    //remove view from stack\n    this.getSession().getMcoContainer().removeView(this);\n\n    this.mcos.forEach(mco=>this.getSession().getMcoContainer().removeMco(mco));\n    this.mcos.clear();\n    delete this.mcos;\n\n    if (this.dialog != null) {\n      if (this.dialog.viewContainer != null) {\n        this.dialog.viewContainer.clear();\n\n        delete this.dialog.viewContainer;\n      }\n\n      delete this.dialog;\n    }\n\n    this.isDestroyed = true;\n    this.getSession().getInjector(DynamicPagesService).removeView(this);\n\n\n    _.forEach(this.defIds, (id)=>{\n      this.getSession().deleteDef(id);\n    });\n\n    this.defIds = null;\n    this.popupMenus = null;\n\n    // if (this._findElementCache != null) {\n    //   this._findElementCache.clear();\n    // }\n\n    // this._findElementCache = null;\n\n    this._tableColumnsMap = null;\n\n    super.ngOnDestroy();\n  }\n\n  /**\n   * Delegate to [[bodyInit]]\n   */\n  protected componentInitialize() {\n    this.bodyInit();\n  }\n\n  /**\n   * Get the component's tag name. Implementation of [[BaseComponent]] method\n   * @returns Name of tag\n   */\n  getTagName(): string {\n    return 'vt-dummy-view';\n  }\n\n  /**\n   * Not implemented\n   */\n  bodyInit() {\n\n  }\n\n\n  /**\n   * Query the \"element\" via selectFn function, then set the attribute of the element. If found\n   * set the attribute {attribute} with value {value}\n   *\n   * @param selectorFn\n   */\n  setElementAttribute(\n    selectorFn: ((map: Map<string, BaseComponent>)=>BaseComponent),\n    attribute: AttributesEnum,\n    value: any\n  ) {\n    const comp = selectorFn(this.children);\n\n    if (comp == null) {\n      Logger.warn('Unable to set attribute, component is null');\n    } else {\n      comp.setAttribute(attribute, value);\n    }\n\n    this.markForCheck();\n  }\n\n  /**\n  * Set [[disabled]] property value\n  * @param boo Value for disabled property\n  */\n  setDisabled(boo: boolean) {\n    this.disabled = boo;\n    this.dialog.setDisabled(boo);\n  }\n\n\n  /**\n   * Query the \"element\" via selectFn function, then set the attribute of the element. If found\n   * set the attribute {attribute} with value {value}\n   *\n   * @param selectorFn\n   */\n  setElementAttributeById(\n    compId: string,\n    attribute: AttributesEnum | string,\n    value: any\n  ) {\n\n    if (attribute === AttributesEnum.TITLE || attribute === 'title') {\n      this.setTitle(value);\n    } else if (compId === this.getId()) {\n      this.setAttribute(attribute, value);\n    } else {\n      let comp = this.findElementById(compId);\n\n      /* istanbul ignore if */\n      /* istanbul ignore else */\n      if (comp == null) {\n        //is this for def?\n        const compDef = this.getSession().getDef(compId);\n\n        if (compDef != null) {\n          compDef.attribute[attribute] = value;\n        } else {\n\n          comp = UiDocument.getMenuComponent(compId);\n\n          /* istanbul ignore else */\n          if (comp != null) {\n            comp.setAttribute(attribute, value);\n          } else {\n            Logger.warn(`Unable to set attribute, component with id: ${compId} is not found`);\n          }\n        }\n      } else {\n        comp.setAttribute(attribute, value);\n      }\n\n      this.markForCheck();\n    }\n  }\n\n\n  /**\n   * Wholesale set attributes to an element.\n   *\n   * @param compId element to set attribute\n   * @param attributes an array of AttributesEnum to be set\n   */\n  setElementAttributesById(\n    compId: string,\n    attributes: Array<AttributeNameValue>\n  ) {\n\n    if (compId === this.getId()) {\n      this.setAttributes(attributes);\n    } else {\n      const comp = this.findElementById(compId);\n\n      if (comp == null) {\n        //is this for def?\n        const compDef = this.getSession().getDef(compId);\n\n        if (compDef != null) {\n          for (const attr of attributes) {\n            compDef.attribute[attr.attributeName] = attr.value;\n          }\n        } else {\n          Logger.warn(`Unable to set attribute, component with id: ${compId} is not found`);\n        }\n      } else {\n        comp.setAttributes(attributes);\n      }\n\n      this.markForCheck();\n    }\n  }\n\n\n  /**\n   * Removes an attribute from a component with a specific id\n   * @param compId Component id\n   * @param attribute Name of attribute to remove from component\n   */\n  removeElementAttributeById(\n    compId: string,\n    attribute: AttributesEnum | string\n  ) {\n\n    if (attribute === AttributesEnum.TITLE || attribute === 'title') {\n      this.setTitle(\"\");\n    } else if (compId === this.getId()) {\n      this.removeAttribute(attribute);\n    } else {\n      const comp = this.findElementById(compId);\n\n      /* istanbul ignore if */\n      /* istanbul ignore else */\n      if (comp == null) {\n        Logger.warn(`Unable to remove attribute, component with id: ${compId} is not found`);\n      } else {\n        comp.removeAttribute(attribute);\n      }\n    }\n\n    this.markForCheck();\n  }\n\n\n  /**\n   * Searches for a radio button group by ID and adds an attribute to all [[RadioButtonComponent]] elements in the group\n   * @param radioGroupId\n   * @param attribute HTML attribute name to be set\n   * @param value Value to set on HTML attribute\n   */\n  setRadioGroupAttribute(radioGroupId: string, attribute: AttributesEnum | string, value: any) {\n    const radios = _.filter(Array.from(this.children.values()), (child)=>{\n      return child instanceof RadioButtonComponent && (child as RadioButtonComponent).group === radioGroupId;\n    });\n\n    /* istanbul ignore if */\n    if (radios != null && radios.length > 0) {\n      _.forEach(radios, (radio)=>{\n        radio.setAttribute(attribute, value);\n      });\n    }\n\n    this.markForCheck();\n  }\n\n\n  /**\n   * Get the value of an HTML attribute of a component\n   * @param compId Id of component to get attribute from\n   * @param attribute Name of HTML attribute to get\n   */\n  getElementAttributeById(compId: string, attribute: AttributesEnum | string): any {\n    const comp = this.findElementById(compId);\n\n    if (comp != null) {\n      return comp.getAttribute(attribute);\n    }\n  }\n\n\n  /**\n   * Find [[ComboboxComponent]] by id and call it's initializeComboboxValues method.\n   * @param compId Component ID to initialize\n   * @param value Value to set on combobox\n   * @param attribute Name of attribute to set on combobox\n   */\n  initializeComboBoxValues(\n    compId: string,\n    value: any,\n    attribute: any\n  ) {\n    const comboBox: ComboBoxComponent = this.findElementById(compId) as ComboBoxComponent;\n\n    if (comboBox == null) {\n      console.error(`Unable to find combobox: ${compId} `);\n    } else {\n      comboBox.initializeComboboxValues(value);\n\n      if (attribute != null) {\n        if (attribute[\"width\"] != null) {\n          comboBox.setControlWidth(attribute[\"width\"]);\n        } else if (attribute[\"onCommand\"] != null) {\n          comboBox.setOnCommand(attribute[\"onCommand\"]);\n        }\n      }\n    }\n  }\n\n  /**\n   * Set the [[ComboboxComponent]] selected item that matches value\n   * @param compId [[ComboboxComponent]] id\n   * @param value Value to set as selected\n   */\n  selectComboBoxItem(compId: string, value: any) {\n    const comboBox: ComboBoxComponent = this.findElementById(compId) as ComboBoxComponent;\n\n    /* istanbul ignore if */\n    if (comboBox == null) {\n      console.error(`Unable to find combobox: ${compId} `);\n    } else {\n      comboBox.setSelectValue(value);\n    }\n  }\n\n  /**\n   * Find component and focus it\n   * @param compId Component id\n   */\n  setFocus(compId: string = null) {\n    if (compId == this.id) {\n      this.showView();\n    }\n    else if (compId == null || compId == '') {\n      this.requestFocus();\n    } else {\n      const comp = UiDocument.findElementById(compId);\n\n      if (comp == null) {\n        console.error(`Unable to setFocus, component with id: ${compId} is not found`);\n      } else {\n        comp.requestFocus();\n      }\n    }\n  }\n\n  /**\n   * Set title on [[DialogComponent]]\n   * @param title Title of dialog\n   */\n  setTitle(title: string) {\n    if (this.dialog != null) {\n      this.dialog.title = title;\n\n      this.dialog.markForCheck();\n    }\n  }\n\n\n  /**\n   * Close [[dialog]] if it exists on this component\n   * @param delayDialogClose\n   */\n  close(delayDialogClose?: boolean) {\n\n    const dialog = document.getElementById(this.dialog.id);\n    dialog.setAttribute(\"style\", \"display: none;\");\n    dialog.innerHTML = \"\";\n\n    this._viewStatus = 1;\n\n    this.cleanup();\n\n    if (this.dialog != null) {\n      if(delayDialogClose) {\n        setTimeout(() => {\n          this.dialog.close(null, false);\n        }, 1);\n      } else {\n        this.dialog.close(null, true);\n      }\n    } else if (this.isDynamicPage === true) {\n      this.getSession().getInjector(DynamicPagesService).removeView(this);\n    } else {\n      if (this.getSession() != null && this.getSession().getRouteNavigatorService() != null) {\n        this.getSession().getRouteNavigatorService().destroyRoute(this.routeUrl);\n      } else {\n        console.error(\"Unable to change route, session or route navigation service is not defined\");\n      }\n\n      console.error('Unable to close ViewComponent, DialogComponent not found');\n    }\n  }\n\n  /**\n   * Get name of this component\n   */\n  getLocalName(): string {\n    return \"window\";\n  }\n\n\n  /**\n   * Register and add an MCO\n   * @param mcoName\n   * @param mcoClass\n   */\n  createMco(mcoName: string, mcoClass: Type<any>): any {\n    let mco: any = this.getSession().getMcoContainer().getMco(mcoName);\n\n    //check to see if MCO already exists?\n    if (mco != null) {\n      console.warn(\"MCO \" + mcoName + \" is already exists, use existing one\");\n    } else {\n      mco = new mcoClass(this);\n      this.getSession().getMcoContainer().registerMco(mcoName, mco);\n\n      //add mco name for tracking (to be cleaned and removed later)\n      this.mcos.add(mcoName);\n    }\n\n    return mco;\n  }\n\n  /**\n   * Get MCO from client session\n   * @param mcoName Name of MCO to get\n   * @returns MCO\n   */\n  getMco(mcoName: string): any {\n    return this.getSession().getMcoContainer().getMco(mcoName);\n  }\n\n  /**\n   * Parse string and create component base on it\n   *\n   * @param domString\n   */\n  createComponent(domString: string) {\n    //textField\n    //label\n    //panel\n    //horizontalSeparator\n    try {\n      const element = AppUtils.parseDom(domString);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n\n  /**\n   * @deprecated DO NOT USE THIS, exists only for legacy support, use ngIf instead\n   * @param componentType\n   */\n  _createDynamicComponent(componentType: ComponentType): BaseComponent {\n    let comp: BaseComponent = null;\n\n    if (this.dialog != null && this.dialog.viewContainer != null) {\n      try {\n        const compFactory: ComponentFactoryResolver = this.getSession().getInjector(ComponentFactoryResolver);\n\n        if (compFactory != null) {\n          let compRef: ComponentRef<BaseComponent>;\n          if (componentType === ComponentType.LABEL) {\n            compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(LabelComponent));\n          } else if (componentType === ComponentType.BUTTON) {\n            compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(ButtonComponent));\n          } else if (componentType === ComponentType.COMBOBOX) {\n            compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(ComboBoxComponent));\n          } else if (componentType === ComponentType.TEXT_FIELD) {\n            compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(TextFieldComponent));\n          } else if (componentType === ComponentType.CHECKBOX) {\n            compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(CheckboxComponent));\n          } else if (componentType === ComponentType.RADIO) {\n            compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(RadioButtonComponent));\n          } else if (componentType === ComponentType.TEXTAREA) {\n            compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(TextAreaComponent));\n          } else {\n            throw new Error(\"Unknown component type: \" + componentType);\n          }\n\n          if (compRef != null) {\n            comp = compRef.instance;\n            comp.compRef = compRef;\n            comp.compRef.changeDetectorRef.detectChanges();\n          }\n        }\n\n      } catch (e) {\n        console.error(\"fail to create component: \" + e);\n      }\n    }\n\n    return comp;\n  }\n\n\n  /**\n   * @deprecated DO NOT USE THIS! Exists only for legacy support\n   * @param id\n   */\n  _removeComponent(id: string) {\n    const child = this.findElementById(id);\n\n    if (child != null) {\n      child.destroyComponent();\n    } else {\n      if (\n        this.dialog != null &&\n        this.dialog.viewContainer != null &&\n        (this.dialog.viewContainer as any)._embeddedViews != null &&\n        Array.isArray((this.dialog.viewContainer as any)._embeddedViews) &&\n        (this.dialog.viewContainer as any)._embeddedViews.length > 0\n      ) {\n        try {\n          const ev = (this.dialog.viewContainer as any)._embeddedViews;\n\n          for (let v of ev) {\n            if (v.nodes && Array.isArray(v.nodes) && v.nodes.length > 0) {\n\n              for (let n of v.nodes) {\n                if (n.instance != null && n.instance.id === id) {\n                  if (typeof n.instance.destroyComponent === 'function') {\n                    n.instance.destroyComponent()\n\n                    /* istanbul ignore if */\n                    if (AppUtils.enableLogging === true) {\n                      console.info(\"Removed component: \" + id);\n                    }\n                  }\n                  break;\n                }\n              }\n            }\n          }\n        } catch (e) {\n          console.error(e);\n        }\n      }\n    }\n  }\n\n\n  /**\n   * Check if this view can be active\n   * @returns True if view can be active or parent is null\n   */\n  isView(): boolean {\n    return this.canBeActiveView !== false ? true : (this.getParent() == null ? true : false);\n  }\n\n\n  /**\n   * Check if this view can't be active view\n   * @returns True if view can't be active view\n   */\n  isNoneActiveView(): boolean {\n    return this.canBeActiveView === false;\n  }\n\n  /**\n   * Check if this is a dynamic page\n   * @returns True if it is a dynamic page\n   */\n  isDynamicView(): boolean {\n    return this.isDynamicPage === true ? true : false;\n  }\n\n  /**\n   * Set [[DialogComponent]] instance z-index\n   * @param newZIndex\n   */\n  updateZIndex(newZIndex: number) {\n    if (this.dialog != null && this.isDestroyed !== true && this.disabled != true) {\n      this.dialog.updateZIndex(newZIndex);\n      this.zIndex = newZIndex;\n    }\n  }\n\n\n  /**\n   * Get JSON representation of this component\n   * @returns Object JSON metadata for this component\n   */\n  toJson(): {} {\n    const json: any = super.toJson();\n    this.setJson(json, \"screenIndex\", this.getScreenIndex());\n\n    if (this.getSession().getMcoContainer().activeView().getId() === this.getId() && UiDocument.menuItemElementMap != null) {\n      const menuItems: Array<{}> = [];\n      const keySet = UiDocument.menuItemElementMap.keys();\n      let keyIt = keySet.next();\n\n      while(keyIt.done !== true) {\n        menuItems.push(UiDocument.menuItemElementMap.get(keyIt.value).toJson());\n        keyIt = keySet.next();\n      }\n\n      if (this._inactiveMenuItems != null) {\n        const keyIt = this._inactiveMenuItems.values();\n        let rs = keyIt.next();\n\n        while(rs.done !== true) {\n          menuItems.push(rs.value.toJson());\n          rs = keyIt.next();\n        }\n      }\n\n      if (json[\"children\"] != null) {\n        json[\"children\"] = json[\"children\"].concat(menuItems);\n      } else {\n        json[\"children\"] = menuItems;\n      }\n    }\n\n    return json;\n  }\n\n  /**\n   * Add component id to [[defIds]]\n   * @param id\n   */\n  trackDef(id: string) {\n    this.defIds.push(id);\n  }\n\n  private static closeOnInit = { idSet : new Set<string>(), types : new Set<Type<ViewComponent>>(), hooked : false };\n\n  static hasIdAsCloseTargetOnInit(viewId: string): boolean {\n    return ViewComponent.closeOnInit.idSet.has(viewId);\n  }\n\n  static hasTypeAsCloseTargetOnInit(viewType: Type<ViewComponent>): boolean {\n    return ViewComponent.closeOnInit.types.has(viewType);\n  }\n\n  private static hookClosePrevView2DynamicPagesService() {\n    if(!ViewComponent.closeOnInit.hooked) {\n      DynamicPagesService.onCreateViewCloser = (sessionService, viewType, routeId) => {\n        ViewComponent.closePrevView(sessionService, routeId ? routeId : viewType);\n      };\n      ViewComponent.closeOnInit.hooked = true;\n    }\n  }\n\n  static closePrevView(sessionService: SessionService, target: string|Type<ViewComponent>) {\n    let view: ViewComponent = null;\n    if((typeof target) == \"string\") {\n      let screenId: string = target as string;\n      if(ViewComponent.hasIdAsCloseTargetOnInit(screenId)) {\n        view = sessionService.getMcoContainer().getViewById(screenId);\n      }\n    } else if(target instanceof Type) {\n      let viewType: Type<ViewComponent> = target as Type<ViewComponent>;\n      if(ViewComponent.hasTypeAsCloseTargetOnInit(viewType)) {\n        view = _.find(sessionService.getMcoContainer().getViews(), v => v.constructor == viewType);\n      }\n    }\n\n    //Vivify: if view has actionForwardName, do not close the view as we will call it handleActionForward() to refresh the screen.\n    if(view && view.actionForwardName == null) {\n      view.close();\n    }\n  }\n\n  /**\n   * Close previous version of this view (if this view is \"re-open\"). This is to support usage\n   * of removing current view and replacing with new view\n   * @param viewId\n   */\n  closeView(viewId: string, delayDialogClose?: boolean) {\n    //if the view about to be closed has the same \"id\" (i.e. same screen but diff).\n    const checkScreenInique = viewId === this.id;\n\n    const oldView: ViewComponent = _.find(this.getSession().getMcoContainer().getViews(), (view: ViewComponent)=>{\n      return view.id === viewId &&\n        (checkScreenInique === false ||\n          (checkScreenInique === true &&\n            view.uniqueId !== this.uniqueId\n          )\n        )\n      ;\n    });\n\n    if (oldView != null) {\n      //for case where we are the same screen, we should't call beforeDestroyCb to cleanup\n      if (checkScreenInique === true) {\n        oldView.beforeDestroyCb = null;\n      }\n\n      oldView.close(delayDialogClose);\n    }\n    if(!this.viewIsInitialized && checkScreenInique) {\n      // This case is too late to close. This object's view is already exist, reused and un-closable!\n      // To save this trying, and execute closing at router before create new view.\n      if(!ViewComponent.closeOnInit.idSet.has(viewId)) {\n        ViewComponent.closeOnInit.idSet.add(viewId);\n      }\n      let oType = this.constructor as Type<ViewComponent>;\n      if(!ViewComponent.closeOnInit.types.has(oType)) {\n        ViewComponent.closeOnInit.types.add(oType);\n      }\n      ViewComponent.hookClosePrevView2DynamicPagesService();\n    }\n  }\n\n\n  /**\n   * Add a [[PopupMenuDirective]] to [[popupMenus]] property\n   * @param popupMenu Popup menu to add to internal [[popupMenus]] list\n   */\n  registerPopupMenu(popupMenu: PopupMenuDirective) {\n    if (this.popupMenus == null) {\n      this.popupMenus = [];\n    }\n\n    this.popupMenus.push(popupMenu);\n  }\n\n  /**\n   * Check if [[popupMenus]] has 1 or more items\n   * @returns True if [[popupMenus]] is defined and has at least 1 item\n   */\n  hasPopupMenu() {\n    return this.popupMenus != null && this.popupMenus.length > 0;\n  }\n\n  /**\n   * Get the ID of the first [[PopupMenuDirective]] instance in [[popupMenus\n   * @returns Id of popup menu\n   */\n  getFirstPopupMenuId() {\n    return this.popupMenus != null && this.popupMenus.length > 0 ? this.popupMenus[0].id : null;\n  }\n\n  /**\n   * Delegate to [[BaseComponent]] findElementById method\n   * @param id Component ID\n   */\n  findElementById(id: string): BaseComponent {\n    let comp: BaseComponent = super.findElementById(id);\n\n    if (comp == null && this._tableColumnsMap != null) {\n      comp = this._tableColumnsMap.get(KeyUtils.toMapKey(id));\n    }\n\n    if (comp == null) {\n      //check for inactive menu items\n      comp = this.getInactiveMenuItem(id) as any;\n    }\n\n    return comp;\n  }\n\n  /**\n   * Stop change detection\n   */\n  freezeChangeDetection() {\n    if (this.getChangeDetector() != null) {\n      this.getChangeDetector().detach();\n      this.changeDetectionFrozen = true;\n    }\n  }\n\n  /**\n   * Resume change detection if it has been stopped\n   */\n  unfreezeChangeDetection() {\n    if (this.getChangeDetector() != null) {\n      this.getChangeDetector().detectChanges();\n      this.getChangeDetector().reattach();\n    }\n\n    this.changeDetectionFrozen = false;\n  }\n\n  /**\n   * Check if change detection has been stopped\n   * @returns True if change detection has been stopped\n   */\n  isChangeDetectionFrozen() {\n    return this.changeDetectionFrozen === true;\n  }\n\n  /**\n   * Check if this is a container component\n   * @returns True\n   */\n  protected isContainer() {\n    return true;\n  }\n\n  /**\n   * Trigger change detection for parent [[BaseComponent]] and [[dialog]] instance\n   */\n  detectChanges() {\n    super.detectChanges();\n\n    if (this.dialog != null) {\n      this.dialog.detectChanges();\n    }\n  }\n\n  /**\n   * Mark this component for change detection\n   */\n  markForCheck() {\n    super.markForCheck();\n\n    if (this.dialog != null) {\n      this.dialog.markForCheck();\n    }\n  }\n\n  /**\n   * Show the view after it has been hidden via minimized\n   */\n  showView() {\n    if (this.dialog != null) {\n      this.dialog.showView();\n    }\n\n    delete this.isMinimized;\n  }\n\n  /**\n   * Minimize the [[dialog]] of this component\n   */\n  minimize() {\n    if (this.dialog != null) {\n      this.dialog.minimize(null);\n    }\n  }\n\n  /**\n   * Move this component to the top of the view stack\n   */\n  moveToTop() {\n    this.getSession().getMcoContainer().reStackView(this.id), this.screenIndex;\n  }\n\n  trackInactiveMenuItem(menuItem: MenuItemComponent) {\n    const id = menuItem.getId();\n\n    const fauxMenuItem = new HTMLElementWrapper(null, \"menuItem\", null);\n    fauxMenuItem.setAttribute(\"id\", id);\n\n    if (menuItem.item != null && menuItem.item.customAttributes != null) {\n      const keys = _.keys(menuItem.item.customAttributes);\n\n      for (const key of keys) {\n        if (key !== \"id\") {\n          fauxMenuItem.setAttribute(key, menuItem.item.customAttributes[key]);\n        }\n      }\n    }\n\n    if (this._inactiveMenuItems == null) {\n      this._inactiveMenuItems = new Map<string, HTMLElementWrapper>();\n    }\n\n    this._inactiveMenuItems.set(id, fauxMenuItem);\n  }\n\n  getInactiveMenuItem(id: string) {\n    return this._inactiveMenuItems != null ? this._inactiveMenuItems.get(id) : null;\n  }\n\n  cleanup() {\n    super.cleanup();\n\n    if (this._viewChildrenMap != null) {\n      const cit = this._viewChildrenMap.values();\n      let val = cit.next();\n\n      while(val.done !== true) {\n        //some children are not actual BaseComponent\n        if (typeof val.value.emptyChildren === \"function\") {\n          val.value.emptyChildren();\n          val.value._isDying = true;\n        }\n\n        val = cit.next();\n      }\n    }\n\n    super.emptyChildren();\n  }\n\n  isModalDialog(): boolean {\n    return this.dialog != null && (this.dialog.modal === true || this.dialog.modal === \"true\");\n  }\n\n  /**\n   * Not implemented\n   */\n  handleActionForward() {\n  }\n  /**\n   * screen index(0~)ã®æå­åè¡¨ç¾\n   */\n  getScreenIndex():string {\n    return (this.screenIndex === undefined || this.screenIndex === null)\n      ? ''\n      : this.screenIndex.toString();\n  }\n  registerScreenIndex(){\n    this.screenIndex = this.getSession().getMcoContainer().nextScreenIndex(this.baseScreenId);\n  }\n\n  setVisible(boo: boolean) {\n    super.setVisible(boo);\n    this.getSession().getMcoContainer().refreshBreadCrumb();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ViewComponent } from './view.component';\nimport { DynamicPagesService } from './dynamic-pages.service';\nimport { BaseModule } from '../base/base.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BaseModule\n  ],\n  declarations: [ViewComponent],\n  providers: [\n    DynamicPagesService\n  ],\n  exports: [\n    ViewComponent,\n  ]\n})\nexport class ViewModule { }\n","import {\n  Component,\n  Optional,\n  SkipSelf,\n  ElementRef,\n  ContentChildren,\n  QueryList,\n  Input,\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  DoCheck,\n  IterableDiffers,\n  IterableDiffer,\n  ViewChild,\n  ContentChild,\n  ViewEncapsulation,\n  Renderer2\n} from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { SessionService } from '../session/session.service';\nimport { MenuItemDirective } from './menu-item.directive';\nimport { MenuItem } from './menu-item';\nimport { ContextMenuService } from './context-menu.service';\nimport { BsDropdownDirective } from 'ngx-bootstrap';\nimport { MenuItemBuilder } from './menu-item-builder';\nimport * as _ from \"lodash\";\nimport { ClientEvent } from '../event-handler/client-event';\nimport { AppUtils } from '../base/app-utils';\nimport { UiDocument } from '../base/ui-document';\n\n/**\n * Class for popup menu component\n */\n@Component({\n  selector: 'vt-popup-menu-view',\n  templateUrl: './popup-menu.component.html',\n  styleUrls: ['./popup-menu.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  encapsulation: ViewEncapsulation.None\n})\nexport class PopupMenuComponent extends BaseComponent implements DoCheck {\n  @Input() private idName: string; //DO NOT used, exists for bad usage\n  @ViewChild(\"myDropdown\", {read: BsDropdownDirective}) dropdown: BsDropdownDirective;\n  @ViewChild(\"bsDropdownContainer\", {read: ElementRef}) dropdownContainer: ElementRef<HTMLElement>;\n\n  @Input() menuItems: Array<MenuItem> = [];\n\n  private menuItemsDiffer: IterableDiffer<{}> = null;\n\n  private isShown: boolean = false;\n\n  get hasMenuItems(): boolean {\n    return this.menuItems != null && this.menuItems.length > 0;\n  }\n\n  onDocumentClick: (event)=>void;\n\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param cd Change detector\n   * @param differs\n   * @param popupMenuService\n   * @param renderer see [[BaseComponent]] constructor\n   */\n  constructor(\n    @Optional() @SkipSelf() parent: BaseComponent,\n    sessionService: SessionService,\n    elementRef: ElementRef,\n    private cd: ChangeDetectorRef,\n    differs: IterableDiffers,\n    private popupMenuService: ContextMenuService,\n    renderer: Renderer2\n  ) {\n    super(parent, sessionService, elementRef, renderer);\n\n    this.menuItemsDiffer = differs.find([]).create();\n\n    this.onDocumentClick = (event)=>{\n      this.handleDocumentClick(event);\n    };\n\n    document.addEventListener(\"click\", this.onDocumentClick, true);\n  }\n\n  /**\n   * Do check lifecycle\n   */\n  ngDoCheck() {\n    if (this.menuItemsDiffer.diff(this.menuItems)) {\n      this.cd.markForCheck();\n    }\n  }\n\n  /**\n   * After view init lifecycle. Trigger change detection and show this component\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n    this.cd.detectChanges();\n\n    UiDocument.registerMenuItemElement(this.getId(), this as any);\n\n    const tm = setTimeout(()=>{\n      clearTimeout(tm);\n      this.show();\n    });\n  }\n\n  /**\n   * Destroy lifecycle. Remove event listeners and remove dropdown elements\n   */\n  ngOnDestroy() {\n    super.ngOnDestroy();\n\n    UiDocument.unregisterMenuItemElement(this.getId());\n\n    document.removeEventListener(\"click\", this.onDocumentClick, true);\n    this.dropdownContainer = null;\n    this.dropdown = null;\n  }\n\n  /**\n   * Show the popup by setting CSS position to on screen\n   */\n  private show() {\n    this.popupMenuService.setActiveMenu(this.id);\n\n    if (this.dropdown != null) {\n      this.dropdown.show();\n      this.isShown = true;\n      const position = this.getSession().getMousePosition();\n\n      if (position != null && this.dropdownContainer != null) {\n        this.renderer.setStyle(this.dropdownContainer.nativeElement, \"left\", position.x + \"px\");\n        this.renderer.setStyle(this.dropdownContainer.nativeElement, \"top\", position.y + \"px\");\n      }\n\n      this.cd.markForCheck();\n    }\n  }\n\n  /**\n   * Hide the popup menu\n   */\n  private hide() {\n    this.dropdown.hide();\n    this.isShown = false;\n    this.cd.markForCheck();\n    this.popupMenuService.setActiveMenu(null);\n  }\n\n  /**\n   * Event handler for mouse click\n   * @param event\n   */\n  handleDocumentClick(event: MouseEvent){\n    if (this.isShown === true && !this.elementRef.nativeElement.contains(event.target)) {\n      this.hide();\n    }\n  }\n\n  /**\n   * Get [[cd]] (Change detector) property\n   */\n  getChangeDetector() {\n    return this.cd;\n  }\n\n  /**\n   * Event handler that hides all other popup menus and displays this one\n   * @param event\n   */\n  dispSubmenu(event: any): void {\n    const currentTarget: any = event.currentTarget;\n    const currentChildren: Array<any> = currentTarget.children;\n    const parentChildren: Array<any> = currentTarget.parentElement.children;\n\n    for(let i = 0, len = parentChildren.length; i < len; i++){\n      if(parentChildren[i] !== undefined){\n        this.renderer.setStyle(parentChildren[i], \"background-color\", \"#ffffff\");\n      }\n      if(parentChildren[i].children[1] === undefined){\n        continue;\n      }\n\n      parentChildren[i].children[1].classList.remove('popup-sub-menu-display');\n    }\n\n    if(currentChildren[1] === undefined\n        || (currentChildren[0] !== undefined && !currentChildren[0].classList.contains('dropdown-item'))){\n      return;\n    }\n\n    currentChildren[1].classList.add('popup-sub-menu-display');\n    this.renderer.setStyle(currentTarget, \"background-color\", \"#f5de92\");\n  }\n\n  /**\n   * Set an attribute with value on the menu item\n   * @param name Attribute name\n   * @param value Attribute value\n   */\n  setAttribute(name: string, value: any) {\n    this.setCustomAttribute(name, value);\n  }\n\n  /**\n   * Get the value of an attribute by name\n   * @param name Attribute name\n   */\n  getAttribute(name: string) {\n    return this.getCustomAttribute(name);\n  }\n\n  toJson() {\n    return super.toJson();\n  }\n}\n","import { Directive, Input, QueryList, ContentChildren, Output, EventEmitter } from '@angular/core';\nimport { MenuItem } from './menu-item';\n\n/**\n * Menu item directive class. Adds menu dispay and behavior to component\n */\n@Directive({\n  selector: 'vt-menu-item'\n})\nexport class MenuItemDirective {\n  @Input() private idName: string; //DO NOT used, exists for bad usage\n  @Input() private id: string;\n  @Input() private text: string = '';\n  @Input() private visible: boolean = true;\n  @Output() private onCommand = new EventEmitter<void>();\n\n  @ContentChildren(MenuItemDirective) private subMenuItems: QueryList<MenuItemDirective>;\n\n  /**\n   * Convert [[MenuItemDirective]] children of parent view to [[MenuItem]]\n   * @param parentScreenId\n   */\n  toMenuItem(parentScreenId?: string): MenuItem {\n    const menuItem: MenuItem = {\n      id: this.id,\n      text: this.text,\n      menuItems: null,\n      onCommand: this.onCommand,\n      parentScreenId: parentScreenId,\n      display: this.visible\n    };\n\n    if (this.subMenuItems != null && this.subMenuItems.length > 0) {\n      //filter to remove self then map to MenuItem\n      menuItem.menuItems = this.subMenuItems.filter(item=>item !== this).map(item=>item.toMenuItem(parentScreenId));\n    }\n\n    return menuItem;\n  }\n}\n","import { Component, Output, Input, EventEmitter, OnDestroy, AfterViewInit, ChangeDetectorRef } from '@angular/core';\nimport { MenuItem } from '../menu-item';\nimport { ClientEvent } from '../../event-handler/client-event';\nimport { AppUtils } from '../../base/app-utils';\nimport { SessionService } from '../../session/session.service';\nimport { MenuItemBuilder } from '../menu-item-builder';\nimport { UiDocument } from '../../base/ui-document';\nimport * as _ from \"lodash\";\nimport { KeyUtils } from '../../base/key-utils';\n\n/**\n * Class for menu item component. Child rendered by Menu directive\n */\n@Component({\n  selector: '[vt-menu-item-comp]',\n  templateUrl: './menu-item.component.html',\n  styleUrls: ['./menu-item.component.css']\n})\nexport class MenuItemComponent implements OnDestroy, AfterViewInit{\n  @Input() text: string;\n  @Input() id: string;\n  @Input() menuItems: Array<MenuItem>;\n  @Input() display: boolean = true;\n  @Input() visible: boolean;\n  @Input() item: MenuItem;\n  @Input() popupMenuId: string;\n\n  @Output() onClick = new EventEmitter<void>();\n\n  /**\n   * Check if menu items exist\n   * @returns True if [[menuItems]] exists and has 1 or more items\n   */\n  get hasMenuItems(): boolean {\n    return this.menuItems != null && this.menuItems.length > 0;\n  }\n\n  /**\n   * Check if this menu item is a separator/divider (i.e. hyphen)\n   * @returns True if the menu item text is a hyphen\n   */\n  get isDivider(): boolean {\n    return this.text === '-';\n  }\n\n  /**\n   * Get menu item styles map\n   * @return Map of styles\n   */\n  get menuStyles() {\n    return this.item != null ? this.item.styles : null;\n  }\n\n  /**\n   *\n   * @param sessionService Injects reference to [[SessionService]] instance\n   */\n  constructor(private sessionService: SessionService, private cd: ChangeDetectorRef) {\n\n  }\n\n  /**\n   * After view init lifecycle. Adds menu item to [[UiDocument]]\n   */\n  ngAfterViewInit() {\n    UiDocument.registerMenuItemElement(this.id, this);\n  }\n\n  /**\n   * Destroy lifecycle. Remove menu item from [[UiDocument]]\n   */\n  ngOnDestroy() {\n    this.item = null;\n    this.menuItems = null;\n\n    UiDocument.unregisterMenuItemElement(this.id);\n  }\n\n  /**\n   * Set an attribute with value on the menu item\n   * @param name Attribute name\n   * @param value Attribute value\n   */\n  setAttribute(name: string, value: any) {\n    if (this.item) {\n      if (name === \"display\" || name === \"visible\") {\n        value = value === true || value === \"true\";\n        this.display = value;\n        this.item.display = value;\n        this.cd.detectChanges();\n      } else if (name === \"text\") {\n        this.text = value;\n        this.item.text = value;\n        this.cd.detectChanges();\n      } else if (MenuItemBuilder.knownKeys.indexOf(name) < 0) {\n        if (this.item.customAttributes == null) {\n          this.item.customAttributes = {};\n        }\n\n        this.item.customAttributes[name] = value;\n      }\n    }\n  }\n\n  /**\n   * Get the value of an attribute by name\n   * @param name Attribute name\n   */\n  getAttribute(name: string) {\n    if (this.item) {\n      if (MenuItemBuilder.knownKeys.indexOf(name) < 0) {\n        return this.item.customAttributes == null ? null : this.item.customAttributes[name];\n      } else if (name === \"display\" || name === \"visible\") {\n        return this.display;\n      } else if (name === \"text\") {\n        return this.text;\n      } else if (name === \"id\") {\n        return this.id;\n      }\n    }\n  }\n\n  /**\n   * Get value of [[id]] property\n   * @returns [[id]] value\n   */\n  getId() {\n    return this.id;\n  }\n\n  /**\n   * Get value of [[text]] property\n   * @returns [[text]] value\n   */\n  getText() {\n    return this.text;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler fro mouseenter event\n   * @param event Mouse event\n   */\n  handleOnEnter(event) {\n    const clientEvent = new ClientEvent(this, event);\n\n    if (AppUtils.customizeClientEvent != null) {\n      AppUtils.customizeClientEvent(this, clientEvent);\n    }\n\n    if (this.item != null && this.item.parentScreenId != null) {\n      clientEvent.setParameter(\"screenId\", this.item.parentScreenId);\n    }\n\n    this.sessionService.getEventHandler().setClientEvent(clientEvent);\n\n    if (this.item && typeof this.item.onCommandCallback === 'function') {\n      this.item.onCommandCallback(this.item);\n    } else if (this.item && this.item.onCommand) {\n      this.item.onCommand.emit();\n    }\n\n    if (this.popupMenuId != null) {\n      this.sessionService.hideContextMenu(this.popupMenuId);\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for mouseenter. Focuses the event target\n   * @param event Mouse event\n   */\n  handleMouseEnter(event) {\n    event.target.focus();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for click.\n   * @param event\n   * @event OnCommand\n   */\n  handleOnClick(event: MouseEvent): void {\n    const clientEvent = new ClientEvent(this, event);\n\n    if (AppUtils.customizeClientEvent != null) {\n      AppUtils.customizeClientEvent(this, clientEvent);\n    }\n\n    if (this.item != null && this.item.parentScreenId != null) {\n      clientEvent.setParameter(\"screenId\", this.item.parentScreenId);\n    }\n\n    this.sessionService.getEventHandler().setClientEvent(clientEvent);\n\n    if (this.item && typeof this.item.onCommandCallback === 'function') {\n      this.item.onCommandCallback(this.item);\n    } else if (this.item && this.item.onCommand) {\n      this.item.onCommand.emit();\n    }\n\n    if (this.popupMenuId != null) {\n      this.sessionService.hideContextMenu(this.popupMenuId);\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for mousedown event\n   * @param event Mouse down event\n   */\n  handleMouseDown(event: MouseEvent) {\n    const clientEvent = new ClientEvent(this, event);\n\n    if (AppUtils.customizeClientEvent != null) {\n      AppUtils.customizeClientEvent(this, clientEvent);\n    }\n\n    if (this.item != null && this.item.parentScreenId != null) {\n      clientEvent.setParameter(\"screenId\", this.item.parentScreenId);\n    }\n\n    this.sessionService.getEventHandler().setClientEvent(clientEvent);\n\n    if (this.item && typeof this.item.onMouseDownCallback === \"function\") {\n      this.item.onMouseDownCallback(this);\n    }\n  }\n\n  /**\n   * Get JSON representation for this component\n   * @returns Object Metadata as JSON\n   */\n  toJson(): {} {\n    const json = {};\n\n    json[\"tagName\"] = \"menuItem\";\n    json[\"nxTagName\"] = \"menuItem\";\n\n    if (this.id != null) {\n      json[\"id\"] = this.id;\n    }\n\n    if (this.text != null) {\n      json[\"text\"] = this.text;\n    }\n\n    /* istanbul ignore if */\n    if (this.popupMenuId != null) {\n      json[\"popup\"] = \"#\" + this.popupMenuId;\n    }\n\n    /* istanbul ignore if */\n    if (this.item.customAttributes != null) {\n      const keys = _.keys(this.item.customAttributes);\n\n      for (let key of keys) {\n        json[key] = KeyUtils.toJsonValue(this.item.customAttributes[key]);\n      }\n    }\n\n    return json;\n  }\n\n  /**\n   * Event handler to show the submenu items by adding CSS class\n   * @param event\n   */\n  dispSubmenu(event: any): void {\n    const currentTarget: any = event.currentTarget;\n    const currentChildren: Array<any> = currentTarget.children;\n    const parentChildren: Array<any> = currentTarget.parentElement.children;\n\n    for(let i = 0, len = parentChildren.length; i < len; i++){\n      if(parentChildren[i] !== undefined){\n        parentChildren[i].style.backgroundColor = \"#ffffff\";\n      }\n      if(parentChildren[i].children[1] === undefined){\n        continue;\n      }\n\n      parentChildren[i].children[1].classList.remove('popup-sub-menu-display');\n    }\n\n    if(currentChildren[1] === undefined\n        || (currentChildren[0] !== undefined && !currentChildren[0].classList.contains('dropdown-item'))){\n      return;\n    }\n\n    currentChildren[1].classList.add('popup-sub-menu-display');\n    currentTarget.style.backgroundColor = \"#f5de92\";\n  }\n}\n","import { Directive, forwardRef } from '@angular/core';\nimport { MenuItemDirective } from './menu-item.directive';\n\n/**\n * Menu directive class\n */\n@Directive({\n  selector: 'vt-menu',\n  providers: [\n    {\n      provide: MenuItemDirective,\n      useExisting: forwardRef(()=>MenuDirective)\n    }\n  ]\n})\nexport class MenuDirective extends MenuItemDirective {\n\n}\n","import { Component, OnDestroy, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild } from '@angular/core';\n\nimport { Subscription } from \"rxjs\";\nimport { ContextMenuService } from '../context-menu.service';\nimport { PopupMenuComponent } from '../popup-menu.component';\n\n/**\n * Class for popup menu container\n */\n@Component({\n  selector: 'vt-popup-menu-container',\n  templateUrl: './popup-menu-container.component.html',\n  styleUrls: ['./popup-menu-container.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class PopupMenuContainerComponent implements OnDestroy {\n  @ViewChild(PopupMenuComponent) popupMenu: PopupMenuComponent;\n\n  private activeMenuSubscription: Subscription;\n\n  activeMenuId: string;\n  activeMenuItems: Array<any>;\n  \n  hasPopupMenu: boolean = false;\n\n  /**\n   * \n   * @param contextMenuService Injects reference to context menu service\n   * @param cd Injects change detector reference\n   */\n  constructor(\n    private contextMenuService: ContextMenuService,\n    private cd: ChangeDetectorRef\n  ) {\n    this.activeMenuSubscription = this.contextMenuService.activeMenuObservable.subscribe((activeMenu)=>{\n      this.setActiveMenu(activeMenu);\n    });\n  }\n\n  /**\n   * Destroy lifecycle. Remove references\n   */\n  ngOnDestroy() {\n    if (this.activeMenuSubscription != null) {\n      this.activeMenuSubscription.unsubscribe();\n    }\n\n    this.activeMenuSubscription = null;\n    this.activeMenuItems = null;\n    this.contextMenuService = null;\n  }\n\n  /**\n   * Set active menu by id\n   * @param id Id of menu to set as active\n   */\n  setActiveMenu(id: string) {\n    this.activeMenuId = id;\n    \n    if (id != null) {\n      this.activeMenuItems = this.contextMenuService.getContextMenuItems(id);\n\n      if (this.activeMenuItems != null && this.activeMenuItems.length > 0) {\n        this.hasPopupMenu = true;\n      }\n    } else {\n      this.activeMenuItems = null;\n      this.hasPopupMenu = false;\n    }\n\n    this.cd.detectChanges();\n  }\n}\n","import { Directive, QueryList, Input, ContentChildren, OnInit, AfterViewInit, Optional, SkipSelf } from '@angular/core';\nimport { MenuItemDirective } from './menu-item.directive';\nimport { MenuItem } from './menu-item';\nimport { ContextMenuService } from './context-menu.service';\nimport { BaseComponent } from '../base/base.component';\nimport { ViewComponent } from '../view/view.component';\n\n/**\n * Popup menu directive class. Adds context menu items to component\n */\n@Directive({\n  selector: 'vt-popup-menu'\n})\nexport class PopupMenuDirective implements AfterViewInit {\n  @Input() idName: string; //DO NOT used, exists for bad usage\n  @Input() id: string;\n  @Input() disabled: boolean = false;\n  @Input() visible: boolean = true;\n  @Input() text: string = \"\";\n\n  @ContentChildren(MenuItemDirective) private subMenuItems: QueryList<MenuItemDirective>;\n  \n  /**\n   * \n   * @param parent \n   * @param contextMenuService Injected service for context menu functions\n   */\n  constructor(\n    @Optional() private parent: BaseComponent,\n    private contextMenuService: ContextMenuService\n  ) { }\n\n  /**\n   * After view init lifecycle. Initialize submenu items\n   */\n  ngAfterViewInit() {\n    if (this.parent != null && this.parent.getParentView() != null) {\n      (this.parent.getParentView() as ViewComponent).registerPopupMenu(this);\n    } else {\n      this.convertSubMenuItems(null);\n    }\n  }\n\n  /**\n   * Delegate to [[ContextMenuService]] getContextMenuItems method\n   */\n  getMenuItems() {\n    return this.contextMenuService.getContextMenuItems(this.id);\n  }\n\n  /**\n   * Convert all sub menu items ([[MenuItemDirective]]) to [[MenuItem]]\n   * @param parentScreenId Id of parent view component\n   */\n  convertSubMenuItems(parentScreenId: string) {\n    let menuItems: Array<MenuItem> = [];\n\n    if (this.subMenuItems) {\n      menuItems = this.subMenuItems.map(item=>item.toMenuItem(parentScreenId));\n    }\n\n    this.contextMenuService.registerContextMenu(this.id, menuItems, parentScreenId);\n  }\n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PopupMenuComponent } from './popup-menu.component';\nimport { MenuItemDirective } from './menu-item.directive';\nimport { MenuItemComponent } from './menu-item/menu-item.component';\nimport { MenuDirective } from './menu.directive';\nimport { ContextMenuService } from './context-menu.service';\nimport { BsDropdownModule } from 'ngx-bootstrap';\nimport { PopupMenuContainerComponent } from './popup-menu-container/popup-menu-container.component';\nimport { PopupMenuDirective } from './popup-menu.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BsDropdownModule.forRoot()\n  ],\n  declarations: [\n    PopupMenuComponent,\n    MenuItemDirective,\n    MenuItemComponent,\n    MenuDirective,\n    PopupMenuContainerComponent,\n    PopupMenuDirective\n  ],\n  exports: [\n    PopupMenuComponent,\n    MenuItemDirective,\n    MenuItemComponent,\n    MenuDirective,\n    BsDropdownModule,\n    PopupMenuContainerComponent,\n    PopupMenuDirective\n  ],\n  providers: [\n    ContextMenuService\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class PopupMenuModule { }\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\n/**\n * Class for bottom/right split-pane section\n */\n@Component({\n  selector: 'vt-bottom',\n  templateUrl: './bottom-pane.component.html',\n  styleUrls: ['./bottom-pane.component.css']\n})\nexport class BottomPaneComponent implements OnInit {\n  @ViewChild(TemplateRef) content;\n  \n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, OnInit, TemplateRef, ViewChild } from '@angular/core';\n\n/**\n * Class for top/left split-pane section\n */\n@Component({\n  selector: 'vt-top',\n  templateUrl: './top-pane.component.html',\n  styleUrls: ['./top-pane.component.css']\n})\nexport class TopPaneComponent implements OnInit {\n  @ViewChild(TemplateRef) content;\n  \n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { Component, ChangeDetectionStrategy, Input, ContentChild, ViewChild, ElementRef, Optional, SkipSelf, Renderer2, NgZone, ChangeDetectorRef, forwardRef } from '@angular/core';\nimport { BaseComponent } from '../base/base.component';\nimport { BottomPaneComponent } from './bottom-pane/bottom-pane.component';\n/* istanbul ignore next */\nimport { TopPaneComponent } from './top-pane/top-pane.component';\nimport { SessionService } from '../session/session.service';\nimport * as _ from 'lodash';\n\ndeclare var $: any;\n\n/**\n * Class for split resizable panes\n */\n@Component({\n  selector: 'vt-split-pane',\n  templateUrl: './split-pane.component.html',\n  styleUrls: ['./split-pane.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: BaseComponent,\n      useExisting: forwardRef(()=>SplitPaneComponent)\n    }\n  ]\n})\nexport class SplitPaneComponent extends BaseComponent {\n  /**\n   * 'horizontal' = top/bottom panes, 'vertical' = left/right panes\n   */\n  @Input() orientation: string = 'horizontal';\n\n  /**\n   * Where the divider position should be set\n   */\n  @Input() splitPosition: string = '50%'; //percent\n  /**\n   * Set true, in case of cascading split pane\n   */\n  @Input() set noScroll(value){\n    this._noScroll = value;\n    this.topPaneStyles['overflow'] = value ? 'hidden' : 'inherit';\n    this.bottomPaneStyles['overflow'] = value ? 'hidden' : 'inherit';\n  }\n  get noScroll(){ return this._noScroll; }\n  private _noScroll: boolean = false;\n\n  @ViewChild(\"topPaneSection\", {read: ElementRef}) topPaneElement: ElementRef;\n  @ViewChild(\"splitPaneDivider\", {read: ElementRef}) splitPaneDivider: ElementRef;\n  @ViewChild(\"bottomPaneSection\", {read: ElementRef}) bottomPaneElement: ElementRef;\n  @ViewChild(\"splitPaneContainer\", {read: ElementRef}) splitPaneContainer: ElementRef;\n\n  @ContentChild(TopPaneComponent) topPane: TopPaneComponent;\n  @ContentChild(BottomPaneComponent) bottomPane: BottomPaneComponent;\n\n  dividerStyles: {[name: string]: string} = {};\n  topPaneStyles: {[name: string]: string} = {};\n  bottomPaneStyles: {[name: string]: string} = {};\n\n  dividerCssClass = [\"split-pane-divider\"];\n\n  private _resizeOn: boolean = false;\n  private _handleMouseMove: (event)=>void;\n  private _handleMouseDown: (event)=>void;\n  private _handleMouseUp: (event)=>void;\n  private _prevPos = -1;\n  private _containerHeight: number;\n  private _containerWidth: number;\n  private _update = false;\n\n  /* istanbul ignore next */\n  /**\n   *\n   * @param parent see [[BaseComponent]] constructor\n   * @param sessionService see [[BaseComponent]] constructor\n   * @param elementRef see [[BaseComponent]] constructor\n   * @param renderer see [[BaseComponent]] constructor\n   * @param zone Inject [[NgZone]] reference\n   * @param cd Inject [[ChangeDetectorRef]]\n   */\n  constructor(@Optional() @SkipSelf() parent: BaseComponent, sessionService: SessionService, elementRef: ElementRef, renderer: Renderer2, private zone: NgZone, private cd: ChangeDetectorRef) {\n    super(parent, sessionService, elementRef, renderer);\n\n    this._handleMouseMove =  _.throttle((event)=>{\n      this._resizePanels(event);\n    },150);\n\n    this._handleMouseDown = (event)=>{\n      this.zone.runOutsideAngular(()=>{\n        document.addEventListener('mousemove', this._handleMouseMove, true);\n      });\n\n      if (this.orientation === \"vertical\") {\n        this._prevPos = event.pageX;\n      } else {\n        this._prevPos = event.pageY;\n      }\n      this._resizeOn = true;\n      this._update = false;\n    };\n\n    this._handleMouseUp = (event)=>{\n      this.zone.runOutsideAngular(()=>{\n        document.removeEventListener(\"mousemove\", this._handleMouseMove, true);\n      });\n\n      this._resizeOn = false;\n      this._update = true;\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Init lifecycle. Set panel width\n   */\n  ngOnInit() {\n    super.ngOnInit();\n    this.setPaneWidth();\n  }\n\n  /* istanbul ignore next */\n  moveUp() {\n    if (this.orientation === 'horizontal') {\n      this.renderer.setStyle(this.topPaneElement.nativeElement, \"height\", \"0%\");\n      this.renderer.setStyle(this.bottomPaneElement.nativeElement, \"height\", \"calc(100% - 13px)\");\n    } else {\n      this.renderer.setStyle(this.topPaneElement.nativeElement, \"width\", \"calc(100% - 13px)\");\n      this.renderer.setStyle(this.bottomPaneElement.nativeElement, \"width\", \"0%\");\n    }\n  }\n\n  /* istanbul ignore next */\n  moveDown() {\n    if (this.orientation === 'horizontal') {\n      this.renderer.setStyle(this.topPaneElement.nativeElement, \"height\", \"calc(100% - 13px)\");\n      this.renderer.setStyle(this.bottomPaneElement.nativeElement, \"height\", \"0%\");\n    } else {\n      this.renderer.setStyle(this.topPaneElement.nativeElement, \"width\", \"0%\");\n      this.renderer.setStyle(this.bottomPaneElement.nativeElement, \"width\", \"calc(100% - 13px)\");\n    }\n  }\n\n  /**\n   * Check if this is a container component\n   * @returns True\n   */\n  protected isContainer() {\n    return true;\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Set pane layout and dimensions\n   */\n  private setPaneWidth() {\n    if (this.orientation === 'vertical') {\n      this.dividerStyles[\"height\"] = \"100%\";\n      this.dividerStyles[\"width\"] = \"1px\";\n      this.dividerStyles['float'] = 'left';\n      this.topPaneStyles['width'] = 'calc(' + this.splitPosition + ' - 3px)';\n      this.topPaneStyles['height'] = \"100%\";\n      this.topPaneStyles['float'] = 'left'\n      let percent: string = this.splitPosition.split('%', 1)[0];\n      let nPercent = +percent;\n      this.bottomPaneStyles['width'] = 'calc(' + (100 - nPercent) + '% - 10px)';\n      this.bottomPaneStyles['height'] = \"100%\";\n      this.bottomPaneStyles['float'] = 'left';\n      this.dividerCssClass.push(\"vertical\");\n    } else {\n      this.dividerStyles[\"height\"] = \"8px\";\n      this.dividerStyles[\"width\"] = \"100%\";\n      this.topPaneStyles['height'] = 'calc(' + this.splitPosition + ' - 3px)';\n      this.topPaneStyles['width'] = \"100%\";\n      let percent: string = this.splitPosition.split('%', 1)[0];\n      let nPercent = +percent;\n      this.bottomPaneStyles['height'] = 'calc(' + (100 - nPercent) + '% - 10px)';\n      this.bottomPaneStyles['width'] = \"100%\";\n      this.dividerCssClass.push(\"horizontal\");\n    }\n  }\n\n  /**\n   * After view init lifecycle. Add event listeners\n   */\n  ngAfterViewInit() {\n    super.ngAfterViewInit();\n\n    this.cd.detectChanges();\n\n    this.zone.runOutsideAngular(()=>{\n      (this.splitPaneDivider.nativeElement as HTMLElement).addEventListener(\"mousedown\", this._handleMouseDown, true);\n\n      document.addEventListener(\"mouseup\", this._handleMouseUp, true);\n    });\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Destroy lifecycle. Remove event listeners\n   */\n  ngOnDestroy() {\n    this.zone.runOutsideAngular(()=>{\n      (this.splitPaneDivider.nativeElement as HTMLElement).removeEventListener(\"mousedown\", this._handleMouseDown, true);\n      document.removeEventListener(\"mouseup\", this._handleMouseUp, true);\n      document.removeEventListener(\"mousemove\", this._handleMouseMove, true);\n    });\n\n    this._handleMouseDown = null;\n    this._handleMouseMove = null;\n    this._handleMouseUp = null;\n\n    super.ngOnDestroy();\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for panel resize event\n   * @param event Mouse event\n   */\n  private _resizePanels(event: MouseEvent) {\n    if (!this._update) {\n      if (this._containerWidth == null) {\n        const c = $(this.splitPaneContainer.nativeElement);\n        this._containerHeight = c.height();\n        this._containerWidth = c.width();\n      }\n\n      this._update = true;\n      requestAnimationFrame(()=>this._doUpdate(event));\n    }\n  }\n\n  /* istanbul ignore next */\n  /**\n   * Event handler for mouse event. Update pane width/height\n   * @param event Mouse event\n   */\n  private _doUpdate(event: MouseEvent) {\n    if (this._resizeOn === true) {\n      if (this.orientation === \"vertical\") {\n        const diff = this._prevPos - event.pageX;\n        const leftWidth =  ($(this.topPaneElement.nativeElement).width() - diff);\n        this._containerWidth = $(this.splitPaneContainer.nativeElement).width();\n        let left: number = (leftWidth / this._containerWidth) * 100;\n        let maximum: number = (leftWidth / (this._containerWidth - 15)) * 100;\n        if( maximum > 100 ) this.renderer.setStyle(this.topPaneElement.nativeElement, \"width\", \"calc(100% - 13px)\");\n        else this.renderer.setStyle(this.topPaneElement.nativeElement, \"width\", left + \"%\");\n        // this.renderer.setStyle(this.bottomPaneElement.nativeElement, \"width\", (this._containerWidth - (leftWidth + 6)) + \"px\");\n        this.renderer.setStyle(this.bottomPaneElement.nativeElement, \"width\", \"calc(\" + (100 - left) + \"% - 13px)\");\n        this._prevPos = event.pageX;\n      } else {\n        const diff = this._prevPos - event.pageY;\n        const topHeight =  ($(this.topPaneElement.nativeElement).height() - diff);\n        this._containerHeight = $(this.splitPaneContainer.nativeElement).height();\n        let top: number = (topHeight / this._containerHeight) * 100;\n        let maximum: number = (topHeight / (this._containerHeight - 15)) * 100;\n        if( maximum > 100 ) this.renderer.setStyle(this.topPaneElement.nativeElement, \"height\", \"calc(100% - 13px\");\n        else this.renderer.setStyle(this.topPaneElement.nativeElement, \"height\", top + \"%\");\n        // this.renderer.setStyle(this.bottomPaneElement.nativeElement, \"height\", (this._containerHeight - (topHeight + 10)) + \"px\");\n        this.renderer.setStyle(this.bottomPaneElement.nativeElement, \"height\", \"calc(\" + (100 - top) + \"% - 13px)\");\n        this._prevPos = event.pageY;\n      }\n\n      this._update = false;\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SplitPaneComponent } from './split-pane.component';\nimport { TopPaneComponent } from './top-pane/top-pane.component';\nimport { BottomPaneComponent } from './bottom-pane/bottom-pane.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    SplitPaneComponent,\n    TopPaneComponent,\n    BottomPaneComponent\n  ],\n  exports: [\n    SplitPaneComponent,\n    TopPaneComponent,\n    BottomPaneComponent\n  ]\n})\nexport class SplitPaneModule { }\n","import { OnInit } from \"@angular/core\";\nimport { BaseComponent } from \"./base.component\";\n\nexport abstract class CustomAttribute implements OnInit {\n    constructor (private parent: BaseComponent) {\n\n    }\n\n    ngOnInit() {\n        const name = this.getPropertyName();\n        let value = this.getPropertyValue();\n\n        if (this.parent != null && name != null && name !== \"\") {\n            if (value == null) {\n                value = \"\";\n            }\n\n            this.parent.setCustomAttribute(name, value);\n        } else if (this.parent == null) {\n            console.error(\"Unable to set custom property, parent is null\");\n        }\n    }\n\n    /**\n     * Return the name of the custom property\n     */\n    abstract getPropertyName(): string;\n\n    /**\n     * Return the value of the custom property\n     */\n    abstract getPropertyValue(): string;\n}"],"names":["_.uniqBy","_.filter","_.find","_.sortBy","_.forEach","_.orderBy","_.map","keys","_.keys","_.parseInt","_.padStart","moment.isMoment","_.clone","_.uniq","_.random","_.findIndex","map","_.get","_.throttle","moment","momentImported","_.concat","_.lastIndexOf","clipboard.writeText","_.isEqual"],"mappings":"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"}
