(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('lodash'), require('rxjs'), require('moment'), require('@angular/common'), require('@angular/forms'), require('ngx-bootstrap'), require('tabbable'), require('moment-timezone'), require('clipboard-polyfill'), require('rxjs/operators')) :
  typeof define === 'function' && define.amd ? define('vivify-core-components', ['exports', '@angular/core', 'lodash', 'rxjs', 'moment', '@angular/common', '@angular/forms', 'ngx-bootstrap', 'tabbable', 'moment-timezone', 'clipboard-polyfill', 'rxjs/operators'], factory) :
  (factory((global['vivify-core-components'] = {}),global.ng.core,global._,global.rxjs,global.moment,global.ng.common,global.ng.forms,global.ngxBootstrap,global.tabbableFRollup,global.moment,global.clipboard,global.rxjs.operators));
}(this, (function (exports,i0,_,rxjs,moment,common,forms,ngxBootstrap,tabbableFRollup,momentImported,clipboard,operators) { 'use strict';

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /** *
   * This constant provide a global access to injector so we can use it to retrieve
   * service from place where we can't inject (like function).
   *
   * !!!!!!!!!!!!!!DO NOT USE THIS IN PLACES WHERE YOU CAN INJECT SERVICES!!!!!!!!!!!
    @type {?} */
  var injectorRef;
  /** @type {?} */
  var appInjector = function (injector) {
      if (injector) {
          injectorRef = injector;
      }
      return injectorRef;
  };

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /** @enum {number} */
  var AttributesEnum = {
      ID: 0,
      VISIBLE: 1,
      CLASS: 2,
      DISABLED: 3,
      ENABLED: 4,
      TEXT: 5,
      COLOR: 6,
      ON_COMMAND: 7,
      REQUIRE: 8,
      TITLE: 9,
      FONT_BOLD: 10,
      SELECTED: 11,
      BG_COLOR: 12,
      VALUE: 13,
      PATTERN: 14,
      MAX_LENGTH: 15,
      MAX: 16,
      MIN: 17,
  };
  AttributesEnum[AttributesEnum.ID] = 'ID';
  AttributesEnum[AttributesEnum.VISIBLE] = 'VISIBLE';
  AttributesEnum[AttributesEnum.CLASS] = 'CLASS';
  AttributesEnum[AttributesEnum.DISABLED] = 'DISABLED';
  AttributesEnum[AttributesEnum.ENABLED] = 'ENABLED';
  AttributesEnum[AttributesEnum.TEXT] = 'TEXT';
  AttributesEnum[AttributesEnum.COLOR] = 'COLOR';
  AttributesEnum[AttributesEnum.ON_COMMAND] = 'ON_COMMAND';
  AttributesEnum[AttributesEnum.REQUIRE] = 'REQUIRE';
  AttributesEnum[AttributesEnum.TITLE] = 'TITLE';
  AttributesEnum[AttributesEnum.FONT_BOLD] = 'FONT_BOLD';
  AttributesEnum[AttributesEnum.SELECTED] = 'SELECTED';
  AttributesEnum[AttributesEnum.BG_COLOR] = 'BG_COLOR';
  AttributesEnum[AttributesEnum.VALUE] = 'VALUE';
  AttributesEnum[AttributesEnum.PATTERN] = 'PATTERN';
  AttributesEnum[AttributesEnum.MAX_LENGTH] = 'MAX_LENGTH';
  AttributesEnum[AttributesEnum.MAX] = 'MAX';
  AttributesEnum[AttributesEnum.MIN] = 'MIN';

  /*! *****************************************************************************
  Copyright (c) Microsoft Corporation. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0

  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.

  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** */
  /* global Reflect, Promise */
  var extendStatics = function (d, b) {
      extendStatics = Object.setPrototypeOf ||
          ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
          function (d, b) { for (var p in b)
              if (b.hasOwnProperty(p))
                  d[p] = b[p]; };
      return extendStatics(d, b);
  };
  function __extends(d, b) {
      extendStatics(d, b);
      function __() { this.constructor = d; }
      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
  }
  function __values(o) {
      var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
      if (m)
          return m.call(o);
      return {
          next: function () {
              if (o && i >= o.length)
                  o = void 0;
              return { value: o && o[i++], done: !o };
          }
      };
  }

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var KeyUtils = /** @class */ (function () {
      function KeyUtils() {
      }
      /**
       * Make key case insensitive
       * @param key
       */
      /**
       * Make key case insensitive
       * @param {?} key
       * @return {?}
       */
      KeyUtils.toMapKey = /**
       * Make key case insensitive
       * @param {?} key
       * @return {?}
       */
          function (key) {
              if (key != null) {
                  return key.toLowerCase();
              }
              return null;
          };
      /**
       * @param {?} val
       * @return {?}
       */
      KeyUtils.toJsonValue = /**
       * @param {?} val
       * @return {?}
       */
          function (val) {
              if (typeof val === "number" || typeof val === "boolean") {
                  return val + "";
              }
              else {
                  return val;
              }
          };
      return KeyUtils;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var McoContainerService = /** @class */ (function () {
      function McoContainerService() {
          /**
           * Keeps internal list of active ViewComponents
           */
          this.activeViewsStack = [];
          /**
           * Internal map of MCO instances
           */
          this._mcoMap = new Map();
          this.MIN_Z_INDEX = 1000;
          this.MAX_Z_INDEX = 99999;
          //1050 is for actual modal
          this.viewsChanged = new rxjs.Subject();
      }
      /**
       * Get mco instance from internal [[_mcoMap]]
       * @param mcoName Name of MCO instance
       */
      /**
       * Get mco instance from internal [[_mcoMap]]
       * @param {?} mcoName Name of MCO instance
       * @return {?}
       */
      McoContainerService.prototype.getMco = /**
       * Get mco instance from internal [[_mcoMap]]
       * @param {?} mcoName Name of MCO instance
       * @return {?}
       */
          function (mcoName) {
              return this._mcoMap.get(KeyUtils.toMapKey(mcoName));
          };
      /**
       * Get the maximum allowed z-index value for layering windows
       */
      /**
       * Get the maximum allowed z-index value for layering windows
       * @return {?}
       */
      McoContainerService.prototype.getMaxZIndex = /**
       * Get the maximum allowed z-index value for layering windows
       * @return {?}
       */
          function () {
              return this.MAX_Z_INDEX;
          };
      /**
       * Alias of [[registerMco]]
       * @param mcoName
       * @param mco
       */
      /**
       * Alias of [[registerMco]]
       * @param {?} mcoName
       * @param {?} mco
       * @return {?}
       */
      McoContainerService.prototype.addMco = /**
       * Alias of [[registerMco]]
       * @param {?} mcoName
       * @param {?} mco
       * @return {?}
       */
          function (mcoName, mco) {
              this.registerMco(mcoName, mco);
          };
      /**
       * Add an mco instance to internal [[_mcoMap]]
       * @param mcoName
       * @param mco
       */
      /**
       * Add an mco instance to internal [[_mcoMap]]
       * @param {?} mcoName
       * @param {?} mco
       * @return {?}
       */
      McoContainerService.prototype.registerMco = /**
       * Add an mco instance to internal [[_mcoMap]]
       * @param {?} mcoName
       * @param {?} mco
       * @return {?}
       */
          function (mcoName, mco) {
              this._mcoMap.set(KeyUtils.toMapKey(mcoName), mco);
          };
      /**
       * Remove mco object from internal [[_mcoMap]]
       * @param mcoName Name of mco instance to remove
       */
      /**
       * Remove mco object from internal [[_mcoMap]]
       * @param {?} mcoName Name of mco instance to remove
       * @return {?}
       */
      McoContainerService.prototype.removeMco = /**
       * Remove mco object from internal [[_mcoMap]]
       * @param {?} mcoName Name of mco instance to remove
       * @return {?}
       */
          function (mcoName) {
              /** @type {?} */
              var key = KeyUtils.toMapKey(mcoName);
              /** @type {?} */
              var mco = this._mcoMap.get(key);
              if (mco != null && typeof mco["cleanup"] === "function") {
                  mco.cleanup();
              }
              this._mcoMap.delete(key);
          };
      /**
       * Push view to the last active view stack. This will be the view that returned
       * when popLastActiveView is called.
       *
       * @param view ViewComponent to be add to the stack
       */
      /**
       * Push view to the last active view stack. This will be the view that returned
       * when popLastActiveView is called.
       *
       * @param {?} view ViewComponent to be add to the stack
       * @return {?}
       */
      McoContainerService.prototype.registerView = /**
       * Push view to the last active view stack. This will be the view that returned
       * when popLastActiveView is called.
       *
       * @param {?} view ViewComponent to be add to the stack
       * @return {?}
       */
          function (view) {
              if (view.canBeActiveView !== true) {
                  // this.activeViewsStack.splice(0, 0, view);
                  // view.zIndex = this.MIN_Z_INDEX - this.activeViewsCount();
                  if (this.actionForwardHandler == null) {
                      this.actionForwardHandler = new Map();
                  }
                  this.actionForwardHandler.set(view.actionForwardName, view);
              }
              else {
                  this.activeViewsStack.push(view);
                  view.zIndex = this.getViewZIndex();
              }
              this.activeViewsStack = _.uniqBy(this.activeViewsStack, function (v) { return v.uniqueId; });
          };
      /**
       * Pop last active view. This will remove the view from the active stack
       */
      /**
       * Pop last active view. This will remove the view from the active stack
       * @return {?}
       */
      McoContainerService.prototype.popLastActiveView = /**
       * Pop last active view. This will remove the view from the active stack
       * @return {?}
       */
          function () {
              return this.activeViewsStack.pop();
          };
      /**
       * Remove a view that has been destroyed from the stack.
       *
       * @param view ViewComponent to be removed from stack
       */
      /**
       * Remove a view that has been destroyed from the stack.
       *
       * @param {?} view ViewComponent to be removed from stack
       * @return {?}
       */
      McoContainerService.prototype.removeView = /**
       * Remove a view that has been destroyed from the stack.
       *
       * @param {?} view ViewComponent to be removed from stack
       * @return {?}
       */
          function (view) {
              if (view.canBeActiveView !== true) {
                  if (this.actionForwardHandler != null) {
                      this.actionForwardHandler.delete(view.actionForwardName);
                  }
              }
              else {
                  this.activeViewsStack = _.filter(this.activeViewsStack, function (v) { return v.uniqueId !== view.uniqueId; });
                  this.reStackView();
              }
          };
      /**
       * Minimize a view window by ID
       * @param viewId Id of view to minimize
       * @param screenIndex (optional) index of screen if multi screen support is allowed
       */
      /**
       * Minimize a view window by ID
       * @param {?} viewId Id of view to minimize
       * @param {?=} screenIndex (optional) index of screen if multi screen support is allowed
       * @return {?}
       */
      McoContainerService.prototype.minimizeView = /**
       * Minimize a view window by ID
       * @param {?} viewId Id of view to minimize
       * @param {?=} screenIndex (optional) index of screen if multi screen support is allowed
       * @return {?}
       */
          function (viewId, screenIndex) {
              if (screenIndex === void 0) {
                  screenIndex = null;
              }
              /** @type {?} */
              var view = this.getViewById(viewId, screenIndex);
              if (view != null) {
                  view.isMinimized = true;
              }
              /** @type {?} */
              var activeView = null;
              /** @type {?} */
              var isModalActive = false;
              if (this.activeViewsCount() > 1) {
                  /** @type {?} */
                  var visibleViews = this.activeViewsStack.filter(function (v) { return v.isMinimized !== true && v.skipBreadCrumb !== true; });
                  if (visibleViews != null && visibleViews.length > 0) {
                      activeView = visibleViews[visibleViews.length - 1];
                      /** @type {?} */
                      var i = visibleViews.length - 1;
                      // Itterate through visibile views to look for the next dialog view (not subview)
                      while (visibleViews[i] && !activeView.dialog) {
                          activeView = visibleViews[i];
                          i--;
                      }
                      /** @type {?} */
                      var count = 0;
                      do {
                          if (visibleViews[count]) {
                              isModalActive = visibleViews[count].isModalDialog();
                              count = count + 1;
                          }
                      } while (isModalActive !== true && count < visibleViews.length);
                  }
              }
              this.viewsChanged.next({
                  views: this.getBreadcrumb(this.activeViewsStack),
                  activeView: activeView,
                  minMaxEvent: true,
                  isModalActive: isModalActive
              });
          };
      /**
       * Shows a view by id
       * @param viewId Id of view to show
       * @param screenIndex (optional) index of screen if multi screen support is allowed
       */
      /**
       * Shows a view by id
       * @param {?} viewId Id of view to show
       * @param {?=} screenIndex (optional) index of screen if multi screen support is allowed
       * @return {?}
       */
      McoContainerService.prototype.showView = /**
       * Shows a view by id
       * @param {?} viewId Id of view to show
       * @param {?=} screenIndex (optional) index of screen if multi screen support is allowed
       * @return {?}
       */
          function (viewId, screenIndex) {
              if (screenIndex === void 0) {
                  screenIndex = null;
              }
              /** @type {?} */
              var view = this.getViewById(viewId, screenIndex);
              if (view != null) {
                  view.isMinimized = true;
              }
              /** @type {?} */
              var isModalActive = false;
              /** @type {?} */
              var count = 0;
              do {
                  if (this.activeViewsStack[count]) {
                      isModalActive = this.activeViewsStack[count].isModalDialog();
                      count = count + 1;
                  }
              } while (isModalActive !== true && count < this.activeViewsStack.length);
              this.viewsChanged.next({
                  views: this.getBreadcrumb(this.activeViewsStack),
                  activeView: view,
                  minMaxEvent: true,
                  isModalActive: isModalActive
              });
          };
      /**
       * Close the view window
       * @param viewId Id of view to close
       * @param screenIndex (optional) index of the screen if multi screen support
       */
      /**
       * Close the view window
       * @param {?} viewId Id of view to close
       * @param {?=} screenIndex (optional) index of the screen if multi screen support
       * @return {?}
       */
      McoContainerService.prototype.closeView = /**
       * Close the view window
       * @param {?} viewId Id of view to close
       * @param {?=} screenIndex (optional) index of the screen if multi screen support
       * @return {?}
       */
          function (viewId, screenIndex) {
              if (screenIndex === void 0) {
                  screenIndex = null;
              }
              /** @type {?} */
              var view = this.getViewById(viewId, screenIndex);
              if (view != null) {
                  view.close();
              }
          };
      /**
       * Get the number of current active view from [[activeViewsStack]]
       * @returns Number of active views
       */
      /**
       * Get the number of current active view from [[activeViewsStack]]
       * @return {?} Number of active views
       */
      McoContainerService.prototype.activeViewsCount = /**
       * Get the number of current active view from [[activeViewsStack]]
       * @return {?} Number of active views
       */
          function () {
              return this.activeViewsStack.length;
          };
      /**
       * Check to see if a view is in the [[activeViewStack]]
       * @param view ViewComponent's id as a string or [[ViewComponent]] instance
       * @returns True if the view component is in the [[activeViewStack]]
       */
      /**
       * Check to see if a view is in the [[activeViewStack]]
       * @param {?} view ViewComponent's id as a string or [[ViewComponent]] instance
       * @return {?} True if the view component is in the [[activeViewStack]]
       */
      McoContainerService.prototype.hasView = /**
       * Check to see if a view is in the [[activeViewStack]]
       * @param {?} view ViewComponent's id as a string or [[ViewComponent]] instance
       * @return {?} True if the view component is in the [[activeViewStack]]
       */
          function (view) {
              if (typeof view === 'string') {
                  return _.filter(this.activeViewsStack, function (v) { return v.id === /** @type {?} */ (view); }).length > 0;
              }
              return _.filter(this.activeViewsStack, function (v) { return v.uniqueId === view.uniqueId; }).length > 0;
          };
      /**
       * Get the current active view
       * @returns the active view from the view stack
       */
      /**
       * Get the current active view
       * @return {?} the active view from the view stack
       */
      McoContainerService.prototype.activeView = /**
       * Get the current active view
       * @return {?} the active view from the view stack
       */
          function () {
              return this.activeViewsCount() > 0 ? this.activeViewsStack[this.activeViewsCount() - 1] : null;
          };
      /**
       * Get a view from [[actriveViewStack]] by ID
       * @param viewId Views id value
       * @param screenIndex (optional) the screenIndex of the view (if multiple screen is allow)
       * @returns View that matches value of id
       */
      /**
       * Get a view from [[actriveViewStack]] by ID
       * @param {?} viewId Views id value
       * @param {?=} screenIndex (optional) the screenIndex of the view (if multiple screen is allow)
       * @return {?} View that matches value of id
       */
      McoContainerService.prototype.getViewById = /**
       * Get a view from [[actriveViewStack]] by ID
       * @param {?} viewId Views id value
       * @param {?=} screenIndex (optional) the screenIndex of the view (if multiple screen is allow)
       * @return {?} View that matches value of id
       */
          function (viewId, screenIndex) {
              if (screenIndex === void 0) {
                  screenIndex = null;
              }
              return _.find(this.activeViewsStack, function (view) {
                  return view.id === viewId && (screenIndex == null || (screenIndex != null && view.screenIndex === screenIndex));
              });
          };
      /**
       * Get handler view component by name
       * @param actionForwardName
       * @returns View component or null if there is no component with actionForwardName
       */
      /**
       * Get handler view component by name
       * @param {?} actionForwardName
       * @return {?} View component or null if there is no component with actionForwardName
       */
      McoContainerService.prototype.getActionForwardHandler = /**
       * Get handler view component by name
       * @param {?} actionForwardName
       * @return {?} View component or null if there is no component with actionForwardName
       */
          function (actionForwardName) {
              if (this.actionForwardHandler != null) {
                  return this.actionForwardHandler.get(actionForwardName);
              }
              return null;
          };
      /**
       * Get the [[actionForwardHandler]]
       */
      /**
       * Get the [[actionForwardHandler]]
       * @return {?}
       */
      McoContainerService.prototype.getActionForwardHandlerMap = /**
       * Get the [[actionForwardHandler]]
       * @return {?}
       */
          function () {
              return this.actionForwardHandler;
          };
      /**
       * Get the [[activeViewStack]]
       */
      /**
       * Get the [[activeViewStack]]
       * @return {?}
       */
      McoContainerService.prototype.getViews = /**
       * Get the [[activeViewStack]]
       * @return {?}
       */
          function () {
              return this.activeViewsStack;
          };
      /**
       * Update z-index (layer position) of all active views
       * @param topViewId ID of view component to set max z-index (top)
       */
      /**
       * Update z-index (layer position) of all active views
       * @param {?=} topViewId ID of view component to set max z-index (top)
       * @param {?=} screenIndex
       * @return {?}
       */
      McoContainerService.prototype.reStackView = /**
       * Update z-index (layer position) of all active views
       * @param {?=} topViewId ID of view component to set max z-index (top)
       * @param {?=} screenIndex
       * @return {?}
       */
          function (topViewId, screenIndex) {
              var _this = this;
              if (topViewId === void 0) {
                  topViewId = null;
              }
              if (screenIndex === void 0) {
                  screenIndex = null;
              }
              this.activeViewsStack = _.sortBy(this.activeViewsStack, function (view) {
                  //we are top view
                  if (view.id === topViewId && (screenIndex == null || (screenIndex === view.screenIndex))) {
                      return _this.MAX_Z_INDEX;
                  }
                  return view.zIndex;
              });
              /** @type {?} */
              var isModalActive = false;
              _.forEach(this.activeViewsStack, function (view, idx) {
                  view.updateZIndex(_this.MIN_Z_INDEX + idx);
                  if (isModalActive !== true && view.isModalDialog() === true) {
                      isModalActive = true;
                  }
              });
              this.viewsChanged.next({
                  views: this.getBreadcrumb(this.activeViewsStack),
                  activeView: this.activeViewsStack[this.activeViewsStack.length - 1],
                  isModalActive: isModalActive
              });
          };
      /**
       * Get the z-index
       */
      /**
       * Get the z-index
       * @return {?}
       */
      McoContainerService.prototype.getViewZIndex = /**
       * Get the z-index
       * @return {?}
       */
          function () {
              return this.MIN_Z_INDEX + this.activeViewsCount();
          };
      /**
       * @param {?} views
       * @return {?}
       */
      McoContainerService.prototype.getBreadcrumb = /**
       * @param {?} views
       * @return {?}
       */
          function (views) {
              return views.filter(function (v) { return v.skipBreadCrumb !== true && v.dialog != null && v.visible !== false; });
          };
      /**
       * Get the session from an MCO instance
       * @param mco
       * @returns Session
       */
      /**
       * Get the session from an MCO instance
       * @param {?} mco
       * @return {?} Session
       */
      McoContainerService.getClientSessionFromMco = /**
       * Get the session from an MCO instance
       * @param {?} mco
       * @return {?} Session
       */
          function (mco) {
              return mco.getSession();
          };
      /**
       * 次のscreenIndexを取得します。
       * screenIndexは1~8の値をとるように、サーバで想定されています。
       */
      /**
       * 次のscreenIndexを取得します。
       * screenIndexは1~8の値をとるように、サーバで想定されています。
       * @param {?} baseScreenId
       * @param {?=} id
       * @return {?}
       */
      McoContainerService.prototype.nextScreenIndex = /**
       * 次のscreenIndexを取得します。
       * screenIndexは1~8の値をとるように、サーバで想定されています。
       * @param {?} baseScreenId
       * @param {?=} id
       * @return {?}
       */
          function (baseScreenId, id) {
              if (id === void 0) {
                  id = null;
              }
              /** @type {?} */
              var existingScreens = this.activeViewsStack.filter(function (v) {
                  return (id)
                      ? v.id === id
                      : v.baseScreenId === baseScreenId;
              });
              if (existingScreens.length > 0) {
                  /** @type {?} */
                  var i = _.orderBy(existingScreens, function (scr) { return scr.screenIndex; }, "desc")
                      .pop().screenIndex;
                  return i + 1;
              }
              else {
                  return 1;
              }
          };
      /**
       * @return {?}
       */
      McoContainerService.prototype.refreshBreadCrumb = /**
       * @return {?}
       */
          function () {
              /** @type {?} */
              var isModalActive = false;
              _.forEach(this.activeViewsStack, function (view) {
                  if (isModalActive !== true && view.isModalDialog() === true) {
                      isModalActive = true;
                  }
              });
              this.viewsChanged.next({
                  views: this.getBreadcrumb(this.activeViewsStack),
                  activeView: this.activeViewsStack[this.activeViewsStack.length - 1],
                  isModalActive: isModalActive
              });
          };
      McoContainerService.decorators = [
          { type: i0.Injectable, args: [{
                      providedIn: 'root'
                  },] }
      ];
      /** @nocollapse */ McoContainerService.ngInjectableDef = i0.defineInjectable({ factory: function McoContainerService_Factory() { return new McoContainerService(); }, token: McoContainerService, providedIn: "root" });
      return McoContainerService;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Track events
   */
  var EventHandlerService = /** @class */ (function () {
      function EventHandlerService(mcoContainerService) {
          this.mcoContainerService = mcoContainerService;
      }
      /**
       * @param {?} event
       * @return {?}
       */
      EventHandlerService.prototype.setClientEvent = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this._clientEvent = event;
          };
      /**
       * @return {?}
       */
      EventHandlerService.prototype.getClientEvent = /**
       * @return {?}
       */
          function () {
              return this._clientEvent;
          };
      /**
       * @param {?} command
       * @param {?} mcoName
       * @param {?} actionName
       * @param {?} arg
       * @param {?} source
       * @param {?} clientEvent
       * @return {?}
       */
      EventHandlerService.prototype.fireEvent = /**
       * @param {?} command
       * @param {?} mcoName
       * @param {?} actionName
       * @param {?} arg
       * @param {?} source
       * @param {?} clientEvent
       * @return {?}
       */
          function (command, mcoName, actionName, arg, source, clientEvent) {
              /** @type {?} */
              var mco = this.mcoContainerService.getMco(mcoName);
              if (mco != null && typeof mco[actionName] === "function") {
                  if (Array.isArray(arg)) {
                      ( /** @type {?} */(mco[actionName])).apply(mco, arg);
                  }
                  else {
                      ( /** @type {?} */(mco[actionName])).apply(mco, [arg]);
                  }
              }
          };
      EventHandlerService.decorators = [
          { type: i0.Injectable, args: [{
                      providedIn: 'root'
                  },] }
      ];
      /** @nocollapse */
      EventHandlerService.ctorParameters = function () {
          return [
              { type: McoContainerService }
          ];
      };
      /** @nocollapse */ EventHandlerService.ngInjectableDef = i0.defineInjectable({ factory: function EventHandlerService_Factory() { return new EventHandlerService(i0.inject(McoContainerService)); }, token: EventHandlerService, providedIn: "root" });
      return EventHandlerService;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for creating [[MenuItems]]
   */
  var MenuItemBuilder = /** @class */ (function () {
      /* istanbul ignore next */
      /**
       *
       * @param menuItem
       */
      function MenuItemBuilder(menuItem) {
          if (menuItem === void 0) {
              menuItem = null;
          }
          /**
           * Map of HTML attributes to add to menu item
           */
          this.attributes = {};
          this._internalMenuItem = menuItem;
      }
      /**
       * Create a menu separator using hyphens
       */
      /**
       * Create a menu separator using hyphens
       * @return {?}
       */
      MenuItemBuilder.createHorizontalDivider = /**
       * Create a menu separator using hyphens
       * @return {?}
       */
          function () {
              /** @type {?} */
              var menuItem = new MenuItemBuilder();
              menuItem.setAttribute("text", "-");
              return menuItem;
          };
      /**
       * Get a new [[MenuItemBuilder]] instance
       * @returns [[MenuItemBuilder]] instance
       */
      /**
       * Get a new [[MenuItemBuilder]] instance
       * @return {?} [[MenuItemBuilder]] instance
       */
      MenuItemBuilder.createMenuItem = /**
       * Get a new [[MenuItemBuilder]] instance
       * @return {?} [[MenuItemBuilder]] instance
       */
          function () {
              return new MenuItemBuilder();
          };
      /**
       * Set text attribute
       * @param text
       */
      /**
       * Set text attribute
       * @param {?} text
       * @return {?}
       */
      MenuItemBuilder.prototype.setText = /**
       * Set text attribute
       * @param {?} text
       * @return {?}
       */
          function (text) {
              this.setAttribute("text", text);
          };
      /* istanbul ignore next */
      /**
       *
       * @param width
       */
      /**
       *
       * @param {?} width
       * @return {?}
       */
      MenuItemBuilder.prototype.setWidth = /**
       *
       * @param {?} width
       * @return {?}
       */
          function (width) {
              //don't think this should be doing anything, all menu item shared the same width
          };
      /* istanbul ignore next */
      /**
       *
       * @param img
       */
      /**
       *
       * @param {?} img
       * @return {?}
       */
      MenuItemBuilder.prototype.setImgHint = /**
       *
       * @param {?} img
       * @return {?}
       */
          function (img) {
              //TODO
          };
      /**
       * Sets event handler for mousedown
       * @param fn Mouse down event handler function
       */
      /**
       * Sets event handler for mousedown
       * @param {?} fn Mouse down event handler function
       * @return {?}
       */
      MenuItemBuilder.prototype.setOnMouseDown = /**
       * Sets event handler for mousedown
       * @param {?} fn Mouse down event handler function
       * @return {?}
       */
          function (fn) {
              this.setAttribute("onMouseDownCallback", fn);
          };
      /* istanbul ignore next */
      /**
       * Set margin attribute
       * @param margin Should be number
       */
      /**
       * Set margin attribute
       * @param {?} margin Should be number
       * @return {?}
       */
      MenuItemBuilder.prototype.setMargin = /**
       * Set margin attribute
       * @param {?} margin Should be number
       * @return {?}
       */
          function (margin) {
              this.setAttribute("margin", margin);
          };
      /**
       * Set fontColor attribute
       * @param color Should be CSS valid color string (e.g. #ff0000, red, etc.)
       */
      /**
       * Set fontColor attribute
       * @param {?} color Should be CSS valid color string (e.g. #ff0000, red, etc.)
       * @return {?}
       */
      MenuItemBuilder.prototype.setFontColor = /**
       * Set fontColor attribute
       * @param {?} color Should be CSS valid color string (e.g. #ff0000, red, etc.)
       * @return {?}
       */
          function (color) {
              this.setAttribute("fontColor", color);
          };
      /**
       * Set fontSize attribute
       * @param size Should be number
       */
      /**
       * Set fontSize attribute
       * @param {?} size Should be number
       * @return {?}
       */
      MenuItemBuilder.prototype.setFontSize = /**
       * Set fontSize attribute
       * @param {?} size Should be number
       * @return {?}
       */
          function (size) {
              this.setAttribute("fontSize", size);
          };
      /**
       * Set fontBold attribute
       * @param bold
       */
      /**
       * Set fontBold attribute
       * @param {?} bold
       * @return {?}
       */
      MenuItemBuilder.prototype.setFontBold = /**
       * Set fontBold attribute
       * @param {?} bold
       * @return {?}
       */
          function (bold) {
              this.setAttribute("fontBold", bold);
          };
      /* istanbul ignore next */
      /**
       * Set custom attribute on [[MenuItem]]
       * @param name
       * @param value
       */
      /**
       * Set custom attribute on [[MenuItem]]
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
      MenuItemBuilder.prototype.setAttribute = /**
       * Set custom attribute on [[MenuItem]]
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
          function (name, value) {
              this.attributes[name] = value;
              if (this._internalMenuItem != null) {
                  if (MenuItemBuilder.knownKeys.indexOf(name) >= 0) {
                      this._internalMenuItem[name] = value;
                  }
                  else {
                      if (this._internalMenuItem.customAttributes == null) {
                          this._internalMenuItem.customAttributes = {};
                      }
                      this._internalMenuItem.customAttributes[name] = value;
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Return the value of the attribute
       *
       * @param name the name of the attribute
       */
      /**
       * Return the value of the attribute
       *
       * @param {?} name the name of the attribute
       * @return {?}
       */
      MenuItemBuilder.prototype.getAttribute = /**
       * Return the value of the attribute
       *
       * @param {?} name the name of the attribute
       * @return {?}
       */
          function (name) {
              return this.attributes[name];
          };
      /**
       * Convert [[MenuItemDirective]] to [[MenuItem]]
       * @param parentScreenId
       */
      /**
       * Convert [[MenuItemDirective]] to [[MenuItem]]
       * @param {?=} parentScreenId
       * @return {?}
       */
      MenuItemBuilder.prototype.toMenuItem = /**
       * Convert [[MenuItemDirective]] to [[MenuItem]]
       * @param {?=} parentScreenId
       * @return {?}
       */
          function (parentScreenId) {
              var e_1, _a;
              /** @type {?} */
              var menuItem = {};
              menuItem.parentScreenId = parentScreenId;
              /* istanbul ignore next */
              if (this.attributes["id"] != null) {
                  menuItem.id = this.attributes["id"];
              }
              if (this.attributes["text"] != null) {
                  menuItem.text = this.attributes["text"];
              }
              /* istanbul ignore next */
              if (this.attributes["menuItems"] != null) {
                  menuItem.menuItems = _.map(this.attributes["menuItems"], function (subMenu) { return subMenu.toMenuItem(parentScreenId); });
              }
              if (this.attributes["onCommandCallback"] != null) {
                  menuItem.onCommandCallback = this.attributes["onCommandCallback"];
              }
              if (this.attributes["onCommand"] != null) {
                  menuItem.onCommandCallback = this.attributes["onCommand"];
              }
              /* istanbul ignore next */
              if (this.attributes["onMouseDownCallback"] != null) {
                  menuItem.onMouseDownCallback = this.attributes["onMouseDownCallback"];
              }
              if (this.attributes["display"] != null) {
                  menuItem.display = this.attributes["display"];
              }
              if (this.attributes["fontColor"] != null) {
                  MenuItemBuilder.initStyle(menuItem);
                  menuItem.styles["color"] = this.attributes["fontColor"];
              }
              if (this.attributes["fontSize"] != null) {
                  MenuItemBuilder.initStyle(menuItem);
                  menuItem.styles["font-size"] = this.attributes["fontSize"];
              }
              /* istanbul ignore next */
              if (this.attributes["fontBold"] != null) {
                  MenuItemBuilder.initStyle(menuItem);
                  if (this.attributes["fontBold"] === true || this.attributes["fontBold"] === "true") {
                      menuItem.styles["font-weight"] = this.attributes["bold"];
                  }
                  else {
                      menuItem.styles["font-weight"] = "normal";
                  }
              }
              if (this.attributes["margin"] != null) {
                  MenuItemBuilder.initStyle(menuItem);
                  menuItem.styles["margin"] = this.attributes["margin"];
              }
              /** @type {?} */
              var keys = _.filter(_.keys(this.attributes), function (key) {
                  return MenuItemBuilder.knownKeys.indexOf(key) < 0;
              });
              if (keys && keys.length > 0) {
                  menuItem.customAttributes = {};
                  try {
                      for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {
                          var key = keys_1_1.value;
                          menuItem.customAttributes[key] = this.attributes[key];
                      }
                  }
                  catch (e_1_1) {
                      e_1 = { error: e_1_1 };
                  }
                  finally {
                      try {
                          if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return))
                              _a.call(keys_1);
                      }
                      finally {
                          if (e_1)
                              throw e_1.error;
                      }
                  }
              }
              return menuItem;
          };
      /**
       * Add [[MenuItemBuilder]] instance to menuItems attribute
       */
      /**
       * Add [[MenuItemBuilder]] instance to menuItems attribute
       * @param {?} menuItem
       * @return {?}
       */
      MenuItemBuilder.prototype.appendChild = /**
       * Add [[MenuItemBuilder]] instance to menuItems attribute
       * @param {?} menuItem
       * @return {?}
       */
          function (menuItem) {
              if (this.attributes["menuItems"] == null) {
                  this.attributes["menuItems"] = [];
              }
              if (menuItem instanceof MenuItemBuilder) {
                  this.attributes["menuItems"].push(menuItem);
              }
          };
      /**
       * Parse MenuItem and convert to a builder. Need for case where table column trigger context menu
       * prior to the contextmenu of row is activated. Thus the MenuItemComponent does not exists yet so
       * we need something as temporary.
       *
       * @param menuItem
       */
      /**
       * Parse MenuItem and convert to a builder. Need for case where table column trigger context menu
       * prior to the contextmenu of row is activated. Thus the MenuItemComponent does not exists yet so
       * we need something as temporary.
       *
       * @param {?} menuItem
       * @return {?}
       */
      MenuItemBuilder.fromMenuItem = /**
       * Parse MenuItem and convert to a builder. Need for case where table column trigger context menu
       * prior to the contextmenu of row is activated. Thus the MenuItemComponent does not exists yet so
       * we need something as temporary.
       *
       * @param {?} menuItem
       * @return {?}
       */
          function (menuItem) {
              return new MenuItemBuilder(menuItem);
          };
      /**
       * Clear out style values for [[MenuItem]]
       * @param menuItem
       */
      /**
       * Clear out style values for [[MenuItem]]
       * @param {?} menuItem
       * @return {?}
       */
      MenuItemBuilder.initStyle = /**
       * Clear out style values for [[MenuItem]]
       * @param {?} menuItem
       * @return {?}
       */
          function (menuItem) {
              if (menuItem.styles == null) {
                  menuItem.styles = {};
              }
          };
      //free resource
      /**
       * @return {?}
       */
      MenuItemBuilder.prototype._free = /**
       * @return {?}
       */
          function () {
              this._internalMenuItem = null;
              this.attributes = null;
          };
      /**
       * Allowed attribute names
       */
      MenuItemBuilder.knownKeys = [
          "id",
          "text",
          "onCommand",
          "onCommandCallback",
          "onMouseDownCallback",
          "menuItems",
          "display",
          "fontColor",
          "fontBold",
          "fontSize",
          "margin"
      ];
      return MenuItemBuilder;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Service class to handle context menus
   */
  var ContextMenuService = /** @class */ (function () {
      function ContextMenuService() {
          this.contextMenuMap = new Map();
          this.activeMenuSubject = new rxjs.Subject();
          this.activeMenuObservable = this.activeMenuSubject.asObservable();
      }
      /**
       *
       * @param name
       * @param menuItems
       * @param parentScreenId
       */
      /**
       *
       * @param {?} name
       * @param {?} menuItems
       * @param {?=} parentScreenId
       * @return {?}
       */
      ContextMenuService.prototype.registerContextMenu = /**
       *
       * @param {?} name
       * @param {?} menuItems
       * @param {?=} parentScreenId
       * @return {?}
       */
          function (name, menuItems, parentScreenId) {
              if (parentScreenId === void 0) {
                  parentScreenId = null;
              }
              /** @type {?} */
              var key = this.rekey(name);
              if (this.contextMenuMap.has(key)) {
                  /** @type {?} */
                  var menuData = this.contextMenuMap.get(key);
                  if (parentScreenId != null && parentScreenId !== "") {
                      menuData.parentScreenId = parentScreenId;
                  }
                  menuData.menuItems = menuItems;
              }
              else {
                  this.contextMenuMap.set(key, {
                      menuItems: menuItems,
                      parentScreenId: parentScreenId
                  });
              }
          };
      /**
       * Set the active and visible context menu by name
       * @param name
       */
      /**
       * Set the active and visible context menu by name
       * @param {?} name
       * @return {?}
       */
      ContextMenuService.prototype.showContextMenu = /**
       * Set the active and visible context menu by name
       * @param {?} name
       * @return {?}
       */
          function (name) {
              /** @type {?} */
              var hasContextMenu = false;
              if (this.contextMenuMap.has(this.rekey(name))) {
                  hasContextMenu = true;
              }
              this.setActiveMenu(name);
              this.activeMenu = name;
              if (this.menuItemBuilders != null) {
                  this.menuItemBuilders.forEach(function (menuItemBuilder) { return menuItemBuilder._free(); });
                  this.menuItemBuilders = [];
              }
              return hasContextMenu;
          };
      /**
       * Deactivate menu by name, and hide it
       * @param name
       */
      /**
       * Deactivate menu by name, and hide it
       * @param {?} name
       * @return {?}
       */
      ContextMenuService.prototype.hideContextMenu = /**
       * Deactivate menu by name, and hide it
       * @param {?} name
       * @return {?}
       */
          function (name) {
              this.setActiveMenu(null);
              this.activeMenu = null;
          };
      /**
       * Get menu items by [[PopupMenuData]] name key
       * @param name Name of [[PopupMenuData]] key
       * @returns Menu items in data if it exists, otherwise null
       */
      /**
       * Get menu items by [[PopupMenuData]] name key
       * @param {?} name Name of [[PopupMenuData]] key
       * @return {?} Menu items in data if it exists, otherwise null
       */
      ContextMenuService.prototype.getContextMenuItems = /**
       * Get menu items by [[PopupMenuData]] name key
       * @param {?} name Name of [[PopupMenuData]] key
       * @return {?} Menu items in data if it exists, otherwise null
       */
          function (name) {
              /** @type {?} */
              var menuData = this.contextMenuMap.get(this.rekey(name));
              if (menuData != null) {
                  return menuData.menuItems;
              }
              return null;
          };
      /**
       * Get the menu's parent id
       * @param name Name of [[PopupMenuData]] item key
       */
      /**
       * Get the menu's parent id
       * @param {?} name Name of [[PopupMenuData]] item key
       * @return {?}
       */
      ContextMenuService.prototype.getContextMenuParentScreenId = /**
       * Get the menu's parent id
       * @param {?} name Name of [[PopupMenuData]] item key
       * @return {?}
       */
          function (name) {
              /** @type {?} */
              var menuData = this.contextMenuMap.get(this.rekey(name));
              if (menuData != null) {
                  return menuData.parentScreenId;
              }
              return null;
          };
      /**
       * Remove context menu item by name
       * @param name Name of [[PopupMenuData]] item key
       */
      /**
       * Remove context menu item by name
       * @param {?} name Name of [[PopupMenuData]] item key
       * @return {?}
       */
      ContextMenuService.prototype.removeContextMenu = /**
       * Remove context menu item by name
       * @param {?} name Name of [[PopupMenuData]] item key
       * @return {?}
       */
          function (name) {
              this.contextMenuMap.delete(this.rekey(name));
              if (this.activeMenu === name) {
                  this.activeMenu = null;
              }
          };
      /**
       * Set active menu
       * @param id Id of menu to set as active
       */
      /**
       * Set active menu
       * @param {?} id Id of menu to set as active
       * @return {?}
       */
      ContextMenuService.prototype.setActiveMenu = /**
       * Set active menu
       * @param {?} id Id of menu to set as active
       * @return {?}
       */
          function (id) {
              this.activeMenuSubject.next(id);
          };
      /**
       * Set menu items by parent screen id
       * @param id Id of parent containing menu
       * @param menuItems Items to set
       */
      /**
       * Set menu items by parent screen id
       * @param {?} id Id of parent containing menu
       * @param {?} menuItems Items to set
       * @return {?}
       */
      ContextMenuService.prototype.resetMenu = /**
       * Set menu items by parent screen id
       * @param {?} id Id of parent containing menu
       * @param {?} menuItems Items to set
       * @return {?}
       */
          function (id, menuItems) {
              /** @type {?} */
              var newMenuItems;
              /** @type {?} */
              var parentScreenId = this.getContextMenuParentScreenId(id);
              if (menuItems.length > 0 && menuItems[0] instanceof MenuItemBuilder) {
                  newMenuItems = _.map(menuItems, function (menuItem) { return menuItem.toMenuItem(parentScreenId); });
              }
              else {
                  newMenuItems = ( /** @type {?} */(menuItems)) || [];
              }
              this.registerContextMenu(id, newMenuItems);
          };
      /**
       * Convert key to lowercase
       * @param {?} key
       * @return {?} key value as lowercased string
       */
      ContextMenuService.prototype.rekey = /**
       * Convert key to lowercase
       * @param {?} key
       * @return {?} key value as lowercased string
       */
          function (key) {
              return key.toLowerCase();
          };
      /**
       * This is for special case
       * @param menuItemBuilder MenuItemBuilder to be released of memory when showContextMenu is called.
       */
      /**
       * This is for special case
       * @param {?} menuItemBuilder MenuItemBuilder to be released of memory when showContextMenu is called.
       * @return {?}
       */
      ContextMenuService.prototype._trackMenuItemBuilderForMemRelease = /**
       * This is for special case
       * @param {?} menuItemBuilder MenuItemBuilder to be released of memory when showContextMenu is called.
       * @return {?}
       */
          function (menuItemBuilder) {
              if (this.menuItemBuilders == null) {
                  this.menuItemBuilders = [];
              }
              this.menuItemBuilders.push(menuItemBuilder);
          };
      ContextMenuService.decorators = [
          { type: i0.Injectable, args: [{
                      providedIn: 'root'
                  },] }
      ];
      /** @nocollapse */
      ContextMenuService.ctorParameters = function () { return []; };
      /** @nocollapse */ ContextMenuService.ngInjectableDef = i0.defineInjectable({ factory: function ContextMenuService_Factory() { return new ContextMenuService(); }, token: ContextMenuService, providedIn: "root" });
      return ContextMenuService;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for managing client sessions
   */
  var SessionService = /** @class */ (function () {
      /**
       *
       * @param _mcoContainer
       * @param _eventHandlerService
       * @param injector
       * @param contextMenuService
       * @param ngZone
       */
      function SessionService(_mcoContainer, _eventHandlerService, injector, contextMenuService, ngZone) {
          var _this = this;
          this._mcoContainer = _mcoContainer;
          this._eventHandlerService = _eventHandlerService;
          this.injector = injector;
          this.contextMenuService = contextMenuService;
          this.defsMap = new Map();
          ngZone.runOutsideAngular(function () {
              document.addEventListener("keydown", function (event) { return _this.checkKey(event); }, true);
              document.addEventListener("keyup", function (event) { return _this.resetKey(event); }, true);
              //track when window lost/gain focus
              window.addEventListener("focusout", function (event) {
                  _this._windowLostFocus = true;
              }, true);
              window.addEventListener("focusin", function () {
                  _this._windowLostFocus = false;
              }, true);
          });
      }
      /**
       * Get internal [[_mcoContainer]]
       */
      /**
       * Get internal [[_mcoContainer]]
       * @return {?}
       */
      SessionService.prototype.getMcoContainer = /**
       * Get internal [[_mcoContainer]]
       * @return {?}
       */
          function () {
              return this._mcoContainer;
          };
      /**
       * Get internal [[_eventHandlerService]]
       */
      /**
       * Get internal [[_eventHandlerService]]
       * @return {?}
       */
      SessionService.prototype.getEventHandler = /**
       * Get internal [[_eventHandlerService]]
       * @return {?}
       */
          function () {
              return this._eventHandlerService;
          };
      /**
       * Set [[requestService]] value
       * @param requestService
       */
      /**
       * Set [[requestService]] value
       * @param {?} requestService
       * @return {?}
       */
      SessionService.prototype.registerRequestService = /**
       * Set [[requestService]] value
       * @param {?} requestService
       * @return {?}
       */
          function (requestService) {
              this.requestService = requestService;
          };
      /**
       * Get value of [[requestService]] property
       * @returns The requestService
       */
      /**
       * Get value of [[requestService]] property
       * @return {?} The requestService
       */
      SessionService.prototype.getRequestService = /**
       * Get value of [[requestService]] property
       * @return {?} The requestService
       */
          function () {
              return this.requestService;
          };
      /**
       * Set [[routeNavigator]] value
       * @param routeNavigator
       */
      /**
       * Set [[routeNavigator]] value
       * @param {?} routeNavigator
       * @return {?}
       */
      SessionService.prototype.registerRouteNavigatorService = /**
       * Set [[routeNavigator]] value
       * @param {?} routeNavigator
       * @return {?}
       */
          function (routeNavigator) {
              this.routeNavigator = routeNavigator;
          };
      /**
       * Get value of [[routeNavigator]] property
       */
      /**
       * Get value of [[routeNavigator]] property
       * @return {?}
       */
      SessionService.prototype.getRouteNavigatorService = /**
       * Get value of [[routeNavigator]] property
       * @return {?}
       */
          function () {
              return this.routeNavigator;
          };
      /**
       * Set the position of the mouse
       * @param event
       */
      /**
       * Set the position of the mouse
       * @param {?} event
       * @return {?}
       */
      SessionService.prototype.setMousePosition = /**
       * Set the position of the mouse
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.mousePosition = {
                  x: event.clientX,
                  y: event.clientY,
                  screenX: event.screenX,
                  screenY: event.screenY
              };
          };
      /**
       * Get the mouse position
       * @returns Object with properties: x, y, screenX, screenY
       */
      /**
       * Get the mouse position
       * @return {?} Object with properties: x, y, screenX, screenY
       */
      SessionService.prototype.getMousePosition = /**
       * Get the mouse position
       * @return {?} Object with properties: x, y, screenX, screenY
       */
          function () {
              return this.mousePosition;
          };
      /**
       * Delegate to [[Injector]].get method
       * @param type
       */
      /**
       * Delegate to [[Injector]].get method
       * @param {?} type
       * @return {?}
       */
      SessionService.prototype.getInjector = /**
       * Delegate to [[Injector]].get method
       * @param {?} type
       * @return {?}
       */
          function (type) {
              return this.injector.get(type);
          };
      /**
       * Get display service.
       */
      /**
       * Get display service.
       * @return {?}
       */
      SessionService.prototype.getDisplayService = /**
       * Get display service.
       * @return {?}
       */
          function () {
              //TODO
              return null;
          };
      /**
       * Delegate to [[ContextMenuService]].showContextMenu
       * @param id Context menu id
       */
      /**
       * Delegate to [[ContextMenuService]].showContextMenu
       * @param {?} id Context menu id
       * @return {?}
       */
      SessionService.prototype.showContextMenu = /**
       * Delegate to [[ContextMenuService]].showContextMenu
       * @param {?} id Context menu id
       * @return {?}
       */
          function (id) {
              return this.contextMenuService.showContextMenu(id);
          };
      /**
       * Delegate to [[ContextMenuService]].hideContextMenu
       * @param id Context menu id
       */
      /**
       * Delegate to [[ContextMenuService]].hideContextMenu
       * @param {?} id Context menu id
       * @return {?}
       */
      SessionService.prototype.hideContextMenu = /**
       * Delegate to [[ContextMenuService]].hideContextMenu
       * @param {?} id Context menu id
       * @return {?}
       */
          function (id) {
              this.contextMenuService.hideContextMenu(id);
          };
      /**
       * Delegate to [[ContextMenuService]].resetMenu. And set [[_currentPopupMenuId]]
       * @param id Menu id
       * @param menuItems
       */
      /**
       * Delegate to [[ContextMenuService]].resetMenu. And set [[_currentPopupMenuId]]
       * @param {?} id Menu id
       * @param {?} menuItems
       * @return {?}
       */
      SessionService.prototype.resetContextMenu = /**
       * Delegate to [[ContextMenuService]].resetMenu. And set [[_currentPopupMenuId]]
       * @param {?} id Menu id
       * @param {?} menuItems
       * @return {?}
       */
          function (id, menuItems) {
              this.contextMenuService.resetMenu(id, menuItems);
              this._currentPopupMenuId = id;
          };
      /**
       * Add entry to [[defsMap]] Map
       * @param id Key
       * @param data Value
       */
      /**
       * Add entry to [[defsMap]] Map
       * @param {?} id Key
       * @param {?} data Value
       * @return {?}
       */
      SessionService.prototype.storeDef = /**
       * Add entry to [[defsMap]] Map
       * @param {?} id Key
       * @param {?} data Value
       * @return {?}
       */
          function (id, data) {
              this.defsMap.set(id, data);
          };
      /**
       * Get def map entry by key
       * @param id Key
       */
      /**
       * Get def map entry by key
       * @param {?} id Key
       * @return {?}
       */
      SessionService.prototype.getDef = /**
       * Get def map entry by key
       * @param {?} id Key
       * @return {?}
       */
          function (id) {
              return this.defsMap.get(id);
          };
      /**
       * Delete def from [[defsMap]] by key
       * @param id Key to delete
       */
      /**
       * Delete def from [[defsMap]] by key
       * @param {?} id Key to delete
       * @return {?}
       */
      SessionService.prototype.deleteDef = /**
       * Delete def from [[defsMap]] by key
       * @param {?} id Key to delete
       * @return {?}
       */
          function (id) {
              this.defsMap.delete(id);
          };
      /**
       * Get [[isCtrl]] property value
       * @returns True if control key is pressed, otherwise false.
       */
      /**
       * Get [[isCtrl]] property value
       * @return {?} True if control key is pressed, otherwise false.
       */
      SessionService.prototype.isCtrlPressed = /**
       * Get [[isCtrl]] property value
       * @return {?} True if control key is pressed, otherwise false.
       */
          function () {
              return this.isCtrl === true;
          };
      /**
       * Get [[isShift]] property value
       * @returns True if shift key is pressed, otherwise false.
       */
      /**
       * Get [[isShift]] property value
       * @return {?} True if shift key is pressed, otherwise false.
       */
      SessionService.prototype.isShiftPressed = /**
       * Get [[isShift]] property value
       * @return {?} True if shift key is pressed, otherwise false.
       */
          function () {
              return this.isShift === true;
          };
      /**
       * Get [[isAlt]] property value
       * @returns True if alt key is pressed, otherwise false.
       */
      /**
       * Get [[isAlt]] property value
       * @return {?} True if alt key is pressed, otherwise false.
       */
      SessionService.prototype.isAltPressed = /**
       * Get [[isAlt]] property value
       * @return {?} True if alt key is pressed, otherwise false.
       */
          function () {
              return this.isAlt === true;
          };
      /**
       * Get [[messagingService]] property
       * @returns Value of [[messagingServiced]]
       */
      /**
       * Get [[messagingService]] property
       * @return {?} Value of [[messagingServiced]]
       */
      SessionService.prototype.getMessagingService = /**
       * Get [[messagingService]] property
       * @return {?} Value of [[messagingServiced]]
       */
          function () {
              return this.messagingService;
          };
      /**
       * Set [[messagingService]] property
       * @param service
       */
      /**
       * Set [[messagingService]] property
       * @param {?} service
       * @return {?}
       */
      SessionService.prototype.registerMessagingService = /**
       * Set [[messagingService]] property
       * @param {?} service
       * @return {?}
       */
          function (service) {
              this.messagingService = service;
          };
      /**
       * Key down handler to set internal flags for Control, Shift, and Alt
       * @param {?} event
       * @return {?}
       */
      SessionService.prototype.checkKey = /**
       * Key down handler to set internal flags for Control, Shift, and Alt
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.isCtrl = event.ctrlKey;
              this.isShift = event.shiftKey;
              this.isAlt = event.altKey;
          };
      /**
       * Keyboard event handler for setting all internal flags for Control, Shift, and Alt to false
       * @param {?} event
       * @return {?}
       */
      SessionService.prototype.resetKey = /**
       * Keyboard event handler for setting all internal flags for Control, Shift, and Alt to false
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.isCtrl = false;
              this.isShift = false;
              this.isAlt = false;
          };
      SessionService.decorators = [
          { type: i0.Injectable }
      ];
      /** @nocollapse */
      SessionService.ctorParameters = function () {
          return [
              { type: McoContainerService },
              { type: EventHandlerService },
              { type: i0.Injector },
              { type: ContextMenuService },
              { type: i0.NgZone }
          ];
      };
      return SessionService;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var IllegalArgumentException = /** @class */ (function (_super) {
      __extends(IllegalArgumentException, _super);
      function IllegalArgumentException() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      return IllegalArgumentException;
  }(Error));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var JavaUtils = /** @class */ (function () {
      function JavaUtils() {
      }
      /**
       * @param {?} str
       * @return {?}
       */
      JavaUtils.isNumber = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              return str == null ? false : JavaUtils.NUMERIC.test(str);
          };
      /**
       * @param {?} boo
       * @return {?}
       */
      JavaUtils.booleanToString = /**
       * @param {?} boo
       * @return {?}
       */
          function (boo) {
              if (boo === true) {
                  return 'true';
              }
              return 'false';
          };
      /**
       * @param {?} a
       * @param {?} b
       * @return {?}
       */
      JavaUtils.equals = /**
       * @param {?} a
       * @param {?} b
       * @return {?}
       */
          function (a, b) {
              return a == b;
          };
      /**
       * @param {?} val
       * @return {?}
       */
      JavaUtils.parseBoolean = /**
       * @param {?} val
       * @return {?}
       */
          function (val) {
              if (typeof val === 'boolean') {
                  return val;
              }
              else if (typeof val === 'string') {
                  return val === 'true' ? true : false;
              }
              else {
                  throw new Error('Unsupport boolean value: ' + val);
              }
          };
      /**
       * @param {?} val
       * @return {?}
       */
      JavaUtils.stringValue = /**
       * @param {?} val
       * @return {?}
       */
          function (val) {
              if (typeof val === 'string') {
                  return val;
              }
              return val + '';
          };
      /**
       * @param {?} str
       * @return {?}
       */
      JavaUtils.longValue = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              if (str != null) {
                  return _.parseInt(str);
              }
              return null;
          };
      /**
       * @param {?} str
       * @return {?}
       */
      JavaUtils.doubleValue = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              if (str != null) {
                  /** @type {?} */
                  var result = str.indexOf(".") >= 0 ? parseFloat(str) : _.parseInt(str);
                  if (isNaN(result)) {
                      throw new IllegalArgumentException;
                  }
                  return result;
              }
              return null;
          };
      /**
       * @param {?} str
       * @return {?}
       */
      JavaUtils.intValue = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              if (str != null) {
                  return _.parseInt(str);
              }
              return null;
          };
      /**
       * @param {?} val
       * @return {?}
       */
      JavaUtils.toString = /**
       * @param {?} val
       * @return {?}
       */
          function (val) {
              if (typeof val === 'number') {
                  return val + '';
              }
              else if (typeof val === 'boolean') {
                  return JavaUtils.booleanToString(val);
              }
          };
      /**
       * @param {?} a
       * @param {?} b
       * @return {?}
       */
      JavaUtils.compareTo = /**
       * @param {?} a
       * @param {?} b
       * @return {?}
       */
          function (a, b) {
              /** @type {?} */
              var retVal = null;
              if (a === b) {
                  retVal = 0;
              }
              else if (a > b) {
                  retVal = 1;
              }
              else {
                  retVal = -1;
              }
              return retVal;
          };
      /**
       * @param {?} val
       * @param {?=} scale
       * @param {?=} roundingMode
       * @return {?}
       */
      JavaUtils.bigDecimal = /**
       * @param {?} val
       * @param {?=} scale
       * @param {?=} roundingMode
       * @return {?}
       */
          function (val, scale, roundingMode) {
              if (scale === void 0) {
                  scale = 0;
              }
              if (roundingMode === void 0) {
                  roundingMode = -1;
              }
              /** @type {?} */
              var fixedValue = typeof val === 'number' ? val : parseFloat(val);
              if (scale > 0) {
                  return parseFloat(fixedValue + "." + _.padStart('', scale, '0'));
              }
              else {
                  return fixedValue;
              }
          };
      /**
       * @param {?} num
       * @return {?}
       */
      JavaUtils.signum = /**
       * @param {?} num
       * @return {?}
       */
          function (num) {
              return num === 0 ? 0 : num > 0 ? 1 : -1;
          };
      /**
       * @param {?} str
       * @return {?}
       */
      JavaUtils.floatValue = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              return parseFloat(str);
          };
      /**
       * @param {?} a
       * @param {?} b
       * @return {?}
       */
      JavaUtils.lessThan = /**
       * @param {?} a
       * @param {?} b
       * @return {?}
       */
          function (a, b) {
              if (moment.isMoment(a) && moment.isMoment(b)) {
                  return ( /** @type {?} */(a)).isBefore(b);
              }
              return a < b;
          };
      JavaUtils.NUMERIC = new RegExp("^[0-9]+$");
      return JavaUtils;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ClientEvent = /** @class */ (function () {
      function ClientEvent(_source, _event) {
          this._source = _source;
          this._event = _event;
          this._parameters = new Map();
          this._attributes = new Map();
      }
      /**
       * @return {?}
       */
      ClientEvent.prototype.getSource = /**
       * @return {?}
       */
          function () {
              return this._source;
          };
      /**
       * @return {?}
       */
      ClientEvent.prototype.getEvent = /**
       * @return {?}
       */
          function () {
              return this._event;
          };
      /**
       * @param {?} paramName
       * @param {?} value
       * @return {?}
       */
      ClientEvent.prototype.setParameter = /**
       * @param {?} paramName
       * @param {?} value
       * @return {?}
       */
          function (paramName, value) {
              this._parameters.set(KeyUtils.toMapKey(paramName), value);
          };
      /**
       * @param {?} paramName
       * @return {?}
       */
      ClientEvent.prototype.getParameter = /**
       * @param {?} paramName
       * @return {?}
       */
          function (paramName) {
              return this._parameters.get(KeyUtils.toMapKey(paramName));
          };
      /**
       * @param {?} attributeName
       * @param {?} value
       * @return {?}
       */
      ClientEvent.prototype.setAttribute = /**
       * @param {?} attributeName
       * @param {?} value
       * @return {?}
       */
          function (attributeName, value) {
              this._attributes.set(KeyUtils.toMapKey(attributeName), value);
          };
      /**
       * @param {?} attributeName
       * @return {?}
       */
      ClientEvent.prototype.getAttribute = /**
       * @param {?} attributeName
       * @return {?}
       */
          function (attributeName) {
              return this._attributes.get(KeyUtils.toMapKey(attributeName));
          };
      /**
       * @return {?}
       */
      ClientEvent.prototype.stopPropagation = /**
       * @return {?}
       */
          function () {
              if (this._event != null) {
                  this._event.stopPropagation();
              }
          };
      /**
       * @return {?}
       */
      ClientEvent.prototype.preventDefault = /**
       * @return {?}
       */
          function () {
              if (this._event != null) {
                  this._event.preventDefault();
              }
          };
      /**
       * @param {?} value
       * @return {?}
       */
      ClientEvent.prototype.setReturnValue = /**
       * @param {?} value
       * @return {?}
       */
          function (value) {
              this._returnValue = value;
              this._returnValueSet = true;
          };
      /**
       * @return {?}
       */
      ClientEvent.prototype.getReturnValue = /**
       * @return {?}
       */
          function () {
              return this._returnValue;
          };
      /**
       * @return {?}
       */
      ClientEvent.prototype.isReturnValueSet = /**
       * @return {?}
       */
          function () {
              //can't check for returnValue is null b/c it can be set to null
              return this._returnValueSet === true ? true : false;
          };
      return ClientEvent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * @template E
   */
  var /**
   * @template E
   */ ListIterator = /** @class */ (function () {
      function ListIterator(data) {
          this.data = data;
          this.currentIndex = 0;
      }
      /**
       * @return {?}
       */
      ListIterator.prototype.hasNext = /**
       * @return {?}
       */
          function () {
              return this.data != null && this.data.length > this.currentIndex;
          };
      /**
       * @template T
       * @return {?}
       */
      ListIterator.prototype.next = /**
       * @template T
       * @return {?}
       */
          function () {
              if (this.currentIndex < this.data.length) {
                  return this.data[this.currentIndex++];
              }
              throw new Error('No such element');
          };
      return ListIterator;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * @template E
   */
  var /**
   * @template E
   */ Vector = /** @class */ (function () {
      function Vector(size) {
          this.data = [];
          if (Array.isArray(size)) {
              this.data = size;
          }
      }
      /**
       * @return {?}
       */
      Vector.prototype.toArray = /**
       * @return {?}
       */
          function () {
              return this.data;
          };
      /**
       * @param {?} data
       * @return {?}
       */
      Vector.prototype.setData = /**
       * @param {?} data
       * @return {?}
       */
          function (data) {
              this.data = data;
          };
      /**
       * @return {?}
       */
      Vector.prototype.size = /**
       * @return {?}
       */
          function () {
              return this.data == null ? 0 : this.data.length;
          };
      /**
       * @template T
       * @param {?} idx
       * @return {?}
       */
      Vector.prototype.get = /**
       * @template T
       * @param {?} idx
       * @return {?}
       */
          function (idx) {
              if (this.size() > idx) {
                  return /** @type {?} */ (this.data[idx]);
              }
              return null;
          };
      /**
       * @param {?} element
       * @param {?=} insertionIndex
       * @return {?}
       */
      Vector.prototype.add = /**
       * @param {?} element
       * @param {?=} insertionIndex
       * @return {?}
       */
          function (element, insertionIndex) {
              if (insertionIndex === void 0) {
                  insertionIndex = -1;
              }
              if (insertionIndex === -1) {
                  return this.data.push(element);
              }
              else {
                  this.data.splice(insertionIndex, 0, element);
                  return insertionIndex;
              }
          };
      /**
       * @param {?} idx
       * @return {?}
       */
      Vector.prototype.delete = /**
       * @param {?} idx
       * @return {?}
       */
          function (idx) {
              if (this.get(idx)) {
                  this.data.splice(idx, 1);
              }
          };
      /**
       * @param {?} element
       * @return {?}
       */
      Vector.prototype.addElement = /**
       * @param {?} element
       * @return {?}
       */
          function (element) {
              return this.add(element);
          };
      /**
       * @param {?} vec
       * @return {?}
       */
      Vector.prototype.addAll = /**
       * @param {?} vec
       * @return {?}
       */
          function (vec) {
              /** @type {?} */
              var it = vec.iterator();
              while (it.hasNext()) {
                  this.add(it.next());
              }
          };
      /**
       * @return {?}
       */
      Vector.prototype.firstElement = /**
       * @return {?}
       */
          function () {
              return this.data != null && this.data.length > 0 ? this.data[0] : null;
          };
      /**
       * @return {?}
       */
      Vector.prototype.lastElement = /**
       * @return {?}
       */
          function () {
              return this.data != null && this.data.length > 0 ? this.data[this.data.length - 1] : null;
          };
      /**
       * @param {?} element
       * @return {?}
       */
      Vector.prototype.contains = /**
       * @param {?} element
       * @return {?}
       */
          function (element) {
              return this.data != null && this.data.indexOf(element) >= 0 ? true : false;
          };
      /**
       * @param {?} idx
       * @return {?}
       */
      Vector.prototype.elementAt = /**
       * @param {?} idx
       * @return {?}
       */
          function (idx) {
              return this.get(idx);
          };
      /**
       * @return {?}
       */
      Vector.prototype.isEmpty = /**
       * @return {?}
       */
          function () {
              return this.data == null || this.data.length === 0;
          };
      /**
       * @return {?}
       */
      Vector.prototype.iterator = /**
       * @return {?}
       */
          function () {
              return new ListIterator(_.clone(this.data));
          };
      return Vector;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var AttributeChangeEvent = /** @class */ (function () {
      function AttributeChangeEvent(name, oldValue, newValue, sourceElement) {
          this.name = name;
          this.oldValue = oldValue;
          this.newValue = newValue;
          this.sourceElement = sourceElement;
      }
      /**
       * @return {?}
       */
      AttributeChangeEvent.prototype.getName = /**
       * @return {?}
       */
          function () {
              return this.name;
          };
      /**
       * @return {?}
       */
      AttributeChangeEvent.prototype.getOldValue = /**
       * @return {?}
       */
          function () {
              return this.oldValue;
          };
      /**
       * @return {?}
       */
      AttributeChangeEvent.prototype.getNewValue = /**
       * @return {?}
       */
          function () {
              return this.newValue;
          };
      /**
       * @return {?}
       */
      AttributeChangeEvent.prototype.getSourceElement = /**
       * @return {?}
       */
          function () {
              return this.sourceElement;
          };
      return AttributeChangeEvent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var AppUtils = /** @class */ (function () {
      function AppUtils() {
      }
      /**
       * @param {?} str
       * @return {?}
       */
      AppUtils.parseDom = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              return this.domParser.parseFromString(str, "application/xml").firstElementChild;
          };
      /** attributeOverrideInitializer */
      /**
       * attributeOverrideInitializer
       * @return {?}
       */
      AppUtils.attributeOverrideInitializer = /**
       * attributeOverrideInitializer
       * @return {?}
       */
          function () {
              this.attributeOverrideClassInitializer();
              this.attributeOverrideValidateInitializer();
          };
      AppUtils.domParser = new DOMParser();
      /**
       * クラス属性変換用マップ
       */
      AppUtils._classOverrideMap = new Map();
      AppUtils.attributeOverrideClassInitializer = null;
      AppUtils.attributeOverrideClass = null;
      /**
       * バリデート属性変換用マップ
       */
      AppUtils._validateOverrideMap = new Map();
      AppUtils.attributeOverrideValidateInitializer = null;
      AppUtils.attributeOverrideValidate = null;
      AppUtils.customizeClientEvent = null;
      AppUtils.validateField = null;
      /**
       * Validate HTML attribute to see if they should be pass to the server. This is needed
       * because Nexaweb framework allow passing of custom attributes
       */
      AppUtils.validateAttribute = null;
      AppUtils.enableLogging = true;
      AppUtils.maxFindElementCache = 500;
      AppUtils.isCloseBtn = false;
      return AppUtils;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * @template K, V
   */
  var /**
   * @template K, V
   */ HashMap = /** @class */ (function () {
      function HashMap() {
          this._internalMap = new Map();
      }
      Object.defineProperty(HashMap.prototype, "size", {
          get: /**
           * @return {?}
           */ function () {
              return this._internalMap.size;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * @param {?} key
       * @param {?} value
       * @return {?}
       */
      HashMap.prototype.put = /**
       * @param {?} key
       * @param {?} value
       * @return {?}
       */
          function (key, value) {
              this._internalMap.set(key, value);
          };
      /**
       * @param {?} key
       * @return {?}
       */
      HashMap.prototype.get = /**
       * @param {?} key
       * @return {?}
       */
          function (key) {
              return this._internalMap.get(key);
          };
      /**
       * @param {?} key
       * @param {?} value
       * @return {?}
       */
      HashMap.prototype.set = /**
       * @param {?} key
       * @param {?} value
       * @return {?}
       */
          function (key, value) {
              this._internalMap.set(key, value);
              return this;
          };
      /**
       * @param {?} key
       * @return {?}
       */
      HashMap.prototype.delete = /**
       * @param {?} key
       * @return {?}
       */
          function (key) {
              return this._internalMap.delete(key);
          };
      /**
       * @param {?} key
       * @return {?}
       */
      HashMap.prototype.remove = /**
       * @param {?} key
       * @return {?}
       */
          function (key) {
              this.delete(key);
          };
      /**
       * @return {?}
       */
      HashMap.prototype.clear = /**
       * @return {?}
       */
          function () {
              return this._internalMap.clear();
          };
      /**
       * @return {?}
       */
      HashMap.prototype.entries = /**
       * @return {?}
       */
          function () {
              return this._internalMap.entries();
          };
      /**
       * @param {?} cb
       * @param {?} thisArg
       * @return {?}
       */
      HashMap.prototype.forEach = /**
       * @param {?} cb
       * @param {?} thisArg
       * @return {?}
       */
          function (cb, thisArg) {
              return this._internalMap.forEach(cb, thisArg);
          };
      /**
       * @param {?} key
       * @return {?}
       */
      HashMap.prototype.has = /**
       * @param {?} key
       * @return {?}
       */
          function (key) {
              return this._internalMap.has(key);
          };
      /**
       * @return {?}
       */
      HashMap.prototype.keys = /**
       * @return {?}
       */
          function () {
              return this._internalMap.keys();
          };
      /**
       * @return {?}
       */
      HashMap.prototype.values = /**
       * @return {?}
       */
          function () {
              return this._internalMap.values();
          };
      /**
       * @return {?}
       */
      HashMap.prototype.toJson = /**
       * @return {?}
       */
          function () {
              /** @type {?} */
              var json = {};
              /** @type {?} */
              var keys = this.keys();
              /** @type {?} */
              var key = keys.next();
              while (key.done !== true) {
                  json[ /** @type {?} */(key.value)] = this.get(key.value);
                  key = keys.next();
              }
              return json;
          };
      Object.defineProperty(HashMap.prototype, Symbol.iterator, {
          get: /**
           * @return {?}
           */ function () {
              return this._internalMap[Symbol.iterator];
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(HashMap.prototype, Symbol.toStringTag, {
          get: /**
           * @return {?}
           */ function () {
              return this._internalMap[Symbol.toStringTag];
          },
          enumerable: true,
          configurable: true
      });
      return HashMap;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * @template K, V
   */
  var /**
   * @template K, V
   */ Hashtable = /** @class */ (function (_super) {
      __extends(Hashtable, _super);
      function Hashtable() {
          return _super.call(this) || this;
      }
      return Hashtable;
  }(HashMap));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var Logger = /** @class */ (function () {
      function Logger() {
      }
      /**
       * @param {?} e
       * @return {?}
       */
      Logger.warn = /**
       * @param {?} e
       * @return {?}
       */
          function (e) {
              if (AppUtils.enableLogging === true) {
                  console.warn(e);
              }
          };
      /**
       * @param {?} e
       * @return {?}
       */
      Logger.log = /**
       * @param {?} e
       * @return {?}
       */
          function (e) {
              if (AppUtils.enableLogging === true) {
                  console.log(e);
              }
          };
      /**
       * @param {?} e
       * @return {?}
       */
      Logger.info = /**
       * @param {?} e
       * @return {?}
       */
          function (e) {
              if (AppUtils.enableLogging === true) {
                  console.info(e);
              }
          };
      /**
       * @param {?} e
       * @return {?}
       */
      Logger.error = /**
       * @param {?} e
       * @return {?}
       */
          function (e) {
              if (AppUtils.enableLogging === true) {
                  console.error(e);
              }
          };
      /**
       * @param {?} e
       * @return {?}
       */
      Logger.debug = /**
       * @param {?} e
       * @return {?}
       */
          function (e) {
              if (AppUtils.enableLogging === true) {
                  console.debug(e);
              }
          };
      return Logger;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Main class that all core components should inherit.
   */
  var BaseComponent = /** @class */ (function () {
      /**
       * Constructor where it required minimal injection in order for this class to function properly. Subclass can overload this constructor
       * but it must provided the minimal required items to be injected.
       *
       * @param parent The component where this component will be used. This injection is provided by Angular if the parent component "provide" itself.
       * @param sessionService SessionService needed by this class, this should be injected by Angular.
       * @param elementRef the element reference that wrap the element (tag) of this component.
       * @param renderer The renderer (injected by Angular) that we used to perform DOM manipulation.
       */
      function BaseComponent(parent, sessionService, elementRef, renderer) {
          this.parent = parent;
          this.sessionService = sessionService;
          this.elementRef = elementRef;
          this.renderer = renderer;
          this.disabled = false;
          this.sort = "";
          this.visible = true;
          this.text = "";
          this.required = false;
          this.orderIndex = -1;
          /* istanbul ignore next */
          this.onContextMenu = new i0.EventEmitter();
          this.onActiveLost = new i0.EventEmitter();
          this.onBeforeActiveLost = new i0.EventEmitter();
          this.styles = {};
          this._children = null;
          /* istanbul ignore next */
          this._childrenIndex = null;
          this._uniqueId = BaseComponent.generateUniqueId();
          //initial id
          this.id = this._uniqueId;
      }
      Object.defineProperty(BaseComponent.prototype, "cssClass", {
          /**
           * Accessor for [[cssClass]] property
           */
          get: /**
           * Accessor for [[cssClass]] property
           * @return {?}
           */ function () {
              return this._cssClass;
          },
          set: /**
           * @param {?} css
           * @return {?}
           */ function (css) {
              this._cssClass = this.cleanCss(css);
              this.initBorderLayout();
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(BaseComponent.prototype, "require", {
          /**
           * Accessor for [[required]] property
           */
          get: /**
           * Accessor for [[required]] property
           * @return {?}
           */ function () {
              return this.required;
          },
          set: /**
           * @param {?} req
           * @return {?}
           */ function (req) {
              this.required = req;
          },
          enumerable: true,
          configurable: true
      });
      /* istanbul ignore next */
      //add to prevent confusion
      /**
       * @param {?} css
       * @return {?}
       */
      BaseComponent.prototype.class = /**
       * @param {?} css
       * @return {?}
       */
          function (css) {
              this.cssClass = css;
          };
      Object.defineProperty(BaseComponent.prototype, "enabled", {
          get: /**
           * @return {?}
           */ function () {
              return !this.disabled;
          },
          //alias for disabled
          set: /**
           * @param {?} boo
           * @return {?}
           */ function (boo) {
              if (typeof boo === 'string') {
                  //if enabled is false, disabled is true
                  this.disabled = boo === 'true' ? false : true;
              }
              else {
                  this.disabled = !boo;
              }
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(BaseComponent.prototype, "sortValue", {
          get: /**
           * @return {?}
           */ function () {
              return this.sort;
          },
          set: /**
           * @param {?} value
           * @return {?}
           */ function (value) {
              this.sort = value;
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(BaseComponent.prototype, "uniqueId", {
          get: /**
           * @return {?}
           */ function () {
              return this._uniqueId;
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(BaseComponent.prototype, "children", {
          get: /**
           * @return {?}
           */ function () {
              return this._children;
          },
          enumerable: true,
          configurable: true
      });
      /* istanbul ignore next */
      /**
       * Got call when this component finished initializing, if you override this, make sure to call super.ngAfterViewInit()
       */
      /**
       * Got call when this component finished initializing, if you override this, make sure to call super.ngAfterViewInit()
       * @return {?}
       */
      BaseComponent.prototype.ngAfterViewInit = /**
       * Got call when this component finished initializing, if you override this, make sure to call super.ngAfterViewInit()
       * @return {?}
       */
          function () {
              if (this.parent != null) {
                  this.parent.addChild(this);
              }
              this._childrenIndex = _.uniq(this._childrenIndex);
              //commnet out, causing regression b/c the css selector need id of parent window
              // if (this.renderer != null && typeof this.renderer["removeAttribute"] === "function") {
              //   this.renderer.removeAttribute(this.elementRef.nativeElement, "id");
              // }
          };
      /* istanbul ignore next */
      /**
       * Init life cycle of this class, if you override this, make sure to call super.ngOnInit()
       */
      /**
       * Init life cycle of this class, if you override this, make sure to call super.ngOnInit()
       * @return {?}
       */
      BaseComponent.prototype.ngOnInit = /**
       * Init life cycle of this class, if you override this, make sure to call super.ngOnInit()
       * @return {?}
       */
          function () {
              this.initBorderLayout();
              if (this.fontBold === true || this.fontBold === "true") {
                  this.setFontBold(true);
              }
              if (this.fontItalic === true || this.fontItalic === "true") {
                  this.styles["font-style"] = "italic";
                  this.setFontItalic(true);
              }
              if (this.fontSize != null) {
                  this.setFontSize(this.fontSize);
              }
              if (this.fontUnderline === true || this.fontUnderline === "true") {
                  this.setFontUnderline(true);
              }
              if (this.fontColor != null) {
                  this.setColor(this.fontColor);
              }
              if (this.autoWrap === true) {
                  this.styles["white-space"] = "normal";
                  this.markForCheck();
              }
              else if (this.autoWrap === false) {
                  this.styles["white-space"] = "nowrap";
                  this.markForCheck();
              }
              this.checkNxStyling();
          };
      /**
       * @param {?=} skipAttributeOverride
       * @return {?}
       */
      BaseComponent.prototype.checkNxStyling = /**
       * @param {?=} skipAttributeOverride
       * @return {?}
       */
          function (skipAttributeOverride) {
              if (skipAttributeOverride === void 0) {
                  skipAttributeOverride = false;
              }
              if (skipAttributeOverride !== true && this._cssClass != null && this._cssClass.length > 0 && typeof AppUtils.attributeOverrideClass === "function") {
                  /** @type {?} */
                  var newAttributes = AppUtils.attributeOverrideClass(this._cssClass);
                  if (newAttributes != null) {
                      /** @type {?} */
                      var newCssClass = _.filter(newAttributes, function (attr) { return attr.attributeName === AttributesEnum.CLASS; }).map(function (attr) { return attr.value; }).join(" ");
                      newAttributes = _.filter(newAttributes, function (attr) { return attr.attributeName !== AttributesEnum.CLASS; });
                      newAttributes.push({
                          attributeName: AttributesEnum.CLASS,
                          value: (this._cssClass + " " + newCssClass).trim(),
                      });
                      this.setAttributes(newAttributes, true);
                  }
              }
              if (this.elementRef != null) {
                  /** @type {?} */
                  var _validate = this.elementRef.nativeElement.getAttribute("validate");
                  if (skipAttributeOverride !== true && _validate != null && _validate.length > 0) {
                      /** @type {?} */
                      var newAttributes = AppUtils.attributeOverrideValidate(_validate);
                      if (newAttributes != null) {
                          /** @type {?} */
                          var newCssClass = _.filter(newAttributes, function (attr) { return attr.attributeName === AttributesEnum.CLASS; }).map(function (attr) { return attr.value; }).join(" ");
                          newAttributes = _.filter(newAttributes, function (attr) { return attr.attributeName !== AttributesEnum.CLASS; });
                          newAttributes.push({
                              attributeName: AttributesEnum.CLASS,
                              value: (this._cssClass + " " + newCssClass).trim(),
                          });
                          this.setAttributes(newAttributes, true);
                      }
                  }
              }
          };
      /**
       * Sets border CSS based on borderPosition value (top | left | bottom | right)
       * @return {?}
       */
      BaseComponent.prototype.initBorderLayout = /**
       * Sets border CSS based on borderPosition value (top | left | bottom | right)
       * @return {?}
       */
          function () {
              if (this.borderPosition != null && this.borderPosition != '') {
                  if (this._cssClass != null) {
                      this._cssClass = this._cssClass + ' border-' + this.borderPosition;
                  }
                  else {
                      this._cssClass = 'border-' + this.borderPosition;
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Destroy lifecycle. Clear component references and cache
       */
      /**
       * Destroy lifecycle. Clear component references and cache
       * @return {?}
       */
      BaseComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Clear component references and cache
       * @return {?}
       */
          function () {
              this.cleanup();
              this._isDying = true;
              /** @type {?} */
              var parentView = this.getParentView();
              if (parentView != null) {
                  //remove ourself from the view children map
                  if (parentView._viewChildrenMap != null) {
                      parentView._viewChildrenMap.delete(KeyUtils.toMapKey(this.getId()));
                  }
              }
              this._internalChangeCb = null;
              if (this.parent) {
                  this.parent.removeChild(this);
              }
              if (this._viewChildrenMap != null) {
                  this._viewChildrenMap.clear();
              }
              if (this._children !== null) {
                  this._children.clear();
              }
              this._childrenIndex = null;
              this._viewChildrenMap = null;
              this.parent = null;
              this.sessionService = null;
              this.attributeChangeListeners = null;
              this.radioButtonGroups = null;
              this.elementRef = null;
              this.scrollPanes = null;
          };
      /**
       * @return {?}
       */
      BaseComponent.prototype.cleanup = /**
       * @return {?}
       */
          function () {
          };
      /**
       * Get [[SessionService]] instance injected via constructor
       * @returns SessionService instance
       */
      /**
       * Get [[SessionService]] instance injected via constructor
       * @return {?} SessionService instance
       */
      BaseComponent.prototype.getSession = /**
       * Get [[SessionService]] instance injected via constructor
       * @return {?} SessionService instance
       */
          function () {
              return this.sessionService;
          };
      /* istanbul ignore next */
      /**
       * Get child component by id
       * @param id Component ID
       * @returns Child [[BaseComponent]]
       */
      /**
       * Get child component by id
       * @param {?} id Component ID
       * @return {?} Child [[BaseComponent]]
       */
      BaseComponent.prototype.getChild = /**
       * Get child component by id
       * @param {?} id Component ID
       * @return {?} Child [[BaseComponent]]
       */
          function (id) {
              if (this._children !== null) {
                  return this._children.get(KeyUtils.toMapKey(id));
              }
              else {
                  return null;
              }
          };
      /* istanbul ignore next */
      /**
       * Set [[disabled]] property value
       * @param boo Value for disabled property
       */
      /**
       * Set [[disabled]] property value
       * @param {?} boo Value for disabled property
       * @return {?}
       */
      BaseComponent.prototype.setDisabled = /**
       * Set [[disabled]] property value
       * @param {?} boo Value for disabled property
       * @return {?}
       */
          function (boo) {
              this.disabled = boo;
              this.markForCheck();
          };
      /* istanbul ignore next */
      /**
       * Set [[visible]] property value
       * @param boo Value for visible property
       */
      /**
       * Set [[visible]] property value
       * @param {?} boo Value for visible property
       * @return {?}
       */
      BaseComponent.prototype.setVisible = /**
       * Set [[visible]] property value
       * @param {?} boo Value for visible property
       * @return {?}
       */
          function (boo) {
              this.visible = boo;
              this.markForCheck();
          };
      /**
       * @param {?} expression
       * @return {?}
       */
      BaseComponent.prototype.setScrollPosVertical = /**
       * @param {?} expression
       * @return {?}
       */
          function (expression) {
              //TODO
          };
      /**
       * Set color of text on the component
       * @param value Color string. Should be hexadecimal or color name supported by CSS
       */
      /**
       * Set color of text on the component
       * @param {?} value Color string. Should be hexadecimal or color name supported by CSS
       * @return {?}
       */
      BaseComponent.prototype.setFontColor = /**
       * Set color of text on the component
       * @param {?} value Color string. Should be hexadecimal or color name supported by CSS
       * @return {?}
       */
          function (value) {
              this.setColor(value);
          };
      /* istanbul ignore next */
      /**
       * Value of [[disabled]] property
       * @returns Value of disabled
       */
      /**
       * Value of [[disabled]] property
       * @return {?} Value of disabled
       */
      BaseComponent.prototype.getDisabled = /**
       * Value of [[disabled]] property
       * @return {?} Value of disabled
       */
          function () {
              return this.disabled;
          };
      /**
       * Value of opposite of [[disabled]] value
       * @returns Value of enabled
       */
      /**
       * Value of opposite of [[disabled]] value
       * @return {?} Value of enabled
       */
      BaseComponent.prototype.getEnabled = /**
       * Value of opposite of [[disabled]] value
       * @return {?} Value of enabled
       */
          function () {
              return !this.getDisabled();
          };
      /* istanbul ignore next */
      /**
       * Value of soColumnNo attribute
       * @returns Column number
       */
      /**
       * Value of soColumnNo attribute
       * @return {?} Column number
       */
      BaseComponent.prototype.getSoColumnNo = /**
       * Value of soColumnNo attribute
       * @return {?} Column number
       */
          function () {
              return this.getAttribute("soColumnNo");
          };
      /* istanbul ignore next */
      /**
       * Get the component ref string value from [[editor]] property
       * @returns Ref of component
       */
      /**
       * Get the component ref string value from [[editor]] property
       * @return {?} Ref of component
       */
      BaseComponent.prototype.getEditor = /**
       * Get the component ref string value from [[editor]] property
       * @return {?} Ref of component
       */
          function () {
              return this.editor;
          };
      /**
       * Value of soRequire attribute
       * @returns soRequire value
       */
      /**
       * Value of soRequire attribute
       * @return {?} soRequire value
       */
      BaseComponent.prototype.getSoRequire = /**
       * Value of soRequire attribute
       * @return {?} soRequire value
       */
          function () {
              return this.getAttribute("soRequire");
          };
      /**
       * Value of soValidate attribute
       * @returns soValidate value
       */
      /**
       * Value of soValidate attribute
       * @return {?} soValidate value
       */
      BaseComponent.prototype.getSoValidate = /**
       * Value of soValidate attribute
       * @return {?} soValidate value
       */
          function () {
              return this.getAttribute("soValidate");
          };
      /* istanbul ignore next */
      /**
       * Value of soType attribute
       * @returns soType value
       */
      /**
       * Value of soType attribute
       * @return {?} soType value
       */
      BaseComponent.prototype.getSoType = /**
       * Value of soType attribute
       * @return {?} soType value
       */
          function () {
              return this.getAttribute("soType");
          };
      /**
       * Value of soFormat attribute
       * @returns soFormat value
       */
      /**
       * Value of soFormat attribute
       * @return {?} soFormat value
       */
      BaseComponent.prototype.getSoFormat = /**
       * Value of soFormat attribute
       * @return {?} soFormat value
       */
          function () {
              return this.getAttribute("soFormat");
          };
      /* istanbul ignore next */
      /**
       * Value of soMin attribute
       * @returns soMin value
       */
      /**
       * Value of soMin attribute
       * @return {?} soMin value
       */
      BaseComponent.prototype.getSoMin = /**
       * Value of soMin attribute
       * @return {?} soMin value
       */
          function () {
              return this.getAttribute("soMin");
          };
      /* istanbul ignore next */
      /**
       * Value of soMax attribute
       * @returns soMax value
       */
      /**
       * Value of soMax attribute
       * @return {?} soMax value
       */
      BaseComponent.prototype.getSoMax = /**
       * Value of soMax attribute
       * @return {?} soMax value
       */
          function () {
              return this.getAttribute("soMax");
          };
      /**
       * Value of soMaxLength attribute
       * @returns soMaxLength value
       */
      /**
       * Value of soMaxLength attribute
       * @return {?} soMaxLength value
       */
      BaseComponent.prototype.getSoMaxLength = /**
       * Value of soMaxLength attribute
       * @return {?} soMaxLength value
       */
          function () {
              return this.getAttribute("soMaxLength");
          };
      /* istanbul ignore next */
      /**
       * Value of soPattern attribute
       * @returns soPattern value
       */
      /**
       * Value of soPattern attribute
       * @return {?} soPattern value
       */
      BaseComponent.prototype.getSoPattern = /**
       * Value of soPattern attribute
       * @return {?} soPattern value
       */
          function () {
              return this.getAttribute("soPattern");
          };
      /* istanbul ignore next */
      /**
       * Value of soMaxByteLen attribute
       * @returns soMaxByteLen value
       */
      /**
       * Value of soMaxByteLen attribute
       * @return {?} soMaxByteLen value
       */
      BaseComponent.prototype.getSoMaxByteLen = /**
       * Value of soMaxByteLen attribute
       * @return {?} soMaxByteLen value
       */
          function () {
              return this.getAttribute("soMaxByteLen");
          };
      /* istanbul ignore next */
      /**
       * Set [[disabled]] property to opposite of input
       * @param boo Value of enabled
       */
      /**
       * Set [[disabled]] property to opposite of input
       * @param {?} boo Value of enabled
       * @return {?}
       */
      BaseComponent.prototype.setEnabled = /**
       * Set [[disabled]] property to opposite of input
       * @param {?} boo Value of enabled
       * @return {?}
       */
          function (boo) {
              if (typeof boo === 'string') {
                  boo = boo === 'true' ? true : false;
              }
              this.setDisabled(!boo);
          };
      /* istanbul ignore next */
      /**
       * Set value of [[sort]] property
       * @param value Sort value to set
       */
      /**
       * Set value of [[sort]] property
       * @param {?} value Sort value to set
       * @return {?}
       */
      BaseComponent.prototype.setSortValue = /**
       * Set value of [[sort]] property
       * @param {?} value Sort value to set
       * @return {?}
       */
          function (value) {
              this.sort = value;
          };
      /**
       * Get value of [[visible]] property
       * @returns Visble property value
       */
      /**
       * Get value of [[visible]] property
       * @return {?} Visble property value
       */
      BaseComponent.prototype.getVisible = /**
       * Get value of [[visible]] property
       * @return {?} Visble property value
       */
          function () {
              return this.visible;
          };
      /* istanbul ignore next */
      /**
       * Sets value of text attribute and marks component for change detection
       * @param value Text to set. If it's a null value, it will be converted to an empty string
       * If it's a number or non-string, it will be converted to a string representation of the value.
       */
      /**
       * Sets value of text attribute and marks component for change detection
       * @param {?} value Text to set. If it's a null value, it will be converted to an empty string
       * If it's a number or non-string, it will be converted to a string representation of the value.
       * @return {?}
       */
      BaseComponent.prototype.setText = /**
       * Sets value of text attribute and marks component for change detection
       * @param {?} value Text to set. If it's a null value, it will be converted to an empty string
       * If it's a number or non-string, it will be converted to a string representation of the value.
       * @return {?}
       */
          function (value) {
              if (typeof value === 'string') {
                  this.text = value;
              }
              else if (value == null) {
                  this.text = '';
              }
              else {
                  this.text = value + '';
              }
              this.markForCheck();
          };
      /* istanbul ignore next */
      /**
       * Set callback function for [[onCommand]]
       * @param fn Function to be invoked for [[onCommand]] event
       */
      /**
       * Set callback function for [[onCommand]]
       * @param {?} fn Function to be invoked for [[onCommand]] event
       * @return {?}
       */
      BaseComponent.prototype.setOnCommand = /**
       * Set callback function for [[onCommand]]
       * @param {?} fn Function to be invoked for [[onCommand]] event
       * @return {?}
       */
          function (fn) {
              this._internalOnCommand = fn;
          };
      /* istanbul ignore next */
      /**
       * Set callback function for [[onActiveLost]]
       * @param fn Function to be invoked for [[onActiveLost]] event
       */
      /**
       * Set callback function for [[onActiveLost]]
       * @param {?} fn Function to be invoked for [[onActiveLost]] event
       * @return {?}
       */
      BaseComponent.prototype.setOnActiveLost = /**
       * Set callback function for [[onActiveLost]]
       * @param {?} fn Function to be invoked for [[onActiveLost]] event
       * @return {?}
       */
          function (fn) {
              this._internalOnActiveLost = fn;
          };
      /* istanbul ignore next */
      /**
       * Set all attributes in one go
       *
       * @param attrs
       * @param skipAttributeOverride Set to 'true' if you do not want custom attribute to override exisiting HTML attribute
       */
      /**
       * Set all attributes in one go
       *
       * @param {?} attrs
       * @param {?=} skipAttributeOverride Set to 'true' if you do not want custom attribute to override exisiting HTML attribute
       * @return {?}
       */
      BaseComponent.prototype.setAttributes = /**
       * Set all attributes in one go
       *
       * @param {?} attrs
       * @param {?=} skipAttributeOverride Set to 'true' if you do not want custom attribute to override exisiting HTML attribute
       * @return {?}
       */
          function (attrs, skipAttributeOverride) {
              if (skipAttributeOverride === void 0) {
                  skipAttributeOverride = false;
              }
              var e_1, _a;
              this._tempFreezeCd = true;
              try {
                  for (var attrs_1 = __values(attrs), attrs_1_1 = attrs_1.next(); !attrs_1_1.done; attrs_1_1 = attrs_1.next()) {
                      var attr = attrs_1_1.value;
                      this.setAttribute(attr.attributeName, attr.value, skipAttributeOverride);
                  }
              }
              catch (e_1_1) {
                  e_1 = { error: e_1_1 };
              }
              finally {
                  try {
                      if (attrs_1_1 && !attrs_1_1.done && (_a = attrs_1.return))
                          _a.call(attrs_1);
                  }
                  finally {
                      if (e_1)
                          throw e_1.error;
                  }
              }
              this._tempFreezeCd = false;
              this.markForCheck();
          };
      /* istanbul ignore next */
      /**
       * Set HTML attribute value on component
       * @param attribute HTML attribute to set
       * @param value Value of attribute
       * @param skipAttributeOverride Set to 'true' if you do not want custom attribute to override exisiting HTML attribute
       */
      /**
       * Set HTML attribute value on component
       * @param {?} attribute HTML attribute to set
       * @param {?} value Value of attribute
       * @param {?=} skipAttributeOverride Set to 'true' if you do not want custom attribute to override exisiting HTML attribute
       * @return {?}
       */
      BaseComponent.prototype.setAttribute = /**
       * Set HTML attribute value on component
       * @param {?} attribute HTML attribute to set
       * @param {?} value Value of attribute
       * @param {?=} skipAttributeOverride Set to 'true' if you do not want custom attribute to override exisiting HTML attribute
       * @return {?}
       */
          function (attribute, value, skipAttributeOverride) {
              if (skipAttributeOverride === void 0) {
                  skipAttributeOverride = false;
              }
              if (typeof attribute === 'string') {
                  /** @type {?} */
                  var originalAttributeName = attribute;
                  attribute = attribute.toLowerCase();
                  if (attribute === "id") {
                      this.setAttribute(AttributesEnum.ID, value);
                  }
                  else if (attribute === 'visible') {
                      this.setAttribute(AttributesEnum.VISIBLE, value);
                  }
                  else if (attribute === "class") {
                      this.setAttribute(AttributesEnum.CLASS, value);
                  }
                  else if (attribute === 'enabled') {
                      this.setAttribute(AttributesEnum.ENABLED, value);
                  }
                  else if (attribute === 'disabled') {
                      this.setAttribute(AttributesEnum.DISABLED, value);
                  }
                  else if (attribute === 'text') {
                      this.setAttribute(AttributesEnum.TEXT, value);
                  }
                  else if (attribute === 'color') {
                      this.setAttribute(AttributesEnum.COLOR, value);
                  }
                  else if (attribute === "title") {
                      this.setAttribute(AttributesEnum.TITLE, value);
                  }
                  else if (attribute === "require") {
                      this.setAttribute(AttributesEnum.REQUIRE, value);
                  }
                  else if (attribute === "fontBold" || attribute === "fontbold") {
                      this.setAttribute(AttributesEnum.FONT_BOLD, value);
                  }
                  else if (attribute === "selected") {
                      this.setAttribute(AttributesEnum.SELECTED, value);
                  }
                  else if (attribute === "bgcolor") {
                      this.setAttribute(AttributesEnum.BG_COLOR, value);
                  }
                  else if (attribute === "value") {
                      this.setAttribute(AttributesEnum.VALUE, value);
                  }
                  else if (attribute === "maxlength" || attribute === "max_length") {
                      this.setAttribute(AttributesEnum.MAX_LENGTH, value);
                  }
                  else if (attribute === "require" || attribute === "required") {
                      this.setRequire(value);
                  }
                  else if (attribute === "width") {
                      this.setControlWidth(value);
                  }
                  else if (attribute === "height") {
                      this.setControlHeight(value);
                  }
                  else if (attribute === "fontSize" || attribute === "fontsize") {
                      this.setFontSize(value);
                  }
                  else if (attribute === "oncommand") {
                      this.setOnCommand(value);
                  }
                  else if (attribute === "onactivelost") {
                      this.setOnActiveLost(value);
                  }
                  else if (attribute === "pattern") {
                      this.setAttribute(AttributesEnum.PATTERN, value);
                  }
                  else if (attribute === "max") {
                      this.setAttribute(AttributesEnum.MAX, value);
                  }
                  else if (attribute === "min") {
                      this.setAttribute(AttributesEnum.MIN, value);
                  }
                  else if (JavaUtils.isNumber(originalAttributeName) === true) {
                      this.setAttribute(_.parseInt(originalAttributeName), value);
                  }
                  else {
                      this.setCustomAttribute(originalAttributeName, value);
                      // Logger.warn(`Unknown attribute: ${attribute}, setting as custom attribute`);
                      if (attribute === "validate" && skipAttributeOverride !== true && value != null && value.length > 0) {
                          /** @type {?} */
                          var newAttributes = AppUtils.attributeOverrideValidate(value);
                          if (newAttributes != null) {
                              /** @type {?} */
                              var newCssClass = _.filter(newAttributes, function (attr) { return attr.attributeName === AttributesEnum.CLASS; }).map(function (attr) { return attr.value; }).join(" ");
                              newAttributes = _.filter(newAttributes, function (attr) { return attr.attributeName !== AttributesEnum.CLASS; });
                              newAttributes.push({
                                  attributeName: AttributesEnum.CLASS,
                                  value: (this._cssClass + " " + newCssClass).trim(),
                              });
                              this.setAttributes(newAttributes, true);
                          }
                      }
                  }
                  this.fireSetAttributeEvent(originalAttributeName, value);
              }
              else {
                  if (attribute === AttributesEnum.CLASS && skipAttributeOverride !== true && value != null && value.length > 0 && typeof AppUtils.attributeOverrideClass === "function") {
                      /** @type {?} */
                      var newAttributes = AppUtils.attributeOverrideClass(value);
                      if (newAttributes != null) {
                          /** @type {?} */
                          var newCssClass = _.filter(newAttributes, function (attr) { return attr.attributeName === AttributesEnum.CLASS; }).map(function (attr) { return attr.value; }).join(" ");
                          newAttributes = _.filter(newAttributes, function (attr) { return attr.attributeName !== AttributesEnum.CLASS; });
                          newAttributes.push({
                              attributeName: AttributesEnum.CLASS,
                              value: (this._cssClass + " " + newCssClass).trim(),
                          });
                          this.setAttributes(newAttributes, true);
                      }
                  }
                  if (attribute === AttributesEnum.ID) {
                      this.setId(value);
                  }
                  else if (attribute === AttributesEnum.VISIBLE) {
                      if (value != null && value !== "") {
                          this.setVisible(JavaUtils.parseBoolean(value));
                      }
                  }
                  else if (attribute === AttributesEnum.CLASS) {
                      this.setCssClass(value, skipAttributeOverride);
                  }
                  else if (attribute === AttributesEnum.DISABLED) {
                      if (value != null && value !== "") {
                          this.setDisabled(JavaUtils.parseBoolean(value));
                      }
                  }
                  else if (attribute === AttributesEnum.ENABLED) {
                      if (value != null && value !== "") {
                          this.setDisabled(!JavaUtils.parseBoolean(value));
                      }
                  }
                  else if (attribute === AttributesEnum.TEXT) {
                      this.setText(value);
                  }
                  else if (attribute === AttributesEnum.COLOR) {
                      this.setColor(value);
                  }
                  else if (attribute === AttributesEnum.FONT_BOLD) {
                      this.setFontBold(value);
                  }
                  else if (attribute === AttributesEnum.ON_COMMAND) {
                      this.setOnCommand(value);
                  }
                  else if (attribute === AttributesEnum.REQUIRE) {
                      this.setRequire(value);
                  }
                  else if (attribute === AttributesEnum.TITLE) {
                      this.setTitle(value);
                  }
                  else if (attribute === AttributesEnum.SELECTED) {
                      this.setSelected(value);
                  }
                  else if (attribute === AttributesEnum.BG_COLOR) {
                      this.setBgColor(value);
                  }
                  else if (attribute === AttributesEnum.VALUE) {
                      this.setValue(value);
                  }
                  else if (attribute === AttributesEnum.MAX_LENGTH) {
                      this.setMaxLength(value);
                  }
                  else if (attribute === AttributesEnum.MAX) {
                      this.setMax(value);
                  }
                  else if (attribute === AttributesEnum.MIN) {
                      this.setMin(value);
                  }
                  else if (attribute === AttributesEnum.PATTERN) {
                      this.setPattern(value);
                  }
                  else {
                      Logger.warn('Unable to set attribute, unknown attribute id: ' + attribute);
                  }
                  this.markForCheck();
              }
          };
      /* istanbul ignore next */
      /**
       * Get value of HTML attribute
       * @param attribute Name of HTML attribute to get
       * @returns Value of attribute
       */
      /**
       * Get value of HTML attribute
       * @param {?} attribute Name of HTML attribute to get
       * @param {?=} skipQueryDOMIfNotExists
       * @return {?} Value of attribute
       */
      BaseComponent.prototype.getAttribute = /**
       * Get value of HTML attribute
       * @param {?} attribute Name of HTML attribute to get
       * @param {?=} skipQueryDOMIfNotExists
       * @return {?} Value of attribute
       */
          function (attribute, skipQueryDOMIfNotExists) {
              if (skipQueryDOMIfNotExists === void 0) {
                  skipQueryDOMIfNotExists = false;
              }
              if (typeof attribute === 'string') {
                  /** @type {?} */
                  var attributeLower = attribute.toLowerCase();
                  if (attributeLower === 'visible') {
                      return this.getVisible() + '';
                  }
                  else if (attributeLower === 'enabled') {
                      return this.getEnabled() + '';
                  }
                  else if (attributeLower === 'disabled') {
                      return this.getDisabled() + '';
                  }
                  else if (attributeLower === 'text') {
                      return this.getText();
                  }
                  else if (attributeLower === 'color') {
                      return this.getColor();
                  }
                  else if (attributeLower === 'require') {
                      return this.getRequired() + '';
                  }
                  else if (attributeLower === "value") {
                      return this.getValue();
                  }
                  else if (attributeLower === "selected") {
                      return this.getChecked() + '';
                  }
                  else if (attributeLower === "id") {
                      return this.getId();
                  }
                  else if (attributeLower === "pattern") {
                      return this.getPattern();
                  }
                  else if (attributeLower === "min") {
                      return this.getMin();
                  }
                  else if (attributeLower === "max") {
                      return this.getMax();
                  }
                  else if (attributeLower === "max_length") {
                      return this.getMaxLength();
                  }
                  else if (this.customAttributes != null && this.customAttributes[attribute] !== undefined) {
                      return this.getCustomAttribute(attribute);
                  }
                  else if (attribute === "isLockedColumn") {
                      return false;
                  }
                  else if (skipQueryDOMIfNotExists !== true) {
                      Logger.warn("Attribute " + attribute + " does not exists, trying to get from DOM");
                      if (this.elementRef != null) {
                          return this.elementRef.nativeElement.getAttribute(attribute);
                      }
                  }
                  else {
                      return undefined;
                  }
              }
              else if (attribute === AttributesEnum.VISIBLE) {
                  return this.getVisible() + '';
              }
              else if (attribute === AttributesEnum.DISABLED) {
                  return this.getDisabled() + '';
              }
              else if (attribute === AttributesEnum.ENABLED) {
                  return !this.getDisabled() + '';
              }
              else if (attribute === AttributesEnum.TEXT) {
                  return this.getText();
              }
              else if (attribute === AttributesEnum.COLOR) {
                  return this.getColor();
              }
              else if (attribute === AttributesEnum.REQUIRE) {
                  return this.getRequired() + '';
              }
              else if (attribute === AttributesEnum.VALUE) {
                  return this.getValue();
              }
              else if (attribute === AttributesEnum.SELECTED) {
                  return this.getChecked() + '';
              }
              else if (attribute === AttributesEnum.PATTERN) {
                  return this.getPattern();
              }
              else if (attribute === AttributesEnum.MIN) {
                  return this.getMin();
              }
              else if (attribute === AttributesEnum.MAX) {
                  return this.getMax();
              }
              else if (attribute === AttributesEnum.MAX_LENGTH) {
                  return this.getMaxLength();
              }
              else {
                  console.error('Unable to get attribute, unknown attribute id: ' + attribute);
              }
              return undefined;
          };
      /* istanbul ignore next */
      /**
       * Focus the HTML element of this component
       */
      /**
       * Focus the HTML element of this component
       * @return {?}
       */
      BaseComponent.prototype.requestFocus = /**
       * Focus the HTML element of this component
       * @return {?}
       */
          function () {
              if (this.getElement() != null) {
                  this.getElement().focus();
              }
          };
      /* istanbul ignore next */
      /**
       * Focus the native HTML element of the component and mark for change detection
       */
      /**
       * Focus the native HTML element of the component and mark for change detection
       * @return {?}
       */
      BaseComponent.prototype.setFocus = /**
       * Focus the native HTML element of the component and mark for change detection
       * @return {?}
       */
          function () {
              if (this.elementRef != null) {
                  ( /** @type {?} */(this.elementRef.nativeElement)).focus();
                  this.markForCheck();
              }
          };
      /**
       * Event handler for when focus is lost. Invokes onActiveLost event handler
       * @event [[OnActiveLost]]
       */
      /**
       * Event handler for when focus is lost. Invokes onActiveLost event handler
       * \@event [[OnActiveLost]]
       * @return {?}
       */
      BaseComponent.prototype.focusLost = /**
       * Event handler for when focus is lost. Invokes onActiveLost event handler
       * \@event [[OnActiveLost]]
       * @return {?}
       */
          function () {
              this.onActiveLost.emit();
              if (typeof this._internalOnActiveLost === 'function') {
                  this._internalOnActiveLost(this);
              }
          };
      /* istanbul ignore next */
      /**
       * Creates a unique id using an optional prefix
       * @param prefix String to append to beginning of ID
       * @returns Unique ID
       */
      /**
       * Creates a unique id using an optional prefix
       * @param {?=} prefix String to append to beginning of ID
       * @return {?} Unique ID
       */
      BaseComponent.generateUniqueId = /**
       * Creates a unique id using an optional prefix
       * @param {?=} prefix String to append to beginning of ID
       * @return {?} Unique ID
       */
          function (prefix) {
              if (prefix === void 0) {
                  prefix = 'base';
              }
              return prefix + Date.now() + '_' + _.random(1, 1000) + _.random(1, 100);
          };
      /* istanbul ignore next */
      /**
       * Adds child component to this component
       * @param child Component to add as child
       */
      /**
       * Adds child component to this component
       * @param {?} child Component to add as child
       * @return {?}
       */
      BaseComponent.prototype.addChild = /**
       * Adds child component to this component
       * @param {?} child Component to add as child
       * @return {?}
       */
          function (child) {
              if (child.id !== this.id) {
                  /** @type {?} */
                  var childKey = KeyUtils.toMapKey(child.id);
                  if (this._children === null) {
                      this._children = new Map();
                  }
                  if (this._childrenIndex === null) {
                      this._childrenIndex = new Array();
                  }
                  this._children.set(childKey, child);
                  this._childrenIndex.push(child.id);
                  /** @type {?} */
                  var parentView = this.getParentView();
                  if (parentView != null && (child.isFauxElement() || child.isDialog() !== true)) {
                      if (parentView._viewChildrenMap == null) {
                          parentView._viewChildrenMap = new Map();
                      }
                      parentView._viewChildrenMap.set(childKey, child);
                      //track ScrollPane for scroll adjustment
                      if (typeof child.isScrollPane === "function" && child.isScrollPane() === true) {
                          parentView.registerScrollPane(child);
                      }
                  }
              }
          };
      /**
       * Get the native element of the component if a reference to it is defined
       * @returns The HTML native element or 'null' if reference is missing
       */
      /**
       * Get the native element of the component if a reference to it is defined
       * @return {?} The HTML native element or 'null' if reference is missing
       */
      BaseComponent.prototype.getElement = /**
       * Get the native element of the component if a reference to it is defined
       * @return {?} The HTML native element or 'null' if reference is missing
       */
          function () {
              return this.elementRef ? this.elementRef.nativeElement : null;
          };
      /* istanbul ignore next */
      /**
       * Get the text property value
       * @returns Text value
       */
      /**
       * Get the text property value
       * @return {?} Text value
       */
      BaseComponent.prototype.getText = /**
       * Get the text property value
       * @return {?} Text value
       */
          function () {
              return this.text;
          };
      /* istanbul ignore next */
      /**
       * Set CSS color style attribute and marks for change detection
       * @param color CSS color string value. Should be hexadecimal or valid CSS color string
       */
      /**
       * Set CSS color style attribute and marks for change detection
       * @param {?} color CSS color string value. Should be hexadecimal or valid CSS color string
       * @return {?}
       */
      BaseComponent.prototype.setColor = /**
       * Set CSS color style attribute and marks for change detection
       * @param {?} color CSS color string value. Should be hexadecimal or valid CSS color string
       * @return {?}
       */
          function (color) {
              if (color == null || color === "") {
                  delete this.styles['color'];
              }
              else {
                  this.styles['color'] = color;
              }
              this.markForCheck();
          };
      /**
       * Get the color style attribute value
       * @returns Color string. Hexadecimal or CSS color string
       */
      /**
       * Get the color style attribute value
       * @return {?} Color string. Hexadecimal or CSS color string
       */
      BaseComponent.prototype.getColor = /**
       * Get the color style attribute value
       * @return {?} Color string. Hexadecimal or CSS color string
       */
          function () {
              return this.styles['color'];
          };
      /**
       * Set background color CSS style attribute value
       * @param bgColor Color string value to set. Should be hexadecimal or valid CSS color string.
       */
      /**
       * Set background color CSS style attribute value
       * @param {?} bgColor Color string value to set. Should be hexadecimal or valid CSS color string.
       * @return {?}
       */
      BaseComponent.prototype.setBgColor = /**
       * Set background color CSS style attribute value
       * @param {?} bgColor Color string value to set. Should be hexadecimal or valid CSS color string.
       * @return {?}
       */
          function (bgColor) {
              this.bgColor = bgColor;
              this.styles["background"] = bgColor;
              this.markForCheck();
          };
      /* istanbul ignore next */
      /**
       * Sets font-weight style property to bold
       * @param boo Switch for turning bold style on/off
       */
      /**
       * Sets font-weight style property to bold
       * @param {?} boo Switch for turning bold style on/off
       * @return {?}
       */
      BaseComponent.prototype.setFontBold = /**
       * Sets font-weight style property to bold
       * @param {?} boo Switch for turning bold style on/off
       * @return {?}
       */
          function (boo) {
              this.fontBold = boo;
              if (boo === true || boo === "true") {
                  this.styles["font-weight"] = "bold";
              }
              else {
                  delete this.styles["font-weight"];
              }
              this.markForCheck();
          };
      /* istanbul ignore next */
      /**
       * Sets CSS style attribute font-style to italic
       * @param boo Switch for turning italic style on/off
       */
      /**
       * Sets CSS style attribute font-style to italic
       * @param {?} boo Switch for turning italic style on/off
       * @return {?}
       */
      BaseComponent.prototype.setFontItalic = /**
       * Sets CSS style attribute font-style to italic
       * @param {?} boo Switch for turning italic style on/off
       * @return {?}
       */
          function (boo) {
              this.fontItalic = boo;
              if (boo === true || boo === "true") {
                  this.styles["font-style"] = "italic";
              }
              else {
                  delete this.styles["font-style"];
              }
          };
      /**
       * Sets CSS style attribute font-size
       * @param size Number of pixels for font-size
       */
      /**
       * Sets CSS style attribute font-size
       * @param {?} size Number of pixels for font-size
       * @return {?}
       */
      BaseComponent.prototype.setFontSize = /**
       * Sets CSS style attribute font-size
       * @param {?} size Number of pixels for font-size
       * @return {?}
       */
          function (size) {
              this.fontSize = size;
              this.styles["font-size"] = size + "px";
          };
      /* istanbul ignore next */
      /**
       * Add/remove CSS style attribute text-decoration to underline
       * @param underline Switch for turning underline style on/off for text
       */
      /**
       * Add/remove CSS style attribute text-decoration to underline
       * @param {?} underline Switch for turning underline style on/off for text
       * @return {?}
       */
      BaseComponent.prototype.setFontUnderline = /**
       * Add/remove CSS style attribute text-decoration to underline
       * @param {?} underline Switch for turning underline style on/off for text
       * @return {?}
       */
          function (underline) {
              this.fontUnderline = underline;
              if (this.fontUnderline === "true" || this.fontUnderline === true) {
                  this.styles["text-decoration"] = "underline";
              }
              else {
                  delete this.styles["text-decoration"];
              }
          };
      /**
       * Event handler that registers focus event
       * @param event
       */
      /**
       * Event handler that registers focus event
       * @param {?} event
       * @return {?}
       */
      BaseComponent.prototype.handleFocus = /**
       * Event handler that registers focus event
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.registerClientEvent(event);
          };
      /* istanbul ignore next */
      /**
       * Event handler that registers click event
       * @param event
       */
      /**
       * Event handler that registers click event
       * @param {?} event
       * @return {?}
       */
      BaseComponent.prototype.handleClick = /**
       * Event handler that registers click event
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.registerClientEvent(event);
          };
      /**
       * Event handler that registers keydown event
       * @param event
       */
      /**
       * Event handler that registers keydown event
       * @param {?} event
       * @return {?}
       */
      BaseComponent.prototype.handleKeyDown = /**
       * Event handler that registers keydown event
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.registerClientEvent(event);
          };
      /* istanbul ignore next */
      /**
       * Event handler that registers keyup event
       * @param event
       */
      /**
       * Event handler that registers keyup event
       * @param {?} event
       * @return {?}
       */
      BaseComponent.prototype.handleKeyUp = /**
       * Event handler that registers keyup event
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.registerClientEvent(event);
          };
      /**
       * Event handler that registers mousedown event
       * @param event
       */
      /**
       * Event handler that registers mousedown event
       * @param {?} event
       * @return {?}
       */
      BaseComponent.prototype.handleMouseDown = /**
       * Event handler that registers mousedown event
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.registerClientEvent(event);
          };
      /* istanbul ignore next */
      /**
       * Gets custom attribute by name if it exists
       * @param attributeName Name of custom attribute
       * @returns Custom attribute if it exists, otherwise undefined
       */
      /**
       * Gets custom attribute by name if it exists
       * @param {?} attributeName Name of custom attribute
       * @return {?} Custom attribute if it exists, otherwise undefined
       */
      BaseComponent.prototype.getCustomAttribute = /**
       * Gets custom attribute by name if it exists
       * @param {?} attributeName Name of custom attribute
       * @return {?} Custom attribute if it exists, otherwise undefined
       */
          function (attributeName) {
              if (this.customAttributes != null) {
                  return this.customAttributes[attributeName];
              }
              return undefined;
          };
      /* istanbul ignore next */
      /**
       * Set attribute on customAttribute object using name as key
       * @param name key name of attribute
       * @param value value to set for key/name
       */
      /**
       * Set attribute on customAttribute object using name as key
       * @param {?} name key name of attribute
       * @param {?} value value to set for key/name
       * @return {?}
       */
      BaseComponent.prototype.setCustomAttribute = /**
       * Set attribute on customAttribute object using name as key
       * @param {?} name key name of attribute
       * @param {?} value value to set for key/name
       * @return {?}
       */
          function (name, value) {
              if (this.customAttributes == null) {
                  this.customAttributes = {};
              }
              if (value != null) {
                  this.customAttributes[name] = value + '';
              }
          };
      /* istanbul ignore next */
      /**
       * Check if custom attribute exists
       * @param id Key name of attribute
       * @returns True if custom attribute with name/key exists
       */
      /**
       * Check if custom attribute exists
       * @param {?} id Key name of attribute
       * @return {?} True if custom attribute with name/key exists
       */
      BaseComponent.prototype.hasCustomAttribute = /**
       * Check if custom attribute exists
       * @param {?} id Key name of attribute
       * @return {?} True if custom attribute with name/key exists
       */
          function (id) {
              return this.customAttributes != null && this.customAttributes[id] != null;
          };
      /* istanbul ignore next */
      /**
       * Get child component by index
       * @param idx Index of child component
       * @returns Child [[BaseComponent]]
       */
      /**
       * Get child component by index
       * @param {?} idx Index of child component
       * @return {?} Child [[BaseComponent]]
       */
      BaseComponent.prototype.getChildAt = /**
       * Get child component by index
       * @param {?} idx Index of child component
       * @return {?} Child [[BaseComponent]]
       */
          function (idx) {
              if (this._childrenIndex !== null) {
                  if (this._childrenIndex.length > idx) {
                      return this.getChild(this._childrenIndex[idx]);
                  }
              }
              return null;
          };
      /**
       * Get the number of child components
       * @returns Number of children
       */
      /**
       * Get the number of child components
       * @return {?} Number of children
       */
      BaseComponent.prototype.getChildCount = /**
       * Get the number of child components
       * @return {?} Number of children
       */
          function () {
              if (this._children !== null) {
                  return this._children.size;
              }
              else {
                  return 0;
              }
          };
      /**
       * Get index of child component if it exists
       * @param child Child component
       */
      /**
       * Get index of child component if it exists
       * @param {?} child Child component
       * @return {?}
       */
      BaseComponent.prototype.indexOfChild = /**
       * Get index of child component if it exists
       * @param {?} child Child component
       * @return {?}
       */
          function (child) {
              //TODO
              console.error("indexOfChild is not implemented");
              return -1;
          };
      /* istanbul ignore next */
      /**
       * Insert child component to children array at location of index
       * @param idx Index of insert location
       * @param row
       */
      /**
       * Insert child component to children array at location of index
       * @param {?} idx Index of insert location
       * @param {?} row
       * @return {?}
       */
      BaseComponent.prototype.insertChildAt = /**
       * Insert child component to children array at location of index
       * @param {?} idx Index of insert location
       * @param {?} row
       * @return {?}
       */
          function (idx, row) {
              //TODO
              console.error("insertChildAt is not implemented");
          };
      /* istanbul ignore next */
      /**
       * TODO: Add documentation for emitInternalCommand
       */
      /**
       * TODO: Add documentation for emitInternalCommand
       * @return {?}
       */
      BaseComponent.prototype.emitInternalOnCommand = /**
       * TODO: Add documentation for emitInternalCommand
       * @return {?}
       */
          function () {
              if (typeof this._internalOnCommand === 'function') {
                  this._internalOnCommand(this);
                  return true;
              }
              else if (typeof this._internalOnCommand === "string") {
                  this.invokeMcoAction(this._internalOnCommand);
              }
              return false;
          };
      /* istanbul ignore next */
      /**
       * Registers event handler for client event
       * @param event Event to register
       */
      /**
       * Registers event handler for client event
       * @param {?} event Event to register
       * @return {?}
       */
      BaseComponent.prototype.registerClientEvent = /**
       * Registers event handler for client event
       * @param {?} event Event to register
       * @return {?}
       */
          function (event) {
              /** @type {?} */
              var clientEvent = new ClientEvent(this, event);
              if (AppUtils.customizeClientEvent != null) {
                  AppUtils.customizeClientEvent(this, clientEvent);
              }
              this.getSession().getEventHandler().setClientEvent(clientEvent);
          };
      /* istanbul ignore next */
      /**
       * Get the native HTML element tag name
       * @returns Name of HTML element tag
       */
      /**
       * Get the native HTML element tag name
       * @return {?} Name of HTML element tag
       */
      BaseComponent.prototype.getTagName = /**
       * Get the native HTML element tag name
       * @return {?} Name of HTML element tag
       */
          function () {
              return this.elementRef != null ? this.elementRef.nativeElement.tagName : '';
          };
      /**
       * Get component tag name without vivify core prefix (i.e. "vt-")
       * @returns Tag name
       */
      /**
       * Get component tag name without vivify core prefix (i.e. "vt-")
       * @return {?} Tag name
       */
      BaseComponent.prototype.getLocalName = /**
       * Get component tag name without vivify core prefix (i.e. "vt-")
       * @return {?} Tag name
       */
          function () {
              return this.getTagName().toLowerCase().replace("vt-", "");
          };
      /* istanbul ignore next */
      /**
       * Get the parent component if it exists
       * @returns Component or null if there is no parent
       */
      /**
       * Get the parent component if it exists
       * @return {?} Component or null if there is no parent
       */
      BaseComponent.prototype.getParent = /**
       * Get the parent component if it exists
       * @return {?} Component or null if there is no parent
       */
          function () {
              return this.parent;
          };
      /**
       * Get value property if it exists, otherwise return 'null'
       * @returns Value or 'null'
       */
      /**
       * Get value property if it exists, otherwise return 'null'
       * @return {?} Value or 'null'
       */
      BaseComponent.prototype.getValue = /**
       * Get value property if it exists, otherwise return 'null'
       * @return {?} Value or 'null'
       */
          function () {
              if (this["value"]) {
                  return this["value"];
              }
              return null;
          };
      /* istanbul ignore next */
      /**
       * Removes attribute name name
       * @param attribute Attribute to remove
       */
      /**
       * Removes attribute name name
       * @param {?} attribute Attribute to remove
       * @return {?}
       */
      BaseComponent.prototype.removeAttribute = /**
       * Removes attribute name name
       * @param {?} attribute Attribute to remove
       * @return {?}
       */
          function (attribute) {
              if (typeof attribute === 'string') {
                  /** @type {?} */
                  var attributeLower = attribute.toLowerCase();
                  if (attributeLower === 'visible') {
                      this.removeAttribute(AttributesEnum.VISIBLE);
                  }
                  else if (attributeLower === 'enabled') {
                      this.removeAttribute(AttributesEnum.ENABLED);
                  }
                  else if (attributeLower === 'disabled') {
                      this.removeAttribute(AttributesEnum.DISABLED);
                  }
                  else if (attributeLower === 'text') {
                      this.removeAttribute(AttributesEnum.TEXT);
                  }
                  else if (attributeLower === 'color') {
                      this.removeAttribute(AttributesEnum.COLOR);
                  }
                  else if (attributeLower === 'pattern') {
                      this.removeAttribute(AttributesEnum.PATTERN);
                  }
                  else if (attributeLower === 'max') {
                      this.removeAttribute(AttributesEnum.MAX);
                  }
                  else if (attributeLower === 'maxlength' || attributeLower === 'max_length') {
                      this.removeAttribute(AttributesEnum.MAX_LENGTH);
                  }
                  else if (attributeLower === 'min') {
                      this.removeAttribute(AttributesEnum.MIN);
                  }
                  else if (attributeLower === 'class') {
                      this.removeAttribute(AttributesEnum.CLASS);
                  }
                  else if (attributeLower === 'oncommand' || attributeLower === 'on_command') {
                      this.removeAttribute(AttributesEnum.ON_COMMAND);
                  }
                  else if (attributeLower === 'require') {
                      this.removeAttribute(AttributesEnum.REQUIRE);
                  }
                  else if (attributeLower === 'title') {
                      this.removeAttribute(AttributesEnum.TITLE);
                  }
                  else if (attributeLower === 'fontbold' || attributeLower === 'font_bold') {
                      this.removeAttribute(AttributesEnum.FONT_BOLD);
                  }
                  else if (attributeLower === 'selected') {
                      this.removeAttribute(AttributesEnum.SELECTED);
                  }
                  else if (attributeLower === 'bgColor') {
                      this.removeAttribute(AttributesEnum.BG_COLOR);
                  }
                  else if (attributeLower === 'value') {
                      this.removeAttribute(AttributesEnum.VALUE);
                  }
                  else if (this.customAttributes != null) {
                      delete this.customAttributes[attribute];
                      Logger.warn("Unknown attribute: " + attribute + ", setting as custom attribute");
                  }
                  this.fireRenoveAttributeEvent(attribute);
              }
              else if (attribute === AttributesEnum.VISIBLE) {
                  this.setVisible(true);
              }
              else if (attribute === AttributesEnum.DISABLED) {
                  this.setDisabled(false);
              }
              else if (attribute === AttributesEnum.ENABLED) {
                  this.setEnabled(true);
              }
              else if (attribute === AttributesEnum.TEXT) {
                  delete this.text;
                  this.markForCheck();
              }
              else if (attribute === AttributesEnum.COLOR) {
                  this.setColor("");
              }
              else if (attribute === AttributesEnum.ON_COMMAND) {
                  delete this._internalOnCommand;
              }
              else if (attribute === AttributesEnum.PATTERN) {
                  this.setPattern(undefined);
              }
              else if (attribute === AttributesEnum.MAX) {
                  this.setMax(undefined);
              }
              else if (attribute === AttributesEnum.MAX_LENGTH) {
                  this.setMaxLength(undefined);
              }
              else if (attribute === AttributesEnum.MIN) {
                  this.setMin(undefined);
              }
              else {
                  Logger.warn('Unable to set attribute, unknown attribute id: ' + attribute);
              }
          };
      /**
       * Alias of [[setRequired]]
       * @param boo
       */
      /**
       * Alias of [[setRequired]]
       * @param {?} boo
       * @return {?}
       */
      BaseComponent.prototype.setRequire = /**
       * Alias of [[setRequired]]
       * @param {?} boo
       * @return {?}
       */
          function (boo) {
              this.setRequired(boo);
          };
      /* istanbul ignore next */
      /**
       * Set [[required]] to true or false
       * @param boo
       */
      /**
       * Set [[required]] to true or false
       * @param {?} boo
       * @return {?}
       */
      BaseComponent.prototype.setRequired = /**
       * Set [[required]] to true or false
       * @param {?} boo
       * @return {?}
       */
          function (boo) {
              if (boo === 'true' || boo === true) {
                  this.required = true;
              }
              else {
                  this.required = false;
              }
              this.markForCheck();
          };
      /**
       * Set [[pattern]] value
       * @param pattern
       */
      /**
       * Set [[pattern]] value
       * @param {?} pattern
       * @return {?}
       */
      BaseComponent.prototype.setPattern = /**
       * Set [[pattern]] value
       * @param {?} pattern
       * @return {?}
       */
          function (pattern) {
              this.pattern = pattern;
              this.markForCheck();
          };
      /**
       * Set [[min]] value
       * @param val
       */
      /**
       * Set [[min]] value
       * @param {?} val
       * @return {?}
       */
      BaseComponent.prototype.setMin = /**
       * Set [[min]] value
       * @param {?} val
       * @return {?}
       */
          function (val) {
              this.min = val;
              this.markForCheck();
          };
      /**
       * Set [[max]] value
       * @param val
       */
      /**
       * Set [[max]] value
       * @param {?} val
       * @return {?}
       */
      BaseComponent.prototype.setMax = /**
       * Set [[max]] value
       * @param {?} val
       * @return {?}
       */
          function (val) {
              this.max = val;
              this.markForCheck();
          };
      /**
       * Get [[pattern]] value
       * @returns [[pattern]]
       */
      /**
       * Get [[pattern]] value
       * @return {?} [[pattern]]
       */
      BaseComponent.prototype.getPattern = /**
       * Get [[pattern]] value
       * @return {?} [[pattern]]
       */
          function () {
              return this.pattern;
          };
      /**
       * Get [[min]] value
       * @returns [[min]]
       */
      /**
       * Get [[min]] value
       * @return {?} [[min]]
       */
      BaseComponent.prototype.getMin = /**
       * Get [[min]] value
       * @return {?} [[min]]
       */
          function () {
              return this.min;
          };
      /**
       * Get [[max]] value
       * @returns [[max]]
       */
      /**
       * Get [[max]] value
       * @return {?} [[max]]
       */
      BaseComponent.prototype.getMax = /**
       * Get [[max]] value
       * @return {?} [[max]]
       */
          function () {
              return this.max;
          };
      /**
       * Get [[inputLocale]] value
       * @returns [[inputLocale]]
       */
      /**
       * Get [[inputLocale]] value
       * @return {?} [[inputLocale]]
       */
      BaseComponent.prototype.getInputLocale = /**
       * Get [[inputLocale]] value
       * @return {?} [[inputLocale]]
       */
          function () {
              return this.inputLocale;
          };
      /** Set [[inputLocale]] value
       * @param locale
       */
      /**
       * Set [[inputLocale]] value
       * @param {?} locale
       * @return {?}
       */
      BaseComponent.prototype.setInputLocale = /**
       * Set [[inputLocale]] value
       * @param {?} locale
       * @return {?}
       */
          function (locale) {
              this.inputLocale = locale;
              this.markForCheck();
          };
      /**
       * Get [[inputCharsets]] value
       * @returns [[inputCharsets]]
       */
      /**
       * Get [[inputCharsets]] value
       * @return {?} [[inputCharsets]]
       */
      BaseComponent.prototype.getInputCharsets = /**
       * Get [[inputCharsets]] value
       * @return {?} [[inputCharsets]]
       */
          function () {
              return this.inputCharsets;
          };
      /**
       * Set [[inputCharests]] value
       * @param inputCharSets
       */
      /**
       * Set [[inputCharests]] value
       * @param {?} inputCharSets
       * @return {?}
       */
      BaseComponent.prototype.setInputCharsets = /**
       * Set [[inputCharests]] value
       * @param {?} inputCharSets
       * @return {?}
       */
          function (inputCharSets) {
              this.inputCharsets = inputCharSets;
              this.markForCheck();
          };
      /**
       * Get [[id]] value
       * @returns [[id]]
       */
      /**
       * Get [[id]] value
       * @return {?} [[id]]
       */
      BaseComponent.prototype.getId = /**
       * Get [[id]] value
       * @return {?} [[id]]
       */
          function () {
              return this.id;
          };
      /**
       * Set [[id]] value
       * @param id
       */
      /**
       * Set [[id]] value
       * @param {?} id
       * @return {?}
       */
      BaseComponent.prototype.setId = /**
       * Set [[id]] value
       * @param {?} id
       * @return {?}
       */
          function (id) {
              var _this = this;
              if (this.parent != null && this.parent.children.has(this.id)) {
                  this.parent.children.delete(KeyUtils.toMapKey(this.id));
                  this.parent.children.set(KeyUtils.toMapKey(id), this);
                  if (this._childrenIndex !== null) {
                      /** @type {?} */
                      var idx = _.findIndex(this.parent._childrenIndex, function (item) { return item === _this.id; });
                      if (idx >= 0) {
                          this.parent._childrenIndex[idx] = id;
                      }
                      else {
                          this.parent._childrenIndex.push(id);
                      }
                      this.parent._childrenIndex = _.uniq(this.parent._childrenIndex);
                  }
              }
              this.id = id;
          };
      /**
       * Abstract method. Implemented by sub class components
       * @param title
       */
      /**
       * Abstract method. Implemented by sub class components
       * @param {?} title
       * @return {?}
       */
      BaseComponent.prototype.setTitle = /**
       * Abstract method. Implemented by sub class components
       * @param {?} title
       * @return {?}
       */
          function (title) {
              //impl. by sub class
          };
      /**
       * Set [[cssClass]] of component.
       * @param css Class (CSS) name to set on component. For multiple CSS classes, join with DOT (.)
       * ```
       * .class1.class2.class3
       * ```
       */
      /**
       * Set [[cssClass]] of component.
       * @param {?} css Class (CSS) name to set on component. For multiple CSS classes, join with DOT (.)
       * ```
       * .class1.class2.class3
       * ```
       * @param {?=} skipAttributeOverride
       * @return {?}
       */
      BaseComponent.prototype.setCssClass = /**
       * Set [[cssClass]] of component.
       * @param {?} css Class (CSS) name to set on component. For multiple CSS classes, join with DOT (.)
       * ```
       * .class1.class2.class3
       * ```
       * @param {?=} skipAttributeOverride
       * @return {?}
       */
          function (css, skipAttributeOverride) {
              if (skipAttributeOverride === void 0) {
                  skipAttributeOverride = false;
              }
              if (css != null && css.indexOf(".") >= 0) {
                  /** @type {?} */
                  var temp = css.split("\.");
                  this.cssClass = temp.join("-");
                  if (temp[0] === "") {
                      this.cssClass = this.cssClass.substring(1);
                  }
              }
              this.cssClass = css;
              this.checkNxStyling(skipAttributeOverride);
              this.markForCheck();
          };
      /**
       * Adds a css class name to the internal [[_cssClass]] property
       * @param css CSS class name to add
       */
      /**
       * Adds a css class name to the internal [[_cssClass]] property
       * @param {?} css CSS class name to add
       * @return {?}
       */
      BaseComponent.prototype.addCssClass = /**
       * Adds a css class name to the internal [[_cssClass]] property
       * @param {?} css CSS class name to add
       * @return {?}
       */
          function (css) {
              if (this._cssClass == null || this._cssClass === "") {
                  this._cssClass = css;
              }
              else if (this._cssClass.indexOf(css) == -1) {
                  this._cssClass = this._cssClass + " " + css;
              }
              this.checkNxStyling();
              this.markForCheck();
          };
      /**
       * Removes css class name from internal [[_cssClass]] property
       * @param css CSS class name to remove
       */
      /**
       * Removes css class name from internal [[_cssClass]] property
       * @param {?} css CSS class name to remove
       * @return {?}
       */
      BaseComponent.prototype.removeCssClass = /**
       * Removes css class name from internal [[_cssClass]] property
       * @param {?} css CSS class name to remove
       * @return {?}
       */
          function (css) {
              if (this._cssClass != null)
                  this._cssClass = this._cssClass.replace(css, '');
              this.checkNxStyling();
              this.markForCheck();
          };
      /**
       * Get the [[require]] property value
       * @returns Value of [[require]]
       */
      /**
       * Get the [[require]] property value
       * @return {?} Value of [[require]]
       */
      BaseComponent.prototype.getRequired = /**
       * Get the [[require]] property value
       * @return {?} Value of [[require]]
       */
          function () {
              return this.require;
          };
      /**
       * Remove all references to the component and invokes Angulars [[ngOnDestroy]] method
       */
      /**
       * Remove all references to the component and invokes Angulars [[ngOnDestroy]] method
       * @return {?}
       */
      BaseComponent.prototype.destroyComponent = /**
       * Remove all references to the component and invokes Angulars [[ngOnDestroy]] method
       * @return {?}
       */
          function () {
              if (this.compRef != null) {
                  this.compRef.destroy();
              }
              else if (this.elementRef != null) {
                  ( /** @type {?} */(this.elementRef.nativeElement)).remove();
                  this.ngOnDestroy();
                  Logger.warn("Memory leak! Please use ngIf if you want to remove component!");
              }
          };
      /**
       * Gets JSON representation of the component
       * @returns JSON object
       */
      /**
       * Gets JSON representation of the component
       * @return {?} JSON object
       */
      BaseComponent.prototype.toJson = /**
       * Gets JSON representation of the component
       * @return {?} JSON object
       */
          function () {
              var _this = this;
              var e_2, _a;
              /** @type {?} */
              var retVal = {};
              //get custom attributes binded to our tag
              if (this.elementRef != null && this.elementRef.nativeElement != null) {
                  /** @type {?} */
                  var el_1 = this.elementRef.nativeElement;
                  /** @type {?} */
                  var attributes = null;
                  if (typeof el_1.getAttributeNames === "function") {
                      attributes = el_1.getAttributeNames();
                  }
                  else if (el_1.attributes) {
                      attributes = [];
                      for (var i = 0; i < el_1.attributes.length; i++) {
                          attributes.push(el_1.attributes[i].name);
                      }
                  }
                  if (attributes != null) {
                      _.forEach(attributes, function (attributeName) {
                          if (typeof AppUtils.validateAttribute === "function" && AppUtils.validateAttribute(attributeName)) {
                              _this.setJson(retVal, attributeName, el_1.getAttribute(attributeName));
                          }
                      });
                  }
                  else if (typeof AppUtils.setCustomAttribute === "function") {
                      AppUtils.setCustomAttribute(retVal, el_1);
                  }
              }
              this.setJson(retVal, "nxTagName", this.getNxTagName());
              this.setJson(retVal, "tagName", this.getTagName());
              this.setJson(retVal, "id", this.id);
              this.setJson(retVal, "disabled", this.getDisabled());
              this.setJson(retVal, "enabled", this.getEnabled());
              this.setJson(retVal, "visible", this.getVisible());
              this.setJson(retVal, "text", this.getText());
              this.setJson(retVal, "cssClass", this.cssClass);
              this.setJson(retVal, "customAttributes", this.customAttributesToJson());
              if (this.getValue() != null) {
                  this.setJson(retVal, "value", this.getValue());
              }
              if (this._children !== null) {
                  if (this._children.size > 0) {
                      //need to return children in proper order
                      retVal["children"] = [];
                      if (this._childrenIndex !== null) {
                          try {
                              for (var _b = __values(this._childrenIndex), _c = _b.next(); !_c.done; _c = _b.next()) {
                                  var id = _c.value;
                                  /** @type {?} */
                                  var c = this.getChild(id);
                                  //getChild can return null?
                                  if (c != null) {
                                      /** @type {?} */
                                      var childJson = this.childToJson(c);
                                      if (childJson != null) {
                                          retVal["children"].push(childJson);
                                      }
                                  }
                              }
                          }
                          catch (e_2_1) {
                              e_2 = { error: e_2_1 };
                          }
                          finally {
                              try {
                                  if (_c && !_c.done && (_a = _b.return))
                                      _a.call(_b);
                              }
                              finally {
                                  if (e_2)
                                      throw e_2.error;
                              }
                          }
                      }
                  }
              }
              return retVal;
          };
      /**
       * Convert child to JSON
       * @param child child to be converted to JSON
       */
      /**
       * Convert child to JSON
       * @param {?} child child to be converted to JSON
       * @return {?}
       */
      BaseComponent.prototype.childToJson = /**
       * Convert child to JSON
       * @param {?} child child to be converted to JSON
       * @return {?}
       */
          function (child) {
              return child.toJson();
          };
      /**
       * Gets JSON representation of [[customAttributes]]
       * @returns JSON Object
       */
      /**
       * Gets JSON representation of [[customAttributes]]
       * @return {?} JSON Object
       */
      BaseComponent.prototype.customAttributesToJson = /**
       * Gets JSON representation of [[customAttributes]]
       * @return {?} JSON Object
       */
          function () {
              return BaseComponent.mapToJson(this.customAttributes);
          };
      /**
       * @param {?} map
       * @return {?}
       */
      BaseComponent.mapToJson = /**
       * @param {?} map
       * @return {?}
       */
          function (map) {
              var e_3, _a;
              /** @type {?} */
              var customAttributes = {};
              if (map) {
                  /** @type {?} */
                  var keys = _.keys(map);
                  try {
                      for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {
                          var key = keys_1_1.value;
                          /** @type {?} */
                          var value = map[key];
                          if (typeof value !== "string" && value != null) {
                              value = value + "";
                          }
                          customAttributes[key] = value;
                      }
                  }
                  catch (e_3_1) {
                      e_3 = { error: e_3_1 };
                  }
                  finally {
                      try {
                          if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return))
                              _a.call(keys_1);
                      }
                      finally {
                          if (e_3)
                              throw e_3.error;
                      }
                  }
              }
              return customAttributes;
          };
      /**
       * Should be implemented by sub class otherwise returns default value of "none"
       * @returns NxTagName as string
       */
      /**
       * Should be implemented by sub class otherwise returns default value of "none"
       * @return {?} NxTagName as string
       */
      BaseComponent.prototype.getNxTagName = /**
       * Should be implemented by sub class otherwise returns default value of "none"
       * @return {?} NxTagName as string
       */
          function () {
              return "none";
          };
      /**
       * Sets JSON values. Mutates JSON object that is passed in
       * @param json Object to add key to
       * @param key Key to set
       * @param value Value to set for key param
       */
      /**
       * Sets JSON values. Mutates JSON object that is passed in
       * @param {?} json Object to add key to
       * @param {?} key Key to set
       * @param {?} value Value to set for key param
       * @return {?}
       */
      BaseComponent.prototype.setJson = /**
       * Sets JSON values. Mutates JSON object that is passed in
       * @param {?} json Object to add key to
       * @param {?} key Key to set
       * @param {?} value Value to set for key param
       * @return {?}
       */
          function (json, key, value) {
              if (key != null) {
                  json[key] = this.toJsonValue(value);
              }
          };
      /**
       * Converts value to a valid JSON property string
       * @param value Value to convert to string
       * @returns Value as a valid JSON property string
       */
      /**
       * Converts value to a valid JSON property string
       * @param {?} value Value to convert to string
       * @return {?} Value as a valid JSON property string
       */
      BaseComponent.prototype.toJsonValue = /**
       * Converts value to a valid JSON property string
       * @param {?} value Value to convert to string
       * @return {?} Value as a valid JSON property string
       */
          function (value) {
              if (typeof value === 'string') {
                  return value;
              }
              else if (typeof value === 'number' || typeof value === 'boolean') {
                  return value + '';
              }
              else {
                  return value;
              }
          };
      /**
       * Sets [[id]] property to a unique string ID generated by [[_uniqueId]]
       */
      /**
       * Sets [[id]] property to a unique string ID generated by [[_uniqueId]]
       * @return {?}
       */
      BaseComponent.prototype.resetId = /**
       * Sets [[id]] property to a unique string ID generated by [[_uniqueId]]
       * @return {?}
       */
          function () {
              this.id = this._uniqueId;
          };
      /**
       * Get value of checked property. Should be implemented in sub class components that have checked state
       * @returns Value of [[checked]] property
       */
      /**
       * Get value of checked property. Should be implemented in sub class components that have checked state
       * @return {?} Value of [[checked]] property
       */
      BaseComponent.prototype.getChecked = /**
       * Get value of checked property. Should be implemented in sub class components that have checked state
       * @return {?} Value of [[checked]] property
       */
          function () {
              return false;
          };
      /**
       * Abstract method. Should be implemented by sub class components that have checked state
       * @param boo Toggle [[checked]] on/off
       */
      /**
       * Abstract method. Should be implemented by sub class components that have checked state
       * @param {?} boo Toggle [[checked]] on/off
       * @return {?}
       */
      BaseComponent.prototype.setChecked = /**
       * Abstract method. Should be implemented by sub class components that have checked state
       * @param {?} boo Toggle [[checked]] on/off
       * @return {?}
       */
          function (boo) {
              // NO-OP
          };
      /**
       * Abstract method. Should be implemented by sub class components that have selected state
       * @param boo Toggle [[checked]] on/off
       */
      /**
       * Abstract method. Should be implemented by sub class components that have selected state
       * @param {?} boo Toggle [[checked]] on/off
       * @return {?}
       */
      BaseComponent.prototype.setSelected = /**
       * Abstract method. Should be implemented by sub class components that have selected state
       * @param {?} boo Toggle [[checked]] on/off
       * @return {?}
       */
          function (boo) {
              // NO-OP
          };
      /* istanbul ignore next */
      /**
       * Get [[maxLength]] property. Returns -1 if it is null
       * @returns Value of maxLength as integer if it's set, otherwise returns null
       */
      /**
       * Get [[maxLength]] property. Returns -1 if it is null
       * @return {?} Value of maxLength as integer if it's set, otherwise returns null
       */
      BaseComponent.prototype.getMaxLength = /**
       * Get [[maxLength]] property. Returns -1 if it is null
       * @return {?} Value of maxLength as integer if it's set, otherwise returns null
       */
          function () {
              return this.maxLength == null ? -1 : JavaUtils.intValue(this.maxLength);
          };
      /* istanbul ignore next */
      /**
       * Get [[minLength]] property. Returns -1 if it is null
       * @returns Value of minLength as integer if it's set, otherwise returns null
       */
      /**
       * Get [[minLength]] property. Returns -1 if it is null
       * @return {?} Value of minLength as integer if it's set, otherwise returns null
       */
      BaseComponent.prototype.getMinLength = /**
       * Get [[minLength]] property. Returns -1 if it is null
       * @return {?} Value of minLength as integer if it's set, otherwise returns null
       */
          function () {
              return this.minLength == null ? -1 : JavaUtils.intValue(this.minLength);
          };
      /**
       * Get a list of child components
       * @returns Child components
       */
      /**
       * Get a list of child components
       * @return {?} Child components
       */
      BaseComponent.prototype.getChildren = /**
       * Get a list of child components
       * @return {?} Child components
       */
          function () {
              var e_4, _a;
              /** @type {?} */
              var children = new Vector();
              if (this._childrenIndex !== null) {
                  try {
                      for (var _b = __values(this._childrenIndex), _c = _b.next(); !_c.done; _c = _b.next()) {
                          var id = _c.value;
                          /** @type {?} */
                          var c = this.getChild(id);
                          if (c != null) {
                              children.add(c);
                          }
                      }
                  }
                  catch (e_4_1) {
                      e_4 = { error: e_4_1 };
                  }
                  finally {
                      try {
                          if (_c && !_c.done && (_a = _b.return))
                              _a.call(_b);
                      }
                      finally {
                          if (e_4)
                              throw e_4.error;
                      }
                  }
              }
              return children;
          };
      /* istanbul ignore next */
      /**
       * Remove child component from list of children and remove children of child
       * @param child Child component to remove
       */
      /**
       * Remove child component from list of children and remove children of child
       * @param {?} child Child component to remove
       * @return {?}
       */
      BaseComponent.prototype.removeChild = /**
       * Remove child component from list of children and remove children of child
       * @param {?} child Child component to remove
       * @return {?}
       */
          function (child) {
              //if somehow send it as string (via type any)
              if (typeof child === "string") {
                  child = /** @type {?} */ (this.getElementById(child));
              }
              if (child != null) {
                  //first hide it
                  if (child.setVisible) {
                      child.setVisible(false);
                  }
                  if (this.children) {
                      this.children.delete(KeyUtils.toMapKey(child.id));
                      if (this._childrenIndex !== null) {
                          this._childrenIndex = _.uniq(_.filter(this._childrenIndex, function (item) { return item !== child.id; }));
                      }
                  }
                  /** @type {?} */
                  var parentView = this.getParentView();
                  //remove ourself from the view children map
                  if (parentView != null && parentView._viewChildrenMap != null) {
                      parentView._viewChildrenMap.delete(KeyUtils.toMapKey(child.getId()));
                  }
                  //move children of children
                  if (child.removeAllChildren) {
                      child.removeAllChildren();
                  }
              }
          };
      /**
       * Removes child component by ID
       * @param id Child [[id]]
       */
      /**
       * Removes child component by ID
       * @param {?} id Child [[id]]
       * @return {?}
       */
      BaseComponent.prototype.removeChildById = /**
       * Removes child component by ID
       * @param {?} id Child [[id]]
       * @return {?}
       */
          function (id) {
              /** @type {?} */
              var child = this.getElementById(id);
              if (child != null) {
                  this.removeChild(child);
              }
          };
      /**
       * Remove all child components
       * @return {?}
       */
      BaseComponent.prototype.removeAllChildren = /**
       * Remove all child components
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.children != null) {
                  /** @type {?} */
                  var cit = this.children.values();
                  /** @type {?} */
                  var cr = cit.next();
                  while (cr.done !== true) {
                      this.removeChild(cr.value);
                      cr = cit.next();
                  }
              }
              if (this.tabChildrenIds != null) {
                  this.tabChildrenIds.forEach(function (cid) {
                      _this.removeChildById(cid);
                  });
              }
          };
      /* istanbul ignore next */
      /**
       * Finds the child component by ID. Deep search
       * @param id Child component [[id]]
       */
      /**
       * Finds the child component by ID. Deep search
       * @param {?} id Child component [[id]]
       * @return {?}
       */
      BaseComponent.prototype.getElementById = /**
       * Finds the child component by ID. Deep search
       * @param {?} id Child component [[id]]
       * @return {?}
       */
          function (id) {
              return this.findElementById(id);
          };
      /**
       * Check if a child component with id exists
       * @param id Child component [id]
       */
      /**
       * Check if a child component with id exists
       * @param {?} id Child component [id]
       * @return {?}
       */
      BaseComponent.prototype.hasChild = /**
       * Check if a child component with id exists
       * @param {?} id Child component [id]
       * @return {?}
       */
          function (id) {
              return this.findElementById(id) != null;
          };
      /**
       * Set validate attribute for input component. Implement on sub class component
       * @param attr
       */
      /**
       * Set validate attribute for input component. Implement on sub class component
       * @param {?} attr
       * @return {?}
       */
      BaseComponent.prototype.setValidate = /**
       * Set validate attribute for input component. Implement on sub class component
       * @param {?} attr
       * @return {?}
       */
          function (attr) {
              //TODO
              console.error("setValidate is not implemented");
          };
      /**
       * Set type attribute for input component. Implement on sub class component
       * @param type
       */
      /**
       * Set type attribute for input component. Implement on sub class component
       * @param {?} type
       * @return {?}
       */
      BaseComponent.prototype.setType = /**
       * Set type attribute for input component. Implement on sub class component
       * @param {?} type
       * @return {?}
       */
          function (type) {
              //TODO
              console.error("setType is not implemented");
          };
      /**
       * Set format attribute for input component. Implement on sub class component
       * @param format
       */
      /**
       * Set format attribute for input component. Implement on sub class component
       * @param {?} format
       * @return {?}
       */
      BaseComponent.prototype.setFormat = /**
       * Set format attribute for input component. Implement on sub class component
       * @param {?} format
       * @return {?}
       */
          function (format) {
              //TODO
              console.error("setFormat is not implemented");
          };
      /**
       * Set [[maxLength]] for input component
       * @param maxLength Input max length property. Should be numeric string
       */
      /**
       * Set [[maxLength]] for input component
       * @param {?} maxLength Input max length property. Should be numeric string
       * @return {?}
       */
      BaseComponent.prototype.setMaxLength = /**
       * Set [[maxLength]] for input component
       * @param {?} maxLength Input max length property. Should be numeric string
       * @return {?}
       */
          function (maxLength) {
              this.maxLength = maxLength;
              this.markForCheck();
          };
      /**
       * Set [[minLength]] for input component
       * @param minLength Input max length property. Should be numeric string
       */
      /**
       * Set [[minLength]] for input component
       * @param {?} minLength Input max length property. Should be numeric string
       * @return {?}
       */
      BaseComponent.prototype.setMinLength = /**
       * Set [[minLength]] for input component
       * @param {?} minLength Input max length property. Should be numeric string
       * @return {?}
       */
          function (minLength) {
              this.minLength = minLength;
              this.markForCheck();
          };
      /**
       * Set [[maxLength]] as byte length for input component
       * @param bl Should be numeric string
       */
      /**
       * Set [[maxLength]] as byte length for input component
       * @param {?} bl Should be numeric string
       * @return {?}
       */
      BaseComponent.prototype.setMaxByteLen = /**
       * Set [[maxLength]] as byte length for input component
       * @param {?} bl Should be numeric string
       * @return {?}
       */
          function (bl) {
              this.setMaxLength(bl);
          };
      /**
       * Abstract method. Set value of input component
       * @param val Value to set
       */
      /**
       * Abstract method. Set value of input component
       * @param {?} val Value to set
       * @return {?}
       */
      BaseComponent.prototype.setValue = /**
       * Abstract method. Set value of input component
       * @param {?} val Value to set
       * @return {?}
       */
          function (val) {
          };
      /**
       * Set focusable property value for component. Implement on sub class
       * @param focusable Toggle focusable on/off
       */
      /**
       * Set focusable property value for component. Implement on sub class
       * @param {?} focusable Toggle focusable on/off
       * @return {?}
       */
      BaseComponent.prototype.setFocusable = /**
       * Set focusable property value for component. Implement on sub class
       * @param {?} focusable Toggle focusable on/off
       * @return {?}
       */
          function (focusable) {
              //TODO
          };
      /**
       * Abstract. Select parent component tab. Implement on sub class
       */
      /**
       * Abstract. Select parent component tab. Implement on sub class
       * @return {?}
       */
      BaseComponent.prototype.selectParentTab = /**
       * Abstract. Select parent component tab. Implement on sub class
       * @return {?}
       */
          function () {
              /**
               * @param {?} item
               * @return {?}
               */
              function findTabBelong(item) {
                  if (item != null) {
                      /** @type {?} */
                      var parent_1 = item.getParent();
                      if (parent_1 != null && parent_1.getLocalName() !== 'tab')
                          return findTabBelong(parent_1);
                      return parent_1;
                  }
              }
              /** @type {?} */
              var tab = /** @type {?} */ (findTabBelong(this.getElementById(this.id)));
              /**
               * @param {?} tab
               * @return {?}
               */
              function findTabPaneBelong(tab) {
                  if (tab != null) {
                      /** @type {?} */
                      var parent_2 = tab.getParent();
                      if (parent_2 != null && parent_2.getLocalName() !== 'tab-pane')
                          return findTabPaneBelong(parent_2);
                      return parent_2;
                  }
              }
              /** @type {?} */
              var tabPane = /** @type {?} */ (findTabPaneBelong(this.getElementById(this.id)));
              if (tab != null) {
                  tabPane.setSelectedTab(tab.id);
              }
          };
      /* istanbul ignore next */
      /**
       * Perform a deep search (that is, looks up descendants)
       * @param id element id to search
       */
      /**
       * Perform a deep search (that is, looks up descendants)
       * @param {?} id element id to search
       * @return {?}
       */
      BaseComponent.prototype.findElementById = /**
       * Perform a deep search (that is, looks up descendants)
       * @param {?} id element id to search
       * @return {?}
       */
          function (id) {
              /** @type {?} */
              var mappedChildId = KeyUtils.toMapKey(id);
              /** @type {?} */
              var comp = null;
              //first check for cache
              // let comp: BaseComponent = UiDocument.getFromCache(mappedChildId);
              if (comp == null) {
                  /** @type {?} */
                  var radioGroup = this.getRadioButtonGroupComponent(id);
                  if (radioGroup != null) {
                      comp = radioGroup;
                  }
                  if (comp == null) {
                      //get all children from View
                      // const allChildren = this.getParentView().reduceChildrenIterative();
                      // const editorId = `#{id}`;
                      // for (let child of allChildren) {
                      //   if (
                      //     KeyUtils.toMapKey(child.getId()) === mappedChildId ||
                      //     //by editor id (e.g. editor="#editorId")
                      //     child.editor === editorId
                      //   ) {
                      //     comp = child;
                      //     break;
                      //   }
                      // }
                      if (this._viewChildrenMap != null) {
                          comp = this._viewChildrenMap.get(mappedChildId);
                      }
                      if (comp == null && this.isView() !== true) {
                          /** @type {?} */
                          var parentView = this.getParentView();
                          if (parentView != null) {
                              comp = parentView.findElementById(mappedChildId);
                          }
                      }
                  }
                  //if we find component, add to cache
                  // if (comp != null) {
                  //   UiDocument.addToCache(mappedChildId, comp);
                  // }
              }
              if (comp === undefined) {
                  comp = null;
              }
              return comp;
          };
      /* istanbul ignore next */
      /**
       * Get radio button group component by id
       * @param id Radio button group ID
       */
      /**
       * Get radio button group component by id
       * @param {?} id Radio button group ID
       * @return {?}
       */
      BaseComponent.prototype.getRadioButtonGroupComponent = /**
       * Get radio button group component by id
       * @param {?} id Radio button group ID
       * @return {?}
       */
          function (id) {
              var e_5, _a;
              if (id === ( /** @type {?} */(this)).group) {
                  //radio button group
                  return this;
              }
              else {
                  /** @type {?} */
                  var radioGroup = this.getRadioButtonGroup(id);
                  if (radioGroup != null) {
                      /** @type {?} */
                      var retVal = radioGroup[0];
                      try {
                          for (var radioGroup_1 = __values(radioGroup), radioGroup_1_1 = radioGroup_1.next(); !radioGroup_1_1.done; radioGroup_1_1 = radioGroup_1.next()) {
                              var radio = radioGroup_1_1.value;
                              if (radio.getChecked() === true) {
                                  retVal = radio;
                                  break;
                              }
                          }
                      }
                      catch (e_5_1) {
                          e_5 = { error: e_5_1 };
                      }
                      finally {
                          try {
                              if (radioGroup_1_1 && !radioGroup_1_1.done && (_a = radioGroup_1.return))
                                  _a.call(radioGroup_1);
                          }
                          finally {
                              if (e_5)
                                  throw e_5.error;
                          }
                      }
                      return retVal;
                  }
              }
              return null;
          };
      /**
       * Add change listener on attributes
       * @param listener
       */
      /**
       * Add change listener on attributes
       * @param {?} listener
       * @return {?}
       */
      BaseComponent.prototype.addAttributeChangeListener = /**
       * Add change listener on attributes
       * @param {?} listener
       * @return {?}
       */
          function (listener) {
              if (this.attributeChangeListeners == null) {
                  this.attributeChangeListeners = [];
              }
              listener._internalId = BaseComponent.generateUniqueId('listener');
              this.attributeChangeListeners.push(listener);
          };
      /**
       * Remove change listener on attributes
       * @param listener
       */
      /**
       * Remove change listener on attributes
       * @param {?} listener
       * @return {?}
       */
      BaseComponent.prototype.removeAttributeChangeListener = /**
       * Remove change listener on attributes
       * @param {?} listener
       * @return {?}
       */
          function (listener) {
              if (this.attributeChangeListeners != null) {
                  this.attributeChangeListeners = _.filter(this.attributeChangeListeners, function (item) { return item._internalId !== listener._internalId; });
              }
          };
      /**
       * Set attribute and emit change event
       * @param attributeName
       * @param newValue
       * @event AttributeChangeEvent
       */
      /**
       * Set attribute and emit change event
       * \@event AttributeChangeEvent
       * @param {?} attributeName
       * @param {?} newValue
       * @return {?}
       */
      BaseComponent.prototype.fireSetAttributeEvent = /**
       * Set attribute and emit change event
       * \@event AttributeChangeEvent
       * @param {?} attributeName
       * @param {?} newValue
       * @return {?}
       */
          function (attributeName, newValue) {
              if (this.attributeChangeListeners && this.attributeChangeListeners.length > 0) {
                  /** @type {?} */
                  var event_1 = new AttributeChangeEvent(attributeName, this.getAttribute(attributeName), newValue, this);
                  _.forEach(this.attributeChangeListeners, function (listener) {
                      listener.onAttributeSet(event_1);
                  });
              }
          };
      /**
       * Remove attribute and emit change event
       * @param attributeName
       * @event AttributeChangeEvent
       */
      /**
       * Remove attribute and emit change event
       * \@event AttributeChangeEvent
       * @param {?} attributeName
       * @return {?}
       */
      BaseComponent.prototype.fireRenoveAttributeEvent = /**
       * Remove attribute and emit change event
       * \@event AttributeChangeEvent
       * @param {?} attributeName
       * @return {?}
       */
          function (attributeName) {
              if (this.attributeChangeListeners && this.attributeChangeListeners.length > 0) {
                  /** @type {?} */
                  var event_2 = new AttributeChangeEvent(attributeName, this.getAttribute(attributeName), null, this);
                  _.forEach(this.attributeChangeListeners, function (listener) {
                      listener.onAttributeRemoved(event_2);
                  });
              }
          };
      /**
       * Alias for static [[cleanCss]] method
       * @param {?} css
       * @return {?}
       */
      BaseComponent.prototype.cleanCss = /**
       * Alias for static [[cleanCss]] method
       * @param {?} css
       * @return {?}
       */
          function (css) {
              return BaseComponent.cleanCss(css);
          };
      /* istanbul ignore next */
      /**
       * Format css selectors. Remove dot
       * @param css
       * @returns New CSS selector string
       */
      /**
       * Format css selectors. Remove dot
       * @param {?} css
       * @return {?} New CSS selector string
       */
      BaseComponent.cleanCss = /**
       * Format css selectors. Remove dot
       * @param {?} css
       * @return {?} New CSS selector string
       */
          function (css) {
              var _this = this;
              if (css != null && css.indexOf(".") >= 0) {
                  //more than one style?
                  if (css.indexOf(" ") > 0) {
                      return _.map(css.split(" "), function (item) { return _this.cleanCss(item); }).join(" ");
                  }
                  else {
                      //only one style
                      return css.replace(/\./g, '-').replace(/^\-/, '');
                  }
              }
              return css;
          };
      /**
       * Abstract method gets the instance's [[ChangeDetectorRef]]. Should be implemented in sub class
       */
      /**
       * Abstract method gets the instance's [[ChangeDetectorRef]]. Should be implemented in sub class
       * @return {?}
       */
      BaseComponent.prototype.getChangeDetector = /**
       * Abstract method gets the instance's [[ChangeDetectorRef]]. Should be implemented in sub class
       * @return {?}
       */
          function () {
              //sub-class override
              return null;
          };
      /**
       * Mark component for change detection
       */
      /**
       * Mark component for change detection
       * @return {?}
       */
      BaseComponent.prototype.markForCheck = /**
       * Mark component for change detection
       * @return {?}
       */
          function () {
              if (this._tempFreezeCd !== true && this._isDying !== true) {
                  if (this.getChangeDetector() != null) {
                      this.getChangeDetector().markForCheck();
                  }
              }
          };
      /**
       * Invoke change detection on component
       */
      /**
       * Invoke change detection on component
       * @return {?}
       */
      BaseComponent.prototype.detectChanges = /**
       * Invoke change detection on component
       * @return {?}
       */
          function () {
              if (this._tempFreezeCd !== true && this._isDying !== true) {
                  if (this.getChangeDetector() != null) {
                      this.getChangeDetector().detectChanges();
                  }
              }
          };
      /**
       * Set CSS height and width style value. Either 'height/width' or 'max-height/max-width'
       * @param heightStyleName
       * @param widthStyleName
       */
      /**
       * Set CSS height and width style value. Either 'height/width' or 'max-height/max-width'
       * @param {?=} heightStyleName
       * @param {?=} widthStyleName
       * @return {?}
       */
      BaseComponent.prototype.initWidthHeightStyle = /**
       * Set CSS height and width style value. Either 'height/width' or 'max-height/max-width'
       * @param {?=} heightStyleName
       * @param {?=} widthStyleName
       * @return {?}
       */
          function (heightStyleName, widthStyleName) {
              if (heightStyleName === void 0) {
                  heightStyleName = 'height';
              }
              if (widthStyleName === void 0) {
                  widthStyleName = 'max-width';
              }
              if (this.controlHeight != null && this.controlHeight != "" && parseInt(this.controlHeight) > 0) {
                  this.styles["height"] = parseInt(this.controlHeight) + "px";
              }
              if (this.controlWidth != null && this.controlWidth != "" && parseInt(this.controlWidth) > 0) {
                  this.styles[widthStyleName] = parseInt(this.controlWidth) + "px";
              }
          };
      /* istanbul ignore next */
      /**
       * Add a radio button component to this component
       * @param radio
       */
      /**
       * Add a radio button component to this component
       * @param {?} radio
       * @return {?}
       */
      BaseComponent.prototype.addRadioButtonGroup = /**
       * Add a radio button component to this component
       * @param {?} radio
       * @return {?}
       */
          function (radio) {
              //radio group need to be at ViewComponent level
              if (this.isView() !== true && this.getParent() != null) {
                  return this.getParent().addRadioButtonGroup(radio);
              }
              if (this.radioButtonGroups == null) {
                  this.radioButtonGroups = new Map();
              }
              /** @type {?} */
              var groupId = ( /** @type {?} */(radio)).group;
              if (this.radioButtonGroups.get(groupId) == null) {
                  this.radioButtonGroups.set(groupId, [radio]);
              }
              else {
                  this.radioButtonGroups.get(groupId).push(radio);
              }
              return;
          };
      /* istanbul ignore next */
      /**
       * Get radio button group by group ID
       * @param groupId
       * @returns  Radio button group component
       */
      /**
       * Get radio button group by group ID
       * @param {?} groupId
       * @return {?} Radio button group component
       */
      BaseComponent.prototype.getRadioButtonGroup = /**
       * Get radio button group by group ID
       * @param {?} groupId
       * @return {?} Radio button group component
       */
          function (groupId) {
              /** @type {?} */
              var view = this.getParentView();
              return view != null && view.radioButtonGroups != null ? view.radioButtonGroups.get(groupId) : null;
          };
      /**
       * Sets [[controlWidth]] property
       * @param width Should be numeric value
       */
      /**
       * Sets [[controlWidth]] property
       * @param {?} width Should be numeric value
       * @return {?}
       */
      BaseComponent.prototype.setControlWidth = /**
       * Sets [[controlWidth]] property
       * @param {?} width Should be numeric value
       * @return {?}
       */
          function (width) {
              this.controlWidth = width;
              this.initWidthHeightStyle();
              this.markForCheck();
          };
      /**
       * Sets [[controlHeight]] property
       * @param height Should be numeric value
       */
      /**
       * Sets [[controlHeight]] property
       * @param {?} height Should be numeric value
       * @return {?}
       */
      BaseComponent.prototype.setControlHeight = /**
       * Sets [[controlHeight]] property
       * @param {?} height Should be numeric value
       * @return {?}
       */
          function (height) {
              this.controlHeight = height;
              this.initWidthHeightStyle();
              this.markForCheck();
          };
      /**
       * Alias for [[setControlWidth]] method
       * @param width Should be a numeric value
       */
      /**
       * Alias for [[setControlWidth]] method
       * @param {?} width Should be a numeric value
       * @return {?}
       */
      BaseComponent.prototype.setWidth = /**
       * Alias for [[setControlWidth]] method
       * @param {?} width Should be a numeric value
       * @return {?}
       */
          function (width) {
              this.setControlWidth(width);
          };
      /**
       * Get [[controlWidth]] property
       * @returns Value of [[controlWidth]]
       */
      /**
       * Get [[controlWidth]] property
       * @return {?} Value of [[controlWidth]]
       */
      BaseComponent.prototype.getWidth = /**
       * Get [[controlWidth]] property
       * @return {?} Value of [[controlWidth]]
       */
          function () {
              return this.controlWidth;
          };
      /**
       * Alias for [[setControlHeight]] method
       * @param height Should be a numeric value
       */
      /**
       * Alias for [[setControlHeight]] method
       * @param {?} height Should be a numeric value
       * @return {?}
       */
      BaseComponent.prototype.setHeight = /**
       * Alias for [[setControlHeight]] method
       * @param {?} height Should be a numeric value
       * @return {?}
       */
          function (height) {
              this.setControlHeight(height);
          };
      /**
       * Get [[controlHeight]] property
       * @returns Value of [[controlHeight]]
       */
      /**
       * Get [[controlHeight]] property
       * @return {?} Value of [[controlHeight]]
       */
      BaseComponent.prototype.getHeight = /**
       * Get [[controlHeight]] property
       * @return {?} Value of [[controlHeight]]
       */
          function () {
              return this.controlHeight;
          };
      /**
       * Sets value of [[x]] property for horizontal position.
       * Sets CSS "left" property to [[x]] px.
       * @param x Horizontal coordinate position
       */
      /**
       * Sets value of [[x]] property for horizontal position.
       * Sets CSS "left" property to [[x]] px.
       * @param {?} x Horizontal coordinate position
       * @return {?}
       */
      BaseComponent.prototype.setX = /**
       * Sets value of [[x]] property for horizontal position.
       * Sets CSS "left" property to [[x]] px.
       * @param {?} x Horizontal coordinate position
       * @return {?}
       */
          function (x) {
              this.x = x;
              this.styles["left"] = x + "px";
              this.markForCheck();
          };
      /**
       * Get [[x]] property
       * @returns Value of [[x]]
       */
      /**
       * Get [[x]] property
       * @return {?} Value of [[x]]
       */
      BaseComponent.prototype.getX = /**
       * Get [[x]] property
       * @return {?} Value of [[x]]
       */
          function () {
              return this.x;
          };
      /**
       * Sets value of [[y]] property for vertical position.
       * Sets CSS "top" property to [[y]] px.
       * @param y Vertical coordinate position
       */
      /**
       * Sets value of [[y]] property for vertical position.
       * Sets CSS "top" property to [[y]] px.
       * @param {?} y Vertical coordinate position
       * @return {?}
       */
      BaseComponent.prototype.setY = /**
       * Sets value of [[y]] property for vertical position.
       * Sets CSS "top" property to [[y]] px.
       * @param {?} y Vertical coordinate position
       * @return {?}
       */
          function (y) {
              this.y = y;
              this.styles["top"] = y + "px";
              this.markForCheck();
          };
      /**
       * Get [[y]] property
       * @returns Value of [[y]]
       */
      /**
       * Get [[y]] property
       * @return {?} Value of [[y]]
       */
      BaseComponent.prototype.getY = /**
       * Get [[y]] property
       * @return {?} Value of [[y]]
       */
          function () {
              return this.y;
          };
      /**
       * Set [[borderWidth]] property value
       * @param borderWidth Should be numeric
       */
      /**
       * Set [[borderWidth]] property value
       * @param {?} borderWidth Should be numeric
       * @return {?}
       */
      BaseComponent.prototype.setBorderWidth = /**
       * Set [[borderWidth]] property value
       * @param {?} borderWidth Should be numeric
       * @return {?}
       */
          function (borderWidth) {
              this.borderWidth = borderWidth;
              this.markForCheck();
          };
      /**
       * Check if component is view component.
       * Implement in sub class
       */
      /**
       * Check if component is view component.
       * Implement in sub class
       * @return {?}
       */
      BaseComponent.prototype.isView = /**
       * Check if component is view component.
       * Implement in sub class
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * Check if there are active views.
       * Implement in sub class
       */
      /**
       * Check if there are active views.
       * Implement in sub class
       * @return {?}
       */
      BaseComponent.prototype.isNoneActiveView = /**
       * Check if there are active views.
       * Implement in sub class
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * Check if this component is an instance of [[DialogComponent]]
       */
      /**
       * Check if this component is an instance of [[DialogComponent]]
       * @return {?}
       */
      BaseComponent.prototype.isDialog = /**
       * Check if this component is an instance of [[DialogComponent]]
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * Check if this component is a dynamic view
       */
      /**
       * Check if this component is a dynamic view
       * @return {?}
       */
      BaseComponent.prototype.isDynamicView = /**
       * Check if this component is a dynamic view
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * Get the parent view of this component
       * @returns Parent view component
       */
      /**
       * Get the parent view of this component
       * @return {?} Parent view component
       */
      BaseComponent.prototype.getParentView = /**
       * Get the parent view of this component
       * @return {?} Parent view component
       */
          function () {
              if (this.isView()) {
                  return this;
              }
              /** @type {?} */
              var parentView = null;
              if (this.parent != null) {
                  /** @type {?} */
                  var stack = [this.parent];
                  while (stack.length > 0) {
                      /** @type {?} */
                      var temp = stack.pop();
                      if (temp.isView() === true) {
                          parentView = temp;
                          break;
                      }
                      if (temp.parent != null) {
                          stack.push(temp.parent);
                      }
                  }
              }
              return parentView;
          };
      /**
       * @return {?}
       */
      BaseComponent.prototype.getParentScrollView = /**
       * @return {?}
       */
          function () {
              if (this.isScrollView()) {
                  return this;
              }
              /** @type {?} */
              var parentView = null;
              if (this.parent != null) {
                  /** @type {?} */
                  var stack = [this.parent];
                  while (stack.length > 0) {
                      /** @type {?} */
                      var temp = stack.pop();
                      if (temp.isScrollView() === true) {
                          parentView = temp;
                          break;
                      }
                      if (temp.parent != null) {
                          stack.push(temp.parent);
                      }
                  }
              }
              return parentView;
          };
      /**
       * @return {?}
       */
      BaseComponent.prototype.isScrollView = /**
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * Return the parent container component (for subview), not the actual parent view. This is the parent
       * ViewComponent where canBeActiveView is false
       */
      /**
       * Return the parent container component (for subview), not the actual parent view. This is the parent
       * ViewComponent where canBeActiveView is false
       * @return {?}
       */
      BaseComponent.prototype._getNoneActiveViewParent = /**
       * Return the parent container component (for subview), not the actual parent view. This is the parent
       * ViewComponent where canBeActiveView is false
       * @return {?}
       */
          function () {
              if (this.isNoneActiveView()) {
                  return this;
              }
              /** @type {?} */
              var parentView = null;
              if (this.parent != null) {
                  /** @type {?} */
                  var stack = [this.parent];
                  while (stack.length > 0) {
                      /** @type {?} */
                      var temp = stack.pop();
                      if (temp.isNoneActiveView() === true) {
                          parentView = temp;
                          break;
                      }
                      if (temp.parent != null) {
                          stack.push(temp.parent);
                      }
                  }
              }
              return parentView;
          };
      /* istanbul ignore next */
      /**
       * Event handler for context menu click (right click).
       * Delegates to [[SessionService]] to display popup.
       * @param event Click event
       * @param force always emit
       */
      /**
       * Event handler for context menu click (right click).
       * Delegates to [[SessionService]] to display popup.
       * @param {?} event Click event
       * @param {?=} force always emit
       * @return {?}
       */
      BaseComponent.prototype.handleOnContextMenu = /**
       * Event handler for context menu click (right click).
       * Delegates to [[SessionService]] to display popup.
       * @param {?} event Click event
       * @param {?=} force always emit
       * @return {?}
       */
          function (event, force) {
              var _this = this;
              if (force === void 0) {
                  force = false;
              }
              //allow component to skip emit event and let parent (i.e. table cell to emit it)
              if (force === true || this.skipEmitContextMenuEvent !== true) {
                  if (this.getSession() != null) {
                      this.getSession().setMousePosition(event);
                  }
                  /** @type {?} */
                  var parentView = this.getParentView();
                  /** @type {?} */
                  var popupMenuId_1 = null;
                  if (parentView != null) {
                      popupMenuId_1 = ( /** @type {?} */(parentView)).getFirstPopupMenuId();
                  }
                  this.onContextMenu.emit(event);
                  if (this.popup != null && this.popup !== "") {
                      if (this.popup.indexOf("#") === 0) {
                          this.popup = this.popup.substring(1);
                      }
                      popupMenuId_1 = this.popup;
                      this.getSession()._currentPopupMenuId = this.popup;
                  }
                  if (popupMenuId_1 != null) {
                      event.stopPropagation();
                      event.preventDefault();
                      /** @type {?} */
                      var tm_1 = setTimeout(function () {
                          clearTimeout(tm_1);
                          if (_this.getSession()._currentPopupMenuId != null) {
                              popupMenuId_1 = _this.getSession()._currentPopupMenuId;
                          }
                          _this.getSession().showContextMenu(popupMenuId_1);
                          _this.getSession()._currentPopupMenuId = null;
                      });
                  }
              }
          };
      /**
       * Emits focus lost event for components that require validation
       * @param event
       * @event BeforeActiveLost
       */
      /**
       * Emits focus lost event for components that require validation
       * \@event BeforeActiveLost
       * @param {?} event
       * @return {?}
       */
      BaseComponent.prototype.validateField = /**
       * Emits focus lost event for components that require validation
       * \@event BeforeActiveLost
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (AppUtils.validateField != null && AppUtils.validateField(this) !== true) {
                  event.preventDefault();
                  event.stopPropagation();
              }
              this.onBeforeActiveLost.emit();
              this.focusLost();
          };
      //iteratative function to prevent stack overflow
      // reduceChildrenIterative() {
      //   if (this._reduceChildrenIterativeCache != null && this._reduceChildrenIterativeCache.length > 0) {
      //     return this._reduceChildrenIterativeCache;
      //   }
      //   this._reduceChildrenIterativeCache = [];
      //   if (this.children == null) {
      //     Logger.warn("reduceChildrenIterative, children is null");
      //     return this._reduceChildrenIterativeCache;
      //   }
      //   //skip DialogComponent
      //   let stack: Array<BaseComponent> = _.filter(Array.from(this.children.values()), (comp: BaseComponent)=>{
      //     return comp.isFauxElement() || comp.isDialog() !== true;
      //   });
      //   this._reduceChildrenIterativeCache = this._reduceChildrenIterativeCache.concat(stack);
      //   let counter = 0;
      //   while(stack.length > 0) {
      //     const child = stack.pop();
      //     if (child.children != null && child.children.size > 0) {
      //       //get grandchildren
      //       const grandChildren = Array.from(child.children.values());
      //       this._reduceChildrenIterativeCache = this._reduceChildrenIterativeCache.concat(grandChildren);
      //       //push to our stack to iterate our grandchildren to look for great grandchildren
      //       stack = stack.concat(grandChildren);
      //     }
      //     counter++;
      //     if (counter > 10000 || stack.length > 10000) {
      //       throw new Error("BaseComponent.reduceChildrenIterative: stack overflow");
      //     }
      //   }
      //   return this._reduceChildrenIterativeCache;
      // }
      /**
       * Get children of a table component.
       * @returns Array of table children
       */
      /**
       * Get children of a table component.
       * @return {?} Array of table children
       */
      BaseComponent.prototype.getTableChildren = /**
       * Get children of a table component.
       * @return {?} Array of table children
       */
          function () {
              return [];
          };
      /**
       * Get [[bgColor]] property
       * @returns Value of [[bgColor]]
       */
      /**
       * Get [[bgColor]] property
       * @return {?} Value of [[bgColor]]
       */
      BaseComponent.prototype.getBgColor = /**
       * Get [[bgColor]] property
       * @return {?} Value of [[bgColor]]
       */
          function () {
              return this.bgColor;
          };
      /**
       * @return {?}
       */
      BaseComponent.prototype.setAttributeFromDef = /**
       * @return {?}
       */
          function () {
              var e_6, _a;
              /** @type {?} */
              var compDef = this.getSession().getDef(this.id);
              if (compDef != null && compDef.attribute != null) {
                  if (compDef.attribute instanceof Map ||
                      compDef.attribute instanceof Hashtable ||
                      compDef.attribute instanceof HashMap) {
                      /** @type {?} */
                      var keys = compDef.attribute.keys();
                      /** @type {?} */
                      var key = keys.next();
                      while (key.done !== true) {
                          this.setAttribute(key.value, compDef.attribute.get(key));
                          key = keys.next();
                      }
                  }
                  else {
                      /** @type {?} */
                      var keys = _.keys(compDef.attribute);
                      try {
                          for (var keys_2 = __values(keys), keys_2_1 = keys_2.next(); !keys_2_1.done; keys_2_1 = keys_2.next()) {
                              var key = keys_2_1.value;
                              this.setAttribute(key, compDef.attribute[key]);
                          }
                      }
                      catch (e_6_1) {
                          e_6 = { error: e_6_1 };
                      }
                      finally {
                          try {
                              if (keys_2_1 && !keys_2_1.done && (_a = keys_2.return))
                                  _a.call(keys_2);
                          }
                          finally {
                              if (e_6)
                                  throw e_6.error;
                          }
                      }
                  }
              }
          };
      /**
       * Perform an xpath lookup on the element. This will be evaluated against the actual HTMLElement.
       *
       * @warning PLEASE ENSURE TO FREE UP THE THE RESULT SO WE DON'T HAVE ANY DANGLING HTML ELEMENT
       *
       * @param xpathExpression
       */
      /**
       * Perform an xpath lookup on the element. This will be evaluated against the actual HTMLElement.
       *
       * \@warning PLEASE ENSURE TO FREE UP THE THE RESULT SO WE DON'T HAVE ANY DANGLING HTML ELEMENT
       *
       * @param {?} xpathExpression
       * @return {?}
       */
      BaseComponent.prototype.evaluateXPath = /**
       * Perform an xpath lookup on the element. This will be evaluated against the actual HTMLElement.
       *
       * \@warning PLEASE ENSURE TO FREE UP THE THE RESULT SO WE DON'T HAVE ANY DANGLING HTML ELEMENT
       *
       * @param {?} xpathExpression
       * @return {?}
       */
          function (xpathExpression) {
              return null;
          };
      /**
       * Set color of hightlighted text background
       * @param color Should be a valid CSS color value (e.g. "#FF0000" or "red")
       */
      /**
       * Set color of hightlighted text background
       * @param {?} color Should be a valid CSS color value (e.g. "#FF0000" or "red")
       * @return {?}
       */
      BaseComponent.prototype.setHighlightBgColor = /**
       * Set color of hightlighted text background
       * @param {?} color Should be a valid CSS color value (e.g. "#FF0000" or "red")
       * @return {?}
       */
          function (color) {
              this.highlightBgColor = color;
          };
      /**
       * Set color of highlighted text foreground
       * @param color Should be a valid CSS color value (e.g. "#FF0000" or "red")
       */
      /**
       * Set color of highlighted text foreground
       * @param {?} color Should be a valid CSS color value (e.g. "#FF0000" or "red")
       * @return {?}
       */
      BaseComponent.prototype.setHighlightFontColor = /**
       * Set color of highlighted text foreground
       * @param {?} color Should be a valid CSS color value (e.g. "#FF0000" or "red")
       * @return {?}
       */
          function (color) {
              this.highlightFontColor = color;
          };
      /**
       * Get [[hightlightBgColor]] property
       * @returns Color string
       */
      /**
       * Get [[hightlightBgColor]] property
       * @return {?} Color string
       */
      BaseComponent.prototype.getHighlightBgColor = /**
       * Get [[hightlightBgColor]] property
       * @return {?} Color string
       */
          function () {
              return this.highlightBgColor;
          };
      /**
       * Get [[highlightFontColor]] property
       * @returns Color string
       */
      /**
       * Get [[highlightFontColor]] property
       * @return {?} Color string
       */
      BaseComponent.prototype.getHighlightFontColor = /**
       * Get [[highlightFontColor]] property
       * @return {?} Color string
       */
          function () {
              return this.highlightFontColor;
          };
      /**
       * Get [[parentTableRow]] property
       */
      /**
       * Get [[parentTableRow]] property
       * @return {?}
       */
      BaseComponent.prototype.getParentTableRow = /**
       * Get [[parentTableRow]] property
       * @return {?}
       */
          function () {
              return this.parentTableRow;
          };
      //clear reduce children iterative cache
      // resetReduceChildrenIterativeCache() {
      //   this._reduceChildrenIterativeCache = null;
      // }
      /**
       * Check if change detection is frozen
       * @returns Boolean If component change detection is frozen
       */
      /**
       * Check if change detection is frozen
       * @return {?} Boolean If component change detection is frozen
       */
      BaseComponent.prototype.isChangeDetectionFrozen = /**
       * Check if change detection is frozen
       * @return {?} Boolean If component change detection is frozen
       */
          function () {
              return false;
          };
      /**
       * Check if component is a faux element
       * @returns Boolean If component is faux element
       */
      /**
       * Check if component is a faux element
       * @return {?} Boolean If component is faux element
       */
      BaseComponent.prototype.isFauxElement = /**
       * Check if component is a faux element
       * @return {?} Boolean If component is faux element
       */
          function () {
              return false;
          };
      /**
       * Get internal [[_viewChildrenMap]] member
       * @returns Value of [[_viewChildrenMap]]
       */
      /**
       * Get internal [[_viewChildrenMap]] member
       * @return {?} Value of [[_viewChildrenMap]]
       */
      BaseComponent.prototype.getViewChildrenMap = /**
       * Get internal [[_viewChildrenMap]] member
       * @return {?} Value of [[_viewChildrenMap]]
       */
          function () {
              return this._viewChildrenMap;
          };
      /**
       * Removes view child with id from [[_viewChildrenMap]]
       * @param id ID of child to remove
       */
      /**
       * Removes view child with id from [[_viewChildrenMap]]
       * @param {?} id ID of child to remove
       * @return {?}
       */
      BaseComponent.prototype.removeViewChildFromMap = /**
       * Removes view child with id from [[_viewChildrenMap]]
       * @param {?} id ID of child to remove
       * @return {?}
       */
          function (id) {
              if (this._viewChildrenMap != null) {
                  this._viewChildrenMap.delete(KeyUtils.toMapKey(id));
              }
          };
      /**
       * Adds a component to [[_viewChildrenMap]]
       * @param obj Child to add to [[_viewChildrenMap]]
       */
      /**
       * Adds a component to [[_viewChildrenMap]]
       * @param {?} obj Child to add to [[_viewChildrenMap]]
       * @return {?}
       */
      BaseComponent.prototype.addViewChildToMap = /**
       * Adds a component to [[_viewChildrenMap]]
       * @param {?} obj Child to add to [[_viewChildrenMap]]
       * @return {?}
       */
          function (obj) {
              if (this._viewChildrenMap != null) {
                  this._viewChildrenMap.set(KeyUtils.toMapKey(obj.getId()), /** @type {?} */ (obj));
              }
          };
      /**
       * Invoke an MCO method by name. If a function is passed as argument, it will be called with
       * this component as an argument.
       * @param action Name of action method to invoke or a function to invoke
       */
      /**
       * Invoke an MCO method by name. If a function is passed as argument, it will be called with
       * this component as an argument.
       * @param {?} action Name of action method to invoke or a function to invoke
       * @return {?}
       */
      BaseComponent.prototype.invokeMcoAction = /**
       * Invoke an MCO method by name. If a function is passed as argument, it will be called with
       * this component as an argument.
       * @param {?} action Name of action method to invoke or a function to invoke
       * @return {?}
       */
          function (action) {
              if (typeof action === "function") {
                  action(this);
              }
              else if (action.indexOf("mco://") === 0) {
                  /** @type {?} */
                  var mcoName = action.substring(6, action.indexOf("."));
                  /** @type {?} */
                  var methodName = action.substring(action.indexOf(".") + 1, action.indexOf("("));
                  /** @type {?} */
                  var arg = action.substring(action.indexOf("(") + 1, action.indexOf(")"));
                  if (arg != null && arg.length > 0) {
                      /** @type {?} */
                      var mco = this.sessionService.getMcoContainer().getMco(mcoName);
                      if (mco != null) {
                          if (arg === "this") {
                              mco[methodName].apply(mco, [this]);
                          }
                          else {
                              mco[methodName].apply(mco, [arg]);
                          }
                      }
                      else {
                          console.error("Unable to execute MCO action, mco not found: " + mcoName);
                      }
                  }
                  else {
                      /** @type {?} */
                      var mco = this.sessionService.getMcoContainer().getMco(mcoName);
                      if (mco != null) {
                          mco[methodName].apply(mco);
                      }
                      else {
                          console.error("Unable to execute MCO action, mco not found: " + mcoName);
                      }
                  }
              }
          };
      /**
       * @return {?}
       */
      BaseComponent.prototype._notifyInternalChangeCb = /**
       * @return {?}
       */
          function () {
              if (typeof this._internalChangeCb === "function") {
                  this._internalChangeCb(this);
              }
          };
      /**
       * @return {?}
       */
      BaseComponent.prototype.emptyChildren = /**
       * @return {?}
       */
          function () {
              if (this._viewChildrenMap != null) {
                  /** @type {?} */
                  var cit = this._viewChildrenMap.values();
                  /** @type {?} */
                  var val = cit.next();
                  while (val.done !== true) {
                      //some children are not actual BaseComponent
                      if (typeof val.value.emptyChildren === "function") {
                          val.value.emptyChildren();
                          val.value._isDying = true;
                      }
                      val = cit.next();
                  }
              }
              if (this.children != null) {
                  this.children.clear();
              }
              if (this._viewChildrenMap != null) {
                  this._viewChildrenMap.clear();
                  delete this._viewChildrenMap;
              }
              // this._viewChildrenMap = null;
          };
      /**
       * Check to see if this is a ScrollPaneComponent
       */
      /**
       * Check to see if this is a ScrollPaneComponent
       * @return {?}
       */
      BaseComponent.prototype.isScrollPane = /**
       * Check to see if this is a ScrollPaneComponent
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * Reset the scroll position to the previous captured
       */
      /**
       * Reset the scroll position to the previous captured
       * @return {?}
       */
      BaseComponent.prototype.resetScrollTopToPreviousPosition = /**
       * Reset the scroll position to the previous captured
       * @return {?}
       */
          function () {
              //implement by scrollpane
          };
      /**
       * Reset all scrollpane pos
       */
      /**
       * Reset all scrollpane pos
       * @return {?}
       */
      BaseComponent.prototype.resetAllScrollPanesPositionToPrevious = /**
       * Reset all scrollpane pos
       * @return {?}
       */
          function () {
              if (this.scrollPanes != null) {
                  this.scrollPanes.forEach(function (scrollPane) { return scrollPane.resetScrollTopToPreviousPosition(); });
              }
          };
      /**
       * @return {?}
       */
      BaseComponent.prototype.resetScrollTopPosition = /**
       * @return {?}
       */
          function () {
          };
      /**
       * @return {?}
       */
      BaseComponent.prototype.resetAllScrollPanesPositionToTop = /**
       * @return {?}
       */
          function () {
              if (this.scrollPanes != null) {
                  this.scrollPanes.forEach(function (scrollPane) { return scrollPane.resetScrollTopPosition(); });
              }
          };
      /**
       * Notify parent view that there is a validation error on this, this should only be applicabled to disabled element
       */
      /**
       * Notify parent view that there is a validation error on this, this should only be applicabled to disabled element
       * @return {?}
       */
      BaseComponent.prototype.notifyParentOfError = /**
       * Notify parent view that there is a validation error on this, this should only be applicabled to disabled element
       * @return {?}
       */
          function () {
              if (this.getDisabled() === true) {
                  /** @type {?} */
                  var parentView = this.getParentView();
                  if (parentView != null && parentView["dialog"] != null) {
                      if (parentView["dialog"]._disabledErrorElementId == null) {
                          parentView["dialog"]._disabledErrorElementId = [];
                      }
                      if (parentView["dialog"]._disabledErrorElementId.indexOf(this.getId()) < 0) {
                          parentView["dialog"]._disabledErrorElementId.push(this.getId());
                      }
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Focus the parent tab
       */
      /**
       * Focus the parent tab
       * @return {?}
       */
      BaseComponent.prototype.focusParentTab = /**
       * Focus the parent tab
       * @return {?}
       */
          function () {
              /** @type {?} */
              var parentView = this._getNoneActiveViewParent() || this.getParentView();
              if (parentView != null) {
                  /** @type {?} */
                  var tabPane = parentView.getParent();
                  //check to see if the parent is a Tab
                  if (tabPane != null && tabPane.getNxTagName() === "tab") {
                      tabPane.setFocus();
                  }
              }
          };
      /**
       * Register scrollpane
       *
       * @param {?} scrollPane scrollPane to register
       * @return {?}
       */
      BaseComponent.prototype.registerScrollPane = /**
       * Register scrollpane
       *
       * @param {?} scrollPane scrollPane to register
       * @return {?}
       */
          function (scrollPane) {
              if (typeof scrollPane.isScrollPane === "function" && scrollPane.isScrollPane() === true) {
                  if (this.scrollPanes == null) {
                      this.scrollPanes = [];
                  }
                  this.scrollPanes.push(scrollPane);
              }
          };
      BaseComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-base',
                      template: 'nothing here'
                  }] }
      ];
      /** @nocollapse */
      BaseComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.Renderer2 }
          ];
      };
      BaseComponent.propDecorators = {
          autoWrap: [{ type: i0.Input }],
          borderPosition: [{ type: i0.Input }],
          id: [{ type: i0.Input }],
          disabled: [{ type: i0.Input }],
          sort: [{ type: i0.Input }],
          visible: [{ type: i0.Input }],
          text: [{ type: i0.Input }],
          cssClass: [{ type: i0.Input }],
          controlWidth: [{ type: i0.Input }],
          controlHeight: [{ type: i0.Input }],
          maxHeight: [{ type: i0.Input }],
          lineHeight: [{ type: i0.Input }],
          marginRight: [{ type: i0.Input }],
          marginLeft: [{ type: i0.Input }],
          marginTop: [{ type: i0.Input }],
          marginBottom: [{ type: i0.Input }],
          controlMargin: [{ type: i0.Input }],
          controlPadding: [{ type: i0.Input }],
          controlOverflow: [{ type: i0.Input }],
          panelWidth: [{ type: i0.Input }],
          panelMinWidth: [{ type: i0.Input }],
          panelMinHeight: [{ type: i0.Input }],
          controlFloat: [{ type: i0.Input }],
          required: [{ type: i0.Input }],
          pattern: [{ type: i0.Input }],
          min: [{ type: i0.Input }],
          max: [{ type: i0.Input }],
          minLength: [{ type: i0.Input }],
          maxLength: [{ type: i0.Input }],
          inputLocale: [{ type: i0.Input }],
          inputCharsets: [{ type: i0.Input }],
          focusOnActivation: [{ type: i0.Input }],
          focused: [{ type: i0.Input }],
          orderIndex: [{ type: i0.Input }],
          x: [{ type: i0.Input }],
          y: [{ type: i0.Input }],
          require: [{ type: i0.Input }],
          controlWidthComboBox: [{ type: i0.Input }],
          class: [{ type: i0.Input }],
          hGrabSpace: [{ type: i0.Input }],
          vGrabSpace: [{ type: i0.Input }],
          bgColor: [{ type: i0.Input }],
          editor: [{ type: i0.Input }],
          popup: [{ type: i0.Input }],
          alignHorizontal: [{ type: i0.Input }],
          enabled: [{ type: i0.Input }],
          sortValue: [{ type: i0.Input }],
          customAttributes: [{ type: i0.Input }],
          fontBold: [{ type: i0.Input }],
          fontColor: [{ type: i0.Input }],
          fontItalic: [{ type: i0.Input }],
          fontSize: [{ type: i0.Input }],
          fontUnderline: [{ type: i0.Input }],
          fontColorDisabled: [{ type: i0.Input }],
          opacity: [{ type: i0.Input }],
          borderColor: [{ type: i0.Input }],
          borderWidth: [{ type: i0.Input }],
          borderStyle: [{ type: i0.Input }],
          borderHeight: [{ type: i0.Input }],
          skipEmitContextMenuEvent: [{ type: i0.Input }],
          onContextMenu: [{ type: i0.Output }],
          onActiveLost: [{ type: i0.Output }],
          onBeforeActiveLost: [{ type: i0.Output }]
      };
      return BaseComponent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var McoContainerModule = /** @class */ (function () {
      function McoContainerModule() {
      }
      McoContainerModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [],
                      providers: [
                          McoContainerService
                      ]
                  },] }
      ];
      return McoContainerModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var EventHandlerModule = /** @class */ (function () {
      function EventHandlerModule() {
      }
      EventHandlerModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          McoContainerModule
                      ],
                      declarations: [],
                      providers: [
                          EventHandlerService
                      ]
                  },] }
      ];
      return EventHandlerModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var SessionModule = /** @class */ (function () {
      function SessionModule() {
      }
      SessionModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          McoContainerModule,
                          EventHandlerModule
                      ],
                      declarations: [],
                      providers: [
                          SessionService
                      ]
                  },] }
      ];
      return SessionModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var JavaModule = /** @class */ (function () {
      function JavaModule() {
      }
      JavaModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: []
                  },] }
      ];
      return JavaModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var OnCreateDirective = /** @class */ (function () {
      function OnCreateDirective(elementRef, zone) {
          this.elementRef = elementRef;
          this.zone = zone;
          this.vtOnCreate = new i0.EventEmitter();
      }
      /**
       * @return {?}
       */
      OnCreateDirective.prototype.ngOnInit = /**
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.runOutsideZone === true) {
                  this.zone.runOutsideAngular(function () {
                      _this.vtOnCreate.emit({
                          element: _this.elementRef
                      });
                  });
              }
              else {
                  this.vtOnCreate.emit({
                      element: this.elementRef
                  });
              }
          };
      OnCreateDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: '[vtOnCreate]'
                  },] }
      ];
      /** @nocollapse */
      OnCreateDirective.ctorParameters = function () {
          return [
              { type: i0.ElementRef },
              { type: i0.NgZone }
          ];
      };
      OnCreateDirective.propDecorators = {
          runOutsideZone: [{ type: i0.Input }],
          vtOnCreate: [{ type: i0.Output }]
      };
      return OnCreateDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var BaseModule = /** @class */ (function () {
      function BaseModule() {
      }
      BaseModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          SessionModule,
                          JavaModule,
                          EventHandlerModule
                      ],
                      declarations: [BaseComponent, OnCreateDirective],
                      exports: [BaseComponent, OnCreateDirective]
                  },] }
      ];
      return BaseModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /** @enum {number} */
  var ComponentType = {
      LABEL: 0,
      BUTTON: 1,
      TEXT_FIELD: 2,
      COMBOBOX: 3,
      CHECKBOX: 4,
      RADIO: 5,
      TEXTAREA: 6,
  };
  ComponentType[ComponentType.LABEL] = 'LABEL';
  ComponentType[ComponentType.BUTTON] = 'BUTTON';
  ComponentType[ComponentType.TEXT_FIELD] = 'TEXT_FIELD';
  ComponentType[ComponentType.COMBOBOX] = 'COMBOBOX';
  ComponentType[ComponentType.CHECKBOX] = 'CHECKBOX';
  ComponentType[ComponentType.RADIO] = 'RADIO';
  ComponentType[ComponentType.TEXTAREA] = 'TEXTAREA';

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Button component class. Inherits from [[BaseComponent]]
   */
  var ButtonComponent = /** @class */ (function (_super) {
      __extends(ButtonComponent, _super);
      function ButtonComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this.focused = true;
          _this.onCommand = new i0.EventEmitter();
          return _this;
      }
      /**
       * Init lifecycle. Must call parent ngOnInit
       */
      /**
       * Init lifecycle. Must call parent ngOnInit
       * @return {?}
       */
      ButtonComponent.prototype.ngOnInit = /**
       * Init lifecycle. Must call parent ngOnInit
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              if (this.marginTop != null) {
                  this.marginTop = this.marginTop + 'px';
              }
              if (this.marginRight != null) {
                  this.marginRight = this.marginRight + 'px';
              }
              if (this.marginLeft != null) {
                  this.marginLeft = this.marginLeft + 'px';
              }
          };
      /**
       * After view init lifecycle. Must call parent ngAfterViewInit
       */
      /**
       * After view init lifecycle. Must call parent ngAfterViewInit
       * @return {?}
       */
      ButtonComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Must call parent ngAfterViewInit
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
              this.initWidthHeightStyle("height", "width");
              this.setAttributeFromDef();
              this.cd.detectChanges();
          };
      /* istanbul ignore next */
      /**
       * Event handler for click event
       * @param event
       * @event OnCommand
       */
      /**
       * Event handler for click event
       * \@event OnCommand
       * @param {?} event
       * @return {?}
       */
      ButtonComponent.prototype.onClick = /**
       * Event handler for click event
       * \@event OnCommand
       * @param {?} event
       * @return {?}
       */
          function (event) {
              event.stopPropagation();
              //register client event for mco
              this.handleClick(event);
              this.onCommand.emit();
              //it looks like you can change onCommand binding at runtime and since we are code
              //we add another fn to do it (we may removed this later once we have a better of usage)
              this.emitInternalOnCommand();
          };
      /* istanbul ignore next */
      /**
       * Event handler for mousedown event
       * @param e
       */
      /**
       * Event handler for mousedown event
       * @param {?} e
       * @return {?}
       */
      ButtonComponent.prototype.onMouseDown = /**
       * Event handler for mousedown event
       * @param {?} e
       * @return {?}
       */
          function (e) {
              /** @type {?} */
              var currentTarget = e.currentTarget['id'];
              if (currentTarget != null && currentTarget.indexOf("BtnClose") > 0) {
                  AppUtils.isCloseBtn = true;
              }
              else {
                  AppUtils.isCloseBtn = false;
              }
              this.handleMouseDown(e);
          };
      /* istanbul ignore next */
      /**
       * @return {?}
       */
      ButtonComponent.prototype.handleOnBlur = /**
       * @return {?}
       */
          function () {
              AppUtils.isCloseBtn = false;
          };
      /**
       * Get change detector reference for the button instance
       * @returns [[cd]] property (Change detector)
       */
      /**
       * Get change detector reference for the button instance
       * @return {?} [[cd]] property (Change detector)
       */
      ButtonComponent.prototype.getChangeDetector = /**
       * Get change detector reference for the button instance
       * @return {?} [[cd]] property (Change detector)
       */
          function () {
              return this.cd;
          };
      /**
       * Get Nexaweb tag name
       * @returns String
       */
      /**
       * Get Nexaweb tag name
       * @return {?} String
       */
      ButtonComponent.prototype.getNxTagName = /**
       * Get Nexaweb tag name
       * @return {?} String
       */
          function () {
              return "button";
          };
      /**
       * Get JSON representation of the button component
       * @returns Json object
       */
      /**
       * Get JSON representation of the button component
       * @return {?} Json object
       */
      ButtonComponent.prototype.toJson = /**
       * Get JSON representation of the button component
       * @return {?} Json object
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              this.setJson(json, "focused", this.focused);
              return json;
          };
      ButtonComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-button',
                      template: "<button [disabled]=\"disabled || !enabled\"\n        [ngClass]=\"{'hidden': visible != true}\"\n\t\t\t\t[style.color]=\"fontColor\"\n\t\t\t\t[id]=\"id\"\n\t\t\t\ttype=\"button\" class=\"btn btn-default {{cssClass}}\"\n\t\t\t\t(mousedown)=\"onMouseDown($event)\"\n\t\t\t\t(click)=\"onClick($event)\"\n        (contextmenu)=\"handleOnContextMenu($event)\"\n        (blur)=\"handleOnBlur()\"\n        [ngStyle]=\"styles\"\n        [style.padding]=\"controlPadding\"\n        [style.margin-top]=\"marginTop\"\n        [style.margin-left]=\"marginLeft\"\n        [style.margin-right]=\"marginRight\"\n        [style.margin-bottom]=\"marginBottom\"\n        [style.line-height]=\"lineHeight\">\n\t{{ text }}\n\t<!-- allow children (in case user want to display html) -->\n\t<ng-content></ng-content>\n</button>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return ButtonComponent; })
                          }
                      ],
                      styles: [""]
                  }] }
      ];
      /** @nocollapse */
      ButtonComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      ButtonComponent.propDecorators = {
          focused: [{ type: i0.Input }],
          onCommand: [{ type: i0.Output }]
      };
      return ButtonComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ButtonModule = /** @class */ (function () {
      function ButtonModule() {
      }
      ButtonModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          BaseModule
                      ],
                      declarations: [ButtonComponent],
                      exports: [ButtonComponent],
                      entryComponents: [
                          ButtonComponent
                      ]
                  },] }
      ];
      return ButtonModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Check box component class
   */
  var CheckboxComponent = /** @class */ (function (_super) {
      __extends(CheckboxComponent, _super);
      function CheckboxComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this.checked = false;
          _this.onCommand = new i0.EventEmitter();
          _this.onStateChange = new i0.EventEmitter();
          _this.onSelect = new i0.EventEmitter();
          return _this;
      }
      Object.defineProperty(CheckboxComponent.prototype, "isChecked", {
          get: /**
           * @return {?}
           */ function () {
              return this.checked;
          },
          //alias for checked
          set: /**
           * @param {?} boo
           * @return {?}
           */ function (boo) {
              this.checked = boo;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Init lifecycle. Must call parent class ngOnInit
       */
      /**
       * Init lifecycle. Must call parent class ngOnInit
       * @return {?}
       */
      CheckboxComponent.prototype.ngOnInit = /**
       * Init lifecycle. Must call parent class ngOnInit
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
          };
      /**
       * After view init lifecycle. Must call parent class ngAfterViewInit
       */
      /**
       * After view init lifecycle. Must call parent class ngAfterViewInit
       * @return {?}
       */
      CheckboxComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Must call parent class ngAfterViewInit
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
              this.setAttributeFromDef();
              this.cd.detectChanges();
          };
      /**
       * Event handler for click event
       * @param event
       * @event OnCommand
       */
      /**
       * Event handler for click event
       * \@event OnCommand
       * @param {?} event
       * @return {?}
       */
      CheckboxComponent.prototype.onClick = /**
       * Event handler for click event
       * \@event OnCommand
       * @param {?} event
       * @return {?}
       */
          function (event) {
              //consume the event, do not propagate any further
              event.stopPropagation();
              this.handleClick(event);
              this.onCommand.emit();
          };
      /**
       * Event handler for mousedown event
       * @param event
       */
      /**
       * Event handler for mousedown event
       * @param {?} event
       * @return {?}
       */
      CheckboxComponent.prototype.onMouseDown = /**
       * Event handler for mousedown event
       * @param {?} event
       * @return {?}
       */
          function (event) {
              //consume the event, do not propagate any further
              event.stopPropagation();
              this.handleMouseDown(event);
          };
      /**
       * Event handler for state change (check/uncheck)
       * @event OnStateChange
       * @event OnSelect If the checkbox is set to selected state
       */
      /**
       * Event handler for state change (check/uncheck)
       * \@event OnStateChange
       * \@event OnSelect If the checkbox is set to selected state
       * @return {?}
       */
      CheckboxComponent.prototype.handleStateChange = /**
       * Event handler for state change (check/uncheck)
       * \@event OnStateChange
       * \@event OnSelect If the checkbox is set to selected state
       * @return {?}
       */
          function () {
              this.onStateChange.emit();
              if (this.checked === true) {
                  this.onSelect.emit();
              }
              //notify internal changes (for internal use only)
              this._notifyInternalChangeCb();
          };
      /**
       * Get component name
       * @returns Name of component
       */
      /**
       * Get component name
       * @return {?} Name of component
       */
      CheckboxComponent.prototype.getLocalName = /**
       * Get component name
       * @return {?} Name of component
       */
          function () {
              return "checkBox";
          };
      /**
       * Get [[checked]] property
       * @returns Value of [[checked]]
       */
      /**
       * Get [[checked]] property
       * @return {?} Value of [[checked]]
       */
      CheckboxComponent.prototype.getChecked = /**
       * Get [[checked]] property
       * @return {?} Value of [[checked]]
       */
          function () {
              return this.checked;
          };
      /**
       * Set [[checked]] property value
       * @param shouldChecked Value should be true/false or "true"/"false" to set [[checked]]
       */
      /**
       * Set [[checked]] property value
       * @param {?} shouldChecked Value should be true/false or "true"/"false" to set [[checked]]
       * @param {?=} skipInternalChange
       * @return {?}
       */
      CheckboxComponent.prototype.setChecked = /**
       * Set [[checked]] property value
       * @param {?} shouldChecked Value should be true/false or "true"/"false" to set [[checked]]
       * @param {?=} skipInternalChange
       * @return {?}
       */
          function (shouldChecked, skipInternalChange) {
              if (skipInternalChange === void 0) {
                  skipInternalChange = false;
              }
              this.checked = shouldChecked === true || shouldChecked === 'true';
              this.markForCheck();
              //notify internal changes (for internal use only)
              if (skipInternalChange !== true) {
                  this._notifyInternalChangeCb();
              }
          };
      /**
       * Alias for [[setChecked]] method
       * @param boo Toggle [[checked]]
       */
      /**
       * Alias for [[setChecked]] method
       * @param {?} boo Toggle [[checked]]
       * @return {?}
       */
      CheckboxComponent.prototype.setSelected = /**
       * Alias for [[setChecked]] method
       * @param {?} boo Toggle [[checked]]
       * @return {?}
       */
          function (boo) {
              this.setChecked(boo);
          };
      /**
       * Get [[value]] property
       * @returns Value of [[value]]
       */
      /**
       * Get [[value]] property
       * @return {?} Value of [[value]]
       */
      CheckboxComponent.prototype.getValue = /**
       * Get [[value]] property
       * @return {?} Value of [[value]]
       */
          function () {
              return this.value;
          };
      /**
       * Get JSON representation of component state
       * @returns Object Json object
       */
      /**
       * Get JSON representation of component state
       * @return {?} Object Json object
       */
      CheckboxComponent.prototype.toJson = /**
       * Get JSON representation of component state
       * @return {?} Object Json object
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              if (this.getChecked() === true) {
                  json["selected"] = "true";
              }
              else {
                  json["selected"] = "false";
              }
              if (this.value != null) {
                  json["value"] = this.value + '';
              }
              return json;
          };
      /**
       * Get Nexaweb tag name
       * @returns String Tag name
       */
      /**
       * Get Nexaweb tag name
       * @return {?} String Tag name
       */
      CheckboxComponent.prototype.getNxTagName = /**
       * Get Nexaweb tag name
       * @return {?} String Tag name
       */
          function () {
              return "checkBox";
          };
      /**
       * Get [[cd]] (Change detector) property
       * @returns The component's change detector reference
       */
      /**
       * Get [[cd]] (Change detector) property
       * @return {?} The component's change detector reference
       */
      CheckboxComponent.prototype.getChangeDetector = /**
       * Get [[cd]] (Change detector) property
       * @return {?} The component's change detector reference
       */
          function () {
              return this.cd;
          };
      /**
     * Set background-color
     * @param String background color
     */
      /**
       * Set background-color
       * @param {?} color
       * @return {?}
       */
      CheckboxComponent.prototype.setBgColor = /**
       * Set background-color
       * @param {?} color
       * @return {?}
       */
          function (color) {
              this['elementRef'].nativeElement.children[0]['style']['background-color'] = color;
          };
      /**
       * @return {?}
       */
      CheckboxComponent.prototype.getBgColor = /**
       * @return {?}
       */
          function () {
              return this['elementRef'].nativeElement.children[0]['style']['background-color'];
          };
      CheckboxComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-check-box',
                      template: "<div class=\"checkbox {{cssClass}} {{(disabled ===true) ? 'disabled':''}}\" [ngClass]=\"{'hidden': visible != true}\" (contextmenu)=\"handleOnContextMenu($event)\">\n  <label>\n    <input class=\"input-checkbox\" [disabled]=\"disabled\" [id]=\"id\" type=\"checkbox\" value=\"\" (click)=\"onClick($event)\" (mousedown)=\"onMouseDown($event)\" (change)=\"handleStateChange()\" [(ngModel)]=\"checked\" [required]=\"required\">\n    <span [style.margin-left.px]=\"marginLeft\" [style.margin-right.px]=\"marginRight\">{{text}}</span>\n  </label>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return CheckboxComponent; })
                          }
                      ],
                      styles: ["div>label>input{position:static;vertical-align:middle}"]
                  }] }
      ];
      /** @nocollapse */
      CheckboxComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      CheckboxComponent.propDecorators = {
          value: [{ type: i0.Input }],
          checked: [{ type: i0.Input }],
          isChecked: [{ type: i0.Input }],
          onCommand: [{ type: i0.Output }],
          onStateChange: [{ type: i0.Output }],
          onSelect: [{ type: i0.Output }]
      };
      return CheckboxComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var CheckboxModule = /** @class */ (function () {
      function CheckboxModule() {
      }
      CheckboxModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          forms.FormsModule,
                          forms.ReactiveFormsModule,
                      ],
                      declarations: [CheckboxComponent],
                      exports: [
                          CheckboxComponent,
                          forms.FormsModule,
                          forms.ReactiveFormsModule,
                      ],
                      entryComponents: [
                          CheckboxComponent
                      ]
                  },] }
      ];
      return CheckboxModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ListItemDirective = /** @class */ (function () {
      function ListItemDirective() {
      }
      ListItemDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-list-item'
                  },] }
      ];
      /** @nocollapse */
      ListItemDirective.ctorParameters = function () { return []; };
      ListItemDirective.propDecorators = {
          value: [{ type: i0.Input }],
          text: [{ type: i0.Input }],
          selected: [{ type: i0.Input }],
          isChecked: [{ type: i0.Input }]
      };
      return ListItemDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ListBoxDirective = /** @class */ (function () {
      function ListBoxDirective() {
      }
      ListBoxDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-list-box'
                  },] }
      ];
      /** @nocollapse */
      ListBoxDirective.ctorParameters = function () { return []; };
      ListBoxDirective.propDecorators = {
          listItems: [{ type: i0.ContentChildren, args: [ListItemDirective,] }]
      };
      return ListBoxDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var FauxComboElement = /** @class */ (function () {
      function FauxComboElement(comboBox, valuePair) {
          this.comboBox = comboBox;
          this.valuePair = valuePair;
      }
      /* istanbul ignore next */
      /**
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
      FauxComboElement.prototype.setAttribute = /**
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
          function (name, value) {
              if (name === AttributesEnum.SELECTED || name === "selected") {
                  if (value == true || value == "true") {
                      this.comboBox.setSelectItem(this.valuePair, true);
                  }
                  else {
                      this.comboBox.setSelectItem(null, true);
                  }
                  this.valuePair.selected = value == true || value == "true";
                  this.comboBox.detectChanges();
              }
              else if (name === AttributesEnum.VISIBLE || name === "visible") {
                  this.valuePair.visible = value;
              }
              else if (name === AttributesEnum.TEXT || name === "text") {
                  this.valuePair.text = value;
              }
              else if (name === AttributesEnum.VALUE || name === "value") {
                  this.valuePair.value = value;
              }
              else {
                  console.error("FauxComboElement: Unknown attribute: " + name);
              }
          };
      /**
       * @return {?}
       */
      FauxComboElement.prototype.getLocalName = /**
       * @return {?}
       */
          function () {
              return FauxComboElement.LOCAL_NAME;
          };
      /* istanbul ignore next */
      /**
       * @param {?} name
       * @return {?}
       */
      FauxComboElement.prototype.getAttribute = /**
       * @param {?} name
       * @return {?}
       */
          function (name) {
              if (name === "value" || name === AttributesEnum.VALUE) {
                  return this.valuePair.value;
              }
              if (name === "text" || name === AttributesEnum.TEXT) {
                  return this.valuePair.text;
              }
              if (name === "selected" || name === AttributesEnum.SELECTED) {
                  return this.valuePair.selected == true ? "true" : "false";
              }
          };
      /* istanbul ignore next */
      /**
       * @return {?}
       */
      FauxComboElement.prototype.getValue = /**
       * @return {?}
       */
          function () {
              return this.getAttribute("value");
          };
      /* istanbul ignore next */
      /**
       * @return {?}
       */
      FauxComboElement.prototype.getText = /**
       * @return {?}
       */
          function () {
              return this.getAttribute("text");
          };
      /**
       * @return {?}
       */
      FauxComboElement.prototype.isSelected = /**
       * @return {?}
       */
          function () {
              return this.getAttribute("selected");
          };
      /**
       * @param {?} boo
       * @return {?}
       */
      FauxComboElement.prototype.setChecked = /**
       * @param {?} boo
       * @return {?}
       */
          function (boo) {
              this.setAttribute("selected", boo);
          };
      FauxComboElement.LOCAL_NAME = "listItem";
      return FauxComboElement;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for combo box component
   */
  var ComboBoxComponent = /** @class */ (function (_super) {
      __extends(ComboBoxComponent, _super);
      // V3R1-UT-NSD-643 修正 END
      /**
       *
       * @param parent see [[BaseComponent]]
       * @param sessionService see [[BaseComponent]]
       * @param elementRef see [[BaseComponent]]
       * @param cd ChangeDetector reference provided by Angular to control change detection
       * @param renderer see [[BaseComponent]]
       */
      function ComboBoxComponent(parent, sessionService, elementRef, cd, renderer, ngZone) {
          var _this_1 = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this_1.cd = cd;
          _this_1.ngZone = ngZone;
          _this_1.onCommand = new i0.EventEmitter();
          _this_1.hoveredStyle = {
              'color': '#0000cd',
              'background-color': '#ff9c00'
          };
          _this_1.defaultStyle = {
              'color': '#333333',
              'background-color': '#ffffff'
          };
          _this_1.dropdownElementId = "dropdown-" + _this_1.id;
          _this_1.isDropup = false;
          _this_1.isDropdownOpen = false;
          /* istanbul ignore next */
          _this_1.dropdownMenuStyle = {};
          /* istanbul ignore next */
          _this_1.hasInputFocus = false;
          _this_1.isFirstKeyDown = true;
          _this_1.parentScrollHanlder = function () {
              /* istanbul ignore else */
              if (_this_1.dropdown != null) {
                  _this_1.dropdown.hide();
              }
          };
          return _this_1;
      }
      Object.defineProperty(ComboBoxComponent.prototype, "listItems", {
          /**
           * Accessor method for [[_listItems]] property
           */
          get: /**
           * Accessor method for [[_listItems]] property
           * @return {?}
           */ function () {
              return this._listItems;
          },
          set: /**
           * @param {?} items
           * @return {?}
           */ function (items) {
              this._listItems = items;
              if (this._listItems != null) {
                  /** @type {?} */
                  var selectedItem = _.find(this._listItems, function (item) { return item.selected === true; });
                  if (selectedItem != null) {
                      this.setSelectItem(selectedItem);
                  }
              }
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(ComboBoxComponent.prototype, "selectedItemText", {
          /**
           * Accessor method for [[selectedItem.text]] property
           */
          get: /**
           * Accessor method for [[selectedItem.text]] property
           * @return {?}
           */ function () {
              return this.selectedItem ? this.selectedItem.text : '';
          },
          enumerable: true,
          configurable: true
      });
      /**
       * @return {?}
       */
      ComboBoxComponent.prototype.ngOnDestroy = /**
       * @return {?}
       */
          function () {
              var _this_1 = this;
              if (this.parentScrollHanlder != null && this.parentScroller != null) {
                  this.ngZone.runOutsideAngular(function () {
                      _this_1.parentScroller.removeEventListener("scroll", _this_1.parentScrollHanlder);
                  });
              }
              this.parentScrollHanlder = null;
              this.parentScroller = null;
              if (this.dropdown && this.dropdown.isOpen) {
                  this.dropdown.hide();
              }
              this.dropdown = null;
              _super.prototype.ngOnDestroy.call(this);
          };
      /**
       * Initialize component and set css stye attribute for dropdown element
       */
      /**
       * Initialize component and set css stye attribute for dropdown element
       * @return {?}
       */
      ComboBoxComponent.prototype.ngOnInit = /**
       * Initialize component and set css stye attribute for dropdown element
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              this.dropdownElementId = "dropdown-" + this.id;
              // Ensure controlWidth is exists and is a number
              if (parseInt(this.controlWidth, 10)) {
                  this.dropdownMenuStyle['min-width'] = this.controlWidth + 'px !important';
              }
              if (this.alignHorizontal) {
                  this.alignHorizontal = this.alignHorizontal;
              }
          };
      /**
       * Set up list items and set value/text on them. Sets selected item
       */
      /**
       * Set up list items and set value/text on them. Sets selected item
       * @return {?}
       */
      ComboBoxComponent.prototype.ngAfterViewInit = /**
       * Set up list items and set value/text on them. Sets selected item
       * @return {?}
       */
          function () {
              var _this_1 = this;
              _super.prototype.ngAfterViewInit.call(this);
              if (this.listBox != null && this.listBox.listItems != null) {
                  this._listItems = [];
                  this.listBox.listItems.forEach(function (item) {
                      /** @type {?} */
                      var text = item.text || '';
                      /** @type {?} */
                      var value = item.value || '';
                      _this_1._listItems.push({
                          text: text ? text : value,
                          value: value ? value : text,
                          selected: item.selected === true || item.selected === "true" || item.isChecked === true || item.isChecked === "true"
                      });
                  });
                  /** @type {?} */
                  var selectedItem = _.find(this._listItems, function (item) { return item.selected === true; });
                  if (selectedItem != null) {
                      this.setSelectItem(selectedItem);
                  }
              }
              this.loadDataFromDef();
              this.cd.detectChanges();
              this.subscribeToParentScroller();
          };
      /**
       * Sets combobox list using array of values
       * @param values Array of [[ValuePairs]] to set combobox options.
       */
      /**
       * Sets combobox list using array of values
       * @param {?} values Array of [[ValuePairs]] to set combobox options.
       * @return {?}
       */
      ComboBoxComponent.prototype.initializeComboboxValues = /**
       * Sets combobox list using array of values
       * @param {?} values Array of [[ValuePairs]] to set combobox options.
       * @return {?}
       */
          function (values) {
              if (values != null) {
                  this._listItems = _.map(values, function (item) {
                      item.text = item.text || '';
                      return {
                          text: item.text,
                          value: item.value,
                          selected: item.selected
                      };
                  });
                  /** @type {?} */
                  var selectedItem = _.find(this._listItems, function (item) { return item.selected === true; });
                  if (selectedItem != null) {
                      this.setSelectItem(selectedItem);
                  }
                  else {
                      this.setSelectItem(this._listItems[0]);
                  }
              }
              else {
                  this._listItems = [];
              }
              this.cd.markForCheck();
          };
      /**
       * Focuses and selects item that is clicked
       * @param item Item to focus and select
       * @param event Mouse click event on item
       * @event onCommand
       */
      /**
       * Focuses and selects item that is clicked
       * \@event onCommand
       * @param {?} item Item to focus and select
       * @param {?} event Mouse click event on item
       * @return {?}
       */
      ComboBoxComponent.prototype.selectItem = /**
       * Focuses and selects item that is clicked
       * \@event onCommand
       * @param {?} item Item to focus and select
       * @param {?} event Mouse click event on item
       * @return {?}
       */
          function (item, event) {
              this.inputElement.nativeElement.focus();
              this.setSelectItem(item);
              if (this.emitInternalOnCommand() === false) {
                  this.onCommand.emit();
              }
          };
      /* istanbul ignore next */
      /**
       * Sets selected item that matches item [[ValuePair]] parameter
       * @param item Item to set as selected
       * @param forceCd Force change detection
       */
      /**
       * Sets selected item that matches item [[ValuePair]] parameter
       * @param {?} item Item to set as selected
       * @param {?=} forceCd Force change detection
       * @return {?}
       */
      ComboBoxComponent.prototype.setSelectItem = /**
       * Sets selected item that matches item [[ValuePair]] parameter
       * @param {?} item Item to set as selected
       * @param {?=} forceCd Force change detection
       * @return {?}
       */
          function (item, forceCd) {
              if (forceCd === void 0) {
                  forceCd = false;
              }
              this.selectedItem = item;
              if (forceCd === true) {
                  this.cd.markForCheck();
              }
              //notify internal changes (for internal use only)
              this._notifyInternalChangeCb();
          };
      /* istanbul ignore next */
      /**
       * Sets selected item based on value
       * @param value Value to set
       */
      /**
       * Sets selected item based on value
       * @param {?} value Value to set
       * @return {?}
       */
      ComboBoxComponent.prototype.setSelectValue = /**
       * Sets selected item based on value
       * @param {?} value Value to set
       * @return {?}
       */
          function (value) {
              if (this._listItems != null) {
                  /** @type {?} */
                  var temp = _.find(this._listItems, function (item) { return item.value == value || (value != null && value !== "" && value === item.text); });
                  if (temp != null) {
                      this.setSelectItem(temp);
                      this.cd.markForCheck();
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Event handler for mouse click on input
       * @param event Mouse click event on input element.
       */
      /**
       * Event handler for mouse click on input
       * @param {?} event Mouse click event on input element.
       * @param {?} dropdown
       * @return {?}
       */
      ComboBoxComponent.prototype.onInputClick = /**
       * Event handler for mouse click on input
       * @param {?} event Mouse click event on input element.
       * @param {?} dropdown
       * @return {?}
       */
          function (event, dropdown) {
              event.stopPropagation();
              this.hoveredStyle = {
                  'color': '#0000cd',
                  'background-color': '#ff9c00'
              };
              dropdown.toggle(true);
              if (parseInt(this.controlWidthComboBox, 10)) {
                  this.dropdownMenuStyle['width'] = (parseInt(this.controlWidthComboBox)) + 'px';
              }
              else {
                  this.dropdownMenuStyle['width'] = (parseInt(this.elementRef.nativeElement.children[0].children[0].children[0].clientWidth) + 20) + 'px';
              }
          };
      /* istanbul ignore next */
      /**
       * @param {?} e
       * @param {?} dropdown
       * @return {?}
       */
      ComboBoxComponent.prototype.onKeyDown = /**
       * @param {?} e
       * @param {?} dropdown
       * @return {?}
       */
          function (e, dropdown) {
              if (!this.isDropdownOpen && (e.keyCode === 38 || e.keyCode === 40)) { // 38 = UP arrow, 40 = DOWN arrow
                  // 38 = UP arrow, 40 = DOWN arrow
                  this.hoveredStyle = this.defaultStyle;
                  e.preventDefault();
                  dropdown.toggle(true);
                  /** @type {?} */
                  var idx = 0;
                  // トグルが閉じられている状態でキーボードのUP、DOWNが押下された場合
                  if (e.keyCode === 38) {
                      // UPの場合、プルダウンの最終に移動してしまうため、最後の要素を設定とする
                      idx = this._listItems.length - 1;
                  }
                  else {
                      // DOWNの場合、最初の要素を設定とする
                      idx = 0;
                  }
                  // :hover状態のインデックスを更新
                  this.hoveredItem = idx;
                  // プルダウンを設定
                  this.selectItem(this._listItems[idx], null);
                  // フラグを更新
                  this.isFirstKeyDown = false;
              }
              else if (this.isDropdownOpen && (e.keyCode === 38 || e.keyCode === 40)) { // 38 = UP arrow, 40 = DOWN arrow
                  // 38 = UP arrow, 40 = DOWN arrow
                  // トグルが開いている状態かつキーボードのUP、DOWNが押下された場合
                  this.hoveredStyle = this.defaultStyle;
                  e.preventDefault();
                  /** @type {?} */
                  var idx = 0;
                  if (e.keyCode === 38) { // 38 = UP arrow
                      // 38 = UP arrow
                      if (this.isFirstKeyDown || this.hoveredItem === 0) {
                          // トグルが開かれた状態で、初めてキーが押下された場合
                          // :hover状態のプルダウン要素が一番上の場合
                          // UPは最後の要素を設定する
                          idx = this._listItems.length - 1;
                      }
                      else {
                          // 上記以外
                          // :hover状態の要素の１つ上を設定
                          idx = this.hoveredItem - 1;
                      }
                  }
                  else { // 40 = DOWN arrow
                      // 40 = DOWN arrow
                      if (this.isFirstKeyDown || this.hoveredItem === (this._listItems.length - 1)) {
                          // トグルが開かれた状態で、初めてキーが押下された場合
                          // :hover状態のプルダウン要素が一番下の場合
                          // 初めの要素を設定
                          idx = 0;
                      }
                      else {
                          // 上記以外
                          // :hover状態の要素の１つ下を設定
                          idx = this.hoveredItem + 1;
                      }
                  }
                  // :hover状態のインデックスを更新
                  this.hoveredItem = idx;
                  // プルダウンを設定
                  this.selectItem(this._listItems[idx], null);
                  // フラグを更新
                  this.isFirstKeyDown = false;
              }
              this.cd.markForCheck();
              // V3R1-UT-NSD-643 修正 END
          };
      /**
       * @return {?}
       */
      ComboBoxComponent.prototype.adjustPulldownWidth = /**
       * @return {?}
       */
          function () {
              this.hoveredStyle = {
                  'color': '#0000cd',
                  'background-color': '#ff9c00'
              };
              if (parseInt(this.controlWidthComboBox, 10)) {
                  this.dropdownMenuStyle['width'] = (parseInt(this.controlWidthComboBox)) + 'px';
              }
              else {
                  this.dropdownMenuStyle['width'] = (parseInt(this.elementRef.nativeElement.children[0].children[0].children[0].clientWidth) + 20) + 'px';
              }
          };
      /* istanbul ignore next */
      /**
       * @return {?}
       */
      ComboBoxComponent.prototype.toggleStatus = /**
       * @return {?}
       */
          function () {
              if (!this.isDropdownOpen) {
                  /** @type {?} */
                  var id = _.get(this.getParentScrollView(), "id");
                  /** @type {?} */
                  var _this_2 = this;
                  $("#" + id).on('scroll mousewheel', function (e) {
                      if (_this_2.dropdown != null) {
                          _this_2.dropdown.hide();
                      }
                      // return false;
                  });
                  /** @type {?} */
                  var parentView = /** @type {?} */ (this.getParentView());
                  if (parentView != null && parentView.dialog != null && parentView.dialog.modalContent && parentView.dialog.modalContent != null) {
                      /** @type {?} */
                      var parentPanel = parentView.dialog && parentView.dialog.modalContent.nativeElement;
                      /** @type {?} */
                      var comboBox = this.inputElement.nativeElement.parentElement;
                      /** @type {?} */
                      var parentPos = parentPanel.getBoundingClientRect();
                      /** @type {?} */
                      var childrenPos = comboBox.getBoundingClientRect();
                      /** @type {?} */
                      var distanceToBottom = parentPos.bottom - childrenPos.bottom;
                      /** @type {?} */
                      var distanceToTop = childrenPos.top - parentPos.top;
                      /** @type {?} */
                      var heightOfBox = this._listItems ? Math.min(18 * this._listItems.length, 200) : 200;
                      if (distanceToBottom < 200) {
                          if (distanceToTop > 200) {
                              $(".dropdown-menu").parent().attr("class", "dropup");
                          }
                          else if (distanceToTop > distanceToBottom) {
                              $(".dropdown-menu").parent().attr("class", "dropup");
                          }
                          else {
                              $(".dropdown-menu").parent().attr("class", "dropdown");
                          }
                      }
                      else {
                          $(".dropdown-menu").parent().attr("class", "dropdown");
                      }
                  }
                  else if (parentView != null) {
                      /** @type {?} */
                      var dialog = $("#" + parentView["mainScreenId"]);
                      if (dialog != null && dialog.children() && dialog.children()[0] && dialog.children()[0] != null) {
                          /** @type {?} */
                          var comboBox = this.inputElement.nativeElement.parentElement;
                          /** @type {?} */
                          var parentPos = dialog.children()[0].getBoundingClientRect();
                          /** @type {?} */
                          var childrenPos = comboBox.getBoundingClientRect();
                          /** @type {?} */
                          var distanceToBottom = parentPos.bottom - childrenPos.bottom;
                          /** @type {?} */
                          var distanceToTop = childrenPos.top - parentPos.top;
                          /** @type {?} */
                          var heightOfBox = this._listItems ? Math.min(18 * this._listItems.length, 200) : 200;
                          if (distanceToBottom < 200) {
                              if (distanceToTop > 200) {
                                  $(".dropdown-menu").parent().attr("class", "dropup");
                              }
                              else if (distanceToTop > distanceToBottom) {
                                  $(".dropdown-menu").parent().attr("class", "dropup");
                              }
                              else {
                                  $(".dropdown-menu").parent().attr("class", "dropdown");
                              }
                          }
                          else {
                              $(".dropdown-menu").parent().attr("class", "dropdown");
                          }
                      }
                  }
              }
              else {
                  /** @type {?} */
                  var id = _.get(this.getParentScrollView(), "id");
                  $("#" + id).off('scroll mousewheel');
                  // V3R1-UT-NSD-643 修正 START
                  // トグルが閉じられたタイミングでフラグを戻す
                  this.isFirstKeyDown = true;
                  // V3R1-UT-NSD-643 修正 END
                  this.dropdown.hide();
              }
              this.isDropdownOpen = !this.isDropdownOpen;
          };
      /**
       * Sets the selected combobox option to 'val' parameter.
       * @param val Value to set.
       */
      /**
       * Sets the selected combobox option to 'val' parameter.
       * @param {?} val Value to set.
       * @return {?}
       */
      ComboBoxComponent.prototype.setValue = /**
       * Sets the selected combobox option to 'val' parameter.
       * @param {?} val Value to set.
       * @return {?}
       */
          function (val) {
              this.setSelectValue(val);
              this.cd.markForCheck();
          };
      /**
       * Sets the selected combobox option that matches 'text' parameter.
       * @param text Text of option to mark as selected.
       */
      /**
       * Sets the selected combobox option that matches 'text' parameter.
       * @param {?} text Text of option to mark as selected.
       * @return {?}
       */
      ComboBoxComponent.prototype.setText = /**
       * Sets the selected combobox option that matches 'text' parameter.
       * @param {?} text Text of option to mark as selected.
       * @return {?}
       */
          function (text) {
              if (text == null) {
                  this.setSelectItem(null);
                  this.cd.markForCheck();
              }
              else if (this._listItems != null) {
                  /** @type {?} */
                  var temp = _.find(this._listItems, function (item) { return item.text == text; });
                  if (temp != null) {
                      this.setSelectItem(temp);
                      this.cd.markForCheck();
                  }
              }
          };
      /**
       * Returns the selected item value.
       * @returns Value of the selected item in the combobox.
       */
      /**
       * Returns the selected item value.
       * @return {?} Value of the selected item in the combobox.
       */
      ComboBoxComponent.prototype.getValue = /**
       * Returns the selected item value.
       * @return {?} Value of the selected item in the combobox.
       */
          function () {
              return this.selectedItem ? this.selectedItem.value : null;
          };
      /**
       * Returns the text of the selected item.
       * @returns String value of selected item text.
       */
      /**
       * Returns the text of the selected item.
       * @return {?} String value of selected item text.
       */
      ComboBoxComponent.prototype.getText = /**
       * Returns the text of the selected item.
       * @return {?} String value of selected item text.
       */
          function () {
              return this.selectedItem ? this.selectedItem.text : "";
          };
      /**
       * Focuses the native input element
       */
      /**
       * Focuses the native input element
       * @return {?}
       */
      ComboBoxComponent.prototype.setFocus = /**
       * Focuses the native input element
       * @return {?}
       */
          function () {
              this.inputElement.nativeElement.focus();
          };
      /**
       * Set the background color of the input element.
       * @param bgColor A CSS color string value. Should be hexadecimal or valid color name.
       */
      /**
       * Set the background color of the input element.
       * @param {?} bgColor A CSS color string value. Should be hexadecimal or valid color name.
       * @return {?}
       */
      ComboBoxComponent.prototype.setBgColor = /**
       * Set the background color of the input element.
       * @param {?} bgColor A CSS color string value. Should be hexadecimal or valid color name.
       * @return {?}
       */
          function (bgColor) {
              this.inputElement.nativeElement.style.backgroundColor = bgColor;
          };
      /**
       * Finds a list item by text.
       * @param text Item text to search for
       * @returns [[ValuePair]] in [[_listItems]] that matches text
       */
      /**
       * Finds a list item by text.
       * @param {?} text Item text to search for
       * @return {?} [[ValuePair]] in [[_listItems]] that matches text
       */
      ComboBoxComponent.prototype.findItemByText = /**
       * Finds a list item by text.
       * @param {?} text Item text to search for
       * @return {?} [[ValuePair]] in [[_listItems]] that matches text
       */
          function (text) {
              return _.find(this._listItems, function (item) { return item.text == text; });
          };
      /**
       * Gets all list items that are children of the combobox component.
       * @returns Collection of list items.
       */
      /**
       * Gets all list items that are children of the combobox component.
       * @return {?} Collection of list items.
       */
      ComboBoxComponent.prototype.getChildren = /**
       * Gets all list items that are children of the combobox component.
       * @return {?} Collection of list items.
       */
          function () {
              var _this_1 = this;
              /** @type {?} */
              var result = new Vector();
              if (this._listItems != null) {
                  _.forEach(this._listItems, function (item) {
                      result.add(new FauxComboElement(_this_1, item));
                  });
              }
              return result;
          };
      /**
       * Outputs JSON object that describes component
       * @returns Object
       */
      /**
       * Outputs JSON object that describes component
       * @return {?} Object
       */
      ComboBoxComponent.prototype.toJson = /**
       * Outputs JSON object that describes component
       * @return {?} Object
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              json.value = this.getValue();
              return json;
          };
      /**
       * Returns string name of the component
       * @returns String
       */
      /**
       * Returns string name of the component
       * @return {?} String
       */
      ComboBoxComponent.prototype.getLocalName = /**
       * Returns string name of the component
       * @return {?} String
       */
          function () {
              return "comboBox";
          };
      /**
       * Returns string tag name of component
       */
      /**
       * Returns string tag name of component
       * @return {?}
       */
      ComboBoxComponent.prototype.getNxTagName = /**
       * Returns string tag name of component
       * @return {?}
       */
          function () {
              return "comboBox";
          };
      /* istanbul ignore next */
      /**
       * @returns [[ChangeDetector]] for the component
       */
      /**
       * @return {?} [[ChangeDetector]] for the component
       */
      ComboBoxComponent.prototype.getChangeDetector = /**
       * @return {?} [[ChangeDetector]] for the component
       */
          function () {
              return this.cd;
          };
      /**
       * Sets combobox values based on definition map
       * @return {?}
       */
      ComboBoxComponent.prototype.loadDataFromDef = /**
       * Sets combobox values based on definition map
       * @return {?}
       */
          function () {
              /** @type {?} */
              var defId = this.getId();
              if (this.editor != null && this.editor.length > 0) {
                  defId = this.editor.substring(1);
              }
              /** @type {?} */
              var def = this.getSession().getDef(defId);
              if (def != null && def.valueList != null) {
                  /** @type {?} */
                  var attribute = def.attribute;
                  this.initializeComboboxValues(_.map(def.valueList, function (item) {
                      return {
                          value: item["value"],
                          text: item["name"],
                          selected: item["selectFlg"] === "true" || item["selectFlg"] === true
                      };
                  }));
                  this.setAttributeFromDef();
              }
          };
      /**
       * Removes focus from input element and sets unfocus background
       * @event OnBeforeActiveLost
       */
      /**
       * Removes focus from input element and sets unfocus background
       * \@event OnBeforeActiveLost
       * @return {?}
       */
      ComboBoxComponent.prototype.inputFocusOut = /**
       * Removes focus from input element and sets unfocus background
       * \@event OnBeforeActiveLost
       * @return {?}
       */
          function () {
              var _this_1 = this;
              if (!this.hasInputFocus)
                  return; //On the IE, prevent to fire focusout event without focusin event.(this occurs when error-dialog is showed.)issue#1433NG(2)
              if (this.inputElement.nativeElement.ownerDocument.activeElement === this.inputElement.nativeElement)
                  return; //prevent focuslost whenever active process is changed.
              this.setBgColor('');
              this.onBeforeActiveLost.emit();
              this.hasInputFocus = false;
              setTimeout(function () {
                  /** @type {?} */
                  var $active = $(":focus");
                  if ($active.length > 0 && !$active.is("body") && $active.closest(".vt-combo-box,[vt-arrow-navigatable-container]").length == 0) {
                      if (_this_1.dropdown && _this_1.dropdown.isOpen) {
                          _this_1.dropdown.hide();
                      }
                  }
              }, 10);
          };
      /**
       * if the interval between focusin and focusout event is less than 200ms, don't fire focusin.
       */
      /**
       * if the interval between focusin and focusout event is less than 200ms, don't fire focusin.
       * @return {?}
       */
      ComboBoxComponent.prototype.inputFocusIn = /**
       * if the interval between focusin and focusout event is less than 200ms, don't fire focusin.
       * @return {?}
       */
          function () {
              this.hasInputFocus = true;
          };
      /**
       * Delegate method wrapper for native browser preventDefault
       * @param event Event object
       */
      /**
       * Delegate method wrapper for native browser preventDefault
       * @param {?} event Event object
       * @return {?}
       */
      ComboBoxComponent.prototype.preventDefault = /**
       * Delegate method wrapper for native browser preventDefault
       * @param {?} event Event object
       * @return {?}
       */
          function (event) {
              event.preventDefault();
              event.stopPropagation();
              this.inputElement.nativeElement.focus();
          };
      /**
       * @return {?}
       */
      ComboBoxComponent.prototype.subscribeToParentScroller = /**
       * @return {?}
       */
          function () {
              var _this_1 = this;
              /** @type {?} */
              var scrollParent = $(this.elementRef.nativeElement).scrollParent();
              if (scrollParent != null && scrollParent[0] instanceof HTMLElement) {
                  this.parentScroller = scrollParent[0];
                  this.ngZone.runOutsideAngular(function () {
                      _this_1.parentScroller.addEventListener("scroll", _this_1.parentScrollHanlder);
                  });
              }
          };
      ComboBoxComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-combo-box',
                      template: "<div [id]=\"id\" class=\"btn-group dropdown vt-combo-box {{cssClass}} {{!disabled}}select\"\n  [style.height]=\"controlHeight\"\n  [style.width.px]=\"controlWidth\"\n  [style.margin]=\"controlMargin\"\n  [ngClass]=\"{'hidden': visible != true}\"\n  (contextmenu)=\"handleOnContextMenu($event)\"\n  #dropdown=\"bs-dropdown\"\n  (onShown)=\"toggleStatus()\"\n  (onHidden)=\"toggleStatus()\"\n  dropdown [isDisabled]=\"disabled === true\" container=\"body\" [dropup]=\"isDropup\">\n  <div class=\"input-group\">\n    <input #input class=\"form-control combobox-input-box\" type=\"text\" [value]=\"selectedItemText\" [style.text-align]=\"alignHorizontal\"\n      (focusin)=\"inputFocusIn()\" (focusout)=\"inputFocusOut()\" (click)=\"onInputClick($event, dropdown)\" [readonly]=\"disabled !== true\" [disabled]=\"disabled\" (keydown)=\"onKeyDown($event,dropdown)\"/>\n    <span class=\"input-group-btn\">\n      <button id=\"button\" (mousedown)=\"preventDefault($event)\" (click)=\"adjustPulldownWidth()\" dropdownToggle type=\"button\" class=\"btn combo-btn dropdown-toggle\" style=\"width: 20px\" tabindex=\"-1\">\n        <span class=\"caret\"></span>\n      </button>\n    </span>\n  </div>\n  <ul\n    *dropdownMenu\n    [id]=\"dropdownElementId\"\n    class=\"dropdown-menu combobox-dropdown\"\n    role=\"menu\"\n    [ngStyle]=\"dropdownMenuStyle\"\n    vt-arrow-navigatable-container\n    [activeParent]=\"input\"\n    (onTab)=\"dropdown.hide()\"\n  >\n    <li *ngFor=\"let item of listItems; index as i\">\n      <ng-template [ngIf]=\"item.visible !== false && item.visible !== 'false'\">\n        <a *ngIf=\"item.text != null && item.text !== ''\"\n          class=\"dropdown-item menuItem\"\n          (mousedown)=\"preventDefault($event)\"\n          (click)=\"selectItem(item, $event)\"\n          [ngStyle]=\"hoveredItem == i ? hoveredStyle : defaultStyle\"\n          (mouseover)=\"hoveredItem = i\"\n          (keydown)=\"hoveredItem = i; onKeyDown($event,dropdown)\"\n          vt-arrow-navigatable-item>{{item.text}}</a>\n        <a *ngIf=\"item.text == null || item.text === ''\"\n          class=\"dropdown-item\"\n          (mousedown)=\"preventDefault($event)\"\n          [ngStyle]=\"hoveredItem == i ? hoveredStyle : defaultStyle\"\n          (mouseover)=\"hoveredItem = i\"\n          vt-arrow-navigatable-item\n          (keydown)=\"hoveredItem = i; onKeyDown($event,dropdown)\"\n          (click)=\"selectItem(item, $event)\">\n          &nbsp;\n        </a>\n      </ng-template>\n    </li>\n  </ul>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      encapsulation: i0.ViewEncapsulation.None,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return ComboBoxComponent; })
                          }
                      ],
                      styles: ["bs-dropdown-container ul.dropdown-menu.combobox-dropdown{max-height:225px;margin-top:-3px!important;overflow:auto;overflow-x:hidden}.combobox-dropdown>li>a{padding:3px 10px 3px 5px;font-size:9px!important;margin-bottom:0!important}.combobox-dropdown>li>a:hover{color:#0000cd;background-color:#ff9c00}.vt-combo-box .form-control[readonly]{background:#fff;cursor:default;margin-bottom:3px}bs-dropdown-container{z-index:10000}.combo-btn,.combo-btn:hover{color:#000;background-color:#fff;border-color:#ccc;margin-bottom:3px}.combo-btn[disabled]{color:grey;background-color:#ccc;border-color:#ccc;margin-bottom:3px}.falseselect div.input-group .form-control{color:grey;background-color:#eee}.mouse-hover{background:#ff9c00!important}.dropup .dropdown-menu{margin-bottom:26px}"]
                  }] }
      ];
      /** @nocollapse */
      ComboBoxComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 },
              { type: i0.NgZone }
          ];
      };
      ComboBoxComponent.propDecorators = {
          onCommand: [{ type: i0.Output }],
          listBox: [{ type: i0.ContentChild, args: [ListBoxDirective,] }],
          inputElement: [{ type: i0.ViewChild, args: ['input',] }],
          dropdown: [{ type: i0.ViewChild, args: ["dropdown", { read: ngxBootstrap.BsDropdownDirective },] }],
          listItems: [{ type: i0.Input }]
      };
      return ComboBoxComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ArrowNavigatableItemDirective = /** @class */ (function () {
      function ArrowNavigatableItemDirective(element, zone, renderer) {
          this.element = element;
          this.zone = zone;
          this.renderer = renderer;
          this.vtArrowOnMouseEnter = new i0.EventEmitter();
          this.vtArrowOnMouseLeave = new i0.EventEmitter();
          this.jq = $(this.element.nativeElement);
          this.renderer.setAttribute(this.element.nativeElement, "tabindex", "-1");
      }
      /**
       * @return {?}
       */
      ArrowNavigatableItemDirective.prototype.handleOnBlur = /**
       * @return {?}
       */
          function () {
              this.blur();
          };
      /**
       * @return {?}
       */
      ArrowNavigatableItemDirective.prototype.handleOnFocus = /**
       * @return {?}
       */
          function () {
              if (this.parent != null) {
                  this.parent.activeItem = this;
              }
          };
      /**
       * @return {?}
       */
      ArrowNavigatableItemDirective.prototype.ngOnDestroy = /**
       * @return {?}
       */
          function () {
              this.jq = null;
              this.element = null;
              this.zone = null;
          };
      /**
       * @return {?}
       */
      ArrowNavigatableItemDirective.prototype.focus = /**
       * @return {?}
       */
          function () {
              var _this = this;
              this.zone.run(function () {
                  _this.jq.mouseover();
                  _this.jq.focus();
                  _this.renderer.addClass(_this.element.nativeElement, "mouse-hover");
              });
          };
      /**
       * @return {?}
       */
      ArrowNavigatableItemDirective.prototype.blur = /**
       * @return {?}
       */
          function () {
              var _this = this;
              this.zone.run(function () {
                  _this.jq.mouseout();
                  _this.jq.blur();
                  _this.renderer.removeClass(_this.element.nativeElement, "mouse-hover");
              });
          };
      /**
       * @return {?}
       */
      ArrowNavigatableItemDirective.prototype.select = /**
       * @return {?}
       */
          function () {
              ( /** @type {?} */(this.element.nativeElement)).click();
          };
      /**
       * @return {?}
       */
      ArrowNavigatableItemDirective.prototype.hover = /**
       * @return {?}
       */
          function () {
              var _this = this;
              this.zone.run(function () {
                  //(this.element.nativeElement as HTMLElement).dispatchEvent(new Event("mouseenter"));
                  //(this.element.nativeElement as HTMLElement).dispatchEvent(new Event("mouseenter"));
                  _this.vtArrowOnMouseEnter.emit();
              });
          };
      /**
       * @return {?}
       */
      ArrowNavigatableItemDirective.prototype.leave = /**
       * @return {?}
       */
          function () {
              var _this = this;
              this.zone.run(function () {
                  _this.vtArrowOnMouseLeave.emit();
              });
          };
      ArrowNavigatableItemDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: '[vt-arrow-navigatable-item]',
                  },] }
      ];
      /** @nocollapse */
      ArrowNavigatableItemDirective.ctorParameters = function () {
          return [
              { type: i0.ElementRef },
              { type: i0.NgZone },
              { type: i0.Renderer2 }
          ];
      };
      ArrowNavigatableItemDirective.propDecorators = {
          vtArrowOnMouseEnter: [{ type: i0.Output }],
          vtArrowOnMouseLeave: [{ type: i0.Output }],
          handleOnBlur: [{ type: i0.HostListener, args: ["blur",] }],
          handleOnFocus: [{ type: i0.HostListener, args: ["focus",] }]
      };
      return ArrowNavigatableItemDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ArrowNavigatableContainerDirective = /** @class */ (function () {
      function ArrowNavigatableContainerDirective(zone, element) {
          var _this = this;
          this.zone = zone;
          this.element = element;
          this.onItemHover = new i0.EventEmitter();
          this.onTab = new i0.EventEmitter();
          this.keydownHandler = function (event) { return _this.handleKeydown(event); };
          this.zone.runOutsideAngular(function () {
              (document).addEventListener("keydown", _this.keydownHandler);
          });
      }
      Object.defineProperty(ArrowNavigatableContainerDirective.prototype, "navigatableItemsQuery", {
          set: /**
           * @param {?} items
           * @return {?}
           */ function (items) {
              if (items == null) {
                  this.navigatableItems = null;
              }
              else {
                  this.navigatableItems = items.toArray();
              }
          },
          enumerable: true,
          configurable: true
      });
      /**
       * @return {?}
       */
      ArrowNavigatableContainerDirective.prototype.ngOnDestroy = /**
       * @return {?}
       */
          function () {
              var _this = this;
              this.navigatableItems = null;
              this.zone.runOutsideAngular(function () {
                  (document).removeEventListener("keydown", _this.keydownHandler);
              });
              this.element = null;
              this.keydownHandler = null;
              this.navigatableItems = null;
              this.activeItem = null;
          };
      /**
       * @param {?} event
       * @return {?}
       */
      ArrowNavigatableContainerDirective.prototype.handleKeydown = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (document.activeElement === this.element.nativeElement || document.activeElement === this.activeParent || this.isActiveElementDirectChildren()) {
                  //check for arrow key and do stuff
                  if (event.keyCode === 38 || event.key === "ArrowUp") {
                      this.moveUp();
                  }
                  else if (event.keyCode === 40 || event.key === "ArrowDow") {
                      this.moveDown();
                  }
                  else if (event.keyCode === 13 || event.key === "Enter" ||
                      event.keyCode === 32 || event.key === "Space") {
                      this.select();
                  }
                  else if (event.keyCode === 39 || event.key === "ArrowRight") {
                      if (this.activeItem != null) {
                          this.activeItem.hover();
                      }
                  }
                  else if (event.keyCode === 37 || event.key === "ArrowLeft") {
                      if (this.activeItem != null) {
                          this.activeItem.leave();
                      }
                  }
                  else if (event.keyCode === 9 || event.key === "Tab") {
                      this.onTab.emit();
                  }
              }
          };
      /**
       * @return {?}
       */
      ArrowNavigatableContainerDirective.prototype.moveUp = /**
       * @return {?}
       */
          function () {
              var _this = this;
              //can only go up if there are any items above
              if (this.hasItems()) {
                  /** @type {?} */
                  var idx = 0;
                  if (this.activeItem != null) {
                      this.activeItem.blur();
                      idx = _.findIndex(this.navigatableItems, function (item) { return item === _this.activeItem; });
                  }
                  else if (this.isActiveElementDirectChildren()) {
                      idx = _.findIndex(this.navigatableItems, function (item) { return item.element.nativeElement === document.activeElement; });
                      if (idx >= 0) {
                          this.navigatableItems[idx].blur();
                      }
                  }
                  if (idx < this.navigatableItems.length && idx > 0) {
                      this.activeItem = this.navigatableItems[idx - 1];
                      this.activeItem.focus();
                      this.onItemHover.emit(this.activeItem);
                  }
                  else if (idx === 0) {
                      this.activeItem = this.navigatableItems[this.navigatableItems.length - 1];
                      this.activeItem.focus();
                      this.onItemHover.emit(this.activeItem);
                  }
              }
          };
      /**
       * @return {?}
       */
      ArrowNavigatableContainerDirective.prototype.moveDown = /**
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.hasItems()) {
                  /** @type {?} */
                  var idx = -1;
                  if (this.activeItem != null) {
                      idx = _.findIndex(this.navigatableItems, function (item) { return item === _this.activeItem; });
                      this.activeItem.blur();
                  }
                  else if (this.isActiveElementDirectChildren()) {
                      idx = _.findIndex(this.navigatableItems, function (item) { return item.element.nativeElement === document.activeElement; });
                  }
                  if (idx < this.navigatableItems.length - 1) {
                      this.activeItem = this.navigatableItems[idx + 1];
                      this.activeItem.focus();
                      this.onItemHover.emit(this.activeItem);
                  }
                  else if (idx == this.navigatableItems.length - 1) {
                      this.activeItem = this.navigatableItems[0];
                      this.activeItem.focus();
                      this.onItemHover.emit(this.activeItem);
                  }
              }
          };
      /**
       * @return {?}
       */
      ArrowNavigatableContainerDirective.prototype.select = /**
       * @return {?}
       */
          function () {
              if (this.activeItem != null) {
                  this.activeItem.select();
              }
          };
      /**
       * @return {?}
       */
      ArrowNavigatableContainerDirective.prototype.hasItems = /**
       * @return {?}
       */
          function () {
              return this.navigatableItems != null && this.navigatableItems.length > 0;
          };
      /**
       * @return {?}
       */
      ArrowNavigatableContainerDirective.prototype.isActiveElementDirectChildren = /**
       * @return {?}
       */
          function () {
              /** @type {?} */
              var retVal = false;
              if (document.activeElement != null && this.navigatableItems != null && this.navigatableItems.length > 0) {
                  retVal = _.findIndex(this.navigatableItems, function (item) { return item.element.nativeElement === document.activeElement; }) >= 0;
              }
              return retVal;
          };
      ArrowNavigatableContainerDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: '[vt-arrow-navigatable-container]'
                  },] }
      ];
      /** @nocollapse */
      ArrowNavigatableContainerDirective.ctorParameters = function () {
          return [
              { type: i0.NgZone },
              { type: i0.ElementRef }
          ];
      };
      ArrowNavigatableContainerDirective.propDecorators = {
          activeParent: [{ type: i0.Input }],
          onItemHover: [{ type: i0.Output }],
          onTab: [{ type: i0.Output }],
          navigatableItemsQuery: [{ type: i0.ContentChildren, args: [ArrowNavigatableItemDirective,] }]
      };
      return ArrowNavigatableContainerDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var KeyboardModule = /** @class */ (function () {
      function KeyboardModule() {
      }
      KeyboardModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [
                          ArrowNavigatableItemDirective,
                          ArrowNavigatableContainerDirective
                      ],
                      exports: [
                          ArrowNavigatableItemDirective,
                          ArrowNavigatableContainerDirective
                      ]
                  },] }
      ];
      return KeyboardModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ComboBoxModule = /** @class */ (function () {
      function ComboBoxModule() {
      }
      ComboBoxModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          ngxBootstrap.BsDropdownModule.forRoot(),
                          KeyboardModule
                      ],
                      declarations: [ComboBoxComponent, ListBoxDirective, ListItemDirective],
                      exports: [
                          ComboBoxComponent,
                          ListBoxDirective,
                          ListItemDirective,
                          ngxBootstrap.BsDropdownModule,
                          KeyboardModule
                      ],
                      entryComponents: [
                          ComboBoxComponent
                      ]
                  },] }
      ];
      return ComboBoxModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var DraggableDirective = /** @class */ (function () {
      function DraggableDirective(renderer, ngZone, sessionService) {
          var _this = this;
          this.renderer = renderer;
          this.ngZone = ngZone;
          this.sessionService = sessionService;
          this.positionAttrValues = ['absolute', 'fixed', 'relative'];
          this.isView = true;
          /**
           * \@Input
           */
          this.canDrag = true;
          this.canTrackMouseMove = false;
          this.mousePosition = {
              x: 0,
              y: 0
          };
          this.mouseDownHandler = function (event) { return _this.onMouseDownHandler(event); };
          this.mouseMoveHandler = _.throttle(function (event) { return _this.onMouseMoveHandler(event); }, 75);
          this.mouseUpHandler = function (event) { return _this.onMouseUpHandler(event); };
      }
      /**
       * @return {?}
       */
      DraggableDirective.prototype.addDragListeners = /**
       * @return {?}
       */
          function () {
              var _this = this;
              /** @type {?} */
              var dragElement = this.getDragElement();
              if (dragElement) {
                  this.ngZone.runOutsideAngular(function () {
                      dragElement.addEventListener('mousedown', _this.mouseDownHandler, true);
                      document.addEventListener('mouseup', _this.mouseUpHandler, true);
                      dragElement = null;
                  });
              }
          };
      /**
       * @return {?}
       */
      DraggableDirective.prototype.removeDragListeners = /**
       * @return {?}
       */
          function () {
              /** @type {?} */
              var dragElement = this.getDragElement();
              if (dragElement) {
                  dragElement.removeEventListener('mousedown', this.mouseDownHandler, true);
                  document.removeEventListener('mousemove', this.mouseMoveHandler, true); // 念のため置いておく
                  document.removeEventListener('mouseup', this.mouseUpHandler, true);
                  dragElement = null;
              }
          };
      /**
       * @return {?}
       */
      DraggableDirective.prototype.ngAfterViewInit = /**
       * @return {?}
       */
          function () {
              this.addDragListeners();
              if (this.isView) {
                  this.parentElement = this.parentPanel.nativeElement;
              }
              else {
                  this.parentElement = this.parentPanel.nativeElement.parentElement.parentElement.parentElement; //get div('modal-dialog')
              }
              if (this.canDrag && this.parentElement != null) ;
              else {
                  this.canDrag = false;
              }
          };
      /**
       * @return {?}
       */
      DraggableDirective.prototype.ngOnDestroy = /**
       * @return {?}
       */
          function () {
              this.removeDragListeners();
              delete this.renderer;
              delete this.ngZone;
              delete this.draggablePanel;
              delete this.mouseDownHandler;
              delete this.mouseMoveHandler;
              delete this.mouseUpHandler;
              delete this.parentPanel;
          };
      /**
       * @param {?} event
       * @return {?}
       */
      DraggableDirective.prototype.onMouseDownHandler = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              var _this = this;
              /** @type {?} */
              var dragElement = this.getDragElement();
              if (dragElement) {
                  this.ngZone.runOutsideAngular(function () {
                      document.addEventListener('mousemove', _this.mouseMoveHandler, true);
                      dragElement = null;
                  });
              }
              this.mousePosition = {
                  x: event.pageX,
                  y: event.pageY
              };
              if (this.canDrag) {
                  if (this.isView) { //for main dialog
                      /** @type {?} */
                      var bound = this.getBound(this.parentElement);
                      this.renderer.setStyle(this.parentElement, "position", "absolute");
                      this.renderer.setStyle(this.parentElement, "margin", "0");
                      this.applyTranslate(bound.x, bound.y);
                      this.moveWindowToTop();
                      this.canTrackMouseMove = true;
                  }
                  else { //for error/info dialog
                      /** @type {?} */
                      var bound = this.getBound(this.parentElement);
                      /** @type {?} */
                      var height = this.parentElement.offsetHeight + 'px';
                      /** @type {?} */
                      var width = this.parentElement.offsetWidth + 'px';
                      this.renderer.setStyle(this.parentElement, "position", "absolute");
                      this.renderer.setStyle(this.parentElement, "margin", "0");
                      this.renderer.setStyle(this.parentElement, 'height', height);
                      this.renderer.setStyle(this.parentElement, 'width', width);
                      this.applyTranslate(bound.x, bound.y);
                      this.canTrackMouseMove = true;
                  }
              }
          };
      /**
       * @param {?} event
       * @return {?}
       */
      DraggableDirective.prototype.onMouseMoveHandler = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (this.canDrag && this.canTrackMouseMove) {
                  /** @type {?} */
                  var currentMousePosition = {
                      x: event.pageX,
                      y: event.pageY
                  };
                  /** @type {?} */
                  var diffX = currentMousePosition.x - this.mousePosition.x;
                  /** @type {?} */
                  var diffY = currentMousePosition.y - this.mousePosition.y;
                  /** @type {?} */
                  var parentBound = this.getBound(this.parentElement);
                  /** @type {?} */
                  var newX = parentBound.x + diffX;
                  /** @type {?} */
                  var newY = parentBound.y + diffY;
                  this.applyTranslate(newX, newY);
                  this.mousePosition = currentMousePosition;
              }
          };
      /**
       * @param {?} event
       * @return {?}
       */
      DraggableDirective.prototype.onMouseUpHandler = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              /** @type {?} */
              var dragElement = this.getDragElement();
              if (dragElement) {
                  document.removeEventListener('mousemove', this.mouseMoveHandler, true);
                  dragElement = null;
              }
              if (this.canDrag && this.canTrackMouseMove) {
                  this.canTrackMouseMove = false;
              }
          };
      /**
       * @param {?} event
       * @return {?}
       */
      DraggableDirective.prototype.onClick = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (this.canDrag) {
                  if (this.isView)
                      this.moveWindowToTop();
              }
          };
      /**
       * @param {?} x
       * @param {?} y
       * @return {?}
       */
      DraggableDirective.prototype.applyTranslate = /**
       * @param {?} x
       * @param {?} y
       * @return {?}
       */
          function (x, y) {
              var _this = this;
              if (y > 0) {
                  this.ngZone.runOutsideAngular(function () {
                      /** @type {?} */
                      var top = 0;
                      /** @type {?} */
                      var topMax = 82;
                      if (_this.isView) {
                          top = Math.max(y, topMax);
                      }
                      else {
                          top = Math.max(y, 0);
                      }
                      if (_this.sessionService.dialogMaxTopPosition > 0 && top > _this.sessionService.dialogMaxTopPosition) {
                          top = _this.sessionService.dialogMaxTopPosition;
                      }
                      //#1587: in the as-is, there is no limit to where you can drag the window to the left/right
                      //left = Math.max(x, 0);
                      //#1587: in the as-is, there is no limit to where you can drag the window to the left/right
                      //left = Math.max(x, 0);
                      _this.renderer.setStyle(_this.parentElement, 'top', top + 'px');
                      _this.renderer.setStyle(_this.parentElement, 'left', x + 'px');
                  });
              }
          };
      /**
       * @return {?}
       */
      DraggableDirective.prototype.moveWindowToTop = /**
       * @return {?}
       */
          function () {
              this.sessionService.getMcoContainer().reStackView(this.viewId, this.screenIndex);
          };
      /**
       * @param {?} id
       * @return {?}
       */
      DraggableDirective.prototype.setViewId = /**
       * @param {?} id
       * @return {?}
       */
          function (id) {
              if (id != null) {
                  this.viewId = id;
              }
          };
      /**
       * @param {?} id
       * @return {?}
       */
      DraggableDirective.prototype.setTableId = /**
       * @param {?} id
       * @return {?}
       */
          function (id) {
              if (id != null) {
                  this.tableId = id;
              }
          };
      /**
       * @return {?}
       */
      DraggableDirective.prototype.getDragElement = /**
       * @return {?}
       */
          function () {
              if (this.vtDraggable === true && this.draggablePanel) {
                  return this.draggablePanel.nativeElement;
              }
              return null;
          };
      /**
       * @param {?} el
       * @return {?}
       */
      DraggableDirective.prototype.getBound = /**
       * @param {?} el
       * @return {?}
       */
          function (el) {
              /** @type {?} */
              var bound = /** @type {?} */ (el.getBoundingClientRect());
              return {
                  x: bound.x || bound.left,
                  y: bound.y || bound.top
              };
          };
      DraggableDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: '[vtDraggable]',
                      host: {
                          // '(dragstart)': 'onDragStart($event)',
                          // '(dragend)': 'onDragEnd($event)',
                          // '(drag)': 'onDrag($event)',
                          '(click)': 'onClick($event)'
                      }
                  },] }
      ];
      /** @nocollapse */
      DraggableDirective.ctorParameters = function () {
          return [
              { type: i0.Renderer2 },
              { type: i0.NgZone },
              { type: SessionService }
          ];
      };
      DraggableDirective.propDecorators = {
          vtDraggable: [{ type: i0.Input }],
          modal: [{ type: i0.Input, args: ["modal",] }],
          isView: [{ type: i0.Input }],
          title: [{ type: i0.Input }],
          canDrag: [{ type: i0.Input }],
          draggablePanel: [{ type: i0.ContentChild, args: ['draggablePanel', { read: i0.ElementRef },] }],
          parentPanel: [{ type: i0.ContentChild, args: ['myModal', { read: i0.ElementRef },] }]
      };
      return DraggableDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for managing dynamic views
   */
  var DynamicPagesService = /** @class */ (function () {
      /**
       *
       * @param viewFactory
       */
      function DynamicPagesService(viewFactory, sessionService) {
          this.viewFactory = viewFactory;
          this.sessionService = sessionService;
          this.dynamicViewsMap = [];
      }
      /* istanbul ignore next */
      /**
       * Set the [[viewContainer]] property to reference a [[ViewContainer]]
       * @param viewContainer
       */
      /**
       * Set the [[viewContainer]] property to reference a [[ViewContainer]]
       * @param {?} viewContainer
       * @return {?}
       */
      DynamicPagesService.prototype.registerViewContainer = /**
       * Set the [[viewContainer]] property to reference a [[ViewContainer]]
       * @param {?} viewContainer
       * @return {?}
       */
          function (viewContainer) {
              this.viewContainer = viewContainer;
          };
      /* istanbul ignore next */
      /**
       * Create a new [[ViewComponent]] instance
       * @param viewType
       * @param routeId
       */
      /**
       * Create a new [[ViewComponent]] instance
       * @param {?} viewType
       * @param {?=} routeId
       * @return {?}
       */
      DynamicPagesService.prototype.createDynamicView = /**
       * Create a new [[ViewComponent]] instance
       * @param {?} viewType
       * @param {?=} routeId
       * @return {?}
       */
          function (viewType, routeId) {
              var _this = this;
              if (routeId === void 0) {
                  routeId = null;
              }
              // For suppress warning (Circular dependency), it is not able to call ViewComponent's method directly here.
              if (DynamicPagesService.onCreateViewCloser) {
                  DynamicPagesService.onCreateViewCloser(this.sessionService, viewType, routeId);
              }
              if (this.sessionService.getMessagingService() != null) {
                  this.sessionService.getMessagingService().setFreezePushService(true);
              }
              /** @type {?} */
              var view = this.viewContainer.createComponent(this.viewFactory.resolveComponentFactory(viewType));
              this.dynamicViewsMap.push(view);
              view.instance.isDynamicPage = true;
              view.changeDetectorRef.detectChanges();
              return new Promise(function (r, j) {
                  //has route id?
                  if (routeId != null && routeId !== "") {
                      view.instance["routeId"] = routeId;
                  }
                  if (view.instance.viewIsInitialized === true) {
                      if (_this.sessionService.getMessagingService() != null) {
                          _this.sessionService.getMessagingService().setFreezePushService(false);
                      }
                      r(view.instance);
                  }
                  else {
                      /** @type {?} */
                      var sub_1 = view.instance.viewInitialized.subscribe(function () {
                          sub_1.unsubscribe();
                          if (_this.sessionService.getMessagingService() != null) {
                              _this.sessionService.getMessagingService().setFreezePushService(false);
                          }
                          r(view.instance);
                      });
                  }
              });
          };
      /* istanbul ignore next */
      /**
       * Destroy [[ViewComponent]] instance reference
       * @param viewToRemove
       * @param immediate
       */
      /**
       * Destroy [[ViewComponent]] instance reference
       * @param {?} viewToRemove
       * @param {?} immediate
       * @return {?}
       */
      DynamicPagesService.prototype.removeView = /**
       * Destroy [[ViewComponent]] instance reference
       * @param {?} viewToRemove
       * @param {?} immediate
       * @return {?}
       */
          function (viewToRemove, immediate) {
              /** @type {?} */
              var deadView = _.find(this.dynamicViewsMap, function (view) {
                  return view.instance.uniqueId == viewToRemove.uniqueId;
              });
              this.dynamicViewsMap = _.filter(this.dynamicViewsMap, function (view) {
                  return view.instance.uniqueId != viewToRemove.uniqueId;
              });
              if (viewToRemove.isDestroyed !== true && deadView != null) {
                  if (immediate) {
                      deadView.destroy();
                  }
                  else {
                      setTimeout(function () {
                          deadView.destroy();
                      }, 1);
                  }
              }
          };
      DynamicPagesService.onCreateViewCloser = null;
      DynamicPagesService.decorators = [
          { type: i0.Injectable, args: [{
                      providedIn: 'root'
                  },] }
      ];
      /** @nocollapse */
      DynamicPagesService.ctorParameters = function () {
          return [
              { type: i0.ComponentFactoryResolver },
              { type: SessionService }
          ];
      };
      /** @nocollapse */ DynamicPagesService.ngInjectableDef = i0.defineInjectable({ factory: function DynamicPagesService_Factory() { return new DynamicPagesService(i0.inject(i0.ComponentFactoryResolver), i0.inject(SessionService)); }, token: DynamicPagesService, providedIn: "root" });
      return DynamicPagesService;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Document object class to access virtual DOM
   */
  var UiDocument = /** @class */ (function () {
      function UiDocument() {
      }
      /**
       * Get [[MenuItemComponent]] by id key in [[menuItemElementMap]]
       * @param id
       */
      /**
       * Get [[MenuItemComponent]] by id key in [[menuItemElementMap]]
       * @param {?} id
       * @return {?}
       */
      UiDocument.getMenuComponent = /**
       * Get [[MenuItemComponent]] by id key in [[menuItemElementMap]]
       * @param {?} id
       * @return {?}
       */
          function (id) {
              if (this.menuItemElementMap == null) {
                  return null;
              }
              return this.menuItemElementMap.get(id);
          };
      /**
       * Alias for [[findElementById]]
       * @param id
       */
      /**
       * Alias for [[findElementById]]
       * @param {?} id
       * @return {?}
       */
      UiDocument.getElementById = /**
       * Alias for [[findElementById]]
       * @param {?} id
       * @return {?}
       */
          function (id) {
              return UiDocument.findElementById(id);
          };
      /**
       * Search for and return a component by id
       * @param id ViewComponent id
       */
      /**
       * Search for and return a component by id
       * @param {?} id ViewComponent id
       * @return {?}
       */
      UiDocument.findElementById = /**
       * Search for and return a component by id
       * @param {?} id ViewComponent id
       * @return {?}
       */
          function (id) {
              var e_1, _a;
              if (id == null)
                  return null;
              /** @type {?} */
              var comp = null;
              if (!appInjector())
                  return;
              /** @type {?} */
              var mcoContainer = appInjector().get(McoContainerService);
              if (mcoContainer != null) {
                  comp = mcoContainer.getViewById(id);
                  if (comp == null && mcoContainer.activeView() != null) {
                      comp = mcoContainer.activeView().findElementById(id);
                  }
                  if (comp == null) {
                      comp = this.getMenuComponent(id);
                  }
                  if (comp == null) {
                      /** @type {?} */
                      var views = mcoContainer.getViews();
                      try {
                          for (var views_1 = __values(views), views_1_1 = views_1.next(); !views_1_1.done; views_1_1 = views_1.next()) {
                              var view = views_1_1.value;
                              if (view.id === id) {
                                  comp = view;
                              }
                              else {
                                  comp = view.findElementById(id);
                              }
                              if (comp != null) {
                                  break;
                              }
                          }
                      }
                      catch (e_1_1) {
                          e_1 = { error: e_1_1 };
                      }
                      finally {
                          try {
                              if (views_1_1 && !views_1_1.done && (_a = views_1.return))
                                  _a.call(views_1);
                          }
                          finally {
                              if (e_1)
                                  throw e_1.error;
                          }
                      }
                  }
                  //our component is in a subview?
                  if (comp == null && mcoContainer.getActionForwardHandlerMap() != null) {
                      /** @type {?} */
                      var actionForwardIt = mcoContainer.getActionForwardHandlerMap().values();
                      /** @type {?} */
                      var forwardItResult = actionForwardIt.next();
                      while (forwardItResult.done !== true) {
                          comp = forwardItResult.value.findElementById(id);
                          if (comp != null) {
                              break;
                          }
                          forwardItResult = actionForwardIt.next();
                      }
                  }
              }
              else {
                  comp = this.getMenuComponent(id);
              }
              //MenuItem???? for special case where right click event of inner comp of table column
              //is trigger before row context menu is trigger (row context menu display popup menu)
              //this special component is MenuItemBuilder so it only support setAttribute
              if (comp == null) {
                  /** @type {?} */
                  var mcoContainer_1 = appInjector().get(McoContainerService);
                  if (mcoContainer_1 != null) {
                      /** @type {?} */
                      var activeView = mcoContainer_1.activeView();
                      if (activeView != null && activeView.hasPopupMenu()) {
                          /** @type {?} */
                          var contextMenuService = appInjector().get(ContextMenuService);
                          if (contextMenuService != null) {
                              /** @type {?} */
                              var popupMenuItems = contextMenuService.getContextMenuItems(activeView.getFirstPopupMenuId());
                              if (popupMenuItems != null) {
                                  /** @type {?} */
                                  var menuItem = popupMenuItems.find(function (item) {
                                      return item.id === id;
                                  });
                                  if (menuItem != null) {
                                      //fake component, specifically for menu
                                      comp = /** @type {?} */ (MenuItemBuilder.fromMenuItem(menuItem));
                                      contextMenuService._trackMenuItemBuilderForMemRelease(/** @type {?} */ (comp));
                                  }
                              }
                          }
                      }
                  }
              }
              return comp;
          };
      /**
       * Get JSON representation of component
       * @returns Object JSON metadata for this component
       */
      /**
       * Get JSON representation of component
       * @return {?} Object JSON metadata for this component
       */
      UiDocument.toJson = /**
       * Get JSON representation of component
       * @return {?} Object JSON metadata for this component
       */
          function () {
              var e_2, _a;
              /** @type {?} */
              var views = appInjector().get(McoContainerService).getViews();
              /** @type {?} */
              var json = {};
              try {
                  for (var views_2 = __values(views), views_2_1 = views_2.next(); !views_2_1.done; views_2_1 = views_2.next()) {
                      var view = views_2_1.value;
                      json[view.getId()] = view.toJson();
                  }
              }
              catch (e_2_1) {
                  e_2 = { error: e_2_1 };
              }
              finally {
                  try {
                      if (views_2_1 && !views_2_1.done && (_a = views_2.return))
                          _a.call(views_2);
                  }
                  finally {
                      if (e_2)
                          throw e_2.error;
                  }
              }
              return json;
          };
      /**
       * Set attribute with value on component by id
       * @param id Component id
       * @param attributeName Name of attribute to set
       * @param value Value of attribute to set
       */
      /**
       * Set attribute with value on component by id
       * @param {?} id Component id
       * @param {?} attributeName Name of attribute to set
       * @param {?} value Value of attribute to set
       * @return {?}
       */
      UiDocument.setElementAttribute = /**
       * Set attribute with value on component by id
       * @param {?} id Component id
       * @param {?} attributeName Name of attribute to set
       * @param {?} value Value of attribute to set
       * @return {?}
       */
          function (id, attributeName, value) {
              /** @type {?} */
              var element = this.getElementById(id);
              if (element != null) {
                  element.setAttribute(attributeName, value);
              }
              else {
                  Logger.warn("Unable to set attribute to element id: " + id + ", doesn't exists");
              }
          };
      /**
       * Get the value of an attribute if it exists, otherwise return null
       * @param id Component id
       * @param attributeName Name of attribute value to get
       */
      /**
       * Get the value of an attribute if it exists, otherwise return null
       * @param {?} id Component id
       * @param {?} attributeName Name of attribute value to get
       * @return {?}
       */
      UiDocument.getElementAttribute = /**
       * Get the value of an attribute if it exists, otherwise return null
       * @param {?} id Component id
       * @param {?} attributeName Name of attribute value to get
       * @return {?}
       */
          function (id, attributeName) {
              /** @type {?} */
              var element = this.getElementById(id);
              if (element != null) {
                  return element.getAttribute(attributeName);
              }
              else {
                  Logger.warn("Unable to get attribute to element id: " + id + ", doesn't exists");
              }
              return null;
          };
      /**
       * Add a [[MenuItemComponent]] to internal [[menuItemElementMap]]
       * @param id Key to use in map for menu item being added
       * @param menuItemElement Component to add to map
       */
      /**
       * Add a [[MenuItemComponent]] to internal [[menuItemElementMap]]
       * @param {?} id Key to use in map for menu item being added
       * @param {?} menuItemElement Component to add to map
       * @return {?}
       */
      UiDocument.registerMenuItemElement = /**
       * Add a [[MenuItemComponent]] to internal [[menuItemElementMap]]
       * @param {?} id Key to use in map for menu item being added
       * @param {?} menuItemElement Component to add to map
       * @return {?}
       */
          function (id, menuItemElement) {
              if (this.menuItemElementMap == null) {
                  this.menuItemElementMap = new Map();
              }
              this.menuItemElementMap.set(id, menuItemElement);
              //track menu item for sending to server
              if (menuItemElement.item != null && menuItemElement.item.parentScreenId != null) {
                  /** @type {?} */
                  var mcoContainer = appInjector().get(McoContainerService);
                  if (mcoContainer != null) {
                      /** @type {?} */
                      var activeView = mcoContainer.getViewById(menuItemElement.item.parentScreenId);
                      if (activeView != null) {
                          activeView.trackInactiveMenuItem(menuItemElement);
                      }
                  }
              }
          };
      /**
       * Remove [[MenuItemComponent]] from internal [[menuItemElementMap]]
       * @param id Key of menu item to remove from map
       */
      /**
       * Remove [[MenuItemComponent]] from internal [[menuItemElementMap]]
       * @param {?} id Key of menu item to remove from map
       * @return {?}
       */
      UiDocument.unregisterMenuItemElement = /**
       * Remove [[MenuItemComponent]] from internal [[menuItemElementMap]]
       * @param {?} id Key of menu item to remove from map
       * @return {?}
       */
          function (id) {
              if (this.menuItemElementMap != null) {
                  this.menuItemElementMap.delete(id);
              }
          };
      /**
       * Sets [[ComboboxComponent]] values
       * @param id Combobox component id
       * @param values Initial values to set on combobox component
       */
      /**
       * Sets [[ComboboxComponent]] values
       * @param {?} id Combobox component id
       * @param {?} values Initial values to set on combobox component
       * @return {?}
       */
      UiDocument.initializeComboBoxValues = /**
       * Sets [[ComboboxComponent]] values
       * @param {?} id Combobox component id
       * @param {?} values Initial values to set on combobox component
       * @return {?}
       */
          function (id, values) {
              /** @type {?} */
              var comp = /** @type {?} */ (this.findElementById(id));
              if (comp != null) {
                  comp.initializeComboboxValues(values);
              }
              else {
                  console.warn("Unable to initialie combo: " + id);
              }
          };
      /* istanbul ignore next */
      /**
       * Focus the parent tab of this [[elementId]]
       * @param elementId the element id where we want its parent tab to be focused
       */
      /**
       * Focus the parent tab of this [[elementId]]
       * @param {?} elementId the element id where we want its parent tab to be focused
       * @return {?}
       */
      UiDocument.focusParentTab = /**
       * Focus the parent tab of this [[elementId]]
       * @param {?} elementId the element id where we want its parent tab to be focused
       * @return {?}
       */
          function (elementId) {
              if (elementId != null) {
                  /** @type {?} */
                  var comp_1 = this.findElementById(elementId);
                  if (comp_1 != null && typeof comp_1["focusParentTab"] === "function") {
                      comp_1["focusParentTab"]();
                  }
                  if (comp_1 != null) {
                      appInjector().get(i0.NgZone).runOutsideAngular(function () {
                          setTimeout(function () {
                              comp_1.setFocus();
                          }, 100);
                      });
                  }
              }
          };
      UiDocument.menuItemElementMap = null;
      return UiDocument;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /** @type {?} */
  var tabbable = tabbableFRollup;
  /**
   * Class for dialog component
   */
  var DialogComponent = /** @class */ (function (_super) {
      __extends(DialogComponent, _super);
      /* istanbul ignore next */
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param cd [[ChangeDetectorRef]] to inject
       * @param renderer see [[BaseComponent]]
       * @param dynamicPageService [[DynamicPageService]] instance to inject
       * @param zone Angular zone
       */
      function DialogComponent(parent, sessionService, elementRef, cd, renderer, dynamicPageService, zone) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this.dynamicPageService = dynamicPageService;
          _this.zone = zone;
          _this.draggable = true;
          _this._modal = "false";
          _this._center = false;
          _this.modalSize = 'large';
          _this.resizeable = false;
          _this.onClosing = new i0.EventEmitter();
          _this.modalWidth = '100%';
          _this.modalHeight = '100%';
          _this.modalBodyHeight = '100%';
          _this.isMaximize = false;
          _this.isUnMaximize = false;
          // 画面リサイズ対応 Start
          _this.resizeDialog = false;
          _this.modalBodyMinHeight = null;
          _this.modalBodyDivHeight = null;
          _this.modalBodyDivWidth = null;
          _this.modalBodyPercentHeight = null;
          // 画面リサイズ対応 End
          _this.resizeFlg = false;
          _this.modalOriginalLeft = 0;
          _this.modalOriginalTop = 0;
          /* istanbul ignore next */
          _this.bsModalClass = ["vt-dialog", "modal", "fade", "in"];
          _this.viewRouteUrl = '';
          _this.docClickHandler = function (event) {
              _this.handleDocClickEvent(event);
          };
          _this.modalFocusOutHandler = function (event) {
              _this.checkFocusOut(event);
          };
          _this.keydownHandler = function (event) {
              _this.checkKey(event);
          };
          return _this;
      }
      Object.defineProperty(DialogComponent.prototype, "modal", {
          get: /**
           * @return {?}
           */ function () {
              return this._modal;
          },
          //modal is default to false, when true, it is blocking
          set: /**
           * @param {?} modal
           * @return {?}
           */ function (modal) {
              this._modal = modal;
              this.updateModalDialogStyle();
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(DialogComponent.prototype, "centered", {
          set: /**
           * @param {?} boo
           * @return {?}
           */ function (boo) {
              if (typeof boo === 'string') {
                  this._center = boo === 'true' ? true : false;
              }
              else {
                  this._center = boo;
              }
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(DialogComponent.prototype, "windowTitle", {
          //alias
          set: /**
           * @param {?} title
           * @return {?}
           */ function (title) {
              this.title = title;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Set [[viewRouteUrl]] property
       * @param viewRouteUrl
       */
      /**
       * Set [[viewRouteUrl]] property
       * @param {?} viewRouteUrl
       * @return {?}
       */
      DialogComponent.prototype.setViewRouteUrl = /**
       * Set [[viewRouteUrl]] property
       * @param {?} viewRouteUrl
       * @return {?}
       */
          function (viewRouteUrl) {
              this.viewRouteUrl = viewRouteUrl;
          };
      /**
       * Set draggable directive id and [[id]]
       */
      /**
       * Set draggable directive id and [[id]]
       * @return {?}
       */
      DialogComponent.prototype.resetId = /**
       * Set draggable directive id and [[id]]
       * @return {?}
       */
          function () {
              this.updateDraggableDirectiveId();
              _super.prototype.resetId.call(this);
              this.cd.detectChanges();
          };
      /**
       * 一覧画面をテンプレートを表示している画面で横スクロールがでてしまう事象を回避するためのメソッド
       * 初回リサイズする
       */
      /**
       * 一覧画面をテンプレートを表示している画面で横スクロールがでてしまう事象を回避するためのメソッド
       * 初回リサイズする
       * @return {?}
       */
      DialogComponent.prototype.dialogResize = /**
       * 一覧画面をテンプレートを表示している画面で横スクロールがでてしまう事象を回避するためのメソッド
       * 初回リサイズする
       * @return {?}
       */
          function () {
              /* istanbul ignore else */
              if (this.resizeFlg === false) {
                  //this.resizeExecute();
                  this.resizeFlg = true;
                  this.setDisabledDialogWidth();
              }
          };
      /**
     * 一覧画面をテンプレートを表示している画面で横スクロールがでてしまう事象を回避するためのメソッド
     * リサイズを行う
     */
      /**
       * 一覧画面をテンプレートを表示している画面で横スクロールがでてしまう事象を回避するためのメソッド
       * リサイズを行う
       * @return {?}
       */
      DialogComponent.prototype.resizeExecute = /**
       * 一覧画面をテンプレートを表示している画面で横スクロールがでてしまう事象を回避するためのメソッド
       * リサイズを行う
       * @return {?}
       */
          function () {
              var _this = this;
              /** @type {?} */
              var bound = /** @type {?} */ (( /** @type {?} */(this.modalElement.nativeElement.firstChild.lastElementChild)).getBoundingClientRect());
              /** @type {?} */
              var newX = bound.right - bound.left + 20;
              this.zone.runOutsideAngular(function () {
                  _this.renderer.setStyle(_this.modalElement.nativeElement.firstChild.lastElementChild, 'width', newX + 'px');
              });
              this.cd.detectChanges();
          };
      /* istanbul ignore next */
      /**
       * Init lifecycle. Sets [[viewId]]
       */
      /**
       * Init lifecycle. Sets [[viewId]]
       * @return {?}
       */
      DialogComponent.prototype.ngOnInit = /**
       * Init lifecycle. Sets [[viewId]]
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              this.viewId = this.id;
          };
      /* istanbul ignore next */
      /**
       * Destroy lifecycle. Cleans up references
       */
      /**
       * Destroy lifecycle. Cleans up references
       * @return {?}
       */
      DialogComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Cleans up references
       * @return {?}
       */
          function () {
              _super.prototype.ngOnDestroy.call(this);
              this.modalDialog = null;
              this.modalContent = null;
              if (this.viewContainer != null) {
                  this.viewContainer.clear();
                  this.viewContainer = null;
              }
              if (this.draggablePanel != null) {
                  this.draggablePanel.clear();
                  this.draggablePanel = null;
              }
              if (this.docClickHandler != null) {
                  document.removeEventListener("mousedown", this.docClickHandler);
              }
              if (this.modalFocusOutHandler != null) {
                  ( /** @type {?} */(this.modalElement.nativeElement)).removeEventListener("focusout", this.modalFocusOutHandler, true);
              }
              if (this.keydownHandler) {
                  ( /** @type {?} */(this.modalElement.nativeElement)).removeEventListener("keydown", this.keydownHandler, true);
              }
              this.docClickHandler = null;
              this.modalFocusOutHandler = null;
              this.keydownHandler = null;
              this.draggableDirective = null;
              this.modalElement = null;
              this._tabbables = null;
          };
      /**
       * After view init lifecycle. Sets initial dialog height/width and positioning
       */
      /**
       * After view init lifecycle. Sets initial dialog height/width and positioning
       * @return {?}
       */
      DialogComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Sets initial dialog height/width and positioning
       * @return {?}
       */
          function () {
              var _this = this;
              _super.prototype.ngAfterViewInit.call(this);
              //add 80px for grid padding
              this.modalWidth = parseInt(this.controlWidth) + 80;
              this.modalHeight = parseInt(this.controlHeight) + 80;
              // 画面リサイズ対応 Start
              if (this.resizeDialog) {
                  this.modalBodyPercentHeight = "calc(100% - 25px)"; //modal-header分を削って設定
                  this.modalBodyDivHeight = "100%";
                  this.modalBodyDivWidth = "100%";
                  this.modalBodyMinHeight = "auto";
              }
              else {
                  this.modalBodyHeight = parseInt(this.controlHeight) - 25; //modal-header分を削って設定
              }
              // 画面リサイズ対応 End
              this.cd.detectChanges();
              if (this.modal !== "true" && this.modal !== true) {
                  this.setModalLessPosition();
                  this.bsModalClass.push("modaless");
                  this.cd.detectChanges();
              }
              else {
                  //disable buttons
                  $(".header").addClass("header-disabled");
                  $(".footer").addClass("footer-disabled");
              }
              this.setInitialPosition(this.initialPosition);
              this.updateDraggableDirectiveId();
              this.setDisabledDialogWidth();
              // if(this.resizeDialog){ 一時的にコメントアウト
              $(this.modalElement.nativeElement).resizable({
                  handles: 'n, e, s, w, ne, se, sw, nw',
                  minWidth: 150,
                  minHeight: 20,
                  resize: function (event, ui) {
                      //top場所制限設定
                      if (ui.position.top <= 82) {
                          ui.position.top = 82;
                          return;
                      }
                      ui.element.css("min-height", "");
                      ui.element.css("min-width", "");
                      $(_this.modalDialog.nativeElement).css("height", ui.size.height);
                      $(_this.modalDialog.nativeElement).css("width", ui.size.width);
                      $(_this.modalContent.nativeElement).css("height", ui.size.height);
                      $(_this.modalContent.nativeElement).css("width", ui.size.width);
                      $(_this.body.nativeElement).css("min-height", "calc(100% - 25px)");
                      if (_this.tableId != null) {
                          /** @type {?} */
                          var table = /** @type {?} */ (UiDocument.getElementById(_this.tableId));
                          if (table != null) {
                              table.tableResize();
                          }
                      }
                  }
              });
              $(this.modalElement.nativeElement).on("resizestop", function () {
                  _this.setDisabledDialogWidth();
              });
              // }
              this._tabbables = tabbable(this.body.nativeElement);
              this.zone.runOutsideAngular(function () {
                  document.addEventListener("mousedown", _this.docClickHandler);
                  ( /** @type {?} */(_this.modalElement.nativeElement)).addEventListener("focusout", _this.modalFocusOutHandler, true);
                  ( /** @type {?} */(_this.modalElement.nativeElement)).addEventListener("keydown", _this.keydownHandler, true);
              });
          };
      /**
       * Set the width of disabled-dialog with the width of the modal-content
       * @return {?}
       */
      DialogComponent.prototype.setDisabledDialogWidth = /**
       * Set the width of disabled-dialog with the width of the modal-content
       * @return {?}
       */
          function () {
              /** @type {?} */
              var element = this.modalElement.nativeElement;
              this.renderer.setStyle(element.querySelector('.disabled-dialog'), 'width', element.querySelector('.modal-content').offsetWidth + 'px');
              this.renderer.setStyle(element.querySelector('.disabled-dialog'), 'height', element.querySelector('.modal-content').offsetHeight + 'px');
          };
      /**
       * Sets the [[draggableDirective]] view id to the dialog instance [[id]]
       * @return {?}
       */
      DialogComponent.prototype.updateDraggableDirectiveId = /**
       * Sets the [[draggableDirective]] view id to the dialog instance [[id]]
       * @return {?}
       */
          function () {
              if (this.draggableDirective != null) {
                  this.draggableDirective.setViewId(this.id);
                  this.draggableDirective.setTableId(this.tableId);
                  this.draggableDirective.screenIndex = this.screenIndex;
              }
          };
      /**
       * Set position of window component
       * @return {?}
       */
      DialogComponent.prototype.setModalLessPosition = /**
       * Set position of window component
       * @return {?}
       */
          function () {
              /** @type {?} */
              var bound = /** @type {?} */ (( /** @type {?} */(this.modalElement.nativeElement.firstChild)).getBoundingClientRect());
              /** @type {?} */
              var left = (bound.x || bound.left) + "px";
              /** @type {?} */
              var top = (Math.max(bound.y || bound.top, 120)) + "px";
              this.renderer.setStyle(this.modalElement.nativeElement, "left", left);
              this.renderer.setStyle(this.modalElement.nativeElement, "top", top);
          };
      /**
       * Get the native HTML element of this dialog
       * @returns DOM element
       */
      /**
       * Get the native HTML element of this dialog
       * @return {?} DOM element
       */
      DialogComponent.prototype.getElement = /**
       * Get the native HTML element of this dialog
       * @return {?} DOM element
       */
          function () {
              return this.elementRef.nativeElement;
          };
      /* istanbul ignore next */
      /**
       * Event handler for click on close button. Closes the window
       * @param event
       * @param immediate
       */
      /**
       * Event handler for click on close button. Closes the window
       * @param {?=} event
       * @param {?=} immediate
       * @return {?}
       */
      DialogComponent.prototype.close = /**
       * Event handler for click on close button. Closes the window
       * @param {?=} event
       * @param {?=} immediate
       * @return {?}
       */
          function (event, immediate) {
              if (event === void 0) {
                  event = null;
              }
              if (immediate === void 0) {
                  immediate = false;
              }
              // this.bsModalClass = ["vt-dialog", "modal", "fade", "out"];
              //this.cd.detectChanges();
              if (event != null) {
                  event.stopPropagation();
              }
              if (this.modal === "true" || this.modal === true) {
                  $(".header").removeClass("header-disabled");
                  $(".footer").removeClass("footer-disabled");
              }
              if (this.getParent() != null && this.getParent().isView() && this.getParent().isDynamicView()) {
                  this.dynamicPageService.removeView(/** @type {?} */ (this.getParent()), immediate);
              }
              else {
                  if (this.getSession() != null && this.getSession().getRouteNavigatorService() != null) {
                      this.getSession().getRouteNavigatorService().destroyRoute(this.viewRouteUrl);
                  }
                  else {
                      console.error("Unable to change route, session or route navigation service is not defined");
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Set [[disabled]] property value
       * @param boo Value for disabled property
       */
      /**
       * Set [[disabled]] property value
       * @param {?} boo Value for disabled property
       * @return {?}
       */
      DialogComponent.prototype.setDisabled = /**
       * Set [[disabled]] property value
       * @param {?} boo Value for disabled property
       * @return {?}
       */
          function (boo) {
              this.disabled = boo;
              $(this.modalElement.nativeElement).resizable("option", "disabled", boo); //Don't remove this. This makes disabled-dialog not to be resizable.
              $(this.modalElement.nativeElement.querySelector('.modal-content')).disabled = boo; //I am not sure why this is needed.
          };
      /**
       * Sets the dialogs 'z-index' CSS property
       * @param newZIndex
       */
      /**
       * Sets the dialogs 'z-index' CSS property
       * @param {?} newZIndex
       * @return {?}
       */
      DialogComponent.prototype.updateZIndex = /**
       * Sets the dialogs 'z-index' CSS property
       * @param {?} newZIndex
       * @return {?}
       */
          function (newZIndex) {
              if (this.modalElement != null && this.renderer != null) {
                  this.renderer.setStyle(this.modalElement.nativeElement, "z-index", newZIndex);
              }
              this.setInactiveDialogStyle();
          };
      /* istanbul ignore next */
      /**
       * Set inactive window style if this dialog is not the current active dialog
       */
      /**
       * Set inactive window style if this dialog is not the current active dialog
       * @return {?}
       */
      DialogComponent.prototype.setInactiveDialogStyle = /**
       * Set inactive window style if this dialog is not the current active dialog
       * @return {?}
       */
          function () {
              /** @type {?} */
              var inactiveDialogClass = 'inactive-dialog';
              // Apply inactive dialog class when other window is focused
              if (this.getSession().getMcoContainer().activeView() == null ||
                  this.getSession().getMcoContainer().activeView().id != this.viewId) {
                  this.bsModalClass.push(inactiveDialogClass);
              }
              else {
                  this.bsModalClass = _.filter(this.bsModalClass, function (c) {
                      return c !== inactiveDialogClass;
                  });
              }
              //we used OnPush and change detector only know that it needs to do something if
              //our style array is immutable, so we need to tell it that changes happen.
              this.cd.markForCheck();
          };
      /* istanbul ignore next */
      /**
       * Set position of this dialog when it is first opened
       * @param position Window position
       */
      /**
       * Set position of this dialog when it is first opened
       * @param {?} position Window position
       * @return {?}
       */
      DialogComponent.prototype.setInitialPosition = /**
       * Set position of this dialog when it is first opened
       * @param {?} position Window position
       * @return {?}
       */
          function (position) {
              if (position != null) {
                  if (position.left >= 0) {
                      this.renderer.setStyle(this.modalElement.nativeElement, "left", position.left + "px");
                  }
                  else {
                      this.renderer.setStyle(this.modalElement.nativeElement, "left", "auto");
                  }
                  if (position.right >= 0) {
                      this.renderer.setStyle(this.modalElement.nativeElement, "right", position.right + "px");
                  }
                  if (position.top >= 0) {
                      this.renderer.setStyle(this.modalElement.nativeElement, "top", position.top + "px");
                  }
                  else {
                      this.renderer.setStyle(this.modalElement.nativeElement, "top", "auto");
                  }
                  if (position.bottom >= 0) {
                      this.renderer.setStyle(this.modalElement.nativeElement, "bottom", position.bottom + "px");
                  }
                  else {
                      this.renderer.setStyle(this.modalElement.nativeElement, "bottom", "auto");
                  }
              }
              /** @type {?} */
              var appHeader = $(".header")[0];
              /* istanbul ignore if */
              //appHeader can be null (in unit test, etc)
              if (appHeader) {
                  /** @type {?} */
                  var headerH = appHeader.clientHeight + appHeader.offsetTop;
                  // init position
                  this.renderer.setStyle(this.modalElement.nativeElement, "top", headerH + "px");
                  if ((position != null)) {
                      if (!(position.left > 0)) {
                          this.renderer.setStyle(this.modalElement.nativeElement, "left", "0");
                      }
                  }
                  else {
                      this.renderer.setStyle(this.modalElement.nativeElement, "left", "0");
                  }
                  // If 'centered' input is true, override initialPosition and modalLessPosition
                  if (this._center) {
                      /** @type {?} */
                      var modelH = $(this.modalElement.nativeElement).height();
                      /** @type {?} */
                      var footerH = $(".footer")[0].clientHeight;
                      this.renderer.setStyle(this.modalElement.nativeElement, "top", "calc(((100vh - " + headerH + "px - " + footerH + "px - " + modelH + "px) / 2) + " + headerH + "px)");
                      this.renderer.setStyle(this.modalElement.nativeElement, "left", "calc((100vw / 2) - " + ($(this.modalElement.nativeElement).width() / 2) + "px");
                  }
              }
          };
      /**
       * Event handler for close event
       * @event OnClosing
       */
      /**
       * Event handler for close event
       * \@event OnClosing
       * @return {?}
       */
      DialogComponent.prototype.handleOnClosing = /**
       * Event handler for close event
       * \@event OnClosing
       * @return {?}
       */
          function () {
              this.onClosing.emit();
          };
      /**
       * Get the Nexaweb tag name of this component
       */
      /**
       * Get the Nexaweb tag name of this component
       * @return {?}
       */
      DialogComponent.prototype.getNxTagName = /**
       * Get the Nexaweb tag name of this component
       * @return {?}
       */
          function () {
              return "dialog";
          };
      /**
       * Get JSON representation of dialog state
       */
      /**
       * Get JSON representation of dialog state
       * @return {?}
       */
      DialogComponent.prototype.toJson = /**
       * Get JSON representation of dialog state
       * @return {?}
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              this.setJson(json, "title", this.title);
              this.setJson(json, "modal", this.modal);
              this.setJson(json, "centered", this._center);
              return json;
          };
      /**
       * Check whether or not this dialog is a container
       * @returns Boolean
       */
      /**
       * Check whether or not this dialog is a container
       * @return {?} Boolean
       */
      DialogComponent.prototype.isContainer = /**
       * Check whether or not this dialog is a container
       * @return {?} Boolean
       */
          function () {
              return true;
          };
      /**
       * Check whether or not this is a dialog. Implementation of BaseComponent method
       * @returns Boolean
       */
      /**
       * Check whether or not this is a dialog. Implementation of BaseComponent method
       * @return {?} Boolean
       */
      DialogComponent.prototype.isDialog = /**
       * Check whether or not this is a dialog. Implementation of BaseComponent method
       * @return {?} Boolean
       */
          function () {
              return true;
          };
      /* istanbul ignore next */
      /**
       * Get the [[cd]] (ChangeDetectorRef) property
       * @returns ChangeDetectorRef
       */
      /**
       * Get the [[cd]] (ChangeDetectorRef) property
       * @return {?} ChangeDetectorRef
       */
      DialogComponent.prototype.getChangeDetector = /**
       * Get the [[cd]] (ChangeDetectorRef) property
       * @return {?} ChangeDetectorRef
       */
          function () {
              return this.cd;
          };
      /* istanbul ignore next */
      /**
       * Event handler for minimize button click. Minimizes dialog
       * @param event
       */
      /**
       * Event handler for minimize button click. Minimizes dialog
       * @param {?} event
       * @return {?}
       */
      DialogComponent.prototype.minimize = /**
       * Event handler for minimize button click. Minimizes dialog
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (event != null) {
                  event.stopPropagation();
              }
              if ((JavaUtils.parseBoolean(this.modal))) {
                  if (!this.isUnMaximize) {
                      /** @type {?} */
                      var minHeightLoc = DialogComponent.UNMAXIMIZE_HEGHT;
                      this.isUnMaximize = true;
                      if (this.isMaximize) {
                          $(this.modalElement.nativeElement).css("top", this.modalOriginalTop + "px");
                          $(this.modalElement.nativeElement).css("left", this.modalOriginalLeft + "px");
                          this.isMaximize = false;
                      }
                      $(this.body.nativeElement).css("min-height", "");
                      $(this.body.nativeElement).css("height", minHeightLoc);
                      $(this.modalElement.nativeElement).css("min-height", "");
                      $(this.modalElement.nativeElement).css("height", minHeightLoc);
                      $(this.modalElement.nativeElement.querySelector('.modal-content')).css("height", minHeightLoc);
                      this.bsModalClass = ["vt-dialog", "modal", "fade", "in", "unmaximize"];
                  }
                  else {
                      this.isUnMaximize = false;
                      /** @type {?} */
                      var minHeightLoc = $(this.modalElement.nativeElement.querySelector('.modal-dialog')).css("height");
                      $(this.body.nativeElement).css("min-height", "calc(100% - 25px");
                      $(this.body.nativeElement).css("height", "auto");
                      $(this.modalElement.nativeElement).css("min-height", minHeightLoc);
                      $(this.modalElement.nativeElement).css("height", minHeightLoc);
                      $(this.modalElement.nativeElement.querySelector('.modal-content')).css("height", minHeightLoc);
                      this.bsModalClass = ["vt-dialog", "modal", "fade", "in", "unmaximize"];
                  }
              }
              else {
                  this.isUnMaximize = false;
                  this.bsModalClass = ["vt-dialog", "modal", "fade", "out", "minimize"];
                  this.getSession().getMcoContainer().minimizeView(this.viewId);
              }
              this.cd.detectChanges();
          };
      /* istanbul ignore next */
      /**
       * Event handler for maximize button click. Maximizes dialog
       * @param event
       */
      /**
       * Event handler for maximize button click. Maximizes dialog
       * @param {?} event
       * @return {?}
       */
      DialogComponent.prototype.maximize = /**
       * Event handler for maximize button click. Maximizes dialog
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (event != null) {
                  event.stopPropagation();
              }
              if (this.isMaximize) {
                  this.bsModalClass = ["vt-dialog", "modal", "fade", "in"];
                  $(this.modalElement.nativeElement).css("top", this.modalOriginalTop + "px");
                  $(this.modalElement.nativeElement).css("left", this.modalOriginalLeft + "px");
                  this.isMaximize = false;
                  if (JavaUtils.parseBoolean(this.modal) && $(this.modalElement.nativeElement.querySelector('.modal-content'))[0].style.height === DialogComponent.UNMAXIMIZE_HEGHT) {
                      this.bsModalClass = ["vt-dialog", "modal", "fade", "in", "unmaximize"];
                      this.isUnMaximize = true;
                  }
                  else {
                      this.isUnMaximize = false;
                  }
                  this.cd.detectChanges();
              }
              else {
                  $(this.body.nativeElement).css("min-height", "calc(100% - 25px)");
                  $(this.modalElement.nativeElement).css("height", "auto");
                  this.modalOriginalLeft = ( /** @type {?} */(this.modalElement.nativeElement)).getBoundingClientRect().left;
                  this.modalOriginalTop = ( /** @type {?} */(this.modalElement.nativeElement)).getBoundingClientRect().top;
                  $(this.modalElement.nativeElement).css("left", this.modalOriginalLeft + "px");
                  $(this.modalElement.nativeElement).css("top", this.modalOriginalTop + "px");
                  this.bsModalClass = ["vt-dialog", "modal", "fade", "in", "maximize"];
                  this.isMaximize = true;
                  this.isUnMaximize = false;
                  this.cd.detectChanges();
              }
              // istanbul ignore if */
              if (this.tableId != null) {
                  /** @type {?} */
                  var table = /** @type {?} */ (UiDocument.getElementById(this.tableId));
                  if (table != null) {
                      table.tableResize();
                  }
              }
              this.getSession().getMcoContainer().showView(this.viewId);
          };
      /* istanbul ignore next */
      /**
       * Show the view after it has been hidden via minimized
       */
      /**
       * Show the view after it has been hidden via minimized
       * @return {?}
       */
      DialogComponent.prototype.showView = /**
       * Show the view after it has been hidden via minimized
       * @return {?}
       */
          function () {
              if (this.disabled)
                  return;
              if (this.isMaximize) {
                  this.bsModalClass = ["vt-dialog", "modal", "fade", "in", "maximize"];
              }
              else {
                  this.bsModalClass = ["vt-dialog", "modal", "fade", "in"];
              }
              this.cd.detectChanges();
              this.getSession().getMcoContainer().showView(this.viewId, this.screenIndex);
          };
      /**
       * Event handler for mousedown event. Resets dialog view stack
       */
      /**
       * Event handler for mousedown event. Resets dialog view stack
       * @return {?}
       */
      DialogComponent.prototype.handleMouseDown = /**
       * Event handler for mousedown event. Resets dialog view stack
       * @return {?}
       */
          function () {
              //make this screen top most.
              this.getSession().getMcoContainer().reStackView(this.viewId, this.screenIndex);
          };
      /**
       * Stop propagation on disabled dialog
       */
      /**
       * Stop propagation on disabled dialog
       * @param {?} event
       * @return {?}
       */
      DialogComponent.prototype.onClickDisableContent = /**
       * Stop propagation on disabled dialog
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (this.disabled)
                  event.stopPropagation();
          };
      /**
       * Stop propagation on modal dialog
       */
      /**
       * Stop propagation on modal dialog
       * @param {?} event
       * @return {?}
       */
      DialogComponent.prototype.onClickBackdrop = /**
       * Stop propagation on modal dialog
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (this.modal == true || this.modal == 'true')
                  event.stopPropagation();
          };
      /**
       * @return {?}
       */
      DialogComponent.prototype.updateModalDialogStyle = /**
       * @return {?}
       */
          function () {
              if (this.renderer != null && this.elementRef != null) {
                  if (this.modal === true || this.modal === "true") {
                      this.renderer.addClass(this.elementRef.nativeElement, "modal");
                      this.renderer.setStyle(this.elementRef.nativeElement, "display", "inline-block");
                  }
                  else {
                      this.renderer.removeClass(this.elementRef.nativeElement, "modal");
                      this.renderer.removeStyle(this.elementRef.nativeElement, "display");
                  }
              }
          };
      /**
       * @param {?} event
       * @return {?}
       */
      DialogComponent.prototype.checkFocusOut = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (( /** @type {?} */(this.elementRef.nativeElement)).contains(/** @type {?} */ (event.relatedTarget))) {
                  this.getSession()._windowLostFocus = false;
              }
              if (this.getSession()._windowLostFocus !== true &&
                  this._tabbables &&
                  this._tabbables.length > 0 &&
                  this.wasClickOutside !== true &&
                  !(( /** @type {?} */(this.elementRef.nativeElement)).contains(/** @type {?} */ (event.relatedTarget)))
                  && this.disabled !== true) {
                  if (event.relatedTarget == null ||
                      (!( /** @type {?} */(event.relatedTarget)).classList.contains("dropdown-item") &&
                          !( /** @type {?} */(event.relatedTarget)).classList.contains("menuItem"))) {
                      event.stopPropagation();
                      this._tabbables[0].focus();
                  }
              }
              this.getSession()._windowLostFocus = false;
          };
      /**
       * @param {?} event
       * @return {?}
       */
      DialogComponent.prototype.handleDocClickEvent = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              var e_1, _a;
              this.wasClickOutside = false;
              if (!(( /** @type {?} */(this.elementRef.nativeElement)).contains(/** @type {?} */ (event.target)))) {
                  this.wasClickOutside = true;
              }
              /** @type {?} */
              var _leftDisabledErroElementId = [];
              //if disabled element
              if (this._canTrackFocusLostOnErrorDisabled === true) {
                  if (this._disabledErrorElementId != null &&
                      this._disabledErrorElementId.length > 0) {
                      try {
                          for (var _b = __values(this._disabledErrorElementId), _c = _b.next(); !_c.done; _c = _b.next()) {
                              var elId = _c.value;
                              /** @type {?} */
                              var disabledEl = UiDocument.getElementById(elId);
                              /** @type {?} */
                              var inputElement = disabledEl.getElement().querySelector('input');
                              if (disabledEl != null) {
                                  if (event.target != inputElement)
                                      disabledEl.setBgColor("");
                                  else
                                      _leftDisabledErroElementId.push(elId);
                              }
                          }
                      }
                      catch (e_1_1) {
                          e_1 = { error: e_1_1 };
                      }
                      finally {
                          try {
                              if (_c && !_c.done && (_a = _b.return))
                                  _a.call(_b);
                          }
                          finally {
                              if (e_1)
                                  throw e_1.error;
                          }
                      }
                  }
                  if (_leftDisabledErroElementId.length == 0) {
                      this._disabledErrorElementId = null;
                      this._canTrackFocusLostOnErrorDisabled = false;
                  }
                  else {
                      this._disabledErrorElementId = _leftDisabledErroElementId;
                  }
              }
          };
      /**
       * @param {?} event
       * @return {?}
       */
      DialogComponent.prototype.checkKey = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (this.disabled === true) {
                  event.preventDefault();
                  event.stopPropagation();
              }
          };
      /**
       * @return {?}
       */
      DialogComponent.prototype.trackFocusLostOnErrorDisabled = /**
       * @return {?}
       */
          function () {
              this._canTrackFocusLostOnErrorDisabled = true;
          };
      DialogComponent.UNMAXIMIZE_HEGHT = "20px";
      DialogComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-dialog',
                      template: "<div #myModal [vtDraggable]=\"draggable\" [modal]=\"modal\" [id]=\"id\" [ngClass]=\"bsModalClass\" tabindex=\"-1\" role=\"dialog\" title=\"\"\n[style.minWidth.px]=\"controlWidth\"\n[style.minHeight.px]=\"controlHeight\"\n>\n<div\n  #modalDialog\n  [style.height.px]=\"controlHeight\"\n  [style.width.px]=\"controlWidth\"\n  class=\"modal-dialog\"\n  [ngClass]=\"cssClass\"\n  role=\"document\">\n  <div class=\"disabled-dialog\" [ngStyle]=\"{'display': disabled ? 'block' : 'none'}\" (click)=\"onClickDisableContent($event)\"></div>\n  <div #modalContent class=\"modal-content\" [style.height.px]=\"controlHeight\">\n    <div class=\"modal-header\" #draggablePanel>\n      <button type=\"button\" *ngIf=\"!isMaximize\" class=\"close\"\n        data-dismiss=\"modal\"\n        aria-label=\"maximize\"\n        (click)=\"maximize($event)\"\n        tabindex=\"-1\">\n        <span aria-hidden=\"true\"><div class=\"icon-maximize\"></div></span>\n      </button>\n      <button type=\"button\" *ngIf=\"isMaximize\" class=\"close\"\n        data-dismiss=\"modal\"\n        aria-label=\"maximize\"\n        (click)=\"maximize($event)\"\n        tabindex=\"-1\">\n        <span aria-hidden=\"true\"><div class=\"icon-unmaximize\"></div></span>\n      </button>\n      <button type=\"button\"  *ngIf=\"isUnMaximize\" class=\"close\"\n        data-dismiss=\"modal\"\n        aria-label=\"unmaximize\"\n        (click)=\"minimize($event)\"\n        tabindex=\"-1\">\n        <span aria-hidden=\"true\"><div class=\"icon-unmaximize\"></div></span>\n      </button>\n      <button type=\"button\" *ngIf=\"!isUnMaximize\" class=\"close\"\n        data-dismiss=\"modal\"\n        aria-label=\"minimize\"\n        (click)=\"minimize($event)\"\n        tabindex=\"-1\">\n        <span aria-hidden=\"true\"><div class=\"icon-minimize\"></div></span>\n      </button>\n      <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (mousedown)=\"handleOnClosing()\" (click)=\"close($event)\"><span aria-hidden=\"true\">&times;</span></button> -->\n      <h4 class=\"modal-title\" onselectstart=\"return false\" (dblclick)=\"maximize($event)\">{{ title }}</h4>\n    </div>\n    <div #modalBody class=\"modal-body\" [style.height.px]=\"modalBodyHeight\" [style.height]=\"modalBodyPercentHeight\" [style.minHeight]=\"modalBodyMinHeight\">\n      <div [style.width.percent]=\"100\" [style.width]=\"modalBodyDivWidth\" [style.height]=\"modalBodyDivHeight\" #viewContainer (mousedown)=\"handleMouseDown()\">\n        <ng-content></ng-content>\n      </div>\n    </div>\n  </div><!-- /.modal-content -->\n</div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n<div *ngIf= \" modal == true || modal == 'true'\" class=\"backdrop\" (click)=\"onClickBackdrop($event)\">\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      styles: [".dialog-centered{position:fixed;top:50%;left:50%}@media (min-width:768px){.modal-xl{width:90%;max-width:1200px}}.modal.modaless{position:fixed;right:auto;bottom:auto}.modal.modaless .modal-dialog{margin:0}vt-dialog .modal-header{padding:5px 15px}.vt-dialog.modal{display:inline-block;right:auto;bottom:auto;overflow:visible}.minimize{display:none!important}.maximize{left:0!important;width:100%!important;bottom:34px!important;top:100px!important}.maximize .modal-dialog{width:100%!important;max-width:100%!important;height:100%!important}.maximize .modal-content{width:100%!important;height:100%!important}.maximize .modal-content.ui-resizable{left:0!important}@media (min-width:768px){.modal-dialog{margin:0;display:inline-block}}.modal-content{overflow:hidden}.modal-header .close{padding:3px;margin-left:3px;border:1px ridge;border-radius:4px}.icon-minimize{width:14px;height:10px;background-image:url(minimize.png);background-repeat:no-repeat;background-size:14px}.icon-maximize{width:14px;height:10px;background-image:url(maximize.png);background-repeat:no-repeat;background-size:14px}.icon-unmaximize{width:14px;height:10px;background-image:url(restore.png);background-repeat:no-repeat;background-size:14px}.disabled-dialog{position:absolute;z-index:10;background-color:rgba(0,0,0,.1)}.backdrop{width:100vw;height:100vh;opacity:0;background-color:#000}"]
                  }] }
      ];
      /** @nocollapse */
      DialogComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 },
              { type: DynamicPagesService },
              { type: i0.NgZone }
          ];
      };
      DialogComponent.propDecorators = {
          body: [{ type: i0.ViewChild, args: ['modalBody',] }],
          modalDialog: [{ type: i0.ViewChild, args: ["modalDialog",] }],
          modalContent: [{ type: i0.ViewChild, args: ["modalContent",] }],
          title: [{ type: i0.Input }],
          draggable: [{ type: i0.Input }],
          initialPosition: [{ type: i0.Input }],
          modal: [{ type: i0.Input }],
          centered: [{ type: i0.Input }],
          windowTitle: [{ type: i0.Input }],
          modalSize: [{ type: i0.Input }],
          resizeable: [{ type: i0.Input }],
          onClosing: [{ type: i0.Output }],
          modalElement: [{ type: i0.ViewChild, args: ['myModal', { read: i0.ElementRef },] }],
          viewContainer: [{ type: i0.ViewChild, args: ['viewContainer', { read: i0.ViewContainerRef },] }],
          draggablePanel: [{ type: i0.ViewChild, args: ['draggablePanel', { read: i0.ViewContainerRef },] }],
          draggableDirective: [{ type: i0.ViewChild, args: [DraggableDirective,] }],
          resizeDialog: [{ type: i0.Input }],
          tableId: [{ type: i0.Input }]
      };
      return DialogComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var DialogModule = /** @class */ (function () {
      function DialogModule() {
      }
      DialogModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          ngxBootstrap.ModalModule.forRoot()
                      ],
                      declarations: [
                          DialogComponent,
                          DraggableDirective
                      ],
                      exports: [
                          DialogComponent,
                          DraggableDirective,
                          ngxBootstrap.ModalModule
                      ]
                  },] }
      ];
      return DialogModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var GridColumnDirective = /** @class */ (function () {
      function GridColumnDirective(el) {
          this.el = el;
      }
      /**
       * Init lifecycle. Set grid column css class
       */
      /**
       * Init lifecycle. Set grid column css class
       * @return {?}
       */
      GridColumnDirective.prototype.ngOnInit = /**
       * Init lifecycle. Set grid column css class
       * @return {?}
       */
          function () {
              /** @type {?} */
              var cssClass = this.vtGridColumn ? "col-sm-" + this.vtGridColumn : 'col-sm';
              this.el.nativeElement.classList.add(cssClass);
          };
      GridColumnDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: '[vtGridColumn]'
                  },] }
      ];
      /** @nocollapse */
      GridColumnDirective.ctorParameters = function () {
          return [
              { type: i0.ElementRef }
          ];
      };
      GridColumnDirective.propDecorators = {
          vtGridColumn: [{ type: i0.Input }]
      };
      return GridColumnDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for Horizontal line (HR) component
   */
  var HorizontalSeparatorComponent = /** @class */ (function (_super) {
      __extends(HorizontalSeparatorComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]]
       * @param sessionService see [[BaseComponent]]
       * @param elementRef see [[BaseComponent]]
       * @param renderer see [[BaseComponent]]
       */
      function HorizontalSeparatorComponent(parent, sessionService, elementRef, renderer) {
          return _super.call(this, parent, sessionService, elementRef, renderer) || this;
      }
      /**
       * Init lifecycle method
       */
      /**
       * Init lifecycle method
       * @return {?}
       */
      HorizontalSeparatorComponent.prototype.ngOnInit = /**
       * Init lifecycle method
       * @return {?}
       */
          function () {
          };
      /**
       * Get JSON representation for this component
       */
      /**
       * Get JSON representation for this component
       * @return {?}
       */
      HorizontalSeparatorComponent.prototype.toJson = /**
       * Get JSON representation for this component
       * @return {?}
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              this.setJson(json, "borderColor", this.borderColor);
              return json;
          };
      HorizontalSeparatorComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-horizontal-separator',
                      template: "<hr [id]=\"id\" [style.backgroundColor]=\"borderColor\" [style.height]=\"controlHeight\" [style.maxWidth]=\"controlWidth\" />\n",
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return HorizontalSeparatorComponent; })
                          }
                      ],
                      styles: ["hr{margin-top:3px;margin-bottom:3px;border-color:#5c5c5c;box-shadow:0 1px 0 #fff}"]
                  }] }
      ];
      /** @nocollapse */
      HorizontalSeparatorComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.Renderer2 }
          ];
      };
      HorizontalSeparatorComponent.propDecorators = {
          borderColor: [{ type: i0.Input }]
      };
      return HorizontalSeparatorComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var HorizontalSeparatorModule = /** @class */ (function () {
      function HorizontalSeparatorModule() {
      }
      HorizontalSeparatorModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [HorizontalSeparatorComponent],
                      exports: [HorizontalSeparatorComponent]
                  },] }
      ];
      return HorizontalSeparatorModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var Integer = /** @class */ (function () {
      function Integer() {
      }
      /**
       * @param {?} num
       * @return {?}
       */
      Integer.toString = /**
       * @param {?} num
       * @return {?}
       */
          function (num) {
              return num + '';
          };
      return Integer;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /** @type {?} */
  var moment$1 = moment;
  /**
   * Java DateFormat
   */
  var DateFormat = /** @class */ (function () {
      function DateFormat(formatPattern) {
          if (formatPattern === void 0) {
              formatPattern = null;
          }
          this.formatPattern = formatPattern;
          this.isLenient = true;
      }
      /**
       * @param {?} pattern
       * @return {?}
       */
      DateFormat.getDateInstance = /**
       * @param {?} pattern
       * @return {?}
       */
          function (pattern) {
              return new DateFormat(pattern);
          };
      /**
       * @param {?} fm
       * @return {?}
       */
      DateFormat.javaToMomentDateFormat = /**
       * @param {?} fm
       * @return {?}
       */
          function (fm) {
              /** @type {?} */
              var s = fm.replace(/y/g, 'Y');
              return s.replace(/d/g, 'D');
              //the above is needed b/c ng-packagr is being a b***
              //it doesn't like return fm.replace(/y/g, 'Y').replace(/d/g, 'D');
          };
      /**
       * @return {?}
       */
      DateFormat.now = /**
       * @return {?}
       */
          function () {
              return moment$1();
          };
      /**
       * @param {?} date
       * @return {?}
       */
      DateFormat.prototype.format = /**
       * @param {?} date
       * @return {?}
       */
          function (date) {
              if (date === null)
                  return null;
              if (date === undefined)
                  return undefined;
              return this.formatPattern == null ? moment$1(date).format() : moment$1(date).format(this.formatPattern);
          };
      /**
       * @param {?} dateString
       * @return {?}
       */
      DateFormat.prototype.parse = /**
       * @param {?} dateString
       * @return {?}
       */
          function (dateString) {
              /** @type {?} */
              var momentDate = this.formatPattern ? moment$1(dateString, this.formatPattern) : moment$1(dateString);
              if (this.isLenient === false && momentDate.isValid() === false) {
                  throw new Error("Unable to parse date string: " + dateString + ", using format: " + this.formatPattern);
              }
              this.calendar = momentDate;
              return momentDate;
          };
      /**
       * @param {?} lenient
       * @return {?}
       */
      DateFormat.prototype.setLenient = /**
       * @param {?} lenient
       * @return {?}
       */
          function (lenient) {
              this.isLenient = lenient;
          };
      /**
       * @param {?} date
       * @return {?}
       */
      DateFormat.prototype.setCalendar = /**
       * @param {?} date
       * @return {?}
       */
          function (date) {
              this.calendar = moment$1(date);
          };
      /**
       * @return {?}
       */
      DateFormat.prototype.getCalendar = /**
       * @return {?}
       */
          function () {
              return this.calendar;
          };
      DateFormat.SHORT = 'M/D/YY';
      DateFormat.MEDIUM = 'MMM D, YYYY';
      DateFormat.LONG = 'MMMM D, YYYY';
      return DateFormat;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for label component. Renders text
   */
  var LabelComponent = /** @class */ (function (_super) {
      __extends(LabelComponent, _super);
      /**
       *
       * @param parent See [[BaseComponent]]
       * @param sessionService see [[BaseComponent]]
       * @param elementRef see [[BaseComponent]]
       * @param cd Change detector ref
       * @param renderer see [[BaseComponent]]
       */
      function LabelComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this._tooltip = '';
          _this.onCommand = new i0.EventEmitter();
          return _this;
      }
      Object.defineProperty(LabelComponent.prototype, "tooltip", {
          /**
           * Accessor method for internal [[_tootip]] property
           */
          get: /**
           * Accessor method for internal [[_tootip]] property
           * @return {?}
           */ function () {
              return this._tooltip;
          },
          set: /**
           * @param {?} tooltip
           * @return {?}
           */ function (tooltip) {
              if (tooltip == null || tooltip === "undefined") {
                  this._tooltip = "";
              }
              else {
                  this._tooltip = tooltip;
              }
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Init lifecycle method. Runs when component is created
       */
      /**
       * Init lifecycle method. Runs when component is created
       * @return {?}
       */
      LabelComponent.prototype.ngOnInit = /**
       * Init lifecycle method. Runs when component is created
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              if (this.controlWidth) {
                  this.controlWidth = this.controlWidth + 'px';
              }
              if (this.marginRight) {
                  this.marginRight = this.marginRight + 'px';
              }
              if (this.marginLeft) {
                  this.marginLeft = this.marginLeft + 'px';
              }
          };
      /**
       * After view init lifecycle method. Runs after component view is created
       */
      /**
       * After view init lifecycle method. Runs after component view is created
       * @return {?}
       */
      LabelComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle method. Runs after component view is created
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
              if (this.controlHeight != null && this.controlHeight !== "") {
                  this.styles["height"] = this.controlHeight + "px";
              }
              this.setAttributeFromDef();
              //fix expression has changed blah blah blah
              this.cd.detectChanges();
          };
      /**
       * Get JSON representation of component
       */
      /**
       * Get JSON representation of component
       * @return {?}
       */
      LabelComponent.prototype.toJson = /**
       * Get JSON representation of component
       * @return {?}
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              this.setJson(json, "alignHorizontal", this.alignHorizontal);
              return json;
          };
      /**
       * Set value of [[tooltip]] property
       * @param tooltip
       */
      /**
       * Set value of [[tooltip]] property
       * @param {?} tooltip
       * @return {?}
       */
      LabelComponent.prototype.setTooltip = /**
       * Set value of [[tooltip]] property
       * @param {?} tooltip
       * @return {?}
       */
          function (tooltip) {
              this.tooltip = tooltip;
              this.cd.markForCheck();
          };
      /**
       * Event handler for mousedown event. Call parent class [[handleMouseDown]]
       * @param e Mouse click event
       */
      /**
       * Event handler for mousedown event. Call parent class [[handleMouseDown]]
       * @param {?} e Mouse click event
       * @return {?}
       */
      LabelComponent.prototype.onMouseDown = /**
       * Event handler for mousedown event. Call parent class [[handleMouseDown]]
       * @param {?} e Mouse click event
       * @return {?}
       */
          function (e) {
              this.handleMouseDown(e);
          };
      /**
       * Event handler for click event.
       * @event OnCommand
       */
      /**
       * Event handler for click event.
       * \@event OnCommand
       * @return {?}
       */
      LabelComponent.prototype.handleOnClick = /**
       * Event handler for click event.
       * \@event OnCommand
       * @return {?}
       */
          function () {
              if (this.emitInternalOnCommand() === false) {
                  this.onCommand.emit();
              }
          };
      /**
       * Get value of [[cd]] (ChangeDetectorRef) property
       * @returns The component's change detector
       */
      /**
       * Get value of [[cd]] (ChangeDetectorRef) property
       * @return {?} The component's change detector
       */
      LabelComponent.prototype.getChangeDetector = /**
       * Get value of [[cd]] (ChangeDetectorRef) property
       * @return {?} The component's change detector
       */
          function () {
              return this.cd;
          };
      /**
       * Get NexaWeb tag name
       * @returns Name of tag
       */
      /**
       * Get NexaWeb tag name
       * @return {?} Name of tag
       */
      LabelComponent.prototype.getNxTagName = /**
       * Get NexaWeb tag name
       * @return {?} Name of tag
       */
          function () {
              return "label";
          };
      Object.defineProperty(LabelComponent.prototype, "spaceText", {
          /**
           * Check if the text is all space characters
           * @returns If text is just space characters TRUE, otherwise FALSE
           */
          get: /**
           * Check if the text is all space characters
           * @return {?} If text is just space characters TRUE, otherwise FALSE
           */ function () {
              return this.text && this.text.length > 0 && this.text.trim().length === 0;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Set [[visible]] property value
       * @override
       * @param value Toggle visibility
       */
      /**
       * Set [[visible]] property value
       * @override
       * @param {?} value Toggle visibility
       * @return {?}
       */
      LabelComponent.prototype.setVisible = /**
       * Set [[visible]] property value
       * @override
       * @param {?} value Toggle visibility
       * @return {?}
       */
          function (value) {
              this.visible = value;
              if (this.visible) {
                  this.removeCssClass('hidden');
                  this.getElement().removeAttribute('hidden');
              }
              else {
                  this.addCssClass('hidden');
                  this.getElement().setAttribute('hidden', '');
              }
          };
      LabelComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-label,vt-cell',
                      template: "<span\n  [id]=\"id\"\n  [title]=\"tooltip\"\n  [ngClass]=\"{'hidden': visible != true}\"\n  class=\"vt-label {{cssClass}} {{(disabled ===true) ? 'disabled':''}}\"\n  [style.textAlign]=\"alignHorizontal\"\n  [style.maxWidth]=\"controlWidth\"\n  [style.padding]=\"controlPadding\"\n  [style.border-style]=\"borderStyle\"\n  [style.margin-left]=\"marginLeft\"\n  [style.margin-right]=\"marginRight\"\n  [style.color]=\"fontColor\"\n  [ngStyle]=\"styles\"\n  (click)=\"handleOnClick()\"\n  (contextmenu)=\"handleOnContextMenu($event)\"\n  (mousedown)=\"onMouseDown($event)\">\n  <ng-template [ngIf]=\"spaceText === false\">{{ text }}</ng-template>\n  <ng-template [ngIf]=\"spaceText === true\">&nbsp;</ng-template>\n  <!-- has children?-->\n  <ng-content></ng-content>\n</span>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: LabelComponent
                          }
                      ],
                      styles: [""]
                  }] }
      ];
      /** @nocollapse */
      LabelComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      LabelComponent.propDecorators = {
          alignHorizontal: [{ type: i0.Input }],
          tooltip: [{ type: i0.Input }],
          onCommand: [{ type: i0.Output }]
      };
      return LabelComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var LabelModule = /** @class */ (function () {
      function LabelModule() {
      }
      LabelModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          BaseModule
                      ],
                      declarations: [LabelComponent],
                      exports: [LabelComponent],
                      entryComponents: [
                          LabelComponent
                      ]
                  },] }
      ];
      return LabelModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var PanelComponent = /** @class */ (function (_super) {
      __extends(PanelComponent, _super);
      // 画面のレイアウト固定化対応 End
      function PanelComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          /**
           * For escaping unneeded row & fluid container. This is a trikcy option.
           * Almost case, fluid container is not needed. it's too late...
           * \@property {boolean}
           */
          _this.noGutter = false;
          /**
           * For escaping fluid container. This is a trikcy option.
           * should be validated by `(layout !== 'grid')` . it's too late...
           * \@property {boolean}
           */
          _this.noGrid = false;
          _this.panelClasses = ['vt-panel'];
          _this.panelStyles = {};
          // 画面リサイズ対応 Start
          _this.resizeComponent = false;
          _this.resizeMarginTop = null;
          _this.resizeHeight = null;
          _this.divHeight = null;
          // 画面リサイズ対応 End
          // 画面のレイアウト固定化対応 Start
          _this.contentDisplayWidth = null;
          return _this;
      }
      Object.defineProperty(PanelComponent.prototype, "childrenList", {
          //children list to keep indexes
          set: /**
           * @param {?} children
           * @return {?}
           */ function (children) {
              var _this = this;
              this.resetChildIndexes(children.filter(function (child) { return child !== _this; }));
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Init lifecycle. Set dimensions and css styles
       */
      /**
       * Init lifecycle. Set dimensions and css styles
       * @return {?}
       */
      PanelComponent.prototype.ngOnInit = /**
       * Init lifecycle. Set dimensions and css styles
       * @return {?}
       */
          function () {
              var _this = this;
              _super.prototype.ngOnInit.call(this);
              if (this.cssClass != null) {
                  this.cssClass.split(' ').forEach(function (css) { return _this.panelClasses.push(css); });
              }
              if (this.containerLayout === true && !this.noGrid && !this.noGutter) {
                  this.panelClasses.push('container-fluid');
              }
              /*if (!this.borderColor) {
                    this.borderColor = 'transparent';
                  }*/
              if (this.borderWidth) {
                  this.borderWidth = this.borderWidth + 'px';
                  this.borderStyle = 'solid';
                  if (this.borderColor == null) {
                      this.borderColor = '#ffffff';
                  }
              }
              if (this.controlHeight == null) {
                  this.controlHeight = '100%';
              }
              this.setVisible(this.visible);
              // 画面リサイズ対応 Start
              if (this.resizeComponent) {
                  this.resizeHeight = "calc(100% - " + this.resizeMarginTop + "px)";
                  this.divHeight = "100%";
              }
              if (this.marginLeft) {
                  this.marginLeft = this.marginLeft + 'px';
              }
          };
      /**
       * After view init lifecycle. Set dimensions and trigger change detection
       */
      /**
       * After view init lifecycle. Set dimensions and trigger change detection
       * @return {?}
       */
      PanelComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Set dimensions and trigger change detection
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
              this.initWidthHeightStyle();
              this.cd.detectChanges();
          };
      /**
       *
       * @param {?} childrenList Update list of children ids
       * @return {?}
       */
      PanelComponent.prototype.resetChildIndexes = /**
       *
       * @param {?} childrenList Update list of children ids
       * @return {?}
       */
          function (childrenList) {
              if (childrenList != null && childrenList.length > 0) {
                  if (this._childrenIndex !== null) {
                      this._childrenIndex = _.uniq(_.concat(childrenList.map(function (child) { return child.getId(); }), this._childrenIndex));
                  }
              }
          };
      /**
       * Set dimensions of panel based on [[controlHeight]] and [[controlWidth]] properties
       * @param heightStyleName
       * @param widthStyleName
       */
      /**
       * Set dimensions of panel based on [[controlHeight]] and [[controlWidth]] properties
       * @param {?=} heightStyleName
       * @param {?=} widthStyleName
       * @return {?}
       */
      PanelComponent.prototype.initWidthHeightStyle = /**
       * Set dimensions of panel based on [[controlHeight]] and [[controlWidth]] properties
       * @param {?=} heightStyleName
       * @param {?=} widthStyleName
       * @return {?}
       */
          function (heightStyleName, widthStyleName) {
              if (heightStyleName === void 0) {
                  heightStyleName = 'height';
              }
              if (widthStyleName === void 0) {
                  widthStyleName = 'max-width';
              }
              if (this.controlHeight != null && this.controlHeight != "" && parseInt(this.controlHeight) > 0) {
                  this.panelStyles["height"] = parseInt(this.controlHeight) + "px";
              }
              if (this.controlWidth != null && this.controlWidth != "" && parseInt(this.controlWidth) > 0) {
                  this.panelStyles[widthStyleName] = parseInt(this.controlWidth) + "px";
              }
          };
      /**
       * Set [[disabled]] property value
       * @param boo Toggle disabled
       */
      /**
       * Set [[disabled]] property value
       * @param {?} boo Toggle disabled
       * @return {?}
       */
      PanelComponent.prototype.setDisabled = /**
       * Set [[disabled]] property value
       * @param {?} boo Toggle disabled
       * @return {?}
       */
          function (boo) {
              this.disabled = boo;
              this.getChildren().toArray().forEach(function (item) {
                  item.setAttribute(AttributesEnum.DISABLED, boo);
              });
          };
      /**
       * Set [[visible]] property value
       * @param boo Toggle visibility
       */
      /**
       * Set [[visible]] property value
       * @param {?} boo Toggle visibility
       * @return {?}
       */
      PanelComponent.prototype.setVisible = /**
       * Set [[visible]] property value
       * @param {?} boo Toggle visibility
       * @return {?}
       */
          function (boo) {
              this.visible = boo;
              if (this.visible) {
                  this.removeCssClass('hidden');
                  this.getElement().removeAttribute('hidden');
              }
              else {
                  this.addCssClass('hidden');
                  this.getElement().setAttribute('hidden', '');
              }
          };
      Object.defineProperty(PanelComponent.prototype, "hasCaption", {
          /**
           * Check if [[caption]] property exists and is set
           * @returns True if caption exists and has content, otherwise false
           */
          get: /**
           * Check if [[caption]] property exists and is set
           * @return {?} True if caption exists and has content, otherwise false
           */ function () {
              return this.caption != null && this.caption.length > 0;
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(PanelComponent.prototype, "containerLayout", {
          /**
           * Check if [[layout]] property exists
           * @returns True if layout exists, otherwise false
           */
          get: /**
           * Check if [[layout]] property exists
           * @return {?} True if layout exists, otherwise false
           */ function () {
              return this.layout != null;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Get the [[cd]] (ChangeDetectorRef) property
       * @returns Change detector for this panel
       */
      /**
       * Get the [[cd]] (ChangeDetectorRef) property
       * @return {?} Change detector for this panel
       */
      PanelComponent.prototype.getChangeDetector = /**
       * Get the [[cd]] (ChangeDetectorRef) property
       * @return {?} Change detector for this panel
       */
          function () {
              return this.cd;
          };
      /**
       * Check whether or not this component is a container
       * @returns True since panels are always containers
       */
      /**
       * Check whether or not this component is a container
       * @return {?} True since panels are always containers
       */
      PanelComponent.prototype.isContainer = /**
       * Check whether or not this component is a container
       * @return {?} True since panels are always containers
       */
          function () {
              return true;
          };
      /**
       * @return {?}
       */
      PanelComponent.prototype.getNxTagName = /**
       * @return {?}
       */
          function () {
              return "panel";
          };
      PanelComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-panel',
                      template: "<div [id]=\"id\"\n  [style.color]=\"fontColor\"\n  [style.borderColor]=\"borderColor\"\n  [style.borderWidth]=\"borderWidth\"\n  [style.borderStyle]=\"borderStyle\"\n  [style.height]=\"resizeHeight\"\n  [style.overflow]=\"controlOverflow\"\n  [style.width.px]=\"panelWidth\"\n  [style.min-width.px]=\"panelMinWidth\"\n  [style.min-height]=\"panelMinHeight\"\n  [style.float]=\"controlFloat\"\n  [style.margin-left]=\"marginLeft\"\n  [ngClass]=\"panelClasses\">\n  <h1 *ngIf=\"hasCaption === true\" class=\"panel-caption\">{{caption}}</h1>\n  <div class=\"{{noGrid ?'':'row'}} {{noGutter ?'row-no-gutters':''}}\" [style.height]=\"divHeight\" [style.width.px]=\"contentDisplayWidth\" [style.padding]=\"controlPadding\">\n    <ng-content></ng-content>\n  </div>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return PanelComponent; })
                          }
                      ],
                      styles: [""]
                  }] }
      ];
      /** @nocollapse */
      PanelComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      PanelComponent.propDecorators = {
          layout: [{ type: i0.Input }],
          caption: [{ type: i0.Input }],
          evenlySpace: [{ type: i0.Input }],
          noGutter: [{ type: i0.Input }],
          noGrid: [{ type: i0.Input }],
          childrenList: [{ type: i0.ContentChildren, args: [BaseComponent,] }],
          resizeComponent: [{ type: i0.Input }],
          resizeMarginTop: [{ type: i0.Input }],
          contentDisplayWidth: [{ type: i0.Input }]
      };
      return PanelComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var LayoutModule = /** @class */ (function () {
      function LayoutModule() {
      }
      LayoutModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [
                          GridColumnDirective,
                          PanelComponent
                      ],
                      exports: [
                          GridColumnDirective,
                          PanelComponent
                      ]
                  },] }
      ];
      return LayoutModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for a link component
   */
  var LinkComponent = /** @class */ (function (_super) {
      __extends(LinkComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param cd Change detector reference for this component
       * @param renderer see [[BaseComponent]] constructor
       */
      function LinkComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this.onCommand = new i0.EventEmitter();
          return _this;
      }
      Object.defineProperty(LinkComponent.prototype, "disabled", {
          get: /**
           * @return {?}
           */ function () { return this._disabled; },
          set: /**
           * @param {?} value
           * @return {?}
           */ function (value) {
              this.opacity = value ? '0.3' : '1.0';
              this._disabled = value;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Init lifecycle. Calls parent init method
       */
      /**
       * Init lifecycle. Calls parent init method
       * @return {?}
       */
      LinkComponent.prototype.ngOnInit = /**
       * Init lifecycle. Calls parent init method
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
          };
      /**
       * Event handler for click event. Does not emit event if the panel is disabled
       * @event OnCommand
       */
      /**
       * Event handler for click event. Does not emit event if the panel is disabled
       * \@event OnCommand
       * @return {?}
       */
      LinkComponent.prototype.onClick = /**
       * Event handler for click event. Does not emit event if the panel is disabled
       * \@event OnCommand
       * @return {?}
       */
          function () {
              if (!this.disabled)
                  this.onCommand.emit();
          };
      /**
       * Event handler for keydown event. Execute click handler if it's the enter key
       * @param e Keyboard Event
       */
      /**
       * Event handler for keydown event. Execute click handler if it's the enter key
       * @param {?} e Keyboard Event
       * @return {?}
       */
      LinkComponent.prototype.onKeyUp = /**
       * Event handler for keydown event. Execute click handler if it's the enter key
       * @param {?} e Keyboard Event
       * @return {?}
       */
          function (e) {
              // if ENTER key
              if (e.keyCode === 13) {
                  this.onClick();
              }
          };
      /**
       * Get the JSON representation for panel
       */
      /**
       * Get the JSON representation for panel
       * @return {?}
       */
      LinkComponent.prototype.toJson = /**
       * Get the JSON representation for panel
       * @return {?}
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              if (json["customAttributes"] == null) {
                  json["customAttributes"] = {};
              }
              this.setJson(json["customAttributes"], "idName", this.idName);
              return json;
          };
      /**
       * Get the [[cd]] (ChangeDetector) property
       * @returns Value of [[cd]] property
       */
      /**
       * Get the [[cd]] (ChangeDetector) property
       * @return {?} Value of [[cd]] property
       */
      LinkComponent.prototype.getChangeDetector = /**
       * Get the [[cd]] (ChangeDetector) property
       * @return {?} Value of [[cd]] property
       */
          function () {
              return this.cd;
          };
      LinkComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-link',
                      template: "<span [id]=\"id\" class=\"vt-link {{ cssClass }}\" (click)=\"onClick()\"\n  (keyup)=\"onKeyUp($event)\"\n  [style.color]=\"fontColor\"\n  [ngClass]=\"{'hidden': visible != true}\"\n  tabindex=\"0\"\n  [style.maxWidth]=\"controlWidth\"\n  [style.opacity]=\"opacity\">\n  {{ text }}\n  <div *ngIf=\"innerhtml && innerhtml.length > 0\" [innerHTML]=\"innerhtml\"></div>\n</span>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return LinkComponent; })
                          }
                      ],
                      styles: [".vt-link{text-decoration:underline;cursor:pointer}"]
                  }] }
      ];
      /** @nocollapse */
      LinkComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      LinkComponent.propDecorators = {
          idName: [{ type: i0.Input }],
          onCommand: [{ type: i0.Output }],
          disabled: [{ type: i0.Input, args: ['disabled',] }],
          innerhtml: [{ type: i0.Input, args: ['innerhtml',] }]
      };
      return LinkComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var LinkModule = /** @class */ (function () {
      function LinkModule() {
      }
      LinkModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [LinkComponent],
                      exports: [LinkComponent]
                  },] }
      ];
      return LinkModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var Long = /** @class */ (function () {
      function Long() {
      }
      /**
       * @param {?} num
       * @return {?}
       */
      Long.toString = /**
       * @param {?} num
       * @return {?}
       */
          function (num) {
              return num + '';
          };
      return Long;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /** @type {?} */
  var moment$2 = momentImported;
  /**
   * Simple util to parse moment into proper zone (if needed)
   */
  var /**
   * Simple util to parse moment into proper zone (if needed)
   */ MomentUtils = /** @class */ (function () {
      function MomentUtils() {
      }
      /**
       * @param {?} dateString
       * @param {?=} format
       * @return {?}
       */
      MomentUtils.moment = /**
       * @param {?} dateString
       * @param {?=} format
       * @return {?}
       */
          function (dateString, format) {
              if (format != null && format != '') {
                  if (MomentUtils.timeZone != null && MomentUtils.timeZone != '') {
                      return moment$2.tz(dateString, format, MomentUtils.timeZone);
                  }
                  return moment$2(dateString, format);
              }
              else {
                  if (MomentUtils.timeZone != null && MomentUtils.timeZone != '') {
                      return moment$2.tz(dateString, MomentUtils.timeZone);
                  }
                  return moment$2(dateString);
              }
          };
      return MomentUtils;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * DynamicComponent class. Renders components at runtime by definition
   */
  var DynamicComponent = /** @class */ (function () {
      function DynamicComponent(cd) {
          this.cd = cd;
      }
      /**
       * After init lifecycle.
       */
      /**
       * After init lifecycle.
       * @return {?}
       */
      DynamicComponent.prototype.ngAfterViewInit = /**
       * After init lifecycle.
       * @return {?}
       */
          function () {
              this.cleanClass();
              this.cd.detectChanges();
          };
      /**
       * Check if element is visible
       * @returns Value of [[DynamicElement]] visible property.
       */
      /**
       * Check if element is visible
       * @return {?} Value of [[DynamicElement]] visible property.
       */
      DynamicComponent.prototype.isVisible = /**
       * Check if element is visible
       * @return {?} Value of [[DynamicElement]] visible property.
       */
          function () {
              return this.elementDef.visible !== false;
          };
      /**
       * Get component ID if it exists, otherwise generate a unique id
       * @returns Component's id value
       */
      /**
       * Get component ID if it exists, otherwise generate a unique id
       * @return {?} Component's id value
       */
      DynamicComponent.prototype.getId = /**
       * Get component ID if it exists, otherwise generate a unique id
       * @return {?} Component's id value
       */
          function () {
              return this.elementDef.id == null ? BaseComponent.generateUniqueId() : this.elementDef.id;
          };
      /**
       * Event handler for OnCommand event. Call runtime component's onCommand handler
       */
      /**
       * Event handler for OnCommand event. Call runtime component's onCommand handler
       * @return {?}
       */
      DynamicComponent.prototype.handleOnCommand = /**
       * Event handler for OnCommand event. Call runtime component's onCommand handler
       * @return {?}
       */
          function () {
              if (typeof this.elementDef.onCommand === "function") {
                  this.elementDef.onCommand(this.myComponent);
              }
          };
      /**
       * Event handler for OnContextMenu (i.e. right click, ctrl click) event. Call runtime component's onContextMenu Handler
       */
      /**
       * Event handler for OnContextMenu (i.e. right click, ctrl click) event. Call runtime component's onContextMenu Handler
       * @return {?}
       */
      DynamicComponent.prototype.handleOnContextMenu = /**
       * Event handler for OnContextMenu (i.e. right click, ctrl click) event. Call runtime component's onContextMenu Handler
       * @return {?}
       */
          function () {
              if (typeof this.elementDef.onContextMenu === "function") {
                  this.elementDef.onContextMenu(this.myComponent);
              }
          };
      /**
       * Set runtime component's 'enabled' property value based on cssClass and call parent class cleanCss method
       */
      /**
       * Set runtime component's 'enabled' property value based on cssClass and call parent class cleanCss method
       * @return {?}
       */
      DynamicComponent.prototype.cleanClass = /**
       * Set runtime component's 'enabled' property value based on cssClass and call parent class cleanCss method
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.elementDef.cssClass != null && this.elementDef.cssClass !== "") {
                  if (typeof AppUtils.attributeOverrideClass === "function") {
                      /** @type {?} */
                      var attrs = AppUtils.attributeOverrideClass(this.elementDef.cssClass);
                      if (attrs != null) {
                          _.forEach(attrs, function (val) {
                              if (val != null && val.attributeName === AttributesEnum.ENABLED) {
                                  _this.elementDef.enabled = val.value;
                              }
                          });
                      }
                  }
                  this.elementDef.cssClass = BaseComponent.cleanCss(this.elementDef.cssClass);
              }
          };
      DynamicComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: "vt-dynamic-component",
                      template: "<!-- panel -->\n<vt-panel #myComponent\n    *ngIf=\"elementDef.type === 'panel'\"\n    [ngStyle]=\"elementDef.styles\"\n    [ngClass]=\"elementDef.cssClass\"\n    id=\"{{getId()}}\"\n    [visible]=\"isVisible()\"\n    (onContextMenu)=\"handleOnContextMenu()\"\n    [customAttributes]=\"elementDef.customAttributes\">\n    <ng-template [ngIf]=\"elementDef.children != null && elementDef.children.length > 0\">\n        <vt-dynamic-component *ngFor=\"let compDef of elementDef.children\" [elementDef]=\"compDef\"></vt-dynamic-component>\n    </ng-template>\n</vt-panel>\n<!-- label -->\n<vt-label #myComponent\n    *ngIf=\"elementDef.type === 'label'\"\n    [text]=\"elementDef.text\"\n    [ngStyle]=\"elementDef.styles\"\n    [ngClass]=\"elementDef.cssClass\"\n    id=\"{{getId()}}\"\n    [visible]=\"isVisible()\"\n    [tooltip]=\"elementDef.tooltip\"\n    (onContextMenu)=\"handleOnContextMenu()\"\n    [customAttributes]=\"elementDef.customAttributes\">\n</vt-label>\n<!-- textField -->\n<vt-text-field #myComponent\n    *ngIf=\"elementDef.type === 'textField'\"\n    [text]=\"elementDef.text\"\n    [value]=\"elementDef.value\"\n    [ngStyle]=\"elementDef.styles\"\n    [ngClass]=\"elementDef.cssClass\"\n    id=\"{{getId()}}\"\n    [visible]=\"isVisible()\"\n    [enabled]=\"elementDef.enabled !== false\"\n    (onContextMenu)=\"handleOnContextMenu()\"\n    [customAttributes]=\"elementDef.customAttributes\">\n</vt-text-field>\n<!-- button -->\n<vt-button #myComponent\n    *ngIf=\"elementDef.type === 'button'\"\n    [text]=\"elementDef.text\"\n    [ngStyle]=\"elementDef.styles\"\n    [ngClass]=\"elementDef.cssClass\"\n    id=\"{{getId()}}\"\n    [visible]=\"isVisible()\"\n    [customAttributes]=\"elementDef.customAttributes\"\n    [enabled]=\"elementDef.enabled !== false\"\n    (onCommand)=\"handleOnCommand()\">\n</vt-button>\n<!-- horizontal -->\n<vt-horizontal-separator #myComponent\n    *ngIf=\"elementDef.type === 'horizontalSeparator'\"\n    [ngStyle]=\"elementDef.styles\">\n</vt-horizontal-separator>\n<!-- just a div -->\n<div *ngIf=\"elementDef.type === 'div'\" [ngClass]=\"elementDef.cssClass\"></div>",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush
                  }] }
      ];
      /** @nocollapse */
      DynamicComponent.ctorParameters = function () {
          return [
              { type: i0.ChangeDetectorRef }
          ];
      };
      DynamicComponent.propDecorators = {
          elementDef: [{ type: i0.Input }],
          myComponent: [{ type: i0.ViewChild, args: ["myComponent", { read: BaseComponent },] }]
      };
      return DynamicComponent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for text field component
   */
  var TextFieldComponent = /** @class */ (function (_super) {
      __extends(TextFieldComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param cd Change detector for this component
       * @param renderer see [[BaseComponent]] constructor
       */
      function TextFieldComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          /**
           * Whether or not text field is editable
           */
          _this.editable = true;
          /**
           * HTML input element type attribute. Defaults to 'text'
           */
          _this.type = 'text';
          _this.onTextChange = new i0.EventEmitter();
          _this.onEdit = new i0.EventEmitter();
          _this.onMouseUp = new i0.EventEmitter();
          _this._maxLength = TextFieldComponent.MAX_LENGTH;
          _this.styleVar = {};
          return _this;
      }
      Object.defineProperty(TextFieldComponent.prototype, "maxLength", {
          get: /**
           * @return {?}
           */ function () {
              return this._maxLength > 0 ? this._maxLength : TextFieldComponent.MAX_LENGTH;
          },
          /**
           * Max input allowed for characters
           */
          set: /**
           * Max input allowed for characters
           * @param {?} max
           * @return {?}
           */ function (max) {
              this._maxLength = max;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Init lifecycle. Set dimensions and style properties
       */
      /**
       * Init lifecycle. Set dimensions and style properties
       * @return {?}
       */
      TextFieldComponent.prototype.ngOnInit = /**
       * Init lifecycle. Set dimensions and style properties
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              if (this.disabled && this.fontColorDisabled) {
                  this.styleVar["color"] = this.fontColorDisabled;
              }
              else {
                  this.styleVar["color"] = this.fontColor || 'inherit';
              }
              // this.styleVar["margin-left"] = "1px";
              this.styleVar["margin-right"] = "5px";
              // this.styles["margin-left"] = "1px";
              this.styles["margin-right"] = "5px";
              if (this.controlWidth) {
                  this.controlWidth = this.controlWidth + 'px';
              }
              if (this.controlHeight) {
                  this.controlHeight = this.controlHeight + 'px';
              }
              if (this.marginLeft) {
                  this.marginLeft = this.marginLeft + 'px';
              }
              if (this.marginTop) {
                  this.marginTop = this.marginTop + 'px';
              }
          };
      /**
       * After view init lifecycle. Set dimensions, focus text field
       */
      /**
       * After view init lifecycle. Set dimensions, focus text field
       * @return {?}
       */
      TextFieldComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Set dimensions, focus text field
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
              this.initWidthHeightStyle();
              this.setAttributeFromDef();
              this.cd.detectChanges();
              if (this.focusOnActivation) {
                  this.input.nativeElement.focus();
              }
              if (this.type === 'date') {
                  // Remove native datepicker controls applied by Chrome
                  this.renderer.setProperty(this.input.nativeElement, 'type', 'text');
              }
          };
      /**
       * Event handler for blur (unfocus) event
       * @param e Input blur event
       */
      /**
       * Event handler for blur (unfocus) event
       * @param {?} e Input blur event
       * @param {?} value
       * @return {?}
       */
      TextFieldComponent.prototype.onBlur = /**
       * Event handler for blur (unfocus) event
       * @param {?} e Input blur event
       * @param {?} value
       * @return {?}
       */
          function (e, value) {
              if (!document.hasFocus() && $(":focus").length > 0) {
                  return;
              }
              this.text = value; //when the last char is Zenkaku and the user doesn't press 'Enter', this is needed.
              if (this.text != this._textBeforeFocusIn)
                  this.onEdit.emit();
              // Checks for numeric date entry without slashes: e.g 20190104
              // If the user enters numbers without slashes auto format as date
              if (this.type === 'date' && /^\d{8}$/m.test(this.text)) {
                  /** @type {?} */
                  var formattedDateString = [this.text.substr(0, 4), this.text.substr(4, 2), this.text.substr(6, 2)].join('/');
                  this.text = formattedDateString;
              }
              this.validateField(e);
          };
      /**
       * Event handler for focus event
       * @param e Input focus event
       */
      /**
       * Event handler for focus event
       * @param {?} e Input focus event
       * @return {?}
       */
      TextFieldComponent.prototype.onFocus = /**
       * Event handler for focus event
       * @param {?} e Input focus event
       * @return {?}
       */
          function (e) {
              this.input.nativeElement.selectionStart = this.text.length;
              this.input.nativeElement.selectionEnd = this.text.length;
              if (!this.customAttributes)
                  return;
              /** @type {?} */
              var formatName = this.customAttributes['format'];
              if (formatName && formatName.indexOf("add_comma") >= 0) {
                  /** @type {?} */
                  var txtMount = this.text.replace(/,/g, "");
                  this.text = txtMount;
              }
              this._textBeforeFocusIn = this.text;
              this._textPreviousKeyInput = this.text;
          };
      /**
       * Event handler for text input
       * Emit onTextChange b/c user keep typing (input still has focus)
       * @param event
       * @param value
       * @event onTextChange
       */
      /**
       * Event handler for text input
       * Emit onTextChange b/c user keep typing (input still has focus)
       * \@event onTextChange
       * @param {?} event
       * @param {?} value
       * @return {?}
       */
      TextFieldComponent.prototype.onInput = /**
       * Event handler for text input
       * Emit onTextChange b/c user keep typing (input still has focus)
       * \@event onTextChange
       * @param {?} event
       * @param {?} value
       * @return {?}
       */
          function (event, value) {
              var _this = this;
              if (event.keyCode == 8 || event.keyCode == 46) //Backspace || Delete
               {
                  /** @type {?} */
                  var pos_1 = this.input.nativeElement.selectionStart;
                  this.text = value;
                  setTimeout(function () {
                      _this.input.nativeElement.selectionStart = pos_1;
                      _this.input.nativeElement.selectionEnd = pos_1;
                  });
              }
              if (this._textPreviousKeyInput != this.text)
                  this.onTextChange.emit();
              this._textPreviousKeyInput = this.text;
          };
      /**
       * Focus the input element
       */
      /* istanbul ignore next */
      /**
       * Focus the input element
       * @return {?}
       */
      TextFieldComponent.prototype.setFocus = /**
       * Focus the input element
       * @return {?}
       */
          function () {
              this.input.nativeElement.focus();
          };
      /**
       * Set background color CSS for the text input
       * @param bgColor CSS color string value for background
       */
      /**
       * Set background color CSS for the text input
       * @param {?} bgColor CSS color string value for background
       * @return {?}
       */
      TextFieldComponent.prototype.setBgColor = /**
       * Set background color CSS for the text input
       * @param {?} bgColor CSS color string value for background
       * @return {?}
       */
          function (bgColor) {
              this.input.nativeElement.style.backgroundColor = bgColor;
          };
      /**
       * Get [[_maxLength]] property value
       */
      /**
       * Get [[_maxLength]] property value
       * @return {?}
       */
      TextFieldComponent.prototype.getMaxLength = /**
       * Get [[_maxLength]] property value
       * @return {?}
       */
          function () {
              return this._maxLength;
          };
      /**
       * Set [[_maxLength]] property value
       * @param max Maximum length of character input
       */
      /**
       * Set [[_maxLength]] property value
       * @param {?} max Maximum length of character input
       * @return {?}
       */
      TextFieldComponent.prototype.setMaxLength = /**
       * Set [[_maxLength]] property value
       * @param {?} max Maximum length of character input
       * @return {?}
       */
          function (max) {
              if (typeof max === "number") {
                  this._maxLength = max;
              }
              else {
                  this._maxLength = parseInt(max);
              }
              this.cd.markForCheck();
          };
      /**
       * Get JSON representation for this text-field
       */
      /**
       * Get JSON representation for this text-field
       * @return {?}
       */
      TextFieldComponent.prototype.toJson = /**
       * Get JSON representation for this text-field
       * @return {?}
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              this.setJson(json, "editable", this.editable);
              if (this.value != null) {
                  this.setJson(json, "value", this.value);
              }
              return json;
          };
      /**
       * Get component name
       */
      /**
       * Get component name
       * @return {?}
       */
      TextFieldComponent.prototype.getLocalName = /**
       * Get component name
       * @return {?}
       */
          function () {
              return "textField";
          };
      /**
       * Get the text content value of the input element
       */
      /**
       * Get the text content value of the input element
       * @return {?}
       */
      TextFieldComponent.prototype.getValue = /**
       * Get the text content value of the input element
       * @return {?}
       */
          function () {
              return this.getText();
          };
      /**
       * Event handler for mouseup
       * @event OnMouseUp
       */
      /**
       * Event handler for mouseup
       * \@event OnMouseUp
       * @return {?}
       */
      TextFieldComponent.prototype.handleMouseUp = /**
       * Event handler for mouseup
       * \@event OnMouseUp
       * @return {?}
       */
          function () {
              this.onMouseUp.emit();
          };
      /**
       * @returns String Tag name
       */
      /* istanbul ignore next */
      /**
       * @return {?} String Tag name
       */
      TextFieldComponent.prototype.getNxTagName = /**
       * @return {?} String Tag name
       */
          function () {
              return "textField";
          };
      /**
       * Get the [[cd]] (ChangeDetector) property
       * @returns Change detector
       */
      /**
       * Get the [[cd]] (ChangeDetector) property
       * @return {?} Change detector
       */
      TextFieldComponent.prototype.getChangeDetector = /**
       * Get the [[cd]] (ChangeDetector) property
       * @return {?} Change detector
       */
          function () {
              return this.cd;
          };
      //angular doesn't like accessing private/public method
      /**
       * @return {?}
       */
      TextFieldComponent.prototype._notifyInternalChangeCb = /**
       * @return {?}
       */
          function () {
              _super.prototype._notifyInternalChangeCb.call(this);
          };
      /**
       * Select all text
       */
      /**
       * Select all text
       * @return {?}
       */
      TextFieldComponent.prototype.selectText = /**
       * Select all text
       * @return {?}
       */
          function () {
              this.input.nativeElement.select();
          };
      /**
       * Set [[visible]] property value
       * @override
       * @param value Toggle visibility
       */
      /**
       * Set [[visible]] property value
       * @override
       * @param {?} value Toggle visibility
       * @return {?}
       */
      TextFieldComponent.prototype.setVisible = /**
       * Set [[visible]] property value
       * @override
       * @param {?} value Toggle visibility
       * @return {?}
       */
          function (value) {
              this.visible = value;
              if (this.visible) {
                  this.removeCssClass('hidden');
                  this.getElement().removeAttribute('hidden');
              }
              else {
                  this.addCssClass('hidden');
                  this.getElement().setAttribute('hidden', '');
              }
          };
      TextFieldComponent.MAX_LENGTH = 9999;
      TextFieldComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-text-field',
                      template: "<div\n  class=\"{{cssClass}}\"\n  [ngStyle]=\"styles\"\n  (contextmenu)=\"handleOnContextMenu($event)\"\n  [ngClass]=\"{'vt-text-field': true, 'hidden': visible != true}\">\n\n  <input [type]=\"type\" [id]=\"id\" #input\n    [ngClass]=\"{'input-date': type === 'date'}\"\n    class=\"form-control\"\n    [readonly]=\"editable !== true && editable !== 'true'\"\n    [attr.tabindex]=\"editable !== true && editable !== 'true' ? -1 : null\"\n    [disabled]=\"disabled\"\n    [(ngModel)]=\"text\"\n    [ngStyle]=\"styleVar\"\n    [maxLength]=\"maxLength\"\n    [style.width]=\"controlWidth\"\n    [style.height]=\"controlHeight\"\n    [style.textAlign]=\"alignHorizontal\"\n    [style.border-color]=\"borderColor\"\n    [style.margin-top]=\"marginTop\"\n    [style.margin-left]=\"marginLeft\"\n    [style.padding]=\"controlPadding\"\n    (focusout)=\"onBlur($event, input.value)\"\n    (focusin)=\"onFocus($event)\"\n    (change)=\"_notifyInternalChangeCb()\"\n    (mouseup)=\"handleMouseUp()\"\n    (keyup)=\"onInput($event, input.value)\"\n    [required]=\"required\"\n    [min]=\"min\"\n    [max]=\"max\"/>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return TextFieldComponent; })
                          }
                      ],
                      styles: [".vt-text-field{display:inline-block}.vt-text-field input.form-control{width:100%}.vt-text-field>input{margin-bottom:3px}"]
                  }] }
      ];
      /** @nocollapse */
      TextFieldComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      TextFieldComponent.propDecorators = {
          value: [{ type: i0.Input }],
          editable: [{ type: i0.Input }],
          maxLength: [{ type: i0.Input }],
          type: [{ type: i0.Input }],
          onTextChange: [{ type: i0.Output }],
          onEdit: [{ type: i0.Output }],
          onMouseUp: [{ type: i0.Output }],
          input: [{ type: i0.ViewChild, args: ['input',] }]
      };
      return TextFieldComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TextFieldModule = /** @class */ (function () {
      function TextFieldModule() {
      }
      TextFieldModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          forms.FormsModule,
                          forms.ReactiveFormsModule,
                      ],
                      declarations: [TextFieldComponent],
                      exports: [
                          TextFieldComponent,
                          forms.FormsModule,
                          forms.ReactiveFormsModule,
                      ],
                      entryComponents: [
                          TextFieldComponent
                      ]
                  },] }
      ];
      return TextFieldModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var DynamicModule = /** @class */ (function () {
      function DynamicModule() {
      }
      DynamicModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          ButtonModule,
                          LabelModule,
                          TextFieldModule,
                          LayoutModule,
                          HorizontalSeparatorModule
                      ],
                      declarations: [
                          DynamicComponent
                      ],
                      exports: [
                          DynamicComponent,
                          ButtonModule,
                          LabelModule,
                          TextFieldModule,
                          LayoutModule,
                          HorizontalSeparatorModule
                      ]
                  },] }
      ];
      return DynamicModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var DynamicElementBuilder = /** @class */ (function () {
      function DynamicElementBuilder() {
      }
      /**
       * @param {?=} whiteSpaceWrap
       * @param {?=} padding
       * @return {?}
       */
      DynamicElementBuilder.createLabelElement = /**
       * @param {?=} whiteSpaceWrap
       * @param {?=} padding
       * @return {?}
       */
          function (whiteSpaceWrap, padding) {
              if (whiteSpaceWrap === void 0) {
                  whiteSpaceWrap = false;
              }
              if (padding === void 0) {
                  padding = null;
              }
              /** @type {?} */
              var el = new DynamicElementBuilder();
              el.dynamicElement = {
                  type: "label"
              };
              el.initStyle();
              if (whiteSpaceWrap === true) {
                  el.dynamicElement.styles["white-space"] = "nowrap";
              }
              if (padding != null && padding !== '') {
                  el.dynamicElement.styles["padding"] = padding;
              }
              return el;
          };
      /**
       * @return {?}
       */
      DynamicElementBuilder.prototype.toDynamicElement = /**
       * @return {?}
       */
          function () {
              return this.dynamicElement;
          };
      /**
       * @param {?} id
       * @return {?}
       */
      DynamicElementBuilder.prototype.setId = /**
       * @param {?} id
       * @return {?}
       */
          function (id) {
              this.dynamicElement.id = id;
          };
      /**
       * @param {?} text
       * @return {?}
       */
      DynamicElementBuilder.prototype.setText = /**
       * @param {?} text
       * @return {?}
       */
          function (text) {
              this.dynamicElement.text = text;
          };
      /**
       * @param {?} text
       * @return {?}
       */
      DynamicElementBuilder.prototype.setText2 = /**
       * @param {?} text
       * @return {?}
       */
          function (text) {
              //not sure what this is, for now, custom attribute
              this.setAttribute("text2", text);
          };
      /**
       * @param {?} value
       * @return {?}
       */
      DynamicElementBuilder.prototype.setValue = /**
       * @param {?} value
       * @return {?}
       */
          function (value) {
              this.dynamicElement.value = value;
          };
      /**
       * @param {?} tooltip
       * @return {?}
       */
      DynamicElementBuilder.prototype.setTooltip = /**
       * @param {?} tooltip
       * @return {?}
       */
          function (tooltip) {
              this.dynamicElement.tooltip = tooltip;
          };
      /**
       * @param {?} visible
       * @return {?}
       */
      DynamicElementBuilder.prototype.setVisible = /**
       * @param {?} visible
       * @return {?}
       */
          function (visible) {
              this.dynamicElement.visible = visible;
          };
      /**
       * @param {?} enabled
       * @return {?}
       */
      DynamicElementBuilder.prototype.setEnabled = /**
       * @param {?} enabled
       * @return {?}
       */
          function (enabled) {
              this.dynamicElement.enabled = enabled;
          };
      /**
       * @param {?} popupMenuId
       * @return {?}
       */
      DynamicElementBuilder.prototype.setPopup = /**
       * @param {?} popupMenuId
       * @return {?}
       */
          function (popupMenuId) {
              this.dynamicElement.popupMenuId = popupMenuId;
          };
      /**
       * @param {?} bgColor
       * @return {?}
       */
      DynamicElementBuilder.prototype.setBgColor = /**
       * @param {?} bgColor
       * @return {?}
       */
          function (bgColor) {
              this.initStyle();
              this.dynamicElement.styles["background-color"] = this.checkCustomColor(bgColor);
          };
      /**
       * @param {?} cssClass
       * @return {?}
       */
      DynamicElementBuilder.prototype.addCssClass = /**
       * @param {?} cssClass
       * @return {?}
       */
          function (cssClass) {
              this.initStyle();
              if (this.dynamicElement.cssClass == undefined) {
                  this.dynamicElement.cssClass = cssClass;
              }
              else {
                  this.dynamicElement.cssClass = this.dynamicElement.cssClass + " " + cssClass;
              }
          };
      /**
       * @param {?} borderColor
       * @return {?}
       */
      DynamicElementBuilder.prototype.setBorderColor = /**
       * @param {?} borderColor
       * @return {?}
       */
          function (borderColor) {
              this.initStyle();
              this.dynamicElement.styles["border-color"] = this.checkCustomColor(borderColor);
              this.initBorderStyle();
          };
      /**
       * @param {?} borderWidth
       * @return {?}
       */
      DynamicElementBuilder.prototype.setBorderWidth = /**
       * @param {?} borderWidth
       * @return {?}
       */
          function (borderWidth) {
              this.initStyle();
              this.dynamicElement.styles["border-width"] = this.convertStyleUnit(borderWidth);
              this.initBorderStyle();
          };
      /**
       * @param {?} borderStyle
       * @return {?}
       */
      DynamicElementBuilder.prototype.setBorderStyle = /**
       * @param {?} borderStyle
       * @return {?}
       */
          function (borderStyle) {
              this.initStyle();
              this.dynamicElement.styles["border-style"] = borderStyle;
          };
      /**
       * @param {?} height
       * @return {?}
       */
      DynamicElementBuilder.prototype.setHeight = /**
       * @param {?} height
       * @return {?}
       */
          function (height) {
              this.initStyle();
              this.dynamicElement.styles["height"] = height + "px";
          };
      /**
       * @param {?} width
       * @return {?}
       */
      DynamicElementBuilder.prototype.setWidth = /**
       * @param {?} width
       * @return {?}
       */
          function (width) {
              this.initStyle();
              this.dynamicElement.styles["width"] = width + "px";
          };
      /**
       * @param {?} x
       * @return {?}
       */
      DynamicElementBuilder.prototype.setX = /**
       * @param {?} x
       * @return {?}
       */
          function (x) {
              this.initStyle();
              this.dynamicElement.styles["position"] = "absolute";
              this.dynamicElement.styles["left"] = x + "px";
          };
      /**
       * @param {?} y
       * @return {?}
       */
      DynamicElementBuilder.prototype.setY = /**
       * @param {?} y
       * @return {?}
       */
          function (y) {
              this.initStyle();
              this.dynamicElement.styles["position"] = "absolute";
              this.dynamicElement.styles["top"] = y + "px";
          };
      /**
       * @param {?} z
       * @return {?}
       */
      DynamicElementBuilder.prototype.setZ = /**
       * @param {?} z
       * @return {?}
       */
          function (z) {
              this.initStyle();
              this.dynamicElement.styles["z-index"] = z;
          };
      /**
       * @param {?} boo
       * @return {?}
       */
      DynamicElementBuilder.prototype.setFontBold = /**
       * @param {?} boo
       * @return {?}
       */
          function (boo) {
              this.initStyle();
              if (boo === "true" || boo === true) {
                  this.dynamicElement.styles["font-weight"] = "bold";
              }
              else {
                  this.dynamicElement.styles["font-weight"] = "normal";
              }
          };
      /**
       * @param {?} size
       * @return {?}
       */
      DynamicElementBuilder.prototype.setFontSize = /**
       * @param {?} size
       * @return {?}
       */
          function (size) {
              this.initStyle();
              this.dynamicElement.styles["font-size"] = size + "px";
          };
      /**
       * @param {?} color
       * @return {?}
       */
      DynamicElementBuilder.prototype.setFontColor = /**
       * @param {?} color
       * @return {?}
       */
          function (color) {
              this.initStyle();
              this.dynamicElement.styles["color"] = this.checkCustomColor(color);
          };
      /**
       * @param {?} margin
       * @return {?}
       */
      DynamicElementBuilder.prototype.setMargin = /**
       * @param {?} margin
       * @return {?}
       */
          function (margin) {
              this.initStyle();
              this.dynamicElement.styles["margin"] = this.convertStyleUnit(margin);
          };
      /**
       * @param {?} align
       * @return {?}
       */
      DynamicElementBuilder.prototype.setAlignVertical = /**
       * @param {?} align
       * @return {?}
       */
          function (align) {
              this.initStyle();
              if (align === "center") {
                  align = "middle";
              }
              this.dynamicElement.styles["vertical-align"] = align;
          };
      /**
       * @param {?} align
       * @return {?}
       */
      DynamicElementBuilder.prototype.setAlignHorizontal = /**
       * @param {?} align
       * @return {?}
       */
          function (align) {
              this.initStyle();
              this.dynamicElement.styles["text-align"] = align;
          };
      /**
       * @param {?} borderCorner
       * @return {?}
       */
      DynamicElementBuilder.prototype.setBorderCorner = /**
       * @param {?} borderCorner
       * @return {?}
       */
          function (borderCorner) {
              this.initStyle();
              this.dynamicElement.styles["border-radius"] = this.convertStyleUnit(borderCorner);
          };
      /**
       * @param {?} dropShadowColor
       * @return {?}
       */
      DynamicElementBuilder.prototype.setDropShadowColor = /**
       * @param {?} dropShadowColor
       * @return {?}
       */
          function (dropShadowColor) {
              this.dropShadowColor = this.checkCustomColor(dropShadowColor);
              this.setBoxShadow();
          };
      /**
       * @param {?} dropShadowOffset
       * @return {?}
       */
      DynamicElementBuilder.prototype.setDropShadowOffset = /**
       * @param {?} dropShadowOffset
       * @return {?}
       */
          function (dropShadowOffset) {
              this.dropShadowOffset = dropShadowOffset;
              this.setBoxShadow();
          };
      /**
       * @param {?} fn
       * @return {?}
       */
      DynamicElementBuilder.prototype.setOnContextMenu = /**
       * @param {?} fn
       * @return {?}
       */
          function (fn) {
              this.dynamicElement.onContextMenu = fn;
          };
      /**
       * @param {?} fn
       * @return {?}
       */
      DynamicElementBuilder.prototype.setOnCommand = /**
       * @param {?} fn
       * @return {?}
       */
          function (fn) {
              this.dynamicElement.onCommand = fn;
          };
      /**
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
      DynamicElementBuilder.prototype.setAttribute = /**
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
          function (name, value) {
              if (this.dynamicElement.customAttributes == null) {
                  this.dynamicElement.customAttributes = {};
              }
              this.dynamicElement.customAttributes[name] = value;
          };
      /**
       * @param {?} str
       * @return {?}
       */
      DynamicElementBuilder.prototype.setRichText = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              this.dynamicElement.richText = str === true || str === "true";
          };
      /**
       * @param {?} child
       * @return {?}
       */
      DynamicElementBuilder.prototype.appendChild = /**
       * @param {?} child
       * @return {?}
       */
          function (child) {
              if (this.dynamicElement.children == null) {
                  this.dynamicElement.children = [child.dynamicElement];
              }
              else {
                  this.dynamicElement.children.push(child.dynamicElement);
              }
          };
      /**
       * @return {?}
       */
      DynamicElementBuilder.prototype.initStyle = /**
       * @return {?}
       */
          function () {
              if (this.dynamicElement.styles == null) {
                  this.dynamicElement.styles = {};
              }
          };
      /**
       * @return {?}
       */
      DynamicElementBuilder.prototype.initBorderStyle = /**
       * @return {?}
       */
          function () {
              if (this.dynamicElement.styles["border-style"] == null || this.dynamicElement.styles["border-style"] == "") {
                  this.dynamicElement.styles["border-style"] = "solid";
              }
          };
      /**
       * @param {?} unit
       * @return {?}
       */
      DynamicElementBuilder.prototype.convertStyleUnit = /**
       * @param {?} unit
       * @return {?}
       */
          function (unit) {
              if (unit != null && unit.indexOf(",") > 0) {
                  unit = unit.split(",").map(function (m) { return m + "px"; }).join(" ");
              }
              else if (unit != null && unit !== "") {
                  unit = unit + "px";
              }
              return unit;
          };
      /**
       * @return {?}
       */
      DynamicElementBuilder.prototype.setBoxShadow = /**
       * @return {?}
       */
          function () {
              if (this.dropShadowColor != null && this.dropShadowOffset != null) {
                  this.initStyle();
                  this.dynamicElement.styles["box-shadow"] = this.dropShadowOffset + "px " + this.dropShadowOffset + "px " + this.dropShadowOffset + "px " + this.dropShadowColor;
              }
          };
      /**
       * @param {?} color
       * @return {?}
       */
      DynamicElementBuilder.prototype.checkCustomColor = /**
       * @param {?} color
       * @return {?}
       */
          function (color) {
              if (color != null && color.indexOf("#") === 0 && color.length > 7) {
                  color = "var(" + color.replace("#", "--") + ")";
              }
              return color;
          };
      return DynamicElementBuilder;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for radio button input control
   */
  var RadioButtonComponent = /** @class */ (function (_super) {
      __extends(RadioButtonComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param cd Change detector for this panel
       * @param renderer see [[BaseComponent]] constructor
       */
      function RadioButtonComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this.checked = false;
          _this.onCommand = new i0.EventEmitter();
          return _this;
      }
      Object.defineProperty(RadioButtonComponent.prototype, "isChecked", {
          set: /**
           * @param {?} boo
           * @return {?}
           */ function (boo) {
              this.checked = boo;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Init lifecycle. Call parent init method.
       */
      /**
       * Init lifecycle. Call parent init method.
       * @return {?}
       */
      RadioButtonComponent.prototype.ngOnInit = /**
       * Init lifecycle. Call parent init method.
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              if (this.idName != null) {
                  this.setCustomAttribute('idName', this.idName);
              }
          };
      /**
       * After view init lifecycle. Set the radiobutton group and attributes.
       * Calls parent ngAfterViewInti method
       */
      /**
       * After view init lifecycle. Set the radiobutton group and attributes.
       * Calls parent ngAfterViewInti method
       * @return {?}
       */
      RadioButtonComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Set the radiobutton group and attributes.
       * Calls parent ngAfterViewInti method
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
              if (this.getParent() != null) {
                  this.getParent().addRadioButtonGroup(this);
              }
              this.setAttributeFromDef();
              this.cd.detectChanges();
              this._internalChangeTracking = this.checked;
          };
      /**
       * Event handler for change event
       * @event OnCommand
       */
      /**
       * Event handler for change event
       * \@event OnCommand
       * @return {?}
       */
      RadioButtonComponent.prototype.onChange = /**
       * Event handler for change event
       * \@event OnCommand
       * @return {?}
       */
          function () {
              this.onCommand.emit();
          };
      /**
       * Event handler for click event. Updates radio button state
       * @param event Mouse click event
       */
      /**
       * Event handler for click event. Updates radio button state
       * @param {?} event Mouse click event
       * @return {?}
       */
      RadioButtonComponent.prototype.onClick = /**
       * Event handler for click event. Updates radio button state
       * @param {?} event Mouse click event
       * @return {?}
       */
          function (event) {
              event.stopPropagation();
              /** @type {?} */
              var tempCheck = this.checked;
              this.resetGroupRadios();
              //reset current value back for onChange
              this._internalChangeTracking = tempCheck;
              //register click for mco
              this.checked = true;
              this.handleClick(event);
              if (this._internalChangeTracking !== this.checked) {
                  this.onChange();
                  this._internalChangeTracking = this.checked;
              }
          };
      /**
       * Event handler for mousedown event
       * @param e MouseDown event
       */
      /**
       * Event handler for mousedown event
       * @param {?} e MouseDown event
       * @return {?}
       */
      RadioButtonComponent.prototype.onMouseDown = /**
       * Event handler for mousedown event
       * @param {?} e MouseDown event
       * @return {?}
       */
          function (e) {
              this.handleMouseDown(e);
          };
      /**
       * Get the component name
       */
      /**
       * Get the component name
       * @return {?}
       */
      RadioButtonComponent.prototype.getLocalName = /**
       * Get the component name
       * @return {?}
       */
          function () {
              return "radioButton";
          };
      /**
       * Get the [[value]] property
       */
      /**
       * Get the [[value]] property
       * @return {?}
       */
      RadioButtonComponent.prototype.getValue = /**
       * Get the [[value]] property
       * @return {?}
       */
          function () {
              return this.value;
          };
      /**
       * Get the [[checked]] property
       */
      /**
       * Get the [[checked]] property
       * @return {?}
       */
      RadioButtonComponent.prototype.getChecked = /**
       * Get the [[checked]] property
       * @return {?}
       */
          function () {
              return this.checked;
          };
      /**
       * Sets the value for [[checked]] property and updated [[_internalChangeTracking]] value
       * @param shouldChecked Toggle checked
       */
      /**
       * Sets the value for [[checked]] property and updated [[_internalChangeTracking]] value
       * @param {?} shouldChecked Toggle checked
       * @param {?=} skipInternalChange
       * @return {?}
       */
      RadioButtonComponent.prototype.setChecked = /**
       * Sets the value for [[checked]] property and updated [[_internalChangeTracking]] value
       * @param {?} shouldChecked Toggle checked
       * @param {?=} skipInternalChange
       * @return {?}
       */
          function (shouldChecked, skipInternalChange) {
              if (skipInternalChange === void 0) {
                  skipInternalChange = false;
              }
              if (shouldChecked === true) {
                  this.resetGroupRadios();
              }
              this.checked = shouldChecked === true || shouldChecked === 'true';
              this._internalChangeTracking = this.checked;
              this.markForCheck();
              //notify internal changes (for internal use only)
              if (skipInternalChange !== true) {
                  this._notifyInternalChangeCb();
              }
          };
      /**
       * Check the radio button of the parent group that matches [[value]]
       * @param value
       */
      /**
       * Check the radio button of the parent group that matches [[value]]
       * @param {?} value
       * @return {?}
       */
      RadioButtonComponent.prototype.setSelected = /**
       * Check the radio button of the parent group that matches [[value]]
       * @param {?} value
       * @return {?}
       */
          function (value) {
              var e_1, _a;
              if (value === true || value === "true") {
                  this.setChecked(true);
              }
              else if (value == this.value) {
                  this.setChecked(true);
              }
              else if (this.getParent() != null) {
                  /** @type {?} */
                  var group = this.getParent().getRadioButtonGroup(this.group);
                  if (group != null) {
                      try {
                          for (var group_1 = __values(group), group_1_1 = group_1.next(); !group_1_1.done; group_1_1 = group_1.next()) {
                              var radio = group_1_1.value;
                              if (radio.getValue() == value) {
                                  radio.setChecked(true);
                                  break;
                              }
                          }
                      }
                      catch (e_1_1) {
                          e_1 = { error: e_1_1 };
                      }
                      finally {
                          try {
                              if (group_1_1 && !group_1_1.done && (_a = group_1.return))
                                  _a.call(group_1);
                          }
                          finally {
                              if (e_1)
                                  throw e_1.error;
                          }
                      }
                  }
              }
          };
      /**
       * Get JSON representation for the radiobutton component
       * @returns JSON
       */
      /**
       * Get JSON representation for the radiobutton component
       * @return {?} JSON
       */
      RadioButtonComponent.prototype.toJson = /**
       * Get JSON representation for the radiobutton component
       * @return {?} JSON
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              json["group"] = this.group;
              json["selected"] = this.checked === true ? "true" : "false";
              return json;
          };
      /**
       * Get the NexaWeb tag name
       * @return Tag name
       */
      /**
       * Get the NexaWeb tag name
       * @return {?} Tag name
       */
      RadioButtonComponent.prototype.getNxTagName = /**
       * Get the NexaWeb tag name
       * @return {?} Tag name
       */
          function () {
              return "radioButton";
          };
      /**
       * Uncheck all radio buttons in the radio button's group
       * @return {?}
       */
      RadioButtonComponent.prototype.resetGroupRadios = /**
       * Uncheck all radio buttons in the radio button's group
       * @return {?}
       */
          function () {
              var e_2, _a;
              /** @type {?} */
              var group = this.getParent().getRadioButtonGroup(this.group);
              if (group != null) {
                  try {
                      for (var group_2 = __values(group), group_2_1 = group_2.next(); !group_2_1.done; group_2_1 = group_2.next()) {
                          var radio = group_2_1.value;
                          radio.setChecked(false);
                      }
                  }
                  catch (e_2_1) {
                      e_2 = { error: e_2_1 };
                  }
                  finally {
                      try {
                          if (group_2_1 && !group_2_1.done && (_a = group_2.return))
                              _a.call(group_2);
                      }
                      finally {
                          if (e_2)
                              throw e_2.error;
                      }
                  }
              }
          };
      /**
       * Get [[cd]] (ChangeDetector) of this component
       */
      /**
       * Get [[cd]] (ChangeDetector) of this component
       * @return {?}
       */
      RadioButtonComponent.prototype.getChangeDetector = /**
       * Get [[cd]] (ChangeDetector) of this component
       * @return {?}
       */
          function () {
              return this.cd;
          };
      /**
       * Check if this component is a radiobutton
       * @returns True
       */
      /**
       * Check if this component is a radiobutton
       * @return {?} True
       */
      RadioButtonComponent.prototype.isRadioButton = /**
       * Check if this component is a radiobutton
       * @return {?} True
       */
          function () {
              return true;
          };
      RadioButtonComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-radio-button',
                      template: "<div class=\"radio {{cssClass}} {{cssClass}} {{(disabled ===true) ? 'disabled':''}}\" [ngClass]=\"{'hidden': visible != true}\" (contextmenu)=\"handleOnContextMenu($event)\">\n  <label>\n    <input class=\"input-radio\" type=\"radio\" [name]=\"group\" [id]=\"id\" [value]=\"value\" [checked]=\"checked\"\n      [disabled]=\"disabled\"\n      (click)=\"onClick($event)\"\n      (mousedown)=\"onMouseDown($event)\"\n      [required]=\"required\">\n    <span [style.margin-left.px]=\"marginLeft\" [style.margin-right.px]=\"marginRight\">{{text}}</span>\n  </label>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return RadioButtonComponent; })
                          }
                      ],
                      styles: ["div>label>span{vertical-align:top!important}"]
                  }] }
      ];
      /** @nocollapse */
      RadioButtonComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      RadioButtonComponent.propDecorators = {
          group: [{ type: i0.Input }],
          idName: [{ type: i0.Input }],
          value: [{ type: i0.Input }],
          isChecked: [{ type: i0.Input }],
          checked: [{ type: i0.Input }],
          onCommand: [{ type: i0.Output }]
      };
      return RadioButtonComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var RadioButtonModule = /** @class */ (function () {
      function RadioButtonModule() {
      }
      RadioButtonModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          forms.FormsModule,
                          forms.ReactiveFormsModule,
                      ],
                      declarations: [RadioButtonComponent],
                      exports: [
                          RadioButtonComponent,
                          forms.FormsModule,
                          forms.ReactiveFormsModule,
                      ],
                      entryComponents: [
                          RadioButtonComponent
                      ]
                  },] }
      ];
      return RadioButtonModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for scroll pane component
   */
  var ScrollPaneComponent = /** @class */ (function (_super) {
      __extends(ScrollPaneComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param renderer see [[BaseComponent]] constructor
       * @param cd Change detector for this component instance
       */
      function ScrollPaneComponent(parent, sessionService, elementRef, renderer, cd, zone) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this.zone = zone;
          _this._scrollVerticalPos = 0;
          _this._scrollerHandler = function (event) {
              _this.handleOnScroll(event);
          };
          return _this;
      }
      /**
       * Get [[cd]] (Change detector) property value
       * @returns Change detector reference
       */
      /**
       * Get [[cd]] (Change detector) property value
       * @return {?} Change detector reference
       */
      ScrollPaneComponent.prototype.getChangeDetector = /**
       * Get [[cd]] (Change detector) property value
       * @return {?} Change detector reference
       */
          function () {
              return this.cd;
          };
      /**
       * After view init lifecycle. Set dimensions and trigger change detection
       */
      /**
       * After view init lifecycle. Set dimensions and trigger change detection
       * @return {?}
       */
      ScrollPaneComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Set dimensions and trigger change detection
       * @return {?}
       */
          function () {
              var _this = this;
              _super.prototype.ngAfterViewInit.call(this);
              if (this.controlHeight == null) {
                  this.controlHeight = '100%';
              }
              if (this.controlHeight != null && this.controlHeight !== "") {
                  this.styles["height"] = this.controlHeight + "px";
              }
              if (this.controlWidth != null && this.controlWidth !== "") {
                  this.styles["max-width"] = this.controlWidth + "px";
              }
              if (this.maxHeight != null && this.maxHeight !== "") {
                  this.styles["max-height"] = this.maxHeight + "px";
              }
              if (this.resizeHeight != null && this.resizeHeight !== "") {
                  this.styles["height"] = "calc(100% - " + this.resizeHeight + "px)";
              }
              this.zone.runOutsideAngular(function () {
                  //for https://github.com/weaveio/ngnsophia/issues/1392, track position of scroll pane
                  //so it can be reset back when user switching tabs
                  if (_this.skipScrollAdjustment !== true) {
                      ( /** @type {?} */(_this.scrollDivElement.nativeElement)).addEventListener("scroll", _this._scrollerHandler, true);
                  }
              });
              this.cd.detectChanges();
          };
      /**
       * @return {?}
       */
      ScrollPaneComponent.prototype.ngOnDestroy = /**
       * @return {?}
       */
          function () {
              _super.prototype.ngOnDestroy.call(this);
              ( /** @type {?} */(this.scrollDivElement.nativeElement)).removeEventListener("scroll", this._scrollerHandler, true);
              this._scrollerHandler = null;
          };
      /**
       * Scroll event of div
       * @param {?} event
       * @return {?}
       */
      ScrollPaneComponent.prototype.handleOnScroll = /**
       * Scroll event of div
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this._scrollVerticalPos = event.srcElement.scrollTop;
          };
      /**
       * @return {?}
       */
      ScrollPaneComponent.prototype.resetScrollTopToPreviousPosition = /**
       * @return {?}
       */
          function () {
              var _this = this;
              this.zone.runOutsideAngular(function () {
                  setTimeout(function () {
                      if (_this.scrollDivElement.nativeElement.scrollTop != _this._scrollVerticalPos) {
                          _this.scrollDivElement.nativeElement.scrollTop = _this._scrollVerticalPos;
                      }
                  }, 300);
              });
          };
      /**
       * @return {?}
       */
      ScrollPaneComponent.prototype.resetScrollTopPosition = /**
       * @return {?}
       */
          function () {
              var _this = this;
              this.zone.runOutsideAngular(function () {
                  setTimeout(function () {
                      _this._scrollVerticalPos = 0;
                      _this.scrollDivElement.nativeElement.scrollTop = _this._scrollVerticalPos;
                  }, 300);
              });
          };
      /**
       * @return {?}
       */
      ScrollPaneComponent.prototype.isScrollView = /**
       * @return {?}
       */
          function () {
              return true;
          };
      /**
       * @return {?}
       */
      ScrollPaneComponent.prototype.isScrollPane = /**
       * @return {?}
       */
          function () {
              return true;
          };
      ScrollPaneComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-scroll-pane',
                      template: "<div #scrollDiv [id]=\"id\" class=\"vt-scroll-pane {{cssClass}}\"\n  [ngClass]=\"{'hidden': visible != true}\"\n  [ngStyle]=\"styles\"\n  (contextmenu)=\"handleOnContextMenu($event)\">\n  <ng-content></ng-content>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return ScrollPaneComponent; })
                          }
                      ],
                      styles: [".vt-scroll-pane{overflow:auto}.noscroll{overflow:hidden!important;overflow-y:hidden!important;overflow-x:hidden!important}"]
                  }] }
      ];
      /** @nocollapse */
      ScrollPaneComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.Renderer2 },
              { type: i0.ChangeDetectorRef },
              { type: i0.NgZone }
          ];
      };
      ScrollPaneComponent.propDecorators = {
          resizeHeight: [{ type: i0.Input }],
          skipScrollAdjustment: [{ type: i0.Input }],
          scrollDivElement: [{ type: i0.ViewChild, args: ['scrollDiv',] }]
      };
      return ScrollPaneComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ScrollPaneModule = /** @class */ (function () {
      function ScrollPaneModule() {
      }
      ScrollPaneModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [ScrollPaneComponent],
                      exports: [
                          ScrollPaneComponent
                      ]
                  },] }
      ];
      return ScrollPaneModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var StringBuilder = /** @class */ (function () {
      function StringBuilder(initial) {
          this._internalString = "";
          if (initial != null) {
              this.append(initial);
          }
      }
      /**
       * @param {?} str
       * @return {?}
       */
      StringBuilder.prototype.append = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              if (str instanceof StringBuilder) {
                  this._internalString = this._internalString + str.toString();
              }
              else {
                  this._internalString = this._internalString + str;
              }
              return this;
          };
      /**
       * @return {?}
       */
      StringBuilder.prototype.toString = /**
       * @return {?}
       */
          function () {
              return this._internalString;
          };
      /**
       * @return {?}
       */
      StringBuilder.prototype.clear = /**
       * @return {?}
       */
          function () {
              this._internalString = "";
              return this;
          };
      /**
       * @return {?}
       */
      StringBuilder.prototype.destroy = /**
       * @return {?}
       */
          function () {
              this.clear();
          };
      /**
       * @param {?} str
       * @return {?}
       */
      StringBuilder.prototype.indexOf = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              return this._internalString.indexOf(str);
          };
      /**
       * @param {?} startIdx
       * @param {?=} endIdx
       * @return {?}
       */
      StringBuilder.prototype.substring = /**
       * @param {?} startIdx
       * @param {?=} endIdx
       * @return {?}
       */
          function (startIdx, endIdx) {
              if (endIdx != null) {
                  return this._internalString.substring(startIdx, endIdx);
              }
              return this._internalString.substring(startIdx);
          };
      /**
       * @param {?} startIdx
       * @param {?} endIdex
       * @param {?} replaceStr
       * @return {?}
       */
      StringBuilder.prototype.replace = /**
       * @param {?} startIdx
       * @param {?} endIdex
       * @param {?} replaceStr
       * @return {?}
       */
          function (startIdx, endIdex, replaceStr) {
              /** @type {?} */
              var b = this._internalString.substring(0, startIdx);
              /** @type {?} */
              var e = this._internalString.substring(endIdex);
              this._internalString = b + replaceStr + e;
              return this;
          };
      /**
       * @return {?}
       */
      StringBuilder.prototype.length = /**
       * @return {?}
       */
          function () {
              return this._internalString.length;
          };
      /**
       * @param {?} i
       * @return {?}
       */
      StringBuilder.prototype.charAt = /**
       * @param {?} i
       * @return {?}
       */
          function (i) {
              if (i < this._internalString.length) {
                  return this._internalString.charAt(i);
              }
              return null;
          };
      /**
       * @param {?} idx
       * @param {?} val
       * @return {?}
       */
      StringBuilder.prototype.setCharAt = /**
       * @param {?} idx
       * @param {?} val
       * @return {?}
       */
          function (idx, val) {
              if (typeof val === "number") {
                  this.insert(idx, String.fromCharCode(val));
              }
              else {
                  this.insert(idx, val);
              }
          };
      /**
       * @param {?} i
       * @return {?}
       */
      StringBuilder.prototype.deleteCharAt = /**
       * @param {?} i
       * @return {?}
       */
          function (i) {
              this.replace(i, i, '');
              return this;
          };
      /**
       * @param {?} index
       * @param {?} str
       * @return {?}
       */
      StringBuilder.prototype.insert = /**
       * @param {?} index
       * @param {?} str
       * @return {?}
       */
          function (index, str) {
              if (index <= this._internalString.length) {
                  this._internalString = this._internalString.substring(0, index - 1) + str + this._internalString.substring(index);
              }
              return this;
          };
      /**
       * @param {?} chr
       * @return {?}
       */
      StringBuilder.prototype.lastIndexOf = /**
       * @param {?} chr
       * @return {?}
       */
          function (chr) {
              if (this._internalString != null) {
                  return _.lastIndexOf(this._internalString, chr);
              }
              return -1;
          };
      return StringBuilder;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * This directive serve as a template for rendering table cell.
   */
  var TableCellDirective = /** @class */ (function () {
      /**
       *
       * @param template Template on how to render the cell, we will forward row, column, etc to the template
       */
      function TableCellDirective(template) {
          this.template = template;
      }
      TableCellDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: '[vt-table-cell]'
                  },] }
      ];
      /** @nocollapse */
      TableCellDirective.ctorParameters = function () {
          return [
              { type: i0.TemplateRef }
          ];
      };
      TableCellDirective.propDecorators = {
          onContextMenuCb: [{ type: i0.Input }],
          alignHorizontal: [{ type: i0.Input }]
      };
      return TableCellDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * This template is used to render header if a customer rendering is needed, by default, header can be passed in
   * to the TableColumnDirective as a string
   */
  var TableHeaderDirective = /** @class */ (function () {
      /**
       *
       * @param template Template on how to render the header, we will forward row, column, etc to the template
       */
      function TableHeaderDirective(template) {
          this.template = template;
      }
      TableHeaderDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: '[vt-table-header]'
                  },] }
      ];
      /** @nocollapse */
      TableHeaderDirective.ctorParameters = function () {
          return [
              { type: i0.TemplateRef }
          ];
      };
      TableHeaderDirective.propDecorators = {
          id: [{ type: i0.Input }],
          autoWrap: [{ type: i0.Input }]
      };
      return TableHeaderDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var HeaderDirective = /** @class */ (function () {
      function HeaderDirective() {
      }
      /**
       * @return {?}
       */
      HeaderDirective.prototype.ngOnInit = /**
       * @return {?}
       */
          function () {
              if (this.id == null) {
                  this.id = BaseComponent.generateUniqueId("header");
              }
          };
      HeaderDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-header'
                  },] }
      ];
      /** @nocollapse */
      HeaderDirective.ctorParameters = function () { return []; };
      HeaderDirective.propDecorators = {
          text: [{ type: i0.Input }],
          cssClass: [{ type: i0.Input }],
          controlHeight: [{ type: i0.Input }],
          controlWidth: [{ type: i0.Input }],
          headerHeight: [{ type: i0.Input }],
          autoWrap: [{ type: i0.Input }],
          id: [{ type: i0.Input }]
      };
      return HeaderDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TableColumnDirective = /** @class */ (function () {
      function TableColumnDirective() {
          //TODO
          this.locked = false;
          //TODO
          this.enabled = true;
          this.sortable = true;
          this.isChecked = false;
          this._visible = true;
      }
      Object.defineProperty(TableColumnDirective.prototype, "header", {
          get: /**
           * @return {?}
           */ function () {
              return this.headerDirective ? this.headerDirective.text : this._header;
          },
          //default, use the {header} as the header for the cell
          set: /**
           * @param {?} header
           * @return {?}
           */ function (header) {
              this._header = header;
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(TableColumnDirective.prototype, "visible", {
          get: /**
           * @return {?}
           */ function () {
              return this._visible;
          },
          set: /**
           * @param {?} vis
           * @return {?}
           */ function (vis) {
              this._visible = vis;
              if (this._visible === true) {
                  if (this.styles) {
                      delete this.styles["display"];
                  }
              }
              else {
                  if (this.styles) {
                      this.styles["display"] = "none";
                  }
                  else {
                      this.styles = {
                          "display": "none"
                      };
                  }
              }
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(TableColumnDirective.prototype, "isHeaderTemplate", {
          get: /**
           * @return {?}
           */ function () {
              return this.headerTemplate === null || this.headerTemplate === undefined ? false : true;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * @return {?}
       */
      TableColumnDirective.prototype.ngOnInit = /**
       * @return {?}
       */
          function () {
              if (this.headerDirective != null) {
                  this.header = this.headerDirective.text;
                  if (this.autoWrap == null) {
                      this.autoWrap = this.headerDirective.autoWrap === true || this.headerDirective.autoWrap === "true";
                  }
              }
              if (this.id == null) {
                  this.id = BaseComponent.generateUniqueId("column");
              }
              if (this.headerHeight != null) {
                  this.headerHeight = this.headerHeight;
              }
          };
      /**
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
      TableColumnDirective.prototype.setAttribute = /**
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
          function (name, value) {
              if (typeof name === "number" && name === AttributesEnum.VISIBLE) {
                  this.visible = JavaUtils.parseBoolean(value);
              }
              else {
                  if (this.customAttributes == null) {
                      this.customAttributes = {};
                  }
                  this.customAttributes[name] = value;
              }
          };
      /**
       * @param {?} name
       * @return {?}
       */
      TableColumnDirective.prototype.getAttribute = /**
       * @param {?} name
       * @return {?}
       */
          function (name) {
              if (typeof name === "number" && name === AttributesEnum.VISIBLE)
                  return /** @type {?} */ (this.visible);
              if (typeof name === "number" && name === AttributesEnum.ID)
                  return this.id;
              /** @type {?} */
              var retVal = this.customAttributes != null ? this.customAttributes[name] : null;
              if (typeof retVal !== "string") {
                  retVal = retVal + "";
              }
              return retVal;
          };
      /**
       * @param {?} vis
       * @return {?}
       */
      TableColumnDirective.prototype.setVisible = /**
       * @param {?} vis
       * @return {?}
       */
          function (vis) {
              this.visible = vis;
          };
      TableColumnDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-table-column'
                  },] }
      ];
      TableColumnDirective.propDecorators = {
          locked: [{ type: i0.Input }],
          enabled: [{ type: i0.Input }],
          sortable: [{ type: i0.Input }],
          isChecked: [{ type: i0.Input }],
          alignHorizontal: [{ type: i0.Input }],
          id: [{ type: i0.Input }],
          cellTemplate: [{ type: i0.ContentChild, args: [TableCellDirective, { read: TableCellDirective },] }],
          headerTemplate: [{ type: i0.ContentChild, args: [TableHeaderDirective, { read: i0.TemplateRef },] }],
          headerDirective: [{ type: i0.ContentChild, args: [HeaderDirective,] }],
          header: [{ type: i0.Input }],
          autoWrap: [{ type: i0.Input }],
          controlWidth: [{ type: i0.Input }],
          controlHeight: [{ type: i0.Input }],
          cellHeight: [{ type: i0.Input }],
          headerHeight: [{ type: i0.Input }],
          visible: [{ type: i0.Input }],
          customAttributes: [{ type: i0.Input }],
          skipTracking: [{ type: i0.Input }]
      };
      return TableColumnDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TableSelectionEvent = /** @class */ (function () {
      function TableSelectionEvent(rows) {
          this.rows = rows;
      }
      return TableSelectionEvent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var HTMLElementWrapper = /** @class */ (function () {
      function HTMLElementWrapper(renderer, type, sessionService, virtual, docFragment) {
          if (virtual === void 0) {
              virtual = false;
          }
          if (docFragment === void 0) {
              docFragment = null;
          }
          var _this = this;
          this.renderer = renderer;
          this.sessionService = sessionService;
          //for none dynamic stuf
          this.childNodes = [];
          this.customAttributes = null;
          this._uniqueId = BaseComponent.generateUniqueId(type);
          this.localName = type;
          if (type === "row" && virtual !== true) {
              this.htmlElement = this.renderer.createElement("tr");
              this._dynamicComponent = true;
          }
          else if (type === "cell" && virtual !== true) {
              this.htmlElement = this.renderer.createElement("td");
              this._dynamicComponent = true;
          }
          else if (type === "label" || type === "menuItem" || virtual === true) {
              this.fauxElementAttributes = new Map();
              this.setAttribute("id", this._uniqueId);
          }
          if (this._dynamicComponent === true) {
              if (this.htmlElement instanceof HTMLTableRowElement) {
                  this.htmlElement.setAttribute("data-tt-id", this._uniqueId);
              }
              this.onContextHandler = function (event) {
                  /** @type {?} */
                  var clientEvent = new ClientEvent(_this, event);
                  if (AppUtils.customizeClientEvent != null) {
                      AppUtils.customizeClientEvent(_this, clientEvent);
                  }
                  if (_this.parentScreenId != null) {
                      clientEvent.setParameter("screenId", _this.parentScreenId);
                  }
                  _this.sessionService.getEventHandler().setClientEvent(clientEvent);
                  if (typeof _this.contextMenuAction === "string") {
                      _this.invokeMcoAction(_this.contextMenuAction);
                  }
                  else if (typeof _this.contextMenuAction === "function") {
                      _this.contextMenuAction.apply(_this, [_this]);
                  }
                  _this.showPopupMenu(event);
              };
              this.htmlElement.addEventListener("mousedown", function (event) { return _this.onMouseDownHandler(event); }, true);
              this.htmlElement.addEventListener("dblclick", function (event) { return _this.onDoubleClickHandler(event); }, true);
              this.onMouseDownHandler = function (event) {
                  _this.handleOnMouseDown(event);
              };
              this.onDoubleClickHandler = function (event) {
                  _this.handleDoubleClick(event);
              };
          }
      }
      Object.defineProperty(HTMLElementWrapper.prototype, "id", {
          get: /**
           * @return {?}
           */ function () {
              return this.getId();
          },
          enumerable: true,
          configurable: true
      });
      /**
       * @param {?} type
       * @return {?}
       */
      HTMLElementWrapper.createVirtualElement = /**
       * @param {?} type
       * @return {?}
       */
          function (type) {
              return new HTMLElementWrapper(null, type, null, true);
          };
      /**
       * @param {?=} skipDestroyChild
       * @return {?}
       */
      HTMLElementWrapper.prototype.destroy = /**
       * @param {?=} skipDestroyChild
       * @return {?}
       */
          function (skipDestroyChild) {
              if (skipDestroyChild === void 0) {
                  skipDestroyChild = false;
              }
              if (this._dynamicComponent === true && this.htmlElement != null) {
                  this.htmlElement.removeEventListener("contextmenu", this.onContextHandler, true);
                  this.htmlElement.removeEventListener("mousedown", this.onMouseDownHandler, true);
                  this.htmlElement.removeEventListener("dblclick", this.onDoubleClickHandler, true);
              }
              if (this.childNodes != null && skipDestroyChild !== true) {
                  /** @type {?} */
                  var stack = this.childNodes;
                  while (stack.length > 0) {
                      /** @type {?} */
                      var node = stack.pop();
                      if (node.childNodes != null) {
                          stack = stack.concat(node.childNodes);
                      }
                      node.destroy(true);
                  }
              }
              if (this.dynamicChildNodes != null && skipDestroyChild !== true) {
                  /** @type {?} */
                  var stack = this.dynamicChildNodes;
                  while (stack.length > 0) {
                      /** @type {?} */
                      var node = stack.pop();
                      if (node.dynamicChildNodes != null) {
                          stack = stack.concat(node.dynamicChildNodes);
                      }
                      node.destroy(true);
                  }
              }
              if (this.childRows != null && skipDestroyChild !== true) {
                  /** @type {?} */
                  var stack = this.childRows;
                  while (stack.length > 0) {
                      /** @type {?} */
                      var node = stack.pop();
                      if (node.childRows != null) {
                          stack = stack.concat(node.childRows);
                      }
                      node.destroy(true);
                  }
              }
              if (this.component != null) {
                  this.component.removeAttributeChangeListener(this);
              }
              this.htmlElement = null;
              this.parent = null;
              this._uniqueId = null;
              this.component = null;
              this.childNodes = null;
              this.attributesName = null;
              this.fauxElementAttributes = null;
              this.childRows = null;
          };
      /**
       * @param {?} text
       * @return {?}
       */
      HTMLElementWrapper.prototype.setText = /**
       * @param {?} text
       * @return {?}
       */
          function (text) {
              if (this._dynamicComponent === true) {
                  this.renderer.setProperty(this.htmlElement, "innerHTML", text);
              }
              else if (this.component != null) {
                  this.component.setText(text);
              }
              else if (this.fauxElementAttributes != null) {
                  this.fauxElementAttributes.set("text", text);
              }
          };
      /**
       * @param {?} size
       * @return {?}
       */
      HTMLElementWrapper.prototype.setFontSize = /**
       * @param {?} size
       * @return {?}
       */
          function (size) {
              if (this._dynamicComponent === true) {
                  this.renderer.setStyle(this.htmlElement, "font-size", size + "px");
              }
              else if (this.component != null) {
                  this.component.setFontSize(size);
              }
              else if (this.fauxElementAttributes != null) {
                  this.fauxElementAttributes.set("fontSize", size);
              }
          };
      /**
       * @param {?} bold
       * @return {?}
       */
      HTMLElementWrapper.prototype.setFontBold = /**
       * @param {?} bold
       * @return {?}
       */
          function (bold) {
              if (this._dynamicComponent === true) {
                  if (bold === "true" || bold === true) {
                      this.renderer.setStyle(this.htmlElement, "font-weight", "bold");
                  }
                  else {
                      this.renderer.setStyle(this.htmlElement, "font-weight", "normal");
                  }
              }
              else if (this.component != null) {
                  this.component.setFontBold(bold);
              }
              else if (this.fauxElementAttributes != null) {
                  this.fauxElementAttributes.set("fontBold", bold);
              }
          };
      /**
       * @param {?} css
       * @return {?}
       */
      HTMLElementWrapper.prototype.setClass = /**
       * @param {?} css
       * @return {?}
       */
          function (css) {
              if (css != null && css.indexOf(".") >= 0) {
                  /** @type {?} */
                  var temp = css.split("\.");
                  /** @type {?} */
                  var cssClass = temp.join("-");
                  if (temp[0] === "") {
                      css = cssClass.substring(1);
                  }
              }
              if (this.htmlElement != null) {
                  this.renderer.setAttribute(this.htmlElement, "class", css);
              }
              else if (this.component != null) {
                  this.component.addCssClass(css);
              }
              else if (this.fauxElementAttributes != null) {
                  this.setAttribute("class", css);
              }
          };
      /**
       * Insert a child row at specific location
       * @param idx
       * @param child
       */
      /**
       * Insert a child row at specific location
       * @param {?} idx
       * @param {?} child
       * @return {?}
       */
      HTMLElementWrapper.prototype.insertChildRowAt = /**
       * Insert a child row at specific location
       * @param {?} idx
       * @param {?} child
       * @return {?}
       */
          function (idx, child) {
              if (child.htmlElement instanceof HTMLTableRowElement !== true && this._dynamicComponent === true) {
                  throw new Error("Invalid insertion, only HTMLTableRowElement is allowed");
              }
              if (idx > 0 && (this.childRows == null || this.childRows.length <= idx)) {
                  throw new Error("Unable to insert child row at this specific location (index overflow)");
              }
              else if (idx >= 0 && (this.childRows != null && this.childRows.length > idx)) {
                  //track child rows so we can used insertChildRowAt
                  if (this.childRows == null) {
                      this.childRows = [];
                  }
                  if (this.parentTable.useDocFragment === true) {
                      ( /** @type {?} */(this.parentTable._bodyFragment)).insertBefore(child.htmlElement, this.childRows[idx].htmlElement);
                  }
                  else {
                      this.renderer.insertBefore(this.parentTable.tableBody.nativeElement, child.htmlElement, this.childRows[idx].htmlElement);
                  }
                  this.childRows.splice(idx, 0, child);
              }
              this.renderer.setAttribute(child.htmlElement, "data-tt-parent-id", this._uniqueId);
              child.parent = this;
          };
      /**
       * Append a child to this element. If this is a row and we append a row, set {@ appendToTable} to true
       * will also append the actual table row (tr) to the table.
       *
       * @param child child to be appended
       * @param appendToTable
       */
      /**
       * Append a child to this element. If this is a row and we append a row, set {\@ appendToTable} to true
       * will also append the actual table row (tr) to the table.
       *
       * @param {?} child child to be appended
       * @param {?=} appendToTableIfRow
       * @return {?}
       */
      HTMLElementWrapper.prototype.appendChild = /**
       * Append a child to this element. If this is a row and we append a row, set {\@ appendToTable} to true
       * will also append the actual table row (tr) to the table.
       *
       * @param {?} child child to be appended
       * @param {?=} appendToTableIfRow
       * @return {?}
       */
          function (child, appendToTableIfRow) {
              if (appendToTableIfRow === void 0) {
                  appendToTableIfRow = false;
              }
              if (this._dynamicComponent === true) {
                  if (child.htmlElement instanceof HTMLTableRowElement) {
                      this.renderer.setAttribute(child.htmlElement, "data-tt-parent-id", this._uniqueId);
                      if (appendToTableIfRow === true) {
                          if (this.parentTable.useDocFragment === true) {
                              ( /** @type {?} */(this.parentTable._bodyFragment)).appendChild(child.htmlElement);
                          }
                          else {
                              this.renderer.appendChild(this.parentTable.tableBody.nativeElement, child.htmlElement);
                          }
                      }
                      //track child rows so we can used insertChildRowAt
                      if (this.childRows == null) {
                          this.childRows = [];
                      }
                      this.childRows.push(child);
                  }
                  else if (child.htmlElement instanceof HTMLTableCellElement) {
                      this.renderer.appendChild(this.htmlElement, child.htmlElement);
                      if (this.dynamicChildNodes == null) {
                          this.dynamicChildNodes = [];
                      }
                      this.dynamicChildNodes.push(child);
                  }
              }
              else {
                  this.childNodes.push(child);
              }
              child.parent = this;
          };
      /**
       * @param {?} cust
       * @return {?}
       */
      HTMLElementWrapper.prototype.appendCustomAttributes = /**
       * @param {?} cust
       * @return {?}
       */
          function (cust) {
              var e_1, _a;
              if (cust != null) {
                  /** @type {?} */
                  var keys = _.keys(cust);
                  try {
                      for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {
                          var key = keys_1_1.value;
                          this.setAttribute(key, cust[key]);
                      }
                  }
                  catch (e_1_1) {
                      e_1 = { error: e_1_1 };
                  }
                  finally {
                      try {
                          if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return))
                              _a.call(keys_1);
                      }
                      finally {
                          if (e_1)
                              throw e_1.error;
                      }
                  }
              }
          };
      //NSD will override this, added to fix error
      // setCustomAttribute(name: string, value: string) {
      //   this.setAttribute(name, value);
      // }
      /**
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
      HTMLElementWrapper.prototype.setAttribute = /**
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
          function (name, value) {
              if (name === 'selected' && this.localName == 'row') {
                  if (this.parentTable != null) {
                      if (value == 'true')
                          this.parentTable.selectRow(this, true);
                      else
                          this.parentTable.selectRow(this, false);
                      this.parentTable.markForCheck();
                  }
              }
              if (name === "expanded") {
                  this.expandNode(value);
              }
              else if (this.component != null) {
                  this.component.setAttribute(name, value);
                  this.trackAttributeName(name);
              }
              else if (this.htmlElement != null) {
                  if (name === "isLockedColumn") {
                      if (this.fauxElementAttributes == null) {
                          this.fauxElementAttributes = new Map();
                      }
                      this.fauxElementAttributes.set(name, value);
                  }
                  else {
                      this.renderer.setAttribute(this.htmlElement, name, value);
                  }
                  this.trackAttributeName(name);
              }
              else if (this.fauxElementAttributes != null) {
                  this.fauxElementAttributes.set(name, value);
                  this.trackAttributeName(name);
              }
          };
      /**
       * @param {?} name
       * @param {?=} skipQueryDOMIfNotExists
       * @return {?}
       */
      HTMLElementWrapper.prototype.getAttribute = /**
       * @param {?} name
       * @param {?=} skipQueryDOMIfNotExists
       * @return {?}
       */
          function (name, skipQueryDOMIfNotExists) {
              if (skipQueryDOMIfNotExists === void 0) {
                  skipQueryDOMIfNotExists = false;
              }
              if (name === "expanded") {
                  return this.expanded === "true" ? "true" : "false";
              }
              if (this.component != null) {
                  return this.component.getAttribute(name, skipQueryDOMIfNotExists);
              }
              else if (this.htmlElement != null && skipQueryDOMIfNotExists !== true) {
                  if (name === "text") {
                      /** @type {?} */
                      var text = this.htmlElement.getAttribute(name);
                      if (text == null) {
                          text = this.htmlElement.innerText;
                      }
                      if (text == null || text === "") {
                          text = ( /** @type {?} */(this.htmlElement)).textContent;
                      }
                      if (typeof text === "string") {
                          text = text.trim();
                      }
                      return text;
                  }
                  else if (name === "isLockedColumn" && this.fauxElementAttributes != null) {
                      return this.fauxElementAttributes.get(name);
                  }
                  else if (name === "isLockedColumn") {
                      return "false";
                  }
                  return this.htmlElement.getAttribute(name);
              }
              else if (this.fauxElementAttributes != null) {
                  return this.fauxElementAttributes.get(name);
              }
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.getText = /**
       * @return {?}
       */
          function () {
              return this.getAttribute("text");
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.getId = /**
       * @return {?}
       */
          function () {
              return this.getAttribute("id");
          };
      /**
       * @param {?} draggable
       * @return {?}
       */
      HTMLElementWrapper.prototype.setDraggable = /**
       * @param {?} draggable
       * @return {?}
       */
          function (draggable) {
              this.setAttribute("draggable", draggable);
              if (draggable == "true") {
                  this.applyDraggable();
              }
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.getExpanded = /**
       * @return {?}
       */
          function () {
              return this.getAttribute("expanded");
          };
      /**
       * @param {?} str
       * @return {?}
       */
      HTMLElementWrapper.prototype.setExpanded = /**
       * @param {?} str
       * @return {?}
       */
          function (str) {
              this.setAttribute("expanded", str);
          };
      /**
       * @param {?} action
       * @return {?}
       */
      HTMLElementWrapper.prototype.setOnContextMenu = /**
       * @param {?} action
       * @return {?}
       */
          function (action) {
              var _this = this;
              if (this.htmlElement != null) {
                  this.contextMenuAction = action;
                  this.htmlElement.addEventListener("contextmenu", function (event) { return _this.onContextHandler(event); }, true);
              }
          };
      /**
       * @param {?} action
       * @return {?}
       */
      HTMLElementWrapper.prototype.setOnMouseDown = /**
       * @param {?} action
       * @return {?}
       */
          function (action) {
              this.mouseDownAction = action;
          };
      /**
       * @param {?} action
       * @return {?}
       */
      HTMLElementWrapper.prototype.setOnDoubleClick = /**
       * @param {?} action
       * @return {?}
       */
          function (action) {
              this.doubleClickAction = action;
          };
      /**
       * @param {?} popupName
       * @return {?}
       */
      HTMLElementWrapper.prototype.setPopup = /**
       * @param {?} popupName
       * @return {?}
       */
          function (popupName) {
              this.popupName = popupName.replace("#", "");
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.getParent = /**
       * @return {?}
       */
          function () {
              return this.parent;
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.getLocalName = /**
       * @return {?}
       */
          function () {
              return this.localName;
          };
      /**
       * @param {?} localName
       * @return {?}
       */
      HTMLElementWrapper.prototype.setLocaleName = /**
       * @param {?} localName
       * @return {?}
       */
          function (localName) {
              this.localName = localName;
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.getChildren = /**
       * @return {?}
       */
          function () {
              /** @type {?} */
              var children = this.childNodes;
              if ((children == null || children.length === 0) && (this.dynamicChildNodes != null)) {
                  children = this.dynamicChildNodes;
              }
              if (this.getLocalName() === "row" &&
                  children != null &&
                  this.parentTable != null &&
                  this.parentTable.getLocalName() === "table" &&
                  this.parentTable.columnsHasBeenSwapped === true) {
                  children = /** @type {?} */ (_.orderBy(children, function (child) {
                      return child["originalColumnIndex"];
                  }));
              }
              return children;
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.getChildCount = /**
       * @return {?}
       */
          function () {
              return this.childNodes != null ? this.childNodes.length : 0;
          };
      /**
       * @param {?} idx
       * @return {?}
       */
      HTMLElementWrapper.prototype.getChildAt = /**
       * @param {?} idx
       * @return {?}
       */
          function (idx) {
              return this.getChildCount() > idx ? this.childNodes[idx] : null;
          };
      /**
       * @param {?} component
       * @param {?=} fromVirtualTable
       * @return {?}
       */
      HTMLElementWrapper.prototype.setComponent = /**
       * @param {?} component
       * @param {?=} fromVirtualTable
       * @return {?}
       */
          function (component, fromVirtualTable) {
              if (fromVirtualTable === void 0) {
                  fromVirtualTable = false;
              }
              this.component = component;
              this.component.parentTableRow = this.parent;
              if (component != null && fromVirtualTable === true) {
                  component.addAttributeChangeListener(this);
              }
          };
      /**
       * @param {?} action
       * @return {?}
       */
      HTMLElementWrapper.prototype.invokeMcoAction = /**
       * @param {?} action
       * @return {?}
       */
          function (action) {
              if (typeof action === "function") {
                  action();
              }
              else if (action.indexOf("mco://") === 0) {
                  /** @type {?} */
                  var mcoName = action.substring(6, action.indexOf("."));
                  /** @type {?} */
                  var methodName = action.substring(action.indexOf(".") + 1, action.indexOf("("));
                  /** @type {?} */
                  var arg = action.substring(action.indexOf("(") + 1, action.indexOf(")"));
                  if (arg != null && arg.length > 0) {
                      /** @type {?} */
                      var mco = this.sessionService.getMcoContainer().getMco(mcoName);
                      if (mco != null) {
                          if (arg === "this") {
                              mco[methodName].apply(mco, [this]);
                          }
                          else {
                              mco[methodName].apply(mco, [arg]);
                          }
                      }
                      else {
                          console.error("Unable to execute MCO action, mco not found: " + mcoName);
                      }
                  }
                  else {
                      /** @type {?} */
                      var mco = this.sessionService.getMcoContainer().getMco(mcoName);
                      if (mco != null) {
                          mco[methodName].apply(mco);
                      }
                      else {
                          console.error("Unable to execute MCO action, mco not found: " + mcoName);
                      }
                  }
              }
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.getComponent = /**
       * @return {?}
       */
          function () {
              return this.component;
          };
      /**
       * @param {?} event
       * @return {?}
       */
      HTMLElementWrapper.prototype.showPopupMenu = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              this.sessionService.setMousePosition(event);
              if (this.popupName != null) {
                  /** @type {?} */
                  var contextMenu = this.sessionService.showContextMenu(this.popupName);
                  if (contextMenu === true) {
                      event.preventDefault();
                      event.stopPropagation();
                      // contextMenu.show(this.htmlElement);
                  }
              }
              /** @type {?} */
              var clientEvent = new ClientEvent(this, event);
              if (AppUtils.customizeClientEvent != null) {
                  AppUtils.customizeClientEvent(this, clientEvent);
              }
              clientEvent.setParameter("screenId", this.parentScreenId);
              this.sessionService.getEventHandler().setClientEvent(clientEvent);
          };
      /**
       * @param {?} event
       * @return {?}
       */
      HTMLElementWrapper.prototype.handleOnMouseDown = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (this.parentTable != null) {
                  /** @type {?} */
                  var table = this.parentTable.elementRef.nativeElement;
                  /** @type {?} */
                  var tds = table.querySelectorAll('td');
                  for (var i = 0; i < tds.length; i++) {
                      ( /** @type {?} */(tds[i])).style.color = '';
                  }
                  tds = this.htmlElement.querySelectorAll('td');
                  for (var i = 0; i < tds.length; i++) {
                      ( /** @type {?} */(tds[i])).style.color = 'blue';
                  }
              }
              if (this.mouseDownAction != null) {
                  /** @type {?} */
                  var clientEvent = new ClientEvent(this, event);
                  if (AppUtils.customizeClientEvent != null) {
                      AppUtils.customizeClientEvent(this, clientEvent);
                  }
                  if (this.parentScreenId != null) {
                      clientEvent.setParameter("screenId", this.parentScreenId);
                  }
                  this.sessionService.getEventHandler().setClientEvent(clientEvent);
                  this.invokeMcoAction(this.mouseDownAction);
              }
          };
      /**
       * @param {?} event
       * @return {?}
       */
      HTMLElementWrapper.prototype.handleDoubleClick = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              /** @type {?} */
              var clientEvent = new ClientEvent(this, event);
              if (AppUtils.customizeClientEvent != null) {
                  AppUtils.customizeClientEvent(this, clientEvent);
              }
              if (this.parentScreenId != null) {
                  clientEvent.setParameter("screenId", this.parentScreenId);
              }
              this.sessionService.getEventHandler().setClientEvent(clientEvent);
              if (this.doubleClickAction != null) {
                  this.invokeMcoAction(this.doubleClickAction);
              }
          };
      /**
       * @param {?} isExpanded
       * @param {?=} justUpdateAttribute
       * @return {?}
       */
      HTMLElementWrapper.prototype.expandNode = /**
       * @param {?} isExpanded
       * @param {?=} justUpdateAttribute
       * @return {?}
       */
          function (isExpanded, justUpdateAttribute) {
              if (justUpdateAttribute === void 0) {
                  justUpdateAttribute = false;
              }
              this.expanded = typeof isExpanded === "string" ? isExpanded : isExpanded + '';
              if (justUpdateAttribute !== true && this.parentTableId != null && this.parentTableId !== "") {
                  /** @type {?} */
                  var jq = jQuery("#" + this.parentTableId + " .jq-tree-table");
                  if (jq != null) {
                      /** @type {?} */
                      var nodeId = this.getAttribute("data-tt-id");
                      if (nodeId != null) {
                          try {
                              if (isExpanded === "true" || isExpanded === true) {
                                  jq.treetable("expandNode", nodeId);
                              }
                              else {
                                  jq.treetable("collapseNode", nodeId);
                              }
                          }
                          catch (e) {
                              console.error("Unable to expand node due to error");
                          }
                      }
                  }
                  else {
                      console.error("Unable to expand node, tree table is null");
                  }
              }
          };
      /**
       * @param {?} name
       * @return {?}
       */
      HTMLElementWrapper.prototype.trackAttributeName = /**
       * @param {?} name
       * @return {?}
       */
          function (name) {
              if (this.attributesName == null) {
                  this.attributesName = [];
              }
              this.attributesName.push(name);
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.toJson = /**
       * @return {?}
       */
          function () {
              var _this = this;
              /** @type {?} */
              var retVal = {};
              if (this.component != null) {
                  retVal = this.component.toJson();
                  if (this.component instanceof LabelComponent) {
                      retVal["nxTagName"] = this.getLocalName();
                      retVal["tagName"] = this.getLocalName();
                  }
              }
              else {
                  retVal["nxTagName"] = this.getLocalName();
                  retVal["tagName"] = this.getLocalName();
              }
              if (this.component == null) {
                  retVal["id"] = this.getId() || this._uniqueId;
                  retVal["text"] = this.getText();
              }
              if (this.attributesName != null) {
                  this.attributesName.forEach(function (name) {
                      retVal[name] = _this.getAttribute(name);
                  });
              }
              /** @type {?} */
              var children;
              if (this.childNodes != null && this.childNodes.length > 0) {
                  children = this.childNodes;
              }
              else if (this.dynamicChildNodes != null && this.dynamicChildNodes.length > 0) {
                  children = this.dynamicChildNodes;
              }
              if (children != null) {
                  if (this.getLocalName() === "row" &&
                      this.parentTable != null &&
                      this.parentTable.getLocalName() === "table" &&
                      this.parentTable.columnsHasBeenSwapped === true) {
                      children = /** @type {?} */ (_.orderBy(children, function (child) {
                          return child["originalColumnIndex"];
                      }));
                  }
                  retVal["children"] = children.map(function (child) { return child.toJson(); });
              }
              if (this.customAttributes)
                  retVal['customAttributes'] = this.customAttributes;
              return retVal;
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.isView = /**
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.isDialog = /**
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.isDynamicView = /**
       * @return {?}
       */
          function () {
              return false;
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.isFauxElement = /**
       * @return {?}
       */
          function () {
              return true;
          };
      /**
       * @param {?} chk
       * @return {?}
       */
      HTMLElementWrapper.prototype.setChecked = /**
       * @param {?} chk
       * @return {?}
       */
          function (chk) {
              if (typeof chk === "boolean") {
                  chk = chk + "";
              }
              this.setAttribute("checked", chk);
          };
      /**
       * Search for child using the provided function
       *
       * @param fn function to execute while iterating child lookup
       */
      /**
       * Search for child using the provided function
       *
       * @param {?} fn function to execute while iterating child lookup
       * @return {?}
       */
      HTMLElementWrapper.prototype.findChildByFn = /**
       * Search for child using the provided function
       *
       * @param {?} fn function to execute while iterating child lookup
       * @return {?}
       */
          function (fn) {
              /** @type {?} */
              var retVal;
              /** @type {?} */
              var children = this.concatNode(/** @type {?} */ ([]), this);
              while (children.length > 0) {
                  /** @type {?} */
                  var child = children.pop();
                  if (child != null) {
                      if (fn(child) === true) {
                          retVal = child;
                          break;
                      }
                      else {
                          children = this.concatNode(children, child);
                      }
                  }
              }
              return retVal;
          };
      /**
       * Concate {fromNode} to {toNode}
       *
       * @param {?} toNode array of nodes to be concated to
       * @param {?} fromNode node to be concated from
       * @return {?} the concated node
       */
      HTMLElementWrapper.prototype.concatNode = /**
       * Concate {fromNode} to {toNode}
       *
       * @param {?} toNode array of nodes to be concated to
       * @param {?} fromNode node to be concated from
       * @return {?} the concated node
       */
          function (toNode, fromNode) {
              /** @type {?} */
              var retVal = toNode;
              if (fromNode != null) {
                  if (fromNode.childNodes != null) {
                      retVal = retVal.concat(fromNode.childNodes);
                  }
                  if (fromNode.childRows != null) {
                      retVal = retVal.concat(fromNode.childRows);
                  }
                  if (fromNode.dynamicChildNodes != null) {
                      retVal = retVal.concat(fromNode.dynamicChildNodes);
                  }
              }
              return retVal;
          };
      /**
       * @param {?} evt
       * @return {?}
       */
      HTMLElementWrapper.prototype.beforeAttributeRemoved = /**
       * @param {?} evt
       * @return {?}
       */
          function (evt) {
          };
      /**
       * @param {?} evt
       * @return {?}
       */
      HTMLElementWrapper.prototype.beforeAttributeSet = /**
       * @param {?} evt
       * @return {?}
       */
          function (evt) {
          };
      /**
       * @param {?} evt
       * @return {?}
       */
      HTMLElementWrapper.prototype.onAttributeRemoved = /**
       * @param {?} evt
       * @return {?}
       */
          function (evt) {
          };
      /**
       * @param {?} evt
       * @return {?}
       */
      HTMLElementWrapper.prototype.onAttributeSet = /**
       * @param {?} evt
       * @return {?}
       */
          function (evt) {
              if (evt.getName() === "sortValue" && this.htmlElement != null) {
                  this.updateSortValue(evt.getNewValue());
              }
          };
      /**
       * @param {?} value
       * @return {?}
       */
      HTMLElementWrapper.prototype.updateSortValue = /**
       * @param {?} value
       * @return {?}
       */
          function (value) {
              if (this.renderer != null) {
                  this.renderer.setAttribute(this.htmlElement, "data-text", value);
                  if (this.component != null && this.component.getParent() != null && typeof ( /** @type {?} */(this.component.getParent())).refreshTableSorterCache === "function") {
                      ( /** @type {?} */(this.component.getParent())).refreshTableSorterCache();
                  }
              }
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.isDraggable = /**
       * @return {?}
       */
          function () {
              return this.getAttribute("draggable") === "true";
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.applyDraggable = /**
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.isDraggable() && this.draggableApplied !== true && this.htmlElement != null) {
                  jQuery(this.htmlElement).draggable({
                      appendTo: "body",
                      addClasses: false,
                      helper: function () {
                          /** @type {?} */
                          var helper = document.createElement("div");
                          helper.classList.add("draggable-row-helper");
                          helper.id = "draggableRowHelperInternal";
                          // if (this.parentTable != null && this.parentTable.selectedRows != null && this.parentTable.selectedRows.length > 1) {
                          //   helper.classList.add("drag-row-helper-container");
                          //   const c = this.parentTable.selectedRows.length;
                          //   const frag = document.createDocumentFragment();
                          //   for (let i = 0; i < c; i++) {
                          //     const row = document.createElement("div");
                          //     row.classList.add("drag-row-helper-row");
                          //     frag.appendChild(row);
                          //   }
                          //   helper.appendChild(frag);
                          // }
                          return helper;
                      },
                      start: function () {
                          /** @type {?} */
                          var clientEvent = new ClientEvent(_this, event);
                          clientEvent.setParameter("dragId", _this.parentTableId);
                          if (AppUtils.customizeClientEvent != null) {
                              AppUtils.customizeClientEvent(_this, clientEvent);
                          }
                          if (_this.parentScreenId != null) {
                              clientEvent.setParameter("screenId", _this.parentScreenId);
                          }
                          _this.sessionService.getEventHandler().setClientEvent(clientEvent);
                      }
                  });
              }
              this.draggableApplied = true;
          };
      /**
       * @return {?}
       */
      HTMLElementWrapper.prototype.isDraggableApplied = /**
       * @return {?}
       */
          function () {
              return this.draggableApplied;
          };
      /**
       * rowなどBaseComponentとして存在しないwrapperにcustomAttributesを設定します。
       * @param name
       * @param value
       */
      /**
       * rowなどBaseComponentとして存在しないwrapperにcustomAttributesを設定します。
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
      HTMLElementWrapper.prototype.setCustomAttribute = /**
       * rowなどBaseComponentとして存在しないwrapperにcustomAttributesを設定します。
       * @param {?} name
       * @param {?} value
       * @return {?}
       */
          function (name, value) {
              if (!this.customAttributes)
                  this.customAttributes = {};
              this.customAttributes[name] = value;
          };
      return HTMLElementWrapper;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TableRowDefDirective = /** @class */ (function () {
      function TableRowDefDirective() {
      }
      TableRowDefDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-table-row-def'
                  },] }
      ];
      /** @nocollapse */
      TableRowDefDirective.ctorParameters = function () { return []; };
      TableRowDefDirective.propDecorators = {
          customAttributes: [{ type: i0.Input }]
      };
      return TableRowDefDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var FooterRowDirective = /** @class */ (function () {
      function FooterRowDirective() {
      }
      FooterRowDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-footer-row'
                  },] }
      ];
      FooterRowDirective.propDecorators = {
          cellTemplates: [{ type: i0.ContentChildren, args: [TableCellDirective, { read: TableCellDirective },] }]
      };
      return FooterRowDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var RowDirective = /** @class */ (function () {
      function RowDirective() {
      }
      RowDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-row'
                  },] }
      ];
      RowDirective.propDecorators = {
          customAttributes: [{ type: i0.Input }],
          id: [{ type: i0.Input }],
          cssClass: [{ type: i0.Input }],
          cellTemplates: [{ type: i0.ContentChildren, args: [TableCellDirective, { read: TableCellDirective },] }]
      };
      return RowDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ClipboardService = /** @class */ (function () {
      function ClipboardService() {
      }
      //constructor(@Inject("ClipboardPolyfill") private clipboard: any) { }
      /**
       * Copy the {txt} text into the clipboard
       *
       * @param txt text to be copied into the clipboard
       */
      /**
       * Copy the {txt} text into the clipboard
       *
       * @param {?} txt text to be copied into the clipboard
       * @return {?}
       */
      ClipboardService.prototype.copy = /**
       * Copy the {txt} text into the clipboard
       *
       * @param {?} txt text to be copied into the clipboard
       * @return {?}
       */
          function (txt) {
              return clipboard.writeText(txt);
          };
      ClipboardService.decorators = [
          { type: i0.Injectable, args: [{
                      providedIn: 'root'
                  },] }
      ];
      /** @nocollapse */ ClipboardService.ngInjectableDef = i0.defineInjectable({ factory: function ClipboardService_Factory() { return new ClipboardService(); }, token: ClipboardService, providedIn: "root" });
      return ClipboardService;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * @return {?}
   */
  function isIE() {
      /** @type {?} */
      var nav = navigator.userAgent.toLowerCase();
      return nav.indexOf("msie") !== -1 ? parseInt(nav.split("msie")[1]) : false;
  }

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for table component
   */
  var TableComponent = /** @class */ (function (_super) {
      __extends(TableComponent, _super);
      /* istanbul ignore next */
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param el see [[BaseComponent]] constructor
       * @param changeDetectorRef Inject ChangeDetector
       * @param renderer see [[BaseComponent]] constructor
       * @param zone Inject NgZone
       * @param differs Inject InterableDiffers
       * @param clipboardService Inject [[ClipboardService]]
       */
      function TableComponent(parent, sessionService, el, changeDetectorRef, renderer, zone, differs, clipboardService) {
          var _this = _super.call(this, parent, sessionService, el, renderer) || this;
          _this.el = el;
          _this.changeDetectorRef = changeDetectorRef;
          _this.zone = zone;
          _this.clipboardService = clipboardService;
          _this.selectionMode = "singleRow";
          //use for virtual scrolling
          _this.rowHeight = 24;
          _this.scrollTimeout = 200;
          /* istanbul ignore next */
          _this.onChange = new i0.EventEmitter();
          _this.onStateChange = new i0.EventEmitter();
          _this.onDoubleClick = new i0.EventEmitter();
          _this.onDragDrop = new i0.EventEmitter();
          //custom sort function for virtual scroll
          _this.forceFixWidth = true;
          _this.isHeaderPadding = false;
          _this.isHeaderAuto = false;
          //table-layout default fixed
          _this.tableLayout = "fixed";
          //track dynamic rows so we can query for child later
          _this.nodes = [];
          _this.selectedRows = [];
          _this._prevSelectedRows = [];
          _this.scrollHandler = null;
          _this.previousRowIndex = null;
          _this.scrollSubject = new rxjs.Subject();
          _this.prevScrollTop = 0;
          _this.prevScrollTopForHiddenHeader = 0;
          _this.sortDirection = "";
          _this.sortColumnId = 0;
          _this.theadHeight = 0;
          _this.scrollLeft = 0;
          _this.adjustedRows = 0;
          _this.preMouseEvent = null;
          _this.dataSourceDiffer = differs.find([]).create();
          _this.columnsDiffer = differs.find([]).create();
          _this.customRowDiffer = differs.find([]).create();
          _this.isIE9 = isIE() == 9;
          //for virtual scroll
          //for virtual scroll
          _this.virtualScrollDataSourceDiffer = differs.find([]).create();
          _this.keyupHandler = function (evt) { return _this.handleKeyUp(evt); };
          _this.scrollHandler = function (event) {
              if (_this._disabledScrolling === true) {
                  event.preventDefault();
                  event.stopPropagation();
                  return;
              }
              if (_this.prevScrollTopForHiddenHeader !== event.srcElement.scrollTop) {
                  if (!_this.skipGhostHeader) {
                      _this.renderer.setStyle(_this.ghostHeader.nativeElement, "display", "inline-block");
                      if (_this.controlWidth === "100%") {
                          _this.renderer.setStyle(_this.ghostHeader.nativeElement, "width", "100%");
                      }
                      _this.renderer.setStyle(_this.tableHead.nativeElement, "visibility", "hidden");
                  }
                  //   if(this.forceFixWidth){
                  //     this.renderer.setStyle(this.fakeTable.nativeElement, "table-layout", "fixed");
                  //   }
                  if (_this.tableFoot != null) {
                      _this.renderer.setStyle(_this.tableFoot.nativeElement, "visibility", "hidden");
                  }
                  //   this.appendHeaderToFakeTable();
                  if (_this.virtualScroll === true) {
                      if (_this.animationFrameId != null) {
                          cancelAnimationFrame(_this.animationFrameId);
                      }
                      _this.adjustTableHead(event, false, true);
                  }
              }
              _this.prevScrollTopForHiddenHeader = event.srcElement.scrollTop;
              //disabled for IE11/IE9 (too slow)
              // else {
              //     if (this.animationFrameId != null) {
              //         cancelAnimationFrame(this.animationFrameId);
              //    }
              //     this.animationFrameId = requestAnimationFrame(()=>this.adjustTableHead(event, true));
              // }
              //disabled for IE11/IE9 (too slow)
              // else {
              //     if (this.animationFrameId != null) {
              //         cancelAnimationFrame(this.animationFrameId);
              //    }
              //     this.animationFrameId = requestAnimationFrame(()=>this.adjustTableHead(event, true));
              // }
              _this.scrollSubject.next(event);
          };
          return _this;
      }
      Object.defineProperty(TableComponent.prototype, "dataSource", {
          get: /**
           * @return {?}
           */ function () {
              return this.virtualScroll === true ? this._virtualViewPort : this._dataSource;
          },
          set: /**
           * @param {?} ds
           * @return {?}
           */ function (ds) {
              //data has changes, we need to do some clean up.
              this.cleanUpChildNodes();
              this.resetTableColumns();
              this._dataSource = this.buildRowIdentity(ds);
              this.checkShowBlankRow();
              this.previousRowIndex = null;
              this.modifiedVirtualRows = null;
              this.modifiedVirtualRowsJson = null;
              this.selectedRows = [];
              this.calcVirtualScrollHeight();
              this.calcVirtualScrollViewPort();
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(TableComponent.prototype, "tableColumns", {
          set: /**
           * @param {?} columns
           * @return {?}
           */ function (columns) {
              this.clearHeaderNodes();
              this.columns = this.toColumns(columns);
              if (this._isViewInit === true) {
                  this.initPlugins();
              }
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(TableComponent.prototype, "tableRowQuery", {
          //table with no datasource
          set: /**
           * @param {?} rows
           * @return {?}
           */ function (rows) {
              this.cleanUpChildNodes();
              this._tableRow = [];
              this.detectChanges();
              this._tableRow = rows.toArray();
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(TableComponent.prototype, "tableRow", {
          get: /**
           * @return {?}
           */ function () {
              return this._tableRow;
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(TableComponent.prototype, "ROW_INDEX_KEY", {
          get: /**
           * @return {?}
           */ function () {
              return '$$$$rowIndex$$$$';
          },
          enumerable: true,
          configurable: true
      });
      /* istanbul ignore next */
      /**
       * 画面がリサイズされた際に動かすイベント
       */
      /**
       * 画面がリサイズされた際に動かすイベント
       * @return {?}
       */
      TableComponent.prototype.tableResize = /**
       * 画面がリサイズされた際に動かすイベント
       * @return {?}
       */
          function () {
              this.adjustTableFooter();
          };
      /* istanbul ignore next */
      /**
       * Do check lifecycle
       */
      /**
       * Do check lifecycle
       * @return {?}
       */
      TableComponent.prototype.ngDoCheck = /**
       * Do check lifecycle
       * @return {?}
       */
          function () {
              if (this.dataSourceDiffer.diff(this._dataSource)) {
                  if (this.virtualScroll === true) {
                      this.calcVirtualScrollHeight();
                      this.calcVirtualScrollViewPort(this.prevScrollTop);
                  }
                  this.checkShowBlankRow();
                  this.markForCheck();
                  this.refreshTableSorter();
              }
              else if (this.virtualScroll === true && this.virtualScrollDataSourceDiffer.diff(this._virtualViewPort)) {
                  this.checkShowBlankRow();
                  this.markForCheck();
              }
              else {
                  this.checkCustomRowsForChanged();
                  this.checkColumnsForChanged();
              }
          };
      /**
       * Init lifecycle. Call parent class ngOnInit
       */
      /**
       * Init lifecycle. Call parent class ngOnInit
       * @return {?}
       */
      TableComponent.prototype.ngOnInit = /**
       * Init lifecycle. Call parent class ngOnInit
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
          };
      /* istanbul ignore next */
      /**
       * After view init lifecycle. Apply jQuery plugin and event listeners
       */
      /**
       * After view init lifecycle. Apply jQuery plugin and event listeners
       * @return {?}
       */
      TableComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Apply jQuery plugin and event listeners
       * @return {?}
       */
          function () {
              var _this = this;
              _super.prototype.ngAfterViewInit.call(this);
              /** @type {?} */
              var view = this._getNoneActiveViewParent() || this.getParentView();
              if (view != null && this.columns != null) {
                  this.columns.filter(function (col) { return col.id != null && col.id !== ""; }).forEach(function (col) {
                      if (view["_tableColumnsMap"] == null) {
                          view["_tableColumnsMap"] = new Map();
                      }
                      view["_tableColumnsMap"].set(KeyUtils.toMapKey(col.id), /** @type {?} */ (col));
                  });
              }
              //droppable?
              if (this.droppable === true || this.droppable === "true") {
                  $(this.tableContainer.nativeElement).droppable({
                      classes: {
                          "ui-droppable-hover": "ui-state-hover"
                      },
                      hoverClass: "ui-state-hover",
                      accept: "tr",
                      drop: function (event, ui) {
                          _this.onDragDrop.emit();
                      },
                      tolerance: "pointer"
                  });
              }
              this.scrollSubcription = this.scrollSubject.pipe(operators.debounce(function () { return rxjs.timer(_this.scrollTimeout); })).subscribe(function (event) {
                  _this.renderer.removeAttribute(_this.ghostHeader.nativeElement, "display");
                  /* istanbul ignore next */
                  if (_this.virtualScroll === true) {
                      _this.recalculateVirtualScrollData(event);
                  }
                  else {
                      _this.adjustTableHead(event);
                  }
              });
              this.scrollContainerStyles = {
                  "overflow-y": "auto",
                  "overflow-x": "visible",
                  "position": "relative"
              };
              /* istanbul ignore next */
              if (this.virtualScroll === true) {
                  try {
                      if (this.controlHeight == null || this.controlHeight == "100%")
                          this.clientHeightVirtualScroll = ( /** @type {?} */(this.tableContainer.nativeElement)).clientHeight;
                      else
                          this.clientHeightVirtualScroll = parseInt(this.controlHeight);
                      if (isNaN(this.clientHeightVirtualScroll) === false) {
                          this.recCalcNoVirtualRow();
                          this._isViewInit = true;
                      }
                  }
                  catch (e) {
                  }
                  this.tableStyles = {
                      "top": "0px",
                      "left": "0px",
                      "position": "absolute",
                      "width": "100%",
                      "height": "calc(100% - 17px)",
                      "max-width": "100vw",
                      "max-height": "100vh"
                  };
                  this.virtualScrollProgressStyles = {
                      "top": "0px",
                      "display": "none",
                      "position": "absolute"
                  };
                  this.calcVirtualTablePosition(0);
              }
              /* istanbul ignore next */
              //fix expression has changed blah blah blah
              this.detectChanges();
              if (this.virtualScroll === true) {
                  this.calcVirtualScrollHeight();
                  this.calcVirtualScrollViewPort(0);
              }
              this.zone.runOutsideAngular(function () {
                  _this._isViewInit = true;
                  _this.initPlugins();
                  _this.zone.runOutsideAngular(function () {
                      _this.el.nativeElement.addEventListener('scroll', _this.scrollHandler, true);
                      // this.el.nativeElement.addEventListener("mouseup", this.mouseUpHandler, true);
                      // this.el.nativeElement.addEventListener("mouseup", this.mouseUpHandler, true);
                      _this.el.nativeElement.addEventListener("keyup", _this.keyupHandler, true);
                  });
              });
          };
      /**
       * @return {?}
       */
      TableComponent.prototype.initPlugins = /**
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.$dragableColumns) {
                  this.$dragableColumns.destroy();
              }
              if (this.initTm != null) {
                  clearTimeout(this.initTm);
              }
              // if (this.table) {
              this.renderer.setStyle(this.table.nativeElement, "visibility", "hidden");
              this.initTm = setTimeout(function () {
                  if (_this.table) {
                      _this.renderer.setStyle(_this.table.nativeElement, "visibility", "hidden");
                      // 再表示時にスクロールバーの位置を戻す
                      // 再表示時にスクロールバーの位置を戻す
                      _this.tableContainer.nativeElement.scrollLeft = 0;
                      /** @type {?} */
                      var jQueryTable = jQuery(_this.table.nativeElement);
                      if (_this.enableColumnDragging == null || _this.enableColumnDragging === true) {
                          _this.$dragableColumns = jQueryTable.dragableColumns({
                              dropCallback: function (fromIndex, toIndex) { return _this.swapColumns(fromIndex, toIndex); },
                              dragEndCallback: function () {
                                  _this.skipGhostHeader = false;
                                  _this.scrollContainerStyles["overflow-y"] = "auto";
                                  _this.detectChanges();
                                  _this._disabledScrolling = false;
                              },
                              dragStartCallback: function (colIdx) {
                                  _this.skipGhostHeader = true;
                                  /** @type {?} */
                                  var canDrag = _this.canDragColumn(colIdx);
                                  if (canDrag) {
                                      _this.scrollContainerStyles["overflow-y"] = "hidden";
                                      _this.detectChanges();
                                      _this._disabledScrolling = true;
                                  }
                                  return canDrag;
                              },
                              dragEnterCallback: function (colIdx) {
                                  return _this.canDragColumn(colIdx);
                              }
                          });
                      }
                      if ((_this.enableSort == null || _this.enableSort === true) && _this.$tablesorter == null) {
                          if (_this.virtualScroll !== true) {
                              _this.$tablesorter = jQueryTable.tablesorter({
                                  widgets: ['zebra', 'columns'],
                                  usNumberFormat: false,
                                  tabIndex: false,
                                  sortReset: false,
                                  sortRestart: true,
                                  sortStable: true,
                                  delayInit: true // move the initial performance hit to first sort so the table would load faster
                              });
                          }
                      }
                      else if (_this.virtualScroll !== true && _this.$tablesorter != null) {
                          _this.$tablesorter.trigger("updateHeaders");
                      }
                      _this.setHeaderWidthHeight();
                      if (_this.enableColumnResize == null || _this.enableColumnResize === true) {
                          /** @type {?} */
                          var target_columns = new Array();
                          /** @type {?} */
                          var original_columnWidths = new Array();
                          var _loop_1 = function (i) {
                              /** @type {?} */
                              var column = _this.columns.find(function (item, idx) { return idx === i; });
                              if (column != null) {
                                  /** @type {?} */
                                  var headChildren = _this.tableHead.nativeElement.querySelector('th:nth-child(' + (i + 1) + ')');
                                  target_columns.push(headChildren);
                                  original_columnWidths.push(headChildren.style.width);
                              }
                          };
                          for (var i = 0; i < _this.columns.length; i++) {
                              _loop_1(i);
                          }
                          //reset
                          //reset
                          _this._cleanupColResize();
                          _this.$colResizable = jQueryTable.colResizable({
                              liveDrag: false,
                              //turning this on will incurred a severe performance penalty on IE so leave it off
                              resizeMode: 'overflow',
                              partialRefresh: true,
                              //After closing the window and opening again, columnResizer can't work. To fix that, this value is needed.,
                              headerOnly: true //allow dragging using header only
                          });
                          for (var i = 0; i < target_columns.length; i++) {
                              /** @type {?} */
                              var targetColumn = target_columns[i];
                              /** @type {?} */
                              var headChildren_width = _this.toWholeNumber(targetColumn.style.width.slice(0, -2));
                              /** @type {?} */
                              var originalChildren_width = _this.toWholeNumber(original_columnWidths[i]);
                              // if(headChildren_width < originalChildren_width){
                              // if(headChildren_width < originalChildren_width){
                              _this.renderer.setStyle(targetColumn, "width", original_columnWidths[i]);
                              // }
                          }
                          target_columns = null;
                          original_columnWidths = null;
                      }
                      _this.adjustTableFooter();
                      _this.renderer.setStyle(_this.table.nativeElement, "table-layout", _this.tableLayout);
                  }
                  if (_this.table != null) {
                      _this.renderer.removeStyle(_this.table.nativeElement, "visibility");
                  }
              }, 200);
              //}
          };
      /* istanbul ignore next */
      /**
       * Destroy lifecycle. Remove event listeners
       */
      /**
       * Destroy lifecycle. Remove event listeners
       * @return {?}
       */
      TableComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Remove event listeners
       * @return {?}
       */
          function () {
              _super.prototype.ngOnDestroy.call(this);
              this.cleanUpChildNodes(true);
              this.clearHeaderNodes(true);
              /** @type {?} */
              var view = this._getNoneActiveViewParent() || this.getParentView();
              if (view != null && view["_tableColumnsMap"] != null) {
                  view["_tableColumnsMap"].clear();
                  view["_tableColumnsMap"] = null;
              }
              if (this._children != null) {
                  this._children.clear();
              }
              this._children = null;
              if (this._viewChildrenMap != null) {
                  this._viewChildrenMap.clear();
              }
              this._viewChildrenMap = null;
              if (this.scrollSubcription != null) {
                  this.scrollSubcription.unsubscribe();
              }
              this.modifiedVirtualRows = null;
              this.modifiedVirtualRowsJson = null;
              this.scrollSubject = null;
              this.scrollSubcription = null;
              if (this.scrollHandler) {
                  this.el.nativeElement.removeEventListener('scroll', this.scrollHandler, true);
                  this.scrollHandler = null;
              }
              // if (this.mouseUpHandler) {
              //     this.el.nativeElement.removeEventListener("mouseup", this.mouseUpHandler, true);
              //     this.mouseUpHandler = null;
              // }
              if (this.keyupHandler) {
                  this.table.nativeElement.removeEventListener("keyup", this.keyupHandler, true);
                  this.keyupHandler = null;
              }
              if (this.$dragableColumns != null) {
                  this.$dragableColumns.destroy();
              }
              // if (this.columnsChangeSubscription != null) {
              //     this.columnsChangeSubscription.unsubscribe();
              // }
              // this.columnsChangeSubscription = null;
              this.dataSourceDiffer = null;
              this.columnsDiffer = null;
              this.customRowDiffer = null;
              this.virtualScrollDataSourceDiffer = null;
              this.selectedRows = null;
              this.tableHead = null;
              this.tableWrapper = null;
              this.tableContainer = null;
              this.table = null;
              this.preMouseEvent = null;
              this.scrollContainerStyles = null;
          };
      /**
       * Check to see if columns have changes
       * @return {?}
       */
      TableComponent.prototype.checkColumnsForChanged = /**
       * Check to see if columns have changes
       * @return {?}
       */
          function () {
              if (this.columns != null && this.columnsDiffer.diff(this.columns.map(function (item) {
                  return {
                      visible: item.visible,
                      header: item.header,
                      controlWidth: item.controlWidth,
                      locked: item.locked,
                      enabled: item.enabled,
                      sortable: item.sortable
                  };
                  // PK: DO NOT REMOVED
                  // Comment this out for now and revert to previous, will bring this back
                  // when we added a diff to check for changes in vt-row
                  // return item.visible +
                  //     item.header +
                  //     item.controlWidth +
                  //     item.locked +
                  //     item.enabled +
                  //     item.sortable;
              }))) {
                  //this.cleanUpChildNodes();
                  this.markForCheck();
                  this.recCalcNoVirtualRow();
              }
          };
      /**
       * @return {?}
       */
      TableComponent.prototype.checkCustomRowsForChanged = /**
       * @return {?}
       */
          function () {
              if (this._tableRow != null && this.customRowDiffer.diff(/** @type {?} */ (this._tableRow))) {
                  this.checkShowBlankRow();
                  this.markForCheck();
              }
          };
      /**
       * @param {?=} nullOutHeadNode
       * @return {?}
       */
      TableComponent.prototype.clearHeaderNodes = /**
       * @param {?=} nullOutHeadNode
       * @return {?}
       */
          function (nullOutHeadNode) {
              if (nullOutHeadNode === void 0) {
                  nullOutHeadNode = false;
              }
              var e_1, _a;
              if (this.headNode != null) {
                  if (this.headNode.childNodes != null && this.headNode.childNodes.length > 0) {
                      try {
                          for (var _b = __values(this.headNode.childNodes), _c = _b.next(); !_c.done; _c = _b.next()) {
                              var node = _c.value;
                              /** @type {?} */
                              var parentView = this.getParentView();
                              if (parentView != null) {
                                  parentView.removeViewChildFromMap(node.getId());
                              }
                              node.destroy();
                          }
                      }
                      catch (e_1_1) {
                          e_1 = { error: e_1_1 };
                      }
                      finally {
                          try {
                              if (_c && !_c.done && (_a = _b.return))
                                  _a.call(_b);
                          }
                          finally {
                              if (e_1)
                                  throw e_1.error;
                          }
                      }
                  }
                  this.headNode.childNodes = [];
              }
              if (nullOutHeadNode === true) {
                  this.headNode = null;
              }
          };
      /**
       * Clean up our faux table children
       * @param {?=} skipTrackingVirtualRow
       * @return {?}
       */
      TableComponent.prototype.cleanUpChildNodes = /**
       * Clean up our faux table children
       * @param {?=} skipTrackingVirtualRow
       * @return {?}
       */
          function (skipTrackingVirtualRow) {
              if (skipTrackingVirtualRow === void 0) {
                  skipTrackingVirtualRow = false;
              }
              var e_2, _a;
              if (this.nodes != null) {
                  /** @type {?} */
                  var parentView = this.getParentView();
                  try {
                      for (var _b = __values(this.nodes), _c = _b.next(); !_c.done; _c = _b.next()) {
                          var node = _c.value;
                          //cache modified data if virtual scroll
                          if (skipTrackingVirtualRow !== true &&
                              node.getLocalName() === "row" &&
                              this.virtualScroll === true &&
                              this.modifiedVirtualRows != null &&
                              this.modifiedVirtualRows[node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] != null) {
                              this._checkInitModifiedVirtualRowsJson();
                              this.modifiedVirtualRowsJson[node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = node.toJson();
                          }
                          //removed ourself from parent cache
                          if (parentView != null) {
                              parentView.removeViewChildFromMap(node.getId());
                          }
                          node.destroy();
                      }
                  }
                  catch (e_2_1) {
                      e_2 = { error: e_2_1 };
                  }
                  finally {
                      try {
                          if (_c && !_c.done && (_a = _b.return))
                              _a.call(_b);
                      }
                      finally {
                          if (e_2)
                              throw e_2.error;
                      }
                  }
              }
              this.nodes = [];
              if (this.virtualScroll !== true) {
                  this.selectedRows = [];
              }
              this._prevSelectedRows = [];
              this.lastSelectedRowIndex = null;
          };
      /**
       * Get the datasource row count
       * @returns Number of rows in [[dataSource]]
       */
      /**
       * Get the datasource row count
       * @return {?} Number of rows in [[dataSource]]
       */
      TableComponent.prototype.getRowCount = /**
       * Get the datasource row count
       * @return {?} Number of rows in [[dataSource]]
       */
          function () {
              return this._dataSource ? this._dataSource.length : 0;
          };
      /* istanbul ignore next */
      /**
       * Add/remove row to list of selected rows
       * @param row
       * @param isSelected If true, row will be added, otherwise row will be removed from selected rows collection
       */
      /**
       * Add/remove row to list of selected rows
       * @param {?} row
       * @param {?} isSelected If true, row will be added, otherwise row will be removed from selected rows collection
       * @return {?}
       */
      TableComponent.prototype.selectRow = /**
       * Add/remove row to list of selected rows
       * @param {?} row
       * @param {?} isSelected If true, row will be added, otherwise row will be removed from selected rows collection
       * @return {?}
       */
          function (row, isSelected) {
              /** @type {?} */
              var rowIndex = -1;
              if (this.virtualScroll === true) {
                  /** @type {?} */
                  var tempNode = _.find(this.nodes, function (node) {
                      return node === row;
                  });
                  if (tempNode != null) {
                      rowIndex = tempNode[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];
                  }
              }
              else {
                  rowIndex = _.findIndex(this.nodes, function (node) {
                      return node === row;
                  });
              }
              if (rowIndex >= 0 && rowIndex < this._dataSource.length) {
                  /** @type {?} */
                  var idx = _.findIndex(this.selectedRows, function (row) {
                      return row === rowIndex;
                  });
                  if (isSelected) {
                      //if it wasn't selected, add it in selectedRows.
                      if (idx < 0) {
                          this.selectedRows.push(rowIndex);
                      }
                  }
                  else {
                      //if it was selected before, remove it from selectedRows.
                      if (idx >= 0) {
                          this.selectedRows.splice(idx, 1);
                      }
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Event handler for click on row
       * @param event Mouse click event
       * @param rowIndex Index of the row that was clicked
       * @event onStateChange
       */
      /**
       * Event handler for click on row
       * \@event onStateChange
       * @param {?} event Mouse click event
       * @param {?} rowIndex Index of the row that was clicked
       * @return {?}
       */
      TableComponent.prototype.onRowClick = /**
       * Event handler for click on row
       * \@event onStateChange
       * @param {?} event Mouse click event
       * @param {?} rowIndex Index of the row that was clicked
       * @return {?}
       */
          function (event, rowIndex) {
              /** @type {?} */
              var parentView = this.getParentView();
              /* istanbul ignore if */
              if (parentView != null) {
                  parentView.addViewChildToMap(this.nodes[rowIndex]);
                  if (this.previousRowIndex != null && this.nodes[this.previousRowIndex] != null) {
                      parentView.removeViewChildFromMap(this.nodes[this.previousRowIndex].getId());
                  }
              }
              this.previousRowIndex = rowIndex;
              this.triggerStateChange();
          };
      /**
       * @return {?}
       */
      TableComponent.prototype.triggerStateChange = /**
       * @return {?}
       */
          function () {
              var _this = this;
              /** @type {?} */
              var clientEvent = new ClientEvent(this, event);
              if (AppUtils.customizeClientEvent != null) {
                  AppUtils.customizeClientEvent(this, clientEvent);
              }
              if (this.getParentView() != null) {
                  clientEvent.setParameter("screenId", this.getParentView().getId());
              }
              clientEvent.setParameter("id", this.getId());
              /** @type {?} */
              var rowId = this.selectedRows.map(function (idx) { return _this.getChildByOriginalRowIndex(idx).getId(); }).join(",");
              clientEvent.setParameter("rowId", rowId);
              this.getSession().getEventHandler().setClientEvent(clientEvent);
              this.onStateChange.emit();
          };
      /**
       * @param {?} index
       * @return {?}
       */
      TableComponent.prototype.getChildByOriginalRowIndex = /**
       * @param {?} index
       * @return {?}
       */
          function (index) {
              /** @type {?} */
              var node = this.nodes[index];
              if (this.virtualScroll === true) {
                  node = _.find(this.nodes, function (el) {
                      return el[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] === index;
                  });
              }
              return node;
          };
      /**
       * @param {?} event
       * @param {?} rowIndex
       * @param {?} row
       * @return {?}
       */
      TableComponent.prototype.handleMouseUp = /**
       * @param {?} event
       * @param {?} rowIndex
       * @param {?} row
       * @return {?}
       */
          function (event, rowIndex, row) {
              //for draggale rows, we need to double check row selection again
              if (this.draggableRows === true && this.shouldHandleMouseUp === true) {
                  this.toggleRowSelection(event, rowIndex, row, true);
              }
              this.shouldHandleMouseUp = false;
          };
      /* istanbul ignore next */
      /**
       * Set row as selected/unselected
       * @param rowIndex Index of row to toggle on/off
       */
      /**
       * Set row as selected/unselected
       * @param {?} event
       * @param {?} rowIndex Index of row to toggle on/off
       * @param {?} row
       * @param {?=} isMouseUp
       * @return {?}
       */
      TableComponent.prototype.toggleRowSelection = /**
       * Set row as selected/unselected
       * @param {?} event
       * @param {?} rowIndex Index of row to toggle on/off
       * @param {?} row
       * @param {?=} isMouseUp
       * @return {?}
       */
          function (event, rowIndex, row, isMouseUp) {
              if (isMouseUp === void 0) {
                  isMouseUp = false;
              }
              /** @type {?} */
              var targetEl = /** @type {?} */ (event.target);
              if (targetEl.tagName.toLowerCase() == 'input' && targetEl.getAttribute('type') != null) {
                  if (targetEl.getAttribute('type').toLowerCase() == 'radio') {
                      return;
                  }
              }
              if (targetEl.tagName.toLowerCase() == 'button') {
                  return;
              }
              /** @type {?} */
              var actualRowIndex = rowIndex;
              //prevent text selection when shiftKey is pressed
              if (event.shiftKey === true && event.preventDefault) {
                  event.preventDefault();
              }
              if (this.selectionMode !== "none") {
                  if (this.virtualScroll === true && row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] != null) {
                      actualRowIndex = row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];
                  }
                  //if user is not pressing shift key, clear all previous selection
                  if (event.shiftKey !== true && event.ctrlKey !== true && event.buttons !== 2) {
                      /** @type {?} */
                      var clearSelection = true;
                      if (this.draggableRows === true && isMouseUp !== true && this.selectedRows.indexOf(actualRowIndex) >= 0) {
                          clearSelection = false;
                          this.shouldHandleMouseUp = true;
                      }
                      if (clearSelection) {
                          this.selectedRows.splice(0, this.selectedRows.length);
                      }
                  }
                  /** @type {?} */
                  var idx = _.findIndex(this.selectedRows, function (row) {
                      return row === actualRowIndex;
                  });
                  if (idx < 0) {
                      //if multi row and user is pressing shift/ctrl key, allow multi row selection
                      if (this.selectionMode === "multiRow" && (event.shiftKey || event.ctrlKey)) {
                          if (event.ctrlKey) {
                              this.selectedRows.push(actualRowIndex);
                          }
                          else if (event.shiftKey) {
                              if (this.lastSelectedRowIndex >= 0) {
                                  if (this.lastSelectedRowIndex > rowIndex) {
                                      for (var i = rowIndex; i < this.lastSelectedRowIndex; i++) {
                                          this.selectedRows.push(this.getOriginalIndex(i));
                                      }
                                  }
                                  else if (this.lastSelectedRowIndex < rowIndex) {
                                      for (var i = this.lastSelectedRowIndex + 1; i <= rowIndex; i++) {
                                          this.selectedRows.push(this.getOriginalIndex(i));
                                      }
                                  }
                                  else {
                                      this.selectedRows.push(actualRowIndex);
                                  }
                              }
                              else {
                                  this.selectedRows.push(actualRowIndex);
                              }
                          }
                      }
                      else {
                          this.selectedRows = [actualRowIndex];
                      }
                  }
                  else if (event.ctrlKey === true && idx >= 0 && event.buttons !== 2) {
                      //if control key is pressed (and not right click), remove the selected row
                      this.selectedRows.splice(idx, 1);
                  }
                  this.detectChanges();
                  this.lastSelectedRowIndex = rowIndex;
              }
              this.triggerStateChange();
          };
      /**
       * return the actual indexes base on datasource
       *
       * @param {?} index
       * @return {?}
       */
      TableComponent.prototype.getOriginalIndex = /**
       * return the actual indexes base on datasource
       *
       * @param {?} index
       * @return {?}
       */
          function (index) {
              if (this.virtualScroll === true && this.nodes[index] != null) {
                  return this.nodes[index][TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];
              }
              return index;
          };
      /**
       * Set [[disabled]] property value
       * @param boo Toggle [[disabled]]
       */
      /**
       * Set [[disabled]] property value
       * @param {?} boo Toggle [[disabled]]
       * @return {?}
       */
      TableComponent.prototype.setDisabled = /**
       * Set [[disabled]] property value
       * @param {?} boo Toggle [[disabled]]
       * @return {?}
       */
          function (boo) {
              this.disabled = boo;
          };
      /**
       * Get [[disabled]] property value
       */
      /**
       * Get [[disabled]] property value
       * @return {?}
       */
      TableComponent.prototype.getDisabled = /**
       * Get [[disabled]] property value
       * @return {?}
       */
          function () {
              return this.disabled;
          };
      /* istanbul ignore next */
      /**
       * Get a collection of all row elements that are selected
       * @returns The selected rows
       */
      /**
       * Get a collection of all row elements that are selected
       * @return {?} The selected rows
       */
      TableComponent.prototype.getSelectedRows = /**
       * Get a collection of all row elements that are selected
       * @return {?} The selected rows
       */
          function () {
              var e_3, _a, e_4, _b;
              /** @type {?} */
              var selectedRowElements = [];
              /* istanbul ignore if */
              if (this.selectedRows.length > 0 && this.nodes != null && this.nodes.length > 0) {
                  try {
                      for (var _c = __values(this.selectedRows), _d = _c.next(); !_d.done; _d = _c.next()) {
                          var rowIndex = _d.value;
                          try {
                              for (var _e = __values(this.nodes), _f = _e.next(); !_f.done; _f = _e.next()) {
                                  var node = _f.value;
                                  if (node.getLocalName() === "row" && node.rowNumber === rowIndex) {
                                      selectedRowElements.push(node);
                                      break;
                                  }
                              }
                          }
                          catch (e_4_1) {
                              e_4 = { error: e_4_1 };
                          }
                          finally {
                              try {
                                  if (_f && !_f.done && (_b = _e.return))
                                      _b.call(_e);
                              }
                              finally {
                                  if (e_4)
                                      throw e_4.error;
                              }
                          }
                      }
                  }
                  catch (e_3_1) {
                      e_3 = { error: e_3_1 };
                  }
                  finally {
                      try {
                          if (_d && !_d.done && (_a = _c.return))
                              _a.call(_c);
                      }
                      finally {
                          if (e_3)
                              throw e_3.error;
                      }
                  }
              }
              return selectedRowElements;
          };
      /* istanbul ignore next */
      /**
       * Get collection of selected row indexes
       */
      /**
       * Get collection of selected row indexes
       * @return {?}
       */
      TableComponent.prototype.getSelectedRowIndexes = /**
       * Get collection of selected row indexes
       * @return {?}
       */
          function () {
              var _this = this;
              return this.selectedRows.map(function (row) {
                  return row[_this.ROW_INDEX_KEY];
              });
          };
      /**
       * Event handler for row select event
       * @param event
       */
      /**
       * Event handler for row select event
       * @param {?} event
       * @return {?}
       */
      TableComponent.prototype.handleRowSelection = /**
       * Event handler for row select event
       * @param {?} event
       * @return {?}
       */
          function (event) {
              /* istanbul ignore next */
              if (!_.isEqual(event.selected, this._prevSelectedRows)) {
                  this.onChange.emit(new TableSelectionEvent(event.selected));
              }
              this._prevSelectedRows = event.selected;
          };
      /**
       * Event handler for double click on cell
       * @param event
       * @event onDoubleClick
       */
      /**
       * Event handler for double click on cell
       * \@event onDoubleClick
       * @param {?} event
       * @return {?}
       */
      TableComponent.prototype.handleCellActivation = /**
       * Event handler for double click on cell
       * \@event onDoubleClick
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (event.type === 'dblclick') {
                  this.onDoubleClick.emit(new TableSelectionEvent(event.row));
              }
          };
      //internal
      /**
       * @param {?} row
       * @param {?} rowIndex
       * @return {?}
       */
      TableComponent.prototype.appendRowIndexToRow = /**
       * @param {?} row
       * @param {?} rowIndex
       * @return {?}
       */
          function (row, rowIndex) {
              row[this.ROW_INDEX_KEY] = rowIndex;
          };
      /* istanbul ignore */
      /**
       * Trigger change detection and re-render the table
       * @param clearData Set to true to empty table data
       */
      /**
       * Trigger change detection and re-render the table
       * @param {?=} clearData Set to true to empty table data
       * @return {?}
       */
      TableComponent.prototype.refresh = /**
       * Trigger change detection and re-render the table
       * @param {?=} clearData Set to true to empty table data
       * @return {?}
       */
          function (clearData) {
              if (clearData === void 0) {
                  clearData = false;
              }
              if (clearData == true) {
                  this._dataSource = [];
              }
              this.detectChanges();
          };
      /* istanbul ignore next */
      /**
       * Get [[changeDetectorRef]] property
       * @return the ChangeDetector
       */
      /**
       * Get [[changeDetectorRef]] property
       * @return {?} the ChangeDetector
       */
      TableComponent.prototype.getChangeDetector = /**
       * Get [[changeDetectorRef]] property
       * @return {?} the ChangeDetector
       */
          function () {
              return this.changeDetectorRef;
          };
      /**
       * Get NexaWeb tag name
       * @returns Tag name
       */
      /**
       * Get NexaWeb tag name
       * @return {?} Tag name
       */
      TableComponent.prototype.getNxTagName = /**
       * Get NexaWeb tag name
       * @return {?} Tag name
       */
          function () {
              return "table";
          };
      /* istanbul ignore next */
      /**
       * Conver the content of this screens to JSON object so it can be sent to the server.
       */
      /**
       * Conver the content of this screens to JSON object so it can be sent to the server.
       * @return {?}
       */
      TableComponent.prototype.toJson = /**
       * Conver the content of this screens to JSON object so it can be sent to the server.
       * @return {?}
       */
          function () {
              var _this = this;
              var e_5, _a;
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              // if (this.getSelectedRows() != null && this.getSelectedRows().length > 0) {
              //     this.setJson(json, "selectedRows", this.getSelectedRows().map(item=>item.toJson()));
              // }
              if (this.nodes != null &&
                  this.nodes.length > 0) {
                  /** @type {?} */
                  var tempRows_1 = void 0;
                  if (this.virtualScroll === true) {
                      tempRows_1 = {};
                  }
                  json["rows"] = this.nodes.map(function (node, index) {
                      /** @type {?} */
                      var rowJson = node.toJson();
                      if (_this.selectedRows != null && _this.selectedRows.indexOf(index) >= 0) {
                          rowJson["selected"] = "true";
                          rowJson["index"] = index + "";
                      }
                      if (_this.virtualScroll === true) {
                          tempRows_1[node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];
                      }
                      return rowJson;
                  });
                  //virtual scroll data
                  if (this.virtualScroll === true && this.modifiedVirtualRowsJson != null) {
                      /** @type {?} */
                      var keys = _.keys(this.modifiedVirtualRowsJson);
                      try {
                          for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {
                              var key = keys_1_1.value;
                              //make sure we not already converted them
                              if (tempRows_1[key] == null) {
                                  json["rows"].push(this.modifiedVirtualRowsJson[key]);
                              }
                          }
                      }
                      catch (e_5_1) {
                          e_5 = { error: e_5_1 };
                      }
                      finally {
                          try {
                              if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return))
                                  _a.call(keys_1);
                          }
                          finally {
                              if (e_5)
                                  throw e_5.error;
                          }
                      }
                  }
              }
              if (this.columns != null && this.columns.length > 0) {
                  /** @type {?} */
                  var columns = this.columns;
                  if (this.getLocalName() === "table" &&
                      this.columnsHasBeenSwapped === true) {
                      columns = /** @type {?} */ (_.orderBy(columns, function (child) {
                          return child.originalColumnIndex;
                      }));
                  }
                  json["columnDefs"] = columns.map(function (column, index) {
                      /** @type {?} */
                      var def = {
                          "visible": _this.toJsonValue(column.visible),
                          "locked": _this.toJsonValue(column.locked),
                          "enabled": _this.toJsonValue(column.enabled),
                          "sortable": _this.toJsonValue(column.sortable),
                          "isChecked": _this.toJsonValue(column.isChecked),
                          "customAttributes": BaseComponent.mapToJson(column.customAttributes)
                      };
                      // make sure customAttributes has 'width' property
                      if (def["customAttributes"]["width"] != null) {
                          /** @type {?} */
                          var node = _this.headNode.getChildAt(index);
                          /** @type {?} */
                          var width = _this.toWholeNumber(node.htmlElement.style.width.slice(0, -2)); //server expect whole number
                          def["customAttributes"]["width"] = _this.toJsonValue(width);
                      }
                      if (column.id) {
                          def["id"] = _this.toJsonValue(column.id);
                      }
                      else {
                          def["id"] = BaseComponent.generateUniqueId("column");
                      }
                      if (column.locked === true) {
                          def["tagName"] = "lockedColumn";
                          def["nxTagName"] = "lockedColumn";
                      }
                      else {
                          def["tagName"] = "column";
                          def["nxTagName"] = "column";
                      }
                      /** @type {?} */
                      var header = {
                          "tagName": "header",
                          "nxTagName": "header",
                          "text": _this.toJsonValue(column.header)
                      };
                      if (column.headerDirective && column.headerDirective.id) {
                          header["id"] = _this.toJsonValue(column.headerDirective.id);
                      }
                      else {
                          header["id"] = BaseComponent.generateUniqueId("header");
                      }
                      def["children"] = [header];
                      return def;
                  });
              }
              return json;
          };
      /* istanbul ignore next */
      /**
       * Convert child to JSON
       * @param child child to be converted to JSON
       */
      /**
       * Convert child to JSON
       * @param {?} child child to be converted to JSON
       * @return {?}
       */
      TableComponent.prototype.childToJson = /**
       * Convert child to JSON
       * @param {?} child child to be converted to JSON
       * @return {?}
       */
          function (child) {
              return child.getTagName() === "headrow" || child.getTagName() === "headcell" ? child.toJson() : null;
          };
      /* istanbul ignore next */
      /**
       * Add element to internal list of row, cell, or header cell
       * @param type 'row' | 'cell' | 'headcell'
       * @param event Create event
       * @param rowOrColumnIndex
       * @param rowDataOrColumnDef
       */
      /**
       * Add element to internal list of row, cell, or header cell
       * @param {?} type 'row' | 'cell' | 'headcell'
       * @param {?} event Create event
       * @param {?} rowOrColumnIndex
       * @param {?} rowDataOrColumnDef
       * @return {?}
       */
      TableComponent.prototype.registerFauxElement = /**
       * Add element to internal list of row, cell, or header cell
       * @param {?} type 'row' | 'cell' | 'headcell'
       * @param {?} event Create event
       * @param {?} rowOrColumnIndex
       * @param {?} rowDataOrColumnDef
       * @return {?}
       */
          function (type, event, rowOrColumnIndex, rowDataOrColumnDef) {
              this._isHeaderCell = false;
              if (rowDataOrColumnDef === null ||
                  (rowDataOrColumnDef !== undefined &&
                      rowDataOrColumnDef !== null &&
                      rowDataOrColumnDef.skipTracking !== true)) {
                  if (type === "row") {
                      this.trackRow(event, rowOrColumnIndex, rowDataOrColumnDef);
                  }
                  else if (type === "cell") {
                      this.trackCell(event, rowOrColumnIndex, rowDataOrColumnDef);
                  }
                  else if (type === "headcell") {
                      this._isHeaderCell = true;
                      this.trackHeadCell(event, rowDataOrColumnDef);
                      if (rowOrColumnIndex === this.columns.length - 1) {
                          this.initPlugins();
                      }
                  }
              }
          };
      /**
       * Get [[nodes]] property
       * @returns Node list
       */
      /**
       * Get [[nodes]] property
       * @return {?} Node list
       */
      TableComponent.prototype.getTableChildren = /**
       * Get [[nodes]] property
       * @return {?} Node list
       */
          function () {
              return this.nodes;
          };
      /**
       * Get number of nodes
       * @returns Number of nodes
       */
      /**
       * Get number of nodes
       * @return {?} Number of nodes
       */
      TableComponent.prototype.getChildCount = /**
       * Get number of nodes
       * @return {?} Number of nodes
       */
          function () {
              return this.nodes != null ? this.nodes.length : 0;
          };
      /**
       * Get all children of this table
       * @return List of children
       */
      /**
       * Get all children of this table
       * @return {?} List of children
       */
      TableComponent.prototype.getChildren = /**
       * Get all children of this table
       * @return {?} List of children
       */
          function () {
              /** @type {?} */
              var children = new Vector();
              _.forEach(this.getTableChildren(), function (child) { return children.add(child); });
              return children;
          };
      /**
       *
       * @param xpathExpression Get query result from an xpath expression string
       */
      /**
       *
       * @param {?} xpathExpression Get query result from an xpath expression string
       * @return {?}
       */
      TableComponent.prototype.evaluateXPath = /**
       *
       * @param {?} xpathExpression Get query result from an xpath expression string
       * @return {?}
       */
          function (xpathExpression) {
              /** @type {?} */
              var result = new Vector();
              /** @type {?} */
              var xpathResult = document.evaluate(xpathExpression.replace("cell[", "td[").replace("row[", "tr["), this.elementRef.nativeElement, null, XPathResult.ANY_TYPE, null);
              if (xpathResult != null) {
                  /** @type {?} */
                  var node = xpathResult.iterateNext();
                  while (node) {
                      result.add(node);
                      node = xpathResult.iterateNext();
                  }
              }
              return result;
          };
      /**
       *
       * @param childOrArrayOrStringWtf
       * @param rowNumber
       */
      /* istanbul ignore next */
      /**
       *
       * @param {?} childOrArrayOrStringWtf
       * @param {?=} rowNumber
       * @return {?}
       */
      TableComponent.prototype.appendChild = /**
       *
       * @param {?} childOrArrayOrStringWtf
       * @param {?=} rowNumber
       * @return {?}
       */
          function (childOrArrayOrStringWtf, rowNumber) {
              if (rowNumber === void 0) {
                  rowNumber = -1;
              }
              //TODO need to append child to certain row? dpending on childOrArrayOrStringWtf
          };
      /**
       * Check if the row has been selected
       * @param rowIndex Index of row to check
       * @returns True if row is a selected row
       */
      /**
       * Check if the row has been selected
       * @param {?} rowIndex Index of row to check
       * @param {?} row
       * @return {?} True if row is a selected row
       */
      TableComponent.prototype.isSelectedRow = /**
       * Check if the row has been selected
       * @param {?} rowIndex Index of row to check
       * @param {?} row
       * @return {?} True if row is a selected row
       */
          function (rowIndex, row) {
              if (this.virtualScroll === true && row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] != null) {
                  rowIndex = row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];
              }
              return this.selectedRows != null && this.selectedRows.indexOf(rowIndex) >= 0;
          };
      /* istanbul ignore next */
      /**
       * Get custom attributes of row if it has any, otherwise return null
       * @param row
       * @param rowOrColumnIndex
       */
      /**
       * Get custom attributes of row if it has any, otherwise return null
       * @param {?} row
       * @param {?} rowOrColumnIndex
       * @return {?}
       */
      TableComponent.prototype.getRowCustomAttributes = /**
       * Get custom attributes of row if it has any, otherwise return null
       * @param {?} row
       * @param {?} rowOrColumnIndex
       * @return {?}
       */
          function (row, rowOrColumnIndex) {
              if (typeof this.rowCustomAttributeBuilder === "function") {
                  return this.rowCustomAttributeBuilder(row, rowOrColumnIndex, /** @type {?} */ ((this._getNoneActiveViewParent() || this.getParentView())));
              }
              if (row != null && row.customAttributes) {
                  return row.customAttributes;
              }
              return null;
          };
      /**
       * Check if column is visible. Either by index or column
       * @param index
       * @param column
       * @returns True if column is visible
       */
      /**
       * Check if column is visible. Either by index or column
       * @param {?} index
       * @param {?=} column
       * @return {?} True if column is visible
       */
      TableComponent.prototype.isColumnVisible = /**
       * Check if column is visible. Either by index or column
       * @param {?} index
       * @param {?=} column
       * @return {?} True if column is visible
       */
          function (index, column) {
              if (column === void 0) {
                  column = null;
              }
              if (column != null) {
                  return column.visible;
              }
              return this.columns.find(function (item, idx) { return idx === index; }).visible;
          };
      /* istanbul ignore next */
      /**
       * Add a child component to the table
       * @param child Component to add
       */
      /**
       * Add a child component to the table
       * @param {?} child Component to add
       * @return {?}
       */
      TableComponent.prototype.addChild = /**
       * Add a child component to the table
       * @param {?} child Component to add
       * @return {?}
       */
          function (child) {
              var _this = this;
              _super.prototype.addChild.call(this, child);
              /** @type {?} */
              var row = this.nodes[this.nodes.length - 1];
              if (this._isHeaderCell !== true && row) {
                  child.tableRowNo = row.rowNumber;
                  row.parentTableId = this.id;
                  row.parentTable = this;
                  //when we get here row.childNodes[currentLength] should be the cell parent row
                  //append child component to cell (for dynamic)
                  if (row.childNodes[row.childNodes.length - 1] == null) {
                      console.error("TableComponent: Unable to register element to cell of current row (cell is null)");
                  }
                  else {
                      child.setAttribute("isLockedColumn", row.childNodes[row.childNodes.length - 1].getAttribute("isLockedColumn", true));
                      row.childNodes[row.childNodes.length - 1].setComponent(child, true);
                      //sophia #1728: restricted right click
                      if (this.restrictCellPopup === true) {
                          child.skipEmitContextMenuEvent = true;
                      }
                      if (this.virtualScroll !== true) {
                          /** @type {?} */
                          var sortValue = child.getAttribute("sortValue", true);
                          if (sortValue != null) {
                              this.renderer.setAttribute(row.childNodes[row.childNodes.length - 1].htmlElement, "data-text", sortValue);
                          }
                      }
                      //track change if virtual scroll
                      /* istanbul ignore if */
                      if (this.virtualScroll === true &&
                          (child instanceof CheckboxComponent ||
                              child instanceof RadioButtonComponent ||
                              child instanceof TextFieldComponent ||
                              child instanceof ComboBoxComponent)) {
                          /** @type {?} */
                          var columnIdx_1 = row.childNodes.length - 1;
                          //has cached data?
                          if (this.modifiedVirtualRows != null &&
                              this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] != null &&
                              this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]][row.childNodes[columnIdx_1]["originalColumnIndex"]] != null) {
                              /** @type {?} */
                              var temp = this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]][row.childNodes[columnIdx_1]["originalColumnIndex"]];
                              if (temp.text !== undefined) {
                                  ( /** @type {?} */(child)).setText(temp.text);
                              }
                              ( /** @type {?} */(child)).setChecked(temp.checked, true);
                          }
                          child._internalChangeCb = function (comp) {
                              _this._checkInitModifiedVirtualRows();
                              if (_this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] == null) {
                                  _this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = {};
                              }
                              _this.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]][row.childNodes[columnIdx_1]["originalColumnIndex"]] = {
                                  text: comp.getText(),
                                  checked: comp.getChecked()
                              };
                          };
                      }
                  }
              }
              else if (this.headNode != null) {
                  //skip emiting event so we can emit ourself.
                  child.skipEmitContextMenuEvent = true;
                  child.tableRowNo = -1;
                  this.headNode.parentTableId = this.id;
                  this.headNode.parentTable = this;
                  this.headNode.childNodes[this.headNode.childNodes.length - 1].setComponent(child);
              }
          };
      /* istanbul ignore next */
      /**
       * 選択中の行を削除する
       */
      /**
       * 選択中の行を削除する
       * @return {?}
       */
      TableComponent.prototype.removeSelectedRow = /**
       * 選択中の行を削除する
       * @return {?}
       */
          function () {
              var e_6, _a, e_7, _b, e_8, _c;
              if (this.selectedRows.length > 0) {
                  /** @type {?} */
                  var selected = this.selectedRows.concat().sort(function (v1, v2) { return v2 - v1; });
                  try {
                      for (var selected_1 = __values(selected), selected_1_1 = selected_1.next(); !selected_1_1.done; selected_1_1 = selected_1.next()) {
                          var idx = selected_1_1.value;
                          /** @type {?} */
                          var child = this.nodes[idx];
                          try {
                              for (var _d = __values(child.childNodes), _e = _d.next(); !_e.done; _e = _d.next()) {
                                  var target = _e.value;
                                  this.removeChild(target.getComponent());
                              }
                          }
                          catch (e_7_1) {
                              e_7 = { error: e_7_1 };
                          }
                          finally {
                              try {
                                  if (_e && !_e.done && (_b = _d.return))
                                      _b.call(_d);
                              }
                              finally {
                                  if (e_7)
                                      throw e_7.error;
                              }
                          }
                          child.destroy();
                          this.nodes.splice(idx, 1);
                          this.dataSource.splice(idx, 1);
                      }
                  }
                  catch (e_6_1) {
                      e_6 = { error: e_6_1 };
                  }
                  finally {
                      try {
                          if (selected_1_1 && !selected_1_1.done && (_a = selected_1.return))
                              _a.call(selected_1);
                      }
                      finally {
                          if (e_6)
                              throw e_6.error;
                      }
                  }
                  /** @type {?} */
                  var rowNumber = 0;
                  try {
                      for (var _f = __values(this.nodes), _g = _f.next(); !_g.done; _g = _f.next()) {
                          var row = _g.value;
                          row.rowNumber = rowNumber++;
                      }
                  }
                  catch (e_8_1) {
                      e_8 = { error: e_8_1 };
                  }
                  finally {
                      try {
                          if (_g && !_g.done && (_c = _f.return))
                              _c.call(_f);
                      }
                      finally {
                          if (e_8)
                              throw e_8.error;
                      }
                  }
                  this.selectedRows = [];
              }
          };
      /**
       * Check if this is a container component
       * @returns True
       */
      /**
       * Check if this is a container component
       * @return {?} True
       */
      TableComponent.prototype.isContainer = /**
       * Check if this is a container component
       * @return {?} True
       */
          function () {
              return true;
          };
      /**
       * Add row to list of nodes
       * @param {?} event
       * @param {?} rowOrColumnIndex
       * @param {?} rowData
       * @return {?}
       */
      TableComponent.prototype.trackRow = /**
       * Add row to list of nodes
       * @param {?} event
       * @param {?} rowOrColumnIndex
       * @param {?} rowData
       * @return {?}
       */
          function (event, rowOrColumnIndex, rowData) {
              /** @type {?} */
              var row = new HTMLElementWrapper(this.renderer, "", this.getSession());
              row.rowNumber = rowOrColumnIndex;
              row.htmlElement = /** @type {?} */ (event.element.nativeElement);
              this.setParentScreenId(row);
              row.setLocaleName("row");
              /** @type {?} */
              var customAttributes = this.getRowCustomAttributes(rowData, rowOrColumnIndex);
              if (customAttributes != null && customAttributes !== "") {
                  row.appendCustomAttributes(customAttributes);
              }
              if (rowData != null && rowData.id != null) {
                  row.setAttribute("id", rowData.id);
              }
              if (this.virtualScroll === true && rowData != null) {
                  row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] = rowData[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];
              }
              this.trackNode(row);
              //draggable row
              if (row.isDraggable()) {
                  row.applyDraggable();
                  this.draggableRows = true;
              }
          };
      /**
       * @param {?} rowIndex
       * @param {?} rowData
       * @return {?}
       */
      TableComponent.prototype.toRowIndex = /**
       * @param {?} rowIndex
       * @param {?} rowData
       * @return {?}
       */
          function (rowIndex, rowData) {
              return this.virtualScroll === true && rowData != null ? rowData[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] : rowIndex;
          };
      /**
       * Add cell to list of nodes
       * @param {?} event
       * @param {?} columnIndex
       * @param {?} columnDef
       * @return {?}
       */
      TableComponent.prototype.trackCell = /**
       * Add cell to list of nodes
       * @param {?} event
       * @param {?} columnIndex
       * @param {?} columnDef
       * @return {?}
       */
          function (event, columnIndex, columnDef) {
              /** @type {?} */
              var cell = new HTMLElementWrapper(this.renderer, "", this.getSession());
              cell.htmlElement = /** @type {?} */ (event.element.nativeElement);
              cell.setLocaleName("cell");
              if (columnDef.customAttributes !== undefined) {
                  if (!cell.getAttribute("class")) {
                      cell.setAttribute("class", columnDef.customAttributes["class"]);
                  }
                  else {
                      /** @type {?} */
                      var orgClass = cell.getAttribute("class");
                      cell.setAttribute("class", orgClass + " " + columnDef.customAttributes["class"]);
                  }
              }
              cell.setAttribute("isLockedColumn", columnDef.locked + "");
              this.setParentScreenId(cell);
              //track original column index for sorting
              if (columnDef.originalColumnIndex == null) {
                  columnDef.originalColumnIndex = columnIndex;
              }
              cell["originalColumnIndex"] = columnDef.originalColumnIndex;
              //add cell to current row
              if (this.nodes[this.nodes.length - 1] !== undefined && this.nodes[this.nodes.length - 1] !== null) {
                  this.nodes[this.nodes.length - 1].appendChild(cell, false);
              }
          };
      /**
       * @param {?} event
       * @param {?} columnDef
       * @return {?}
       */
      TableComponent.prototype.trackHeadCell = /**
       * @param {?} event
       * @param {?} columnDef
       * @return {?}
       */
          function (event, columnDef) {
              if (this.headNode == null) {
                  this.headNode = new HTMLElementWrapper(this.renderer, "", this.getSession());
                  this.headNode.rowNumber = -1;
                  this.setParentScreenId(this.headNode);
                  this.headNode.setLocaleName("headrow");
              }
              /** @type {?} */
              var cell = new HTMLElementWrapper(this.renderer, "", this.getSession());
              cell.htmlElement = /** @type {?} */ (event.element.nativeElement);
              cell.setLocaleName("headcell");
              cell.setAttribute("isLockedColumn", columnDef.locked + "");
              cell.customData = columnDef;
              this.setParentScreenId(cell);
              this.headNode.appendChild(cell);
          };
      /**
       * Add element to internal [[nodes]] list to keep track of
       * @param {?} node Element to add to internal node list
       * @return {?}
       */
      TableComponent.prototype.trackNode = /**
       * Add element to internal [[nodes]] list to keep track of
       * @param {?} node Element to add to internal node list
       * @return {?}
       */
          function (node) {
              if (this.nodes == null) {
                  this.nodes = [];
              }
              this.nodes.push(node);
          };
      /**
       * Set the parent screen id on an element
       * @param {?} el
       * @return {?}
       */
      TableComponent.prototype.setParentScreenId = /**
       * Set the parent screen id on an element
       * @param {?} el
       * @return {?}
       */
          function (el) {
              if (this.getParentView() != null) {
                  el.parentScreenId = this.getParentView().getId();
              }
          };
      /**
       * Get invoke [[rowStyleFn]] on a row and get it's style
       * @param row
       * @returns Style attributes
       */
      /**
       * Get invoke [[rowStyleFn]] on a row and get it's style
       * @param {?} row
       * @return {?} Style attributes
       */
      TableComponent.prototype.rowStyleClass = /**
       * Get invoke [[rowStyleFn]] on a row and get it's style
       * @param {?} row
       * @return {?} Style attributes
       */
          function (row) {
              if (typeof this.rowStyleFn === "function") {
                  return this.rowStyleFn(row);
              }
              return "";
          };
      /**
       * Find the child node by id
       * @param id Child's id
       */
      /**
       * Find the child node by id
       * @param {?} id Child's id
       * @return {?}
       */
      TableComponent.prototype.getChildNodeById = /**
       * Find the child node by id
       * @param {?} id Child's id
       * @return {?}
       */
          function (id) {
              return this.nodes != null ? this.nodes.find(function (child) { return child.id === id; }) : null;
          };
      /* istanbul ignore next */
      /**
       * Handle cell onContextMenu if component inside the cell has not already handle it
       *
       * @param rowNumber
       * @param columnIndex
       * @param event
       */
      /**
       * Handle cell onContextMenu if component inside the cell has not already handle it
       *
       * @param {?} column
       * @param {?} rowNumber
       * @param {?} columnIndex
       * @param {?} event
       * @return {?}
       */
      TableComponent.prototype.handleColumnOnContextMenu = /**
       * Handle cell onContextMenu if component inside the cell has not already handle it
       *
       * @param {?} column
       * @param {?} rowNumber
       * @param {?} columnIndex
       * @param {?} event
       * @return {?}
       */
          function (column, rowNumber, columnIndex, event) {
              var _this = this;
              if (this.nodes != null && this.nodes[rowNumber] != null) {
                  /** @type {?} */
                  var childColumn = this.nodes[rowNumber].getChildAt(columnIndex);
                  if (childColumn != null && childColumn.component != null) {
                      //sophia #1728
                      if (this.restrictCellPopup !== true) {
                          childColumn.component.handleOnContextMenu(event);
                      }
                      else if (this.restrictCellPopup === true) {
                          if (childColumn.component.popup != null && childColumn.component.popup !== "") {
                              childColumn.component.handleOnContextMenu(event, true);
                          }
                          else {
                              event.preventDefault();
                              event.stopPropagation();
                          }
                      }
                  }
                  else if (column != null) {
                      if (this.getSession() != null) {
                          this.getSession().setMousePosition(event);
                      }
                      /** @type {?} */
                      var parentView = this.getParentView();
                      /** @type {?} */
                      var popupMenuId_1 = null;
                      if (parentView != null) {
                          popupMenuId_1 = ( /** @type {?} */(parentView)).getFirstPopupMenuId();
                      }
                      if (typeof column.onContextMenuCb === "function") {
                          column.onContextMenuCb(this._getNoneActiveViewParent() || this.getParentView());
                      }
                      if (popupMenuId_1 != null) {
                          event.stopPropagation();
                          event.preventDefault();
                          /** @type {?} */
                          var tm_1 = setTimeout(function () {
                              clearTimeout(tm_1);
                              if (_this.getSession()._currentPopupMenuId != null) {
                                  popupMenuId_1 = _this.getSession()._currentPopupMenuId;
                              }
                              _this.getSession().showContextMenu(popupMenuId_1);
                              _this.getSession()._currentPopupMenuId = null;
                          });
                      }
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Event handler for context click on the header
       * @param columnIndex Index of column that was clicked
       * @param event
       */
      /**
       * Event handler for context click on the header
       * @param {?} columnIndex Index of column that was clicked
       * @param {?} event
       * @return {?}
       */
      TableComponent.prototype.handleHeaderOnContextMenu = /**
       * Event handler for context click on the header
       * @param {?} columnIndex Index of column that was clicked
       * @param {?} event
       * @return {?}
       */
          function (columnIndex, event) {
              /* istanbul ignore if */
              if (this.headNode != null) {
                  /** @type {?} */
                  var childColumn = this.headNode.getChildAt(columnIndex);
                  if (childColumn != null && childColumn.component != null) {
                      /** @type {?} */
                      var clientEvent = new ClientEvent(childColumn, event);
                      if (AppUtils.customizeClientEvent != null) {
                          AppUtils.customizeClientEvent(childColumn, clientEvent);
                      }
                      if (this.getParentView() != null) {
                          clientEvent.setParameter("screenId", this.getParentView().getId());
                      }
                      clientEvent.setParameter("id", this.getId());
                      this.getSession().getEventHandler().setClientEvent(clientEvent);
                      childColumn.component.handleOnContextMenu(event, true);
                  }
              }
          };
      /**
       * @param {?} event
       * @return {?}
       */
      TableComponent.prototype.recalculateVirtualScrollData = /**
       * @param {?} event
       * @return {?}
       */
          function (event) {
              /* istanbul ignore if */
              if (this.virtualScroll === true) {
                  /** @type {?} */
                  var scrollTop = event.srcElement.scrollTop;
                  //adjust only on IE9, otherwise, it will stuck in inf loop
                  if (this.isIE9 === true) {
                      scrollTop -= 0.5;
                  }
                  if (this.scrollLeft === event.srcElement.scrollLeft) {
                      this.calcVirtualScrollViewPort(scrollTop);
                      this.detectChanges();
                  }
                  this.adjustTableHead(event);
              }
          };
      /**
       * Event handler for table head change. Set style to properly display
       * @param {?} event
       * @param {?=} skipBodyAdjustment
       * @param {?=} skipHeader
       * @return {?}
       */
      TableComponent.prototype.adjustTableHead = /**
       * Event handler for table head change. Set style to properly display
       * @param {?} event
       * @param {?=} skipBodyAdjustment
       * @param {?=} skipHeader
       * @return {?}
       */
          function (event, skipBodyAdjustment, skipHeader) {
              var _this = this;
              if (skipBodyAdjustment === void 0) {
                  skipBodyAdjustment = false;
              }
              if (skipHeader === void 0) {
                  skipHeader = false;
              }
              if (this.table == null || event == null)
                  return;
              this.preMouseEvent = event;
              /** @type {?} */
              var scrollTop = event.srcElement.scrollTop;
              //adjust only on IE9, otherwise, it will stuck in inf loop
              if (this.isIE9 === true) {
                  scrollTop -= 0.5;
              }
              this.scrollLeft = event.srcElement.scrollLeft;
              if (this.virtualScroll === true) {
                  // if (event.srcElement.scrollTop > this.maxScrollTop) {
                  //     scrollTop = this.maxScrollTop;
                  // }
                  //this.calcVirtualScrollViewPort(scrollTop);
                  if (this.prevScrollTopForHiddenHeader !== scrollTop && skipHeader === true) {
                      scrollTop -= this.theadHeight;
                  }
                  this.prevScrollTopForHiddenHeader = scrollTop;
                  this._disabledScrolling = true;
                  this.calcVirtualTablePosition(scrollTop);
                  setTimeout(function () {
                      _this._disabledScrolling = false;
                  }, 100);
              }
              if (skipHeader !== true) {
                  //   this.fakeTable.nativeElement.innerHTML = "";
                  //   this.isHeaderAppendToFakeTable = false;
                  this.renderer.removeStyle(this.tableHead.nativeElement, "visibility");
                  if (this.tableFoot != null) {
                      this.renderer.removeStyle(this.tableFoot.nativeElement, "visibility");
                  }
                  this.renderer.setStyle(this.ghostHeader.nativeElement, "display", "none");
                  /** @type {?} */
                  var table = this.table.nativeElement;
                  /** @type {?} */
                  var thead = table.querySelector('thead');
                  /** @type {?} */
                  var tbody = table.querySelector('tbody');
                  var _loop_2 = function (i) {
                      /** @type {?} */
                      var column = this_1.columns.find(function (item, idx) { return idx === i; });
                      if (column != null && column.visible && column.locked) {
                          /** @type {?} */
                          var headChildren = $(thead.querySelector('th:nth-child(' + (i + 1) + ')'));
                          /** @type {?} */
                          var trans = "translate(" + this_1.scrollLeft + "px, " + scrollTop + "px)";
                          if (this_1.virtualScroll === true) {
                              trans = "translateX(" + this_1.scrollLeft + "px)";
                          }
                          headChildren.css("transform", trans);
                          headChildren.css("-ms-transform", trans);
                          if (skipBodyAdjustment !== true) {
                              /** @type {?} */
                              var bodyChildren = $(tbody.querySelectorAll('td:nth-child(' + (i + 1) + ')'));
                              bodyChildren.css("transform", "translate(" + this_1.scrollLeft + "px");
                              bodyChildren.css("-ms-transform", "translate(" + this_1.scrollLeft + "px");
                          }
                      }
                      else if (column != null && column.visible && this_1.virtualScroll !== true) {
                          /** @type {?} */
                          var headChildren = $(thead.querySelector('th:nth-child(' + (i + 1) + ')'));
                          /** @type {?} */
                          var trans = "translateY(" + scrollTop + "px)";
                          headChildren.css("transform", trans);
                          headChildren.css("-ms-transform", trans);
                      }
                  };
                  var this_1 = this;
                  for (var i = 0; i < this.columns.length; i++) {
                      _loop_2(i);
                  }
                  this.adjustTableFooter();
              }
          };
      /**
       * Set table footer styles for proper display
       * @return {?}
       */
      TableComponent.prototype.adjustTableFooter = /**
       * Set table footer styles for proper display
       * @return {?}
       */
          function () {
              /* istanbul ignore if */
              if (this.table == null)
                  return;
              /** @type {?} */
              var tfoot = this.table.nativeElement.querySelector("tfoot");
              /* istanbul ignore if */
              if (tfoot != null) {
                  /** @type {?} */
                  var tfootPos = 0;
                  if ($(this.table.nativeElement).height() < $(this.tableContainer.nativeElement).height()) {
                      tfootPos = $(this.tableContainer.nativeElement).height() - $(this.table.nativeElement).height();
                  }
                  else {
                      tfootPos = ($(this.tableContainer.nativeElement).height() - $(this.table.nativeElement).height()) + this.tableContainer.nativeElement.scrollTop;
                  }
                  var _loop_3 = function (i) {
                      /** @type {?} */
                      var column = this_2.columns.find(function (item, idx) { return idx === i; });
                      if (column != null) {
                          /** @type {?} */
                          var footChildren = $(tfoot.querySelector('td:nth-child(' + (i + 1) + ')'));
                          /** @type {?} */
                          var trans = "translateY(" + tfootPos + "px)";
                          footChildren.css("transform", trans);
                          footChildren.css("-ms-transform", trans);
                          footChildren.css("position", "relative");
                          footChildren.css("z-index", "3");
                      }
                  };
                  var this_2 = this;
                  for (var i = 0; i < this.columns.length; i++) {
                      _loop_3(i);
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Event handler for keyup. Copy keyboard shortcut support
       * @param event Keyup event
       */
      /**
       * Event handler for keyup. Copy keyboard shortcut support
       * @param {?} event Keyup event
       * @return {?}
       */
      TableComponent.prototype.handleKeyUp = /**
       * Event handler for keyup. Copy keyboard shortcut support
       * @param {?} event Keyup event
       * @return {?}
       */
          function (event) {
              if (event.ctrlKey === true &&
                  (event.code === "KeyC" ||
                      event.keyCode === 67 ||
                      event.keyCode === 99)) {
                  // istanbul ignore next
                  this.copySelectedRowAsText();
              }
          };
      /* istanbul ignore next */
      /**
       * Check to see if we can send selected rows to clipboard
       */
      /**
       * Check to see if we can send selected rows to clipboard
       * @return {?}
       */
      TableComponent.prototype.copySelectedRowAsText = /**
       * Check to see if we can send selected rows to clipboard
       * @return {?}
       */
          function () {
              /* istanbul ignore if */
              if (this.selectedRows != null && this.selectedRows.length === 1) {
                  /** @type {?} */
                  var selectedRowText = void 0;
                  /** @type {?} */
                  var selectedRow = this.getSelectedRows()[0];
                  /* istanbul ignore if */
                  if (selectedRow.childNodes != null && selectedRow.childNodes.length > 0) {
                      selectedRowText = selectedRow.childNodes.map(function (child) { return child.getText(); });
                  }
                  else if (selectedRow.dynamicChildNodes != null && selectedRow.dynamicChildNodes.length > 0) {
                      selectedRowText = selectedRow.dynamicChildNodes.map(function (child) { return child.getText(); });
                  }
                  /* istanbul ignore if */
                  if (selectedRowText != null && selectedRowText.length > 0) {
                      this.clipboardService.copy(selectedRowText.join(String.fromCharCode(9)));
                  }
              }
          };
      /* istanbul ignore next */
      /**
       * Generate a row id based on row's [[id]] and index
       * @param row
       * @param rowIndex
       */
      /**
       * Generate a row id based on row's [[id]] and index
       * @param {?} row
       * @param {?} rowIndex
       * @return {?}
       */
      TableComponent.prototype.buildRowId = /**
       * Generate a row id based on row's [[id]] and index
       * @param {?} row
       * @param {?} rowIndex
       * @return {?}
       */
          function (row, rowIndex) {
              if (typeof this.rowIdBuilder === "function") {
                  return this.rowIdBuilder(row, rowIndex);
              }
              return ['row', this.id, rowIndex].join('-');
          };
      /* istanbul ignore next */
      /**
       * Sort the data (for virtual scroll)
       *
       * @param column
       */
      /**
       * Sort the data (for virtual scroll)
       *
       * @param {?} column
       * @return {?}
       */
      TableComponent.prototype.handleSort = /**
       * Sort the data (for virtual scroll)
       *
       * @param {?} column
       * @return {?}
       */
          function (column) {
              //sorting is only allowed on a non locking column
              /* istanbul ignore if */
              if (this.virtualScroll === true && column.locked !== true) {
                  //find previous sort direction for the column
                  this.columns.forEach(function (col) {
                      //using originalColumnIndex b/c use can drag column around and thus column index changed
                      if (col.originalColumnIndex !== column.originalColumnIndex) {
                          col.sortDirection = null;
                      }
                  });
                  if (column.sortDirection === "asc") {
                      column.sortDirection = "desc";
                  }
                  else {
                      column.sortDirection = "asc";
                  }
                  /** @type {?} */
                  var sortColumnId = this.virtualScrollSortKeys[column.originalColumnIndex];
                  //if custom sortn fn is provided, used to find proper column to sort
                  if (typeof this.virtualScrollSortFn === "function") {
                      sortColumnId = this.virtualScrollSortFn(this._getNoneActiveViewParent() || this.getParentView(), column.originalColumnIndex);
                  }
                  if (sortColumnId != null) {
                      this._dataSource = _.orderBy(this._dataSource, [sortColumnId], /** @type {?} */ ([column.sortDirection]));
                  }
                  this.calcVirtualScrollViewPort(this.prevScrollTop);
                  this.detectChanges();
              }
              else if (this.virtualScroll !== true && column.locked !== true) {
                  // RXC Add
                  if (this.sortDirection === "") {
                      this.sortDirection = "asc";
                  }
                  else if (this.sortColumnId === column.originalColumnIndex) {
                      if (this.sortDirection === "asc") {
                          this.sortDirection = "desc";
                      }
                      else {
                          this.sortDirection = "asc";
                      }
                  }
                  else {
                      this.sortDirection = "asc";
                  }
                  this.sortColumnId = column.originalColumnIndex;
              }
          };
      /**
       * Calculate the overall height so we can add scrollbar for virtual scroll. This is done
       * by multiplying the number of rows to the height of each row.
       *
       * @return {?}
       */
      TableComponent.prototype.calcVirtualScrollHeight = /**
       * Calculate the overall height so we can add scrollbar for virtual scroll. This is done
       * by multiplying the number of rows to the height of each row.
       *
       * @return {?}
       */
          function () {
              // istanbul ignore if
              if (this.virtualScroll === true) {
                  if (this._dataSource != null && this._dataSource.length > 0) {
                      //scroll height = 10px * # rows (10px is the height of each row)
                      this._virtualScrollDivHeight = (this.rowHeight * this._dataSource.length);
                      this.maxScrollTop = this._virtualScrollDivHeight;
                      this.virtualScrollSortKeys = _.keys(this._dataSource[0]);
                      //track original index
                      if (typeof this._dataSource[this._dataSource.length - 1][TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] !== "number") {
                          _.forEach(this._dataSource, function (item, index) {
                              item[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] = index;
                          });
                      }
                  }
                  else {
                      this._virtualScrollDivHeight = 0;
                  }
                  this.markForCheck();
              }
          };
      /**
       * Adjust/move the position of the table container so that it displayed properly.
       *
       * @param {?} scrollTop
       * @return {?}
       */
      TableComponent.prototype.calcVirtualTablePosition = /**
       * Adjust/move the position of the table container so that it displayed properly.
       *
       * @param {?} scrollTop
       * @return {?}
       */
          function (scrollTop) {
              if (this.virtualScroll === true) {
                  //-ms-transform
                  //transform
                  // if (this.maxScrollTop > 0) {
                  //     scrollTop = Math.min(scrollTop, this.maxScrollTop);
                  // }
                  this.renderer.setStyle(this.tableWrapper.nativeElement, "transform", "translateY(" + scrollTop + "px)");
                  this.renderer.setStyle(this.tableWrapper.nativeElement, "-ms-transform", "translateY(" + scrollTop + "px)");
                  // this.markForCheck();
              }
          };
      /**
       * Calculate the visible virtual rows to display to the user
       *
       * @param {?=} scrollTop
       * @return {?}
       */
      TableComponent.prototype.calcVirtualScrollViewPort = /**
       * Calculate the visible virtual rows to display to the user
       *
       * @param {?=} scrollTop
       * @return {?}
       */
          function (scrollTop) {
              var _this = this;
              if (scrollTop === void 0) {
                  scrollTop = 0;
              }
              if (this._isViewInit === true && this._dataSource != null) {
                  /** @type {?} */
                  var startIdx_1 = 0;
                  //if scrollTop is greater than 0, need to figure the starting row
                  if (scrollTop > 0) {
                      //each row is 10px height, if scrollTop is 100px, then we start at row 10
                      //scrollTop / 10px?
                      //each row is 10px height, if scrollTop is 100px, then we start at row 10
                      //scrollTop / 10px?
                      startIdx_1 = Math.floor(scrollTop / this.rowHeight);
                      if (startIdx_1 > this._dataSource.length - this._virtualScrollRowPerView) {
                          startIdx_1 = this._dataSource.length - this._virtualScrollRowPerView;
                      }
                  }
                  this._virtualViewPort = null;
                  this.prevScrollTop = scrollTop;
                  this.cleanUpChildNodes();
                  this.detectChanges();
                  this.zone.run(function () {
                      _this._virtualViewPort = _this.buildRowIdentity(_this._dataSource.slice(startIdx_1, startIdx_1 + _this._virtualScrollRowPerView + _this.adjustedRows));
                  });
              }
          };
      /**
       * @param {?} fromIndex
       * @param {?} toIndex
       * @return {?}
       */
      TableComponent.prototype._swap = /**
       * @param {?} fromIndex
       * @param {?} toIndex
       * @return {?}
       */
          function (fromIndex, toIndex) {
              /** @type {?} */
              var tempToColumn = this.columns[toIndex];
              this.columns[toIndex] = this.columns[fromIndex];
              this.columns[fromIndex] = tempToColumn;
          };
      /**
       * Swap the columns after a column is being drag and rop
       *
       * @param {?} fromIndex column that is being dragged (moved)
       * @param {?} toIndex  column that is being droped into
       * @return {?}
       */
      TableComponent.prototype.swapColumns = /**
       * Swap the columns after a column is being drag and rop
       *
       * @param {?} fromIndex column that is being dragged (moved)
       * @param {?} toIndex  column that is being droped into
       * @return {?}
       */
          function (fromIndex, toIndex) {
              var _this = this;
              //sophia 1856: need to properly swap columns
              if (fromIndex < toIndex) {
                  for (var i = fromIndex; i < toIndex; i++) {
                      this._swap(i, i + 1);
                  }
              }
              else if (fromIndex > toIndex) {
                  for (var i = fromIndex; i > toIndex; i--) {
                      this._swap(i, i - 1);
                  }
              }
              if (this.scrollContainerStyles != null) {
                  this.scrollContainerStyles["overflow-y"] = "auto";
                  this.detectChanges();
              }
              //sophia 1823: for server tracking
              _.forEach(this.columns, function (col, idx) {
                  col.setAttribute("visualIndex", idx + "");
              });
              if (this.virtualScroll !== true) {
                  this.detectChanges();
                  setTimeout(function () {
                      _this.applyResizeColumns();
                  }, 200);
              }
              this.columnsHasBeenSwapped = true;
          };
      /**
       * @return {?}
       */
      TableComponent.prototype._cleanupColResize = /**
       * @return {?}
       */
          function () {
              //reset
              this.$colResizable = $(this.table.nativeElement).colResizable({
                  disable: true
              });
              $("#" + this.id + " .JCLRgrips").remove();
          };
      /* istanbul ignore next */
      /**
       * @return {?}
       */
      TableComponent.prototype.applyResizeColumns = /**
       * @return {?}
       */
          function () {
              if (this.table != null && (this.enableColumnResize == null || this.enableColumnResize === true)) {
                  this._cleanupColResize();
                  this.$colResizable = $(this.table.nativeElement).colResizable({
                      liveDrag: false,
                      //turning this on will incurred a severe performance penalty on IE so leave it off
                      resizeMode: 'overflow',
                      partialRefresh: true,
                      //After closing the window and opening again, columnResizer can't work. To fix that, this value is needed.,
                      headerOnly: true //allow dragging using header only
                  });
              }
          };
      /**
       * Return whether or not the column at the particular index can be dragged/drop
       *
       * @param {?} colIdx
       * @return {?}
       */
      TableComponent.prototype.canDragColumn = /**
       * Return whether or not the column at the particular index can be dragged/drop
       *
       * @param {?} colIdx
       * @return {?}
       */
          function (colIdx) {
              var e_9, _a;
              /** @type {?} */
              var canDrag = true;
              try {
                  for (var _b = __values(this.columns), _c = _b.next(); !_c.done; _c = _b.next()) {
                      var col = _c.value;
                      if (col.originalColumnIndex === colIdx && col.locked === true) {
                          canDrag = false;
                          break;
                      }
                  }
              }
              catch (e_9_1) {
                  e_9 = { error: e_9_1 };
              }
              finally {
                  try {
                      if (_c && !_c.done && (_a = _b.return))
                          _a.call(_b);
                  }
                  finally {
                      if (e_9)
                          throw e_9.error;
                  }
              }
              return canDrag;
          };
      /**
       * Return the index of the suppplied row
       *
       * @param child row to check fo rindex?
       */
      /**
       * Return the index of the suppplied row
       *
       * @param {?} child row to check fo rindex?
       * @return {?}
       */
      TableComponent.prototype.indexOfChild = /**
       * Return the index of the suppplied row
       *
       * @param {?} child row to check fo rindex?
       * @return {?}
       */
          function (child) {
              if (this.nodes != null && this.nodes.length > 0) {
                  return _.findIndex(this.nodes, function (node) { return node === child; });
              }
              //child does not exists
              return -1;
          };
      /**
       * @return {?}
       */
      TableComponent.prototype._checkInitModifiedVirtualRows = /**
       * @return {?}
       */
          function () {
              if (this.modifiedVirtualRows == null) {
                  this.modifiedVirtualRows = {};
              }
          };
      /**
       * @return {?}
       */
      TableComponent.prototype._checkInitModifiedVirtualRowsJson = /**
       * @return {?}
       */
          function () {
              if (this.modifiedVirtualRowsJson == null) {
                  this.modifiedVirtualRowsJson = {};
              }
          };
      /**
       * Refresh the table sorter
       * @return {?}
       */
      TableComponent.prototype.refreshTableSorter = /**
       * Refresh the table sorter
       * @return {?}
       */
          function () {
              var _this = this;
              //data changes, need to update tableSorter
              if (this._tableSorterRefreshTm != null) {
                  clearTimeout(this._tableSorterRefreshTm);
                  this._tableSorterRefreshTm = null;
              }
              this.zone.runOutsideAngular(function () {
                  _this._tableSorterRefreshTm = setTimeout(function () {
                      clearTimeout(_this._tableSorterRefreshTm);
                      _this._tableSorterRefreshTm = null;
                      if (_this.$tablesorter != null) {
                          _this.$tablesorter.trigger("update");
                      }
                      _this.adjustTableHead(_this.preMouseEvent);
                  }, 200);
              });
          };
      /**
       * Refresh cache data (sort value, etc)
       */
      /**
       * Refresh cache data (sort value, etc)
       * @return {?}
       */
      TableComponent.prototype.refreshTableSorterCache = /**
       * Refresh cache data (sort value, etc)
       * @return {?}
       */
          function () {
              var _this = this;
              //data changes, need to update tableSorter
              if (this._tableSorterCacheRefreshTm != null) {
                  clearTimeout(this._tableSorterCacheRefreshTm);
                  this._tableSorterCacheRefreshTm = null;
              }
              this.zone.runOutsideAngular(function () {
                  _this._tableSorterCacheRefreshTm = setTimeout(function () {
                      clearTimeout(_this._tableSorterCacheRefreshTm);
                      _this._tableSorterCacheRefreshTm = null;
                      if (_this.$tablesorter != null) {
                          _this.$tablesorter.trigger("updateCache");
                      }
                  }, 200);
              });
          };
      /**
       * @param {?} shouldSelected
       * @return {?}
       */
      TableComponent.prototype.setSelectAllVirtualRows = /**
       * @param {?} shouldSelected
       * @return {?}
       */
          function (shouldSelected) {
              var e_10, _a;
              if (shouldSelected !== true) {
                  this.modifiedVirtualRows = {};
                  this.modifiedVirtualRowsJson = {};
                  this.selectedRows = [];
              }
              else {
                  this._checkInitModifiedVirtualRows();
                  this._checkInitModifiedVirtualRowsJson();
                  /** @type {?} */
                  var checkBoxeColumnIdxs = [];
                  if (this.nodes != null && this.nodes.length > 0) {
                      //find all checkboxes columns
                      for (var i = 0; i < this.nodes[0].childNodes.length; i++) {
                          if (this.nodes[0].childNodes[i].component instanceof CheckboxComponent) {
                              checkBoxeColumnIdxs.push(i);
                          }
                      }
                  }
                  //if there are checkboxes, check them
                  this.lastSelectedRowIndex = 0;
                  if (checkBoxeColumnIdxs.length > 0) {
                      var _loop_4 = function (row) {
                          var e_11, _a;
                          //make sure row is not visible
                          if (_.findIndex(this_3.nodes, function (node) {
                              return node[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX] === row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX];
                          }) < 0) {
                              if (this_3.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] == null) {
                                  this_3.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = {};
                              }
                              try {
                                  for (var checkBoxeColumnIdxs_1 = __values(checkBoxeColumnIdxs), checkBoxeColumnIdxs_1_1 = checkBoxeColumnIdxs_1.next(); !checkBoxeColumnIdxs_1_1.done; checkBoxeColumnIdxs_1_1 = checkBoxeColumnIdxs_1.next()) {
                                      var colIdx = checkBoxeColumnIdxs_1_1.value;
                                      this_3.modifiedVirtualRows[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]][colIdx] = {
                                          checked: true,
                                          text: undefined
                                      };
                                  }
                              }
                              catch (e_11_1) {
                                  e_11 = { error: e_11_1 };
                              }
                              finally {
                                  try {
                                      if (checkBoxeColumnIdxs_1_1 && !checkBoxeColumnIdxs_1_1.done && (_a = checkBoxeColumnIdxs_1.return))
                                          _a.call(checkBoxeColumnIdxs_1);
                                  }
                                  finally {
                                      if (e_11)
                                          throw e_11.error;
                                  }
                              }
                              //this.modifiedVirtualRowsJson []
                              if (typeof this_3.virtualScrollInvisibleRowBuilder === "function") {
                                  /** @type {?} */
                                  var rowElement = this_3.virtualScrollInvisibleRowBuilder(this_3._getNoneActiveViewParent() || this_3.getParentView(), row);
                                  rowElement.setAttribute("selected", "true");
                                  this_3.modifiedVirtualRowsJson[row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]] = rowElement.toJson();
                              }
                              //selected the row
                              if (this_3.selectedRows == null) {
                                  this_3.selectedRows = [];
                              }
                              this_3.selectedRows.push(row[TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX]);
                          }
                      };
                      var this_3 = this;
                      try {
                          for (var _b = __values(this._dataSource), _c = _b.next(); !_c.done; _c = _b.next()) {
                              var row = _c.value;
                              _loop_4(row);
                          }
                      }
                      catch (e_10_1) {
                          e_10 = { error: e_10_1 };
                      }
                      finally {
                          try {
                              if (_c && !_c.done && (_a = _b.return))
                                  _a.call(_b);
                          }
                          finally {
                              if (e_10)
                                  throw e_10.error;
                          }
                      }
                  }
              }
          };
      /**
       * @return {?}
       */
      TableComponent.prototype.recCalcNoVirtualRow = /**
       * @return {?}
       */
          function () {
              if (this.virtualScroll === true) {
                  /** @type {?} */
                  var height = $(this.tableContainer.nativeElement).height();
                  if (this.tableHead != null) {
                      this.theadHeight = $(this.tableHead.nativeElement).height();
                      height = height - this.theadHeight;
                      if (this.skipRowsAdjustment !== true) {
                          this.adjustedRows = Math.round(this.theadHeight / this.rowHeight) + 2;
                      }
                  }
                  this._virtualScrollRowPerView = Math.round(height / this.rowHeight);
              }
          };
      /**
       * @return {?}
       */
      TableComponent.prototype.setHeaderWidthHeight = /**
       * @return {?}
       */
          function () {
              /** @type {?} */
              var table = this.table.nativeElement;
              /** @type {?} */
              var thead = table.querySelector('thead');
              /** @type {?} */
              var headerMaxHeight = 0;
              /** @type {?} */
              var id = table.id;
              if (this.columns != null) {
                  if (this.forceFixWidth) {
                      //please do not removed our code
                      //this.renderer.setStyle(this.table.nativeElement, "table-layout", "fixed");
                      var _loop_5 = function (i) {
                          /** @type {?} */
                          var column = this_4.columns.find(function (item, idx) { return idx === i; });
                          if (column != null) {
                              /** @type {?} */
                              var headChildren = thead.querySelector('th:nth-child(' + (i + 1) + ')');
                              this_4.renderer.setStyle(headChildren, "width", column.controlWidth + "px");
                              if (column.controlHeight !== undefined) {
                                  this_4.isHeaderAuto = true;
                                  if (headerMaxHeight < column.controlHeight) {
                                      headerMaxHeight = Number(column.controlHeight);
                                  }
                              }
                          }
                      };
                      var this_4 = this;
                      for (var i = 0; i < this.columns.length; i++) {
                          _loop_5(i);
                      }
                      if (this.isHeaderAuto) {
                          $("#" + id + ">div>div>table").removeClass("header-fixed");
                      }
                  }
                  /*else{
                                  for(let i = 0; i < this.columns.length; i++){
                                      let column = this.columns.find((item, idx)=>idx === i);
                                      if(column != null)
                                      {
                                          const headChildren = thead.querySelector('th:nth-child(' + (i+1) + ')');
                                          this.renderer.setStyle(headChildren, "min-width", `${column.controlWidth}px`);
                                      }
                                  }
                              }*/
              }
              if (this.ghostHeader != null) {
                  if (headerMaxHeight == 0) {
                      headerMaxHeight = 30;
                  }
                  this.renderer.setStyle(this.ghostHeader.nativeElement, "height", headerMaxHeight + "px");
              }
          };
      /**
       * Reset table column (in case it has been swapped)
       * @return {?}
       */
      TableComponent.prototype.resetTableColumns = /**
       * Reset table column (in case it has been swapped)
       * @return {?}
       */
          function () {
              if (this.forceResetColumns === true &&
                  this._isDying !== true &&
                  this.columns != null &&
                  this.columnsHasBeenSwapped === true) {
                  this.columnsHasBeenSwapped = false;
                  /** @type {?} */
                  var temp = _.clone(this.columns);
                  this.columns = [];
                  this.detectChanges();
                  if (this.headNode != null) {
                      this.headNode.childNodes = [];
                  }
                  this.columns = _.sortBy(temp, function (col, idx) {
                      col.setAttribute("visualIndex", idx + "");
                      return col.originalColumnIndex;
                  });
                  this.detectChanges();
                  this.initPlugins();
              }
          };
      /**
       * @param {?} rows
       * @return {?}
       */
      TableComponent.prototype.buildRowIdentity = /**
       * @param {?} rows
       * @return {?}
       */
          function (rows) {
              // if (rows == null) return rows;
              // for (let rowIndex = 0; rowIndex < rows.length; rowIndex++) {
              //     rows[rowIndex][TableComponent.INTERNAL_ROW_DIFFER_ID] = BaseComponent.generateUniqueId("row_differ");
              //     rows[rowIndex][TableComponent.INTERNAL_ROW_ID] = this.buildRowId(rows[rowIndex], rowIndex);
              // }
              return rows;
          };
      /**
       * @param {?} idx
       * @param {?} row
       * @return {?}
       */
      TableComponent.prototype.rowTrackByFn = /**
       * @param {?} idx
       * @param {?} row
       * @return {?}
       */
          function (idx, row) {
              return row[TableComponent.INTERNAL_ROW_DIFFER_ID];
          };
      /**
       * @param {?} idx
       * @param {?} column
       * @return {?}
       */
      TableComponent.prototype.columnHeaderTrackByFn = /**
       * @param {?} idx
       * @param {?} column
       * @return {?}
       */
          function (idx, column) {
              return column[TableComponent.INTERNAL_COLUMN_HEADER_ID];
          };
      /**
       * Removed vt-row by index. This will not works for rows that are created by dataSource
       */
      /**
       * Removed vt-row by index. This will not works for rows that are created by dataSource
       * @param {?} index
       * @return {?}
       */
      TableComponent.prototype.removeTableRowByIndex = /**
       * Removed vt-row by index. This will not works for rows that are created by dataSource
       * @param {?} index
       * @return {?}
       */
          function (index) {
              if (this._tableRow != null && this._tableRow.length > index) {
                  this._tableRow = _.filter(this._tableRow, function (row, rowIndex) {
                      return rowIndex !== index;
                  });
                  this.cleanUpChildNodes();
                  this.detectChanges();
              }
          };
      /**
       * Removed vt-row by id. This will not works for rows that are created by dataSource
       */
      /**
       * Removed vt-row by id. This will not works for rows that are created by dataSource
       * @param {?} id
       * @return {?}
       */
      TableComponent.prototype.removeTableRowById = /**
       * Removed vt-row by id. This will not works for rows that are created by dataSource
       * @param {?} id
       * @return {?}
       */
          function (id) {
              if (this._tableRow != null && this._tableRow.length > 0) {
                  this._tableRow = _.filter(this._tableRow, function (row) {
                      return row.id !== id;
                  });
                  this.cleanUpChildNodes();
                  this.detectChanges();
              }
          };
      /**
       * @param {?} columns
       * @return {?}
       */
      TableComponent.prototype.toColumns = /**
       * @param {?} columns
       * @return {?}
       */
          function (columns) {
              return columns.map(function (col, idx) {
                  col[TableComponent.INTERNAL_COLUMN_HEADER_ID] = BaseComponent.generateUniqueId("hc");
                  col.setAttribute("visualIndex", idx + '');
                  return col;
              });
          };
      /**
       * @param {?} width
       * @return {?}
       */
      TableComponent.prototype.toWholeNumber = /**
       * @param {?} width
       * @return {?}
       */
          function (width) {
              return parseInt(width);
          };
      /**
       * @return {?}
       */
      TableComponent.prototype.checkShowBlankRow = /**
       * @return {?}
       */
          function () {
              if (this.dataSource == null ||
                  this.dataSource.length === 0 ||
                  ( /** @type {?} */(this.tableContainer.nativeElement)).scrollHeight > ( /** @type {?} */(this.tableContainer.nativeElement)).clientHeight) {
                  this.showBlankRow = false;
              }
              else {
                  this.showBlankRow = true;
              }
          };
      // removeFromTableRow(whtvr:string) {
      //   //no idea what this for
      // }
      // private appendHeaderToFakeTable() {
      //   if (this.isHeaderAppendToFakeTable !== true) {
      //     this.fakeTable.nativeElement.appendChild($(this.tableHead.nativeElement).clone()[0]);
      //     this.isHeaderAppendToFakeTable = true;
      //   }
      // }
      /**
       * Remove row from tableRows by id. no detect change
       * @param id row element id
       */
      /**
       * Remove row from tableRows by id. no detect change
       * @param {?} id row element id
       * @return {?}
       */
      TableComponent.prototype.removeFromTableRow = /**
       * Remove row from tableRows by id. no detect change
       * @param {?} id row element id
       * @return {?}
       */
          function (id) {
              /** @type {?} */
              var i = this.tableRow.findIndex(function (r) { return r.id === id; });
              this.tableRow.splice(i, 1);
          };
      TableComponent.INTERNAL_VIRTUAL_ORIGINAL_INDEX = "$$INTERNAL_VIRTUAL_ORIGINAL_INDEX$$";
      TableComponent.INTERNAL_VIRTUAL_ROW_DATA = "$$INTERNAL_VIRTUAL_ROW_DATA$$";
      TableComponent.INTERNAL_ROW_DIFFER_ID = "$$INTERNAL_VIRTUAL_ROW_DIFFER_ID$$";
      TableComponent.INTERNAL_ROW_ID = "$$INTERNAL_VIRTUAL_ROW_ID$$";
      TableComponent.INTERNAL_COLUMN_HEADER_ID = "$$INTERNAL_COLUMN_HEADER_ID$$";
      TableComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-table',
                      template: "<div #ghostHeader class=\"ghost-header\" [style.width.px]=\"controlWidth\" style=\"display: none; position: absolute; z-index: 1; overflow: hidden;\">\n  <!-- <table #fakeTable class=\"fake-table table\" style=\"z-index: 1;\"></table> -->\n</div>\n<div #tableContainer class=\"table-container\"\n  [ngClass]=\"cssClass\"\n  [style.maxWidth.px]=\"controlWidth\"\n  [style.height.px]=\"controlHeight\"\n  [style.color]=\"fontColor\"\n  [style.visibility]=\"visible ? 'visible' : 'hidden'\"\n  [ngStyle]=\"scrollContainerStyles\"\n>\n  <!-- Virtual scroll height -->\n  <div *ngIf=\"virtualScroll === true\" [style.height.px]=\"_virtualScrollDivHeight\" [style.width.px]=\"1\"></div>\n  <div #tableWrapper class=\"table-scroller\" [ngStyle]=\"tableStyles\">\n    <table class=\"table tablesorter header-fixed\" [id]=\"id\" #table>\n      <thead #tableHead>\n        <tr class=\"dnd-moved\">\n          <th *ngFor=\"let column of columns; index as columnIndex; trackBy: columnHeaderTrackByFn\"\n            [ngClass]=\"{'headerPadding': isHeaderPadding === true,'nonForceFixWidth': forceFixWidth === false, 'vt-locked-column': column.locked === true, 'sort-up': column.sortDirection === 'asc' && column.locked !== true, 'sort-down': column.sortDirection === 'desc' && column.locked !== true, 'internal-sort': virtualScroll === true && enableSort !== false, 'auto-wrap': column.autoWrap === true}\"\n            [style.height.px]=\"column.headerHeight\"\n            [runOutsideZone]=\"false\"\n            (vtOnCreate)=\"registerFauxElement('headcell', $event, columnIndex, column)\"\n            [ngStyle]=\"column.styles\"\n            (contextmenu)=\"handleHeaderOnContextMenu(columnIndex, $event)\"\n            (click)=\"handleSort(column)\"\n            [attr.data-sorter]=\"column.sortable\">\n            <!-- If column has header as text, render as text -->\n            <span *ngIf=\"column.isHeaderTemplate === false\">\n              {{column.header}}\n            </span>\n            <!-- otherwise, if it has custom rendering (i.e. they want to render checkbox, etc), we spit out the template to them -->\n            <ng-template [ngIf]=\"column.isHeaderTemplate === true\" [ngTemplateOutlet]=\"column.headerTemplate\" [ngTemplateOutletContext]=\"{columnIndex: columnIndex}\"></ng-template>\n          </th>\n        </tr>\n      </thead>\n      <tbody>\n        <!-- when there are data-->\n        <ng-template [ngIf]=\"dataSource != null && dataSource.length > 0\">\n          <tr class=\"dnd-moved\" *ngFor=\"let item of dataSource; index as rowIndex\" [id]=\"buildRowId(item, rowIndex)\" (vtOnCreate)=\"registerFauxElement('row', $event, rowIndex, item)\" [attr.rowNo]=\"rowIndex\" (mousedown)=\"toggleRowSelection($event, rowIndex, item)\" (mouseup)=\"handleMouseUp($event, rowIndex, item)\" (click)=\"onRowClick($event, rowIndex)\" [ngClass]=\"{'selected-row': isSelectedRow(rowIndex, item)}\" class=\"{{rowStyleClass(item)}}\">\n            <td *ngFor=\"let column of columns; index as columnIndex\" [ngClass]=\"{'vt-locked-column': column.locked === true}\" (vtOnCreate)=\"registerFauxElement('cell', $event, columnIndex, column)\" [attr.rowNo]=\"rowIndex\" [ngStyle]=\"column.styles\" [style.height.px]=\"column.cellHeight\" [style.textAlign]=\"column.alignHorizontal\" (contextmenu)=\"handleColumnOnContextMenu(column.cellTemplate, rowIndex, columnIndex, $event)\">\n                <!--\n                  the user of the library will choose how to render the data, i.e. as a checkbox, textfield, or whatever, we spit\n                  this out via columns cellTemplate (ColumnDirective lift this up via CellDirective which lift the content of the\n                  host of the directive)\n                -->\n                <ng-template [ngTemplateOutlet]=\"column.cellTemplate?.template\" [ngTemplateOutletContext]=\"{row: item, rowIndex: toRowIndex(rowIndex, item), columnIndex: columnIndex}\"></ng-template>\n            </td>\n          </tr>\n          <tr *ngIf=\"showBlankRow === true\"></tr>\n        </ng-template>\n        <!-- when there are no data-->\n        <ng-template [ngIf]=\"(dataSource == null || dataSource.length == 0) && (tableRow == null || tableRow.length === 0)\">\n          <tr class=\"dnd-moved\">\n            <td *ngFor=\"let column of columns; index as columnIndex\" [ngClass]=\"{'vt-locked-column': column.locked === true}\" [ngStyle]=\"column.styles\" >&nbsp;</td>\n          </tr>\n          <!-- <tr></tr> -->\n        </ng-template>\n        <!-- custom table row -->\n        <ng-template [ngIf]=\"tableRow != null && tableRow.length > 0\">\n          <tr *ngFor=\"let item of tableRow; index as rowIndex\" class=\"dnd-moved {{item.cssClass}}\" (vtOnCreate)=\"registerFauxElement('row', $event, rowIndex, item)\" [attr.rowNo]=\"rowIndex\" (mousedown)=\"toggleRowSelection($event, rowIndex, item)\" (mouseup)=\"handleMouseUp($event, rowIndex, item)\" [ngClass]=\"{'selected-row': isSelectedRow(rowIndex, item)}\" class=\"{{rowStyleClass(item)}}\">\n            <td *ngFor=\"let column of item.cellTemplates; index as columnIndex\" (vtOnCreate)=\"registerFauxElement('cell', $event, columnIndex, column)\" [attr.rowNo]=\"rowIndex\" (contextmenu)=\"handleColumnOnContextMenu(column, rowIndex, columnIndex, $event)\">\n              <ng-template [ngTemplateOutlet]=\"column.template\" [ngTemplateOutletContext]=\"{row: item, rowIndex: rowIndex, columnIndex: columnIndex}\"></ng-template>\n            </td>\n          </tr>\n        </ng-template>\n      </tbody>\n      <ng-template [ngIf]=\"footerRow != null && footerRow.cellTemplates != null && footerRow.cellTemplates.length > 0\">\n        <tfoot #tableFoot>\n          <tr class=\"dnd-moved\">\n            <td *ngFor=\"let column of footerRow.cellTemplates; index as columnIndex\" [style.display]=\"'table-cell'\" [style.textAlign]=\"column.alignHorizontal\">\n              <ng-template [ngTemplateOutlet]=\"column.template\" [ngTemplateOutletContext]=\"{columnIndex: columnIndex}\"></ng-template>\n            </td>\n          </tr>\n        </tfoot>\n      </ng-template>\n    </table>\n    <!-- <div *ngIf=\"virtualScroll === true\" [style.height.px]=\"controlHeight\" [style.width.px]=\"controlWidth\" [ngStyle]=\"virtualScrollProgressStyles\"></div> -->\n  </div>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return TableComponent; })
                          }
                      ],
                      styles: [".table-container{width:100%;height:100%;overflow:auto;border:1px solid #888}table{table-layout:auto;width:100%!important;background-color:#fff;border-collapse:separate}table>tbody>tr>td,table>thead>tr>th{min-width:1px;white-space:nowrap;text-align:center}table tr.selected-row>td{background-color:#cff!important;color:#1014ff!important}table>thead>tr>th{position:relative;vertical-align:middle;overflow:hidden}.vt-locked-column{position:relative}th.vt-locked-column{background-color:#44a!important;z-index:4}.ghost-header,.table>tfoot>tr>td,.table>thead>tr>th{border-bottom:1px solid #d8d8dc;border-right:1px solid #d8d8dc;background-color:#6a6aff;color:#fff;font-weight:400}.table>tbody>tr>td{border-bottom:1px solid #8080ff;border-right:1px solid #8080ff;padding-left:2px!important;padding-right:2px!important}.table>tfoot>tr>td{padding-left:2px!important;padding-right:2px!important;white-space:nowrap}.table>tbody>tr:nth-child(odd)>td{background:#fff}.table>tbody>tr:nth-child(even)>td{background:#e6e6e6}.table>tfoot>tr{height:10px}td{display:table-cell}table>thead>tr>th.auto-wrap{white-space:normal}.internal-sort{padding:4px 21px 4px 4px}.sort-up{background:url(data:image/gif;base64,R0lGODlhCwALAJEAAAAAAP///xUVFf///yH5BAEAAAMALAAAAAALAAsAAAIRnC2nKLnT4or00Puy3rx7VQAAOw==) center right no-repeat}.sort-down{background:url(data:image/gif;base64,R0lGODlhCwALAJEAAAAAAP///xUVFf///yH5BAEAAAMALAAAAAALAAsAAAIPnI+py+0/hJzz0IruwjsVADs=) center right no-repeat}table thead th.auto-wrap{white-space:normal!important;text-align:center}th.headerPadding{padding-right:14px;padding-left:14px}.fake-table>thead{visibility:visible!important}"]
                  }] }
      ];
      /** @nocollapse */
      TableComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 },
              { type: i0.NgZone },
              { type: i0.IterableDiffers },
              { type: ClipboardService }
          ];
      };
      TableComponent.propDecorators = {
          selectionMode: [{ type: i0.Input }],
          rowCustomAttributeBuilder: [{ type: i0.Input }],
          rowIdBuilder: [{ type: i0.Input }],
          rowStyleFn: [{ type: i0.Input }],
          virtualScroll: [{ type: i0.Input }],
          virtualScrollSortFn: [{ type: i0.Input }],
          virtualScrollInvisibleRowBuilder: [{ type: i0.Input }],
          rowHeight: [{ type: i0.Input }],
          scrollTimeout: [{ type: i0.Input }],
          dataSource: [{ type: i0.Input }],
          enableSort: [{ type: i0.Input }],
          enableColumnDragging: [{ type: i0.Input }],
          enableColumnResize: [{ type: i0.Input }],
          droppable: [{ type: i0.Input }],
          restrictCellPopup: [{ type: i0.Input }],
          onChange: [{ type: i0.Output }],
          onStateChange: [{ type: i0.Output }],
          onDoubleClick: [{ type: i0.Output }],
          onDragDrop: [{ type: i0.Output }],
          table: [{ type: i0.ViewChild, args: ['table',] }],
          tableContainer: [{ type: i0.ViewChild, args: ["tableContainer", { read: i0.ElementRef },] }],
          tableWrapper: [{ type: i0.ViewChild, args: ["tableWrapper", { read: i0.ElementRef },] }],
          tableHead: [{ type: i0.ViewChild, args: ["tableHead", { read: i0.ElementRef },] }],
          tableFoot: [{ type: i0.ViewChild, args: ["tableFoot", { read: i0.ElementRef },] }],
          ghostHeader: [{ type: i0.ViewChild, args: ["ghostHeader", { read: i0.ElementRef },] }],
          tableColumns: [{ type: i0.ContentChildren, args: [TableColumnDirective,] }],
          tableRowDef: [{ type: i0.ContentChild, args: [TableRowDefDirective,] }],
          footerRow: [{ type: i0.ContentChild, args: [FooterRowDirective,] }],
          tableRowQuery: [{ type: i0.ContentChildren, args: [RowDirective,] }],
          forceFixWidth: [{ type: i0.Input }],
          isHeaderPadding: [{ type: i0.Input }],
          isHeaderAuto: [{ type: i0.Input }],
          skipRowsAdjustment: [{ type: i0.Input }],
          forceResetColumns: [{ type: i0.Input }],
          tableLayout: [{ type: i0.Input }]
      };
      return TableComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var LockedColumnDirective = /** @class */ (function (_super) {
      __extends(LockedColumnDirective, _super);
      function LockedColumnDirective() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      /**
       * @return {?}
       */
      LockedColumnDirective.prototype.ngOnInit = /**
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              this.locked = true;
          };
      LockedColumnDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-locked-column',
                      providers: [
                          {
                              provide: TableColumnDirective,
                              useExisting: i0.forwardRef(function () { return LockedColumnDirective; })
                          }
                      ]
                  },] }
      ];
      return LockedColumnDirective;
  }(TableColumnDirective));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ClipboardModule = /** @class */ (function () {
      function ClipboardModule() {
      }
      ClipboardModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [],
                      providers: [
                          ClipboardService
                      ]
                  },] }
      ];
      return ClipboardModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TableModule = /** @class */ (function () {
      function TableModule() {
      }
      TableModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          BaseModule,
                          ClipboardModule
                      ],
                      declarations: [
                          TableComponent,
                          TableCellDirective,
                          TableColumnDirective,
                          TableHeaderDirective,
                          HeaderDirective,
                          LockedColumnDirective,
                          TableRowDefDirective,
                          FooterRowDirective,
                          RowDirective
                      ],
                      exports: [
                          TableComponent,
                          TableCellDirective,
                          TableColumnDirective,
                          TableHeaderDirective,
                          HeaderDirective,
                          LockedColumnDirective,
                          TableRowDefDirective,
                          FooterRowDirective,
                          RowDirective
                      ]
                  },] }
      ];
      return TableModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for tab component
   */
  var TabComponent = /** @class */ (function (_super) {
      __extends(TabComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param renderer see [[BaseComponent]] constructor
       */
      function TabComponent(parent, sessionService, elementRef, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.onCommand = new i0.EventEmitter();
          return _this;
      }
      /* istanbul ignore next */
      /**
       *
       * @param child Tab child component to add
       */
      /**
       *
       * @param {?} child Tab child component to add
       * @return {?}
       */
      TabComponent.prototype.addChild = /**
       *
       * @param {?} child Tab child component to add
       * @return {?}
       */
          function (child) {
              ( /** @type {?} */(this.parent)).addChild(child);
              if (this.tabChildrenIds == null) {
                  this.tabChildrenIds = [];
              }
              this.tabChildrenIds.push(child.getId());
          };
      /* istanbul ignore next */
      /**
       * After view init lifecycle
       */
      /**
       * After view init lifecycle
       * @return {?}
       */
      TabComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
          };
      /* istanbul ignore next */
      /**
       * Get JSON representation of this component
       * @returns Object JSON metadata about this component
       */
      /**
       * Get JSON representation of this component
       * @return {?} Object JSON metadata about this component
       */
      TabComponent.prototype.toJson = /**
       * Get JSON representation of this component
       * @return {?} Object JSON metadata about this component
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              this.setJson(json, "active", this.focused);
              return json;
          };
      /* istanbul ignore next */
      /**
       * Get NexaWeb component tag name
       */
      /**
       * Get NexaWeb component tag name
       * @return {?}
       */
      TabComponent.prototype.getNxTagName = /**
       * Get NexaWeb component tag name
       * @return {?}
       */
          function () {
              return "tab";
          };
      /* istanbul ignore next */
      /**
       * Event handler for click event
       * @event onCommand
       */
      /**
       * Event handler for click event
       * \@event onCommand
       * @return {?}
       */
      TabComponent.prototype.onClick = /**
       * Event handler for click event
       * \@event onCommand
       * @return {?}
       */
          function () {
              this.onCommand.emit(this.id);
              this.active = true;
          };
      /* istanbul ignore next */
      /**
       * Focus this tab
       */
      /**
       * Focus this tab
       * @return {?}
       */
      TabComponent.prototype.setFocus = /**
       * Focus this tab
       * @return {?}
       */
          function () {
              /** @type {?} */
              var parent = this.getParent();
              if (parent != null && typeof parent["setSelectedTab"] === "function") {
                  parent["setSelectedTab"](this.id);
              }
              else {
                  _super.prototype.setFocus.call(this);
              }
          };
      TabComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-tab',
                      template: "<ng-template>\n  <ng-content></ng-content>\n</ng-template>",
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return TabComponent; })
                          }
                      ],
                      styles: [""]
                  }] }
      ];
      /** @nocollapse */
      TabComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.Renderer2 }
          ];
      };
      TabComponent.propDecorators = {
          active: [{ type: i0.Input }],
          id: [{ type: i0.Input }],
          onCommand: [{ type: i0.Output }],
          content: [{ type: i0.ViewChild, args: [i0.TemplateRef,] }]
      };
      return TabComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for tab pane container component
   */
  var TabPaneComponent = /** @class */ (function (_super) {
      __extends(TabPaneComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param cd Inject change detector
       * @param renderer see [[BaseComponent]] constructor
       */
      function TabPaneComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this.tabPlacement = "top";
          _this.onClick = new i0.EventEmitter();
          _this.selectedTabIndex = 0;
          _this.focusedTabIndex = 0;
          _this.tabs = [];
          return _this;
      }
      Object.defineProperty(TabPaneComponent.prototype, "tabsList", {
          set: /**
           * @param {?} tabList
           * @return {?}
           */ function (tabList) {
              this.tabs = tabList.toArray();
          },
          enumerable: true,
          configurable: true
      });
      /**
       * After view init lifecycle. Set up tabs and trigger change detector
       */
      /**
       * After view init lifecycle. Set up tabs and trigger change detector
       * @return {?}
       */
      TabPaneComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Set up tabs and trigger change detector
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
              this.configureTabs();
              this.cd.detectChanges();
          };
      /**
       * Set the [[selectedTabIndex]] to index of active tab
       * @return {?}
       */
      TabPaneComponent.prototype.configureTabs = /**
       * Set the [[selectedTabIndex]] to index of active tab
       * @return {?}
       */
          function () {
              var _this = this;
              _.forEach(this.tabs, function (tab, index) {
                  if (tab.active === true) {
                      _this.selectedTabIndex = index;
                  }
              });
          };
      /* istanbul ignore next */
      /**
       * Event handler for when tab is selected
       * @param event
       * @param index Index of tab to select
       * @param tabId
       * @event onCommand
       */
      /**
       * Event handler for when tab is selected
       * \@event onCommand
       * @param {?} event
       * @param {?} index Index of tab to select
       * @param {?} tabId
       * @return {?}
       */
      TabPaneComponent.prototype.handleSelectTab = /**
       * Event handler for when tab is selected
       * \@event onCommand
       * @param {?} event
       * @param {?} index Index of tab to select
       * @param {?} tabId
       * @return {?}
       */
          function (event, index, tabId) {
              event.preventDefault();
              this.setFocusedTab(index);
              this.selectedTabIndex = index;
              // this.onClick.emit({
              //   tabId: tabId,
              //   tabIndex: index
              // });
              this.selectedTab.onCommand.emit(tabId);
              this.markForCheck();
              /** @type {?} */
              var parentView = this.getParentView();
              if (parentView != null) {
                  parentView.resetAllScrollPanesPositionToPrevious();
              }
          };
      /* istanbul ignore next */
      /**
       * Event handler for keydown event. Arrow keys used for navigation
       * @param e Key event
       */
      /**
       * Event handler for keydown event. Arrow keys used for navigation
       * @param {?} e Key event
       * @return {?}
       */
      TabPaneComponent.prototype.handleKeydown = /**
       * Event handler for keydown event. Arrow keys used for navigation
       * @param {?} e Key event
       * @return {?}
       */
          function (e) {
              if (!document.activeElement.className.includes("combobox-input-box") && !document.activeElement.className.includes("dropdown-item")) {
                  /** @type {?} */
                  var UP_KEY_CODE = 38;
                  /** @type {?} */
                  var DOWN_KEY_CODE = 40;
                  /** @type {?} */
                  var ENTER_KEY_CODE = 13;
                  /** @type {?} */
                  var keyPressed = e.which;
                  /** @type {?} */
                  var navigationKeys = [UP_KEY_CODE, DOWN_KEY_CODE, ENTER_KEY_CODE];
                  if (navigationKeys.indexOf(keyPressed) === -1)
                      return;
                  e.stopPropagation();
                  /** @type {?} */
                  var newIndex = void 0;
                  if (keyPressed === DOWN_KEY_CODE && this.focusedTabIndex < this.tabs.length - 1) {
                      newIndex = this.focusedTabIndex + 1;
                  }
                  else if (keyPressed === UP_KEY_CODE && this.focusedTabIndex > 0) {
                      newIndex = this.focusedTabIndex - 1;
                  }
                  else if (keyPressed === ENTER_KEY_CODE) {
                      this.setSelectedTab(this.focusedTabIndex);
                  }
                  else {
                      newIndex = this.focusedTabIndex;
                  }
                  this.setFocusedTab(newIndex);
              }
          };
      /* istanbul ignore next */
      /**
       * Focus a tab by it's index position
       * @param index Index of tab to focus
       */
      /**
       * Focus a tab by it's index position
       * @param {?} index Index of tab to focus
       * @return {?}
       */
      TabPaneComponent.prototype.setFocusedTab = /**
       * Focus a tab by it's index position
       * @param {?} index Index of tab to focus
       * @return {?}
       */
          function (index) {
              this.focusedTabIndex = index;
              /** @type {?} */
              var tabItem = this.tabNavItems.find(function (item, i) {
                  return i === index;
              });
              if (tabItem) {
                  setTimeout(function () {
                      tabItem.nativeElement.focus();
                  }, 0);
              }
          };
      /* istanbul ignore next */
      /**
       * Set selected tab by index or id
       * @param index Index or Id of [[TabComponent]] to select
       */
      /**
       * Set selected tab by index or id
       * @param {?} index Index or Id of [[TabComponent]] to select
       * @return {?}
       */
      TabPaneComponent.prototype.setSelectedTab = /**
       * Set selected tab by index or id
       * @param {?} index Index or Id of [[TabComponent]] to select
       * @return {?}
       */
          function (index) {
              if (typeof index === "number") {
                  this.selectedTabIndex = index;
              }
              else {
                  /** @type {?} */
                  var tempIndex = _.findIndex(this.tabs, function (tab) { return tab.id === index; });
                  if (tempIndex >= 0) {
                      this.selectedTabIndex = tempIndex;
                  }
              }
              this.markForCheck();
          };
      Object.defineProperty(TabPaneComponent.prototype, "selectedTab", {
          /**
           * Get the selected [[TabComponent]]
           * @returns Tab that is selected
           */
          get: /**
           * Get the selected [[TabComponent]]
           * @return {?} Tab that is selected
           */ function () {
              var _this = this;
              return this.tabs.find(function (item, index) { return index === _this.selectedTabIndex; });
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Get NexaWeb tag name
       * @returns Name of tag
       */
      /**
       * Get NexaWeb tag name
       * @return {?} Name of tag
       */
      TabPaneComponent.prototype.getNxTagName = /**
       * Get NexaWeb tag name
       * @return {?} Name of tag
       */
          function () {
              return "tabPane";
          };
      /**
       * Get [[cd]] (ChangeDetector) member
       */
      /**
       * Get [[cd]] (ChangeDetector) member
       * @return {?}
       */
      TabPaneComponent.prototype.getChangeDetector = /**
       * Get [[cd]] (ChangeDetector) member
       * @return {?}
       */
          function () {
              return this.cd;
          };
      /**
       * Remove a tab child from the pane
       * @param child Tab to remove
       */
      /**
       * Remove a tab child from the pane
       * @param {?} child Tab to remove
       * @return {?}
       */
      TabPaneComponent.prototype.removeChild = /**
       * Remove a tab child from the pane
       * @param {?} child Tab to remove
       * @return {?}
       */
          function (child) {
              _super.prototype.removeChild.call(this, child);
              this.tabs = _.filter(this.tabs, function (tab) { return tab.id !== child.id; });
              this.cd.markForCheck();
          };
      /**
       * Get JSON representation of this component
       * @returns Object JSON metadata
       */
      /**
       * Get JSON representation of this component
       * @return {?} Object JSON metadata
       */
      TabPaneComponent.prototype.toJson = /**
       * Get JSON representation of this component
       * @return {?} Object JSON metadata
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              json["selectedTabIndex"] = this.selectedTabIndex;
              return json;
          };
      /**
       * Check if this is a container component
       * @returns True
       */
      /**
       * Check if this is a container component
       * @return {?} True
       */
      TabPaneComponent.prototype.isContainer = /**
       * Check if this is a container component
       * @return {?} True
       */
          function () {
              return true;
          };
      TabPaneComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-tab-pane',
                      template: "<div\n  class=\"vt-tab-pane {{cssClass}}\"\n  [ngClass]=\"{'tabs-left': tabPlacement === 'left'}\"\n  [id]=\"id\" (contextmenu)=\"handleOnContextMenu($event)\"\n  (keydown)=\"handleKeydown($event)\"\n  [style.height]=\"controlHeight\"\n  >\n  <!-- Tab Navigation --->\n  <ul class=\"nav nav-tabs\" role=\"tablist\">\n    <li #tabNavItem *ngFor=\"let tab of tabs; let i=index\" [ngClass]=\"{'active': selectedTabIndex === i}\" role=\"presentation\" tabindex=\"-1\">\n      <a id=\"{{tab.id}}-title\" href=\"javascript:void(0)\" [ngClass]=\"{'active': tab.active, 'focused': focusedTabIndex === i}\" role=\"tab\" (click)=\"handleSelectTab($event, i, tab.id)\" tabindex=\"-1\">{{tab.text}}</a>\n    </li>\n  </ul>\n\n  <!-- Tab Content -->\n  <div class=\"tab-content\" [style.height]=\"controlHeight\">\n    <ng-template [ngIf]=\"selectedTab != null\">\n      <div role=\"tabpanel\" class=\"vt-tab tabpane {{selectedTab.cssClass}}\" [id]=\"selectedTab.id\" [style.height]=\"controlHeight\">\n          <ng-container *ngTemplateOutlet=\"selectedTab.content\"></ng-container>\n      </div>\n    </ng-template>\n  </div>\n\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return TabPaneComponent; })
                          }
                      ],
                      styles: [".tabs-below>.nav-tabs,.tabs-left>.nav-tabs,.tabs-right>.nav-tabs{border-bottom:0}.pill-content>.pill-pane,.tab-content>.tab-pane{display:none}.pill-content>.active,.tab-content>.active{display:block}.tabs-below>.nav-tabs{border-top:1px solid #ddd}.tabs-below>.nav-tabs>li{margin-top:-1px;margin-bottom:0}.tabs-below>.nav-tabs>li>a{border-radius:0 0 4px 4px}.tabs-below>.nav-tabs>li>a:focus,.tabs-below>.nav-tabs>li>a:hover{border-top-color:#ddd;border-bottom-color:transparent}.tabs-below>.nav-tabs>.active>a,.tabs-below>.nav-tabs>.active>a:focus,.tabs-below>.nav-tabs>.active>a:hover{border-color:transparent #ddd #ddd}.tabs-left>.nav-tabs>li,.tabs-right>.nav-tabs>li{float:none}.tabs-left>.nav-tabs>li>a,.tabs-right>.nav-tabs>li>a{min-width:74px;margin-right:0;margin-bottom:3px}.tabs-left>.nav-tabs{float:left;margin-right:19px;border-right:1px solid #ddd}.tabs-left>.nav-tabs>li>a{margin-right:-1px;border-radius:4px 0 0 4px}.tabs-left>.nav-tabs>li>a:focus,.tabs-left>.nav-tabs>li>a:hover{border-color:#9abecb #aaa #9abecb #9abecb}.tabs-left>.nav-tabs .active>a,.tabs-left>.nav-tabs .active>a:focus,.tabs-left>.nav-tabs .active>a:hover{border-color:#aaa transparent #aaa #aaa}.tabs-right>.nav-tabs{float:right;margin-left:19px;border-left:1px solid #ddd}.tabs-right>.nav-tabs>li>a{margin-left:-1px;border-radius:0 4px 4px 0}.tabs-right>.nav-tabs>li>a:focus,.tabs-right>.nav-tabs>li>a:hover{border-color:#eee #eee #eee #ddd}.tabs-right>.nav-tabs .active>a,.tabs-right>.nav-tabs .active>a:focus,.tabs-right>.nav-tabs .active>a:hover{border-color:#ddd #ddd #ddd transparent}"]
                  }] }
      ];
      /** @nocollapse */
      TabPaneComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      TabPaneComponent.propDecorators = {
          tabPlacement: [{ type: i0.Input }],
          tabsList: [{ type: i0.ContentChildren, args: [TabComponent,] }],
          tabNavItems: [{ type: i0.ViewChildren, args: ['tabNavItem',] }],
          onClick: [{ type: i0.Output }]
      };
      return TabPaneComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TabHostDirective = /** @class */ (function () {
      function TabHostDirective(viewContainerRef) {
          this.viewContainerRef = viewContainerRef;
      }
      TabHostDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: '[vt-tab-host]'
                  },] }
      ];
      /** @nocollapse */
      TabHostDirective.ctorParameters = function () {
          return [
              { type: i0.ViewContainerRef }
          ];
      };
      return TabHostDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TabPaneModule = /** @class */ (function () {
      function TabPaneModule() {
      }
      TabPaneModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [TabPaneComponent, TabComponent, TabHostDirective],
                      exports: [TabComponent, TabPaneComponent, TabHostDirective]
                  },] }
      ];
      return TabPaneModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for textarea component
   */
  var TextAreaComponent = /** @class */ (function (_super) {
      __extends(TextAreaComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param cd ChangeDetector for this component
       * @param renderer see [[BaseComponent]] constructor
       */
      function TextAreaComponent(parent, sessionService, elementRef, cd, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this._maxLength = TextAreaComponent.MAX_LENGTH;
          _this.onTextChange = new i0.EventEmitter();
          _this.onEdit = new i0.EventEmitter();
          _this._editable = true;
          return _this;
      }
      Object.defineProperty(TextAreaComponent.prototype, "maxLength", {
          get: /**
           * @return {?}
           */ function () {
              return this._maxLength > 0 ? this._maxLength : TextAreaComponent.MAX_LENGTH;
          },
          set: /**
           * @param {?} max
           * @return {?}
           */ function (max) {
              this._maxLength = max;
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(TextAreaComponent.prototype, "editable", {
          get: /**
           * @return {?}
           */ function () {
              return this._editable !== "false" && this._editable !== false;
          },
          set: /**
           * @param {?} val
           * @return {?}
           */ function (val) {
              this._editable = val;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Init lifecycle. Call parent ngOnInit
       */
      /**
       * Init lifecycle. Call parent ngOnInit
       * @return {?}
       */
      TextAreaComponent.prototype.ngOnInit = /**
       * Init lifecycle. Call parent ngOnInit
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              if (this.controlPadding) {
                  this.controlPadding = this.controlPadding + 'px';
              }
          };
      /* istanbul ignore next */
      /**
       * After view init lifecycle.
       * Focus the textarea and set dimensions
       */
      /**
       * After view init lifecycle.
       * Focus the textarea and set dimensions
       * @return {?}
       */
      TextAreaComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle.
       * Focus the textarea and set dimensions
       * @return {?}
       */
          function () {
              _super.prototype.ngAfterViewInit.call(this);
              if (this.focusOnActivation) {
                  this.elementRef.nativeElement.focus();
              }
              this.initWidthHeightStyle("height", "width");
              this.setAttributeFromDef();
              this.cd.detectChanges();
          };
      /**
       * Get the name of the component
       * @returns Name of component
       */
      /**
       * Get the name of the component
       * @return {?} Name of component
       */
      TextAreaComponent.prototype.getLocalName = /**
       * Get the name of the component
       * @return {?} Name of component
       */
          function () {
              return "textArea";
          };
      /**
       * Focus the textarea element
       */
      /**
       * Focus the textarea element
       * @return {?}
       */
      TextAreaComponent.prototype.setFocus = /**
       * Focus the textarea element
       * @return {?}
       */
          function () {
              this.textarea.nativeElement.focus();
          };
      /**
       * Get the value of internal [[_maxLength]] property
       */
      /**
       * Get the value of internal [[_maxLength]] property
       * @return {?}
       */
      TextAreaComponent.prototype.getMaxLength = /**
       * Get the value of internal [[_maxLength]] property
       * @return {?}
       */
          function () {
              return this._maxLength;
          };
      /**
       * Set [[_maxLength]] property value and mark for change detection
       * @param max Length of text content
       */
      /**
       * Set [[_maxLength]] property value and mark for change detection
       * @param {?} max Length of text content
       * @return {?}
       */
      TextAreaComponent.prototype.setMaxLength = /**
       * Set [[_maxLength]] property value and mark for change detection
       * @param {?} max Length of text content
       * @return {?}
       */
          function (max) {
              if (typeof max === "number") {
                  this._maxLength = max;
              }
              else {
                  this._maxLength = parseInt(max);
              }
              this.cd.markForCheck();
          };
      /* istanbul ignore next */
      /**
       * Event handler for text input
       * Emit onTextChange b/c user keep typing (input still has focus)
       * @param event
       * @param value
       * @event onTextChange
       */
      /**
       * Event handler for text input
       * Emit onTextChange b/c user keep typing (input still has focus)
       * \@event onTextChange
       * @param {?} event
       * @param {?} value
       * @return {?}
       */
      TextAreaComponent.prototype.onInput = /**
       * Event handler for text input
       * Emit onTextChange b/c user keep typing (input still has focus)
       * \@event onTextChange
       * @param {?} event
       * @param {?} value
       * @return {?}
       */
          function (event, value) {
              var _this = this;
              /** @type {?} */
              var pos = this.textarea.nativeElement.selectionStart;
              if (event.keyCode == 8 || event.keyCode == 46) //Backspace || Delete
               {
                  this.text = value;
                  setTimeout(function () {
                      _this.textarea.nativeElement.selectionStart = pos;
                      _this.textarea.nativeElement.selectionEnd = pos;
                  });
              }
              if (this.text != null && this._maxLength > 0 && this._maxLength < this.text.length) {
                  this.text = this.text.substring(0, this._maxLength);
              }
              if (this._textPreviousKeyInput != this.text)
                  this.onTextChange.emit();
              this._textPreviousKeyInput = this.text;
          };
      /**
       * Get the value of [[cd]] (ChangeDetector) property
       * @returns Change detector for this component
       */
      /**
       * Get the value of [[cd]] (ChangeDetector) property
       * @return {?} Change detector for this component
       */
      TextAreaComponent.prototype.getChangeDetector = /**
       * Get the value of [[cd]] (ChangeDetector) property
       * @return {?} Change detector for this component
       */
          function () {
              return this.cd;
          };
      /**
       * Get Nexaweb tag name
       * @returns Tag name
       */
      /**
       * Get Nexaweb tag name
       * @return {?} Tag name
       */
      TextAreaComponent.prototype.getNxTagName = /**
       * Get Nexaweb tag name
       * @return {?} Tag name
       */
          function () {
              return "textArea";
          };
      /* istanbul ignore next */
      /**
       * Event handler for focus event
       * @param e Input focus event
       */
      /**
       * Event handler for focus event
       * @param {?} e Input focus event
       * @return {?}
       */
      TextAreaComponent.prototype.onFocus = /**
       * Event handler for focus event
       * @param {?} e Input focus event
       * @return {?}
       */
          function (e) {
              this._textBeforeFocusIn = this.text;
              this._textPreviousKeyInput = this.text;
          };
      /* istanbul ignore next */
      /**
       * Event handler for blur (unfocus) event
       * @param e Input blur event
       */
      /**
       * Event handler for blur (unfocus) event
       * @param {?} event
       * @param {?} value
       * @return {?}
       */
      TextAreaComponent.prototype.onBlur = /**
       * Event handler for blur (unfocus) event
       * @param {?} event
       * @param {?} value
       * @return {?}
       */
          function (event, value) {
              if (this.textarea.nativeElement.ownerDocument.activeElement === this.textarea.nativeElement)
                  return; //prevent focuslost whenever active process is changed.
              this.text = value; //when the last char is Zenkaku and the user doesn't press 'Enter', this is needed.
              if (this.text != null && this._maxLength > 0 && this._maxLength < this.text.length) {
                  this.text = this.text.substring(0, this._maxLength);
              }
              if (this.text != this._textBeforeFocusIn)
                  this.onEdit.emit();
              this.validateField(event);
          };
      /**
       * Set [[visible]] property value
       * @override
       * @param value Toggle visibility
       */
      /**
       * Set [[visible]] property value
       * @override
       * @param {?} value Toggle visibility
       * @return {?}
       */
      TextAreaComponent.prototype.setVisible = /**
       * Set [[visible]] property value
       * @override
       * @param {?} value Toggle visibility
       * @return {?}
       */
          function (value) {
              this.visible = value;
              if (this.visible) {
                  this.removeCssClass('hidden');
                  this.getElement().removeAttribute('hidden');
              }
              else {
                  this.addCssClass('hidden');
                  this.getElement().setAttribute('hidden', '');
              }
          };
      TextAreaComponent.MAX_LENGTH = 9999;
      TextAreaComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-text-area',
                      template: "<textarea #textarea [id]=\"id\" class=\"vt-text-area form-control {{cssClass}}\"\n[attr.disabled]=\"enabled !== false ? null : true\"\n  [attr.readonly]=\"editable !== false ? null : true\"\n  [style.height]=\"controlHeight\"\n  [style.maxWidth]=\"controlWidth\"\n  [style.padding]=\"controlPadding\"\n  [style.line-height]=\"lineHeight\"\n  [ngClass]=\"{'hidden': visible != true}\"\n  (focusin)=\"onFocus($event)\"\n  (focusout)=\"onBlur($event, textarea.value)\"\n  (keyup)=\"onInput($event, textarea.value)\"\n  (contextmenu)=\"handleOnContextMenu($event)\"\n  [ngStyle]=\"styles\"\n  [required]=\"required\"\n  [maxLength]=\"maxLength\"\n  [(ngModel)]=\"text\"\n  [disabled]=\"disabled\"\n  >\n</textarea>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return TextAreaComponent; })
                          }
                      ],
                      styles: [".form-control[disabled]{color:grey!important}"]
                  }] }
      ];
      /** @nocollapse */
      TextAreaComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.Renderer2 }
          ];
      };
      TextAreaComponent.propDecorators = {
          maxLength: [{ type: i0.Input }],
          editable: [{ type: i0.Input }],
          textarea: [{ type: i0.ViewChild, args: ['textarea',] }],
          onTextChange: [{ type: i0.Output }],
          onEdit: [{ type: i0.Output }]
      };
      return TextAreaComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TextAreaModule = /** @class */ (function () {
      function TextAreaModule() {
      }
      TextAreaModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          forms.FormsModule,
                          forms.ReactiveFormsModule,
                      ],
                      declarations: [TextAreaComponent],
                      exports: [
                          TextAreaComponent,
                          forms.FormsModule,
                          forms.ReactiveFormsModule,
                      ],
                      entryComponents: [
                          TextAreaComponent
                      ]
                  },] }
      ];
      return TextAreaModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for tree table component
   */
  var TreeTableComponent = /** @class */ (function (_super) {
      __extends(TreeTableComponent, _super);
      function TreeTableComponent(parent, sessionService, elementRef, zone, renderer, cd) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.zone = zone;
          _this.cd = cd;
          _this.nodes = [];
          _this.selectedNodes = [];
          _this.selectedRowElements = [];
          return _this;
      }
      /**
       * Init lifecycle. Must call parent ngOnInit
       */
      /**
       * Init lifecycle. Must call parent ngOnInit
       * @return {?}
       */
      TreeTableComponent.prototype.ngOnInit = /**
       * Init lifecycle. Must call parent ngOnInit
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              // Width/Height is required otherwise grid will collapse to zero.
              // if (!this.controlHeight) this.controlHeight = '500px';
              // if (!this.controlWidth) this.controlWidth = '500px';
          };
      /* istanbul ignore next */
      /**
       * After view init lifecycle. Set table columns and call parent ngAfterViewInit
       */
      /**
       * After view init lifecycle. Set table columns and call parent ngAfterViewInit
       * @return {?}
       */
      TreeTableComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Set table columns and call parent ngAfterViewInit
       * @return {?}
       */
          function () {
              var _this = this;
              //make sure to call sure it can init thing
              _super.prototype.ngAfterViewInit.call(this);
              this.createDocFragment();
              if (this.columns != null && this.columns.length > 0) {
                  this.columnDefs = [];
                  this.columns.forEach(function (column) {
                      _this.columnDefs.push({
                          headerName: column.header,
                          controlWidth: column.controlWidth
                      });
                  });
              }
              if (this.rowData && this.rowData.length > 0) {
                  this.zone.runOutsideAngular(function () {
                      jQuery("#" + _this.id + " .jq-tree-table").treetable();
                  });
              }
          };
      /**
       * Destroy lifecycle. Delete tree nodes to clear out references
       */
      /**
       * Destroy lifecycle. Delete tree nodes to clear out references
       * @return {?}
       */
      TreeTableComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Delete tree nodes to clear out references
       * @return {?}
       */
          function () {
              var e_1, _a;
              this.tableBody = null;
              this._bodyFragment = null;
              if (this.nodes != null) {
                  try {
                      for (var _b = __values(this.nodes), _c = _b.next(); !_c.done; _c = _b.next()) {
                          var node = _c.value;
                          node.destroy();
                      }
                  }
                  catch (e_1_1) {
                      e_1 = { error: e_1_1 };
                  }
                  finally {
                      try {
                          if (_c && !_c.done && (_a = _b.return))
                              _a.call(_b);
                      }
                      finally {
                          if (e_1)
                              throw e_1.error;
                      }
                  }
              }
              this.nodes = null;
          };
      /**
       * Remove all child rows from this table
       */
      /**
       * Remove all child rows from this table
       * @return {?}
       */
      TreeTableComponent.prototype.clearRows = /**
       * Remove all child rows from this table
       * @return {?}
       */
          function () {
              // while(this.tableBody.nativeElement.firstChild) {
              //   this.renderer.removeChild(this.tableBody.nativeElement, this.tableBody.nativeElement.firstChild);
              // }
              ( /** @type {?} */(this.tableBody.nativeElement)).innerHTML = "";
              this.nodes = [];
              this.selectedNodes = [];
              this.selectedRowElements = [];
              this.createDocFragment();
          };
      /* istanbul ignore next */
      /**
       * Create table row but DO NOT append to table
       */
      /**
       * Create table row but DO NOT append to table
       * @return {?}
       */
      TreeTableComponent.prototype.createRow = /**
       * Create table row but DO NOT append to table
       * @return {?}
       */
          function () {
              var _this = this;
              /** @type {?} */
              var row = new HTMLElementWrapper(this.renderer, "row", this.getSession());
              row.setAttribute("id", BaseComponent.generateUniqueId("row"));
              row.parentTableId = this.id;
              row.parentTable = this;
              this.setParentScreenId(row);
              this.zone.runOutsideAngular(function () {
                  row.htmlElement.addEventListener("mousedown", function () {
                      if (_this.selectedNodes != null) {
                          _this.selectedNodes.forEach(function (idx) {
                              _this._selectRow(idx, false);
                          });
                      }
                      _this.selectedRowElements = [];
                      _this.selectRow(row, true);
                  });
              });
              this.trackNode(row);
              return row;
          };
      /* istanbul ignore next */
      /**
       * Create table row and append to table
       */
      /**
       * Create table row and append to table
       * @return {?}
       */
      TreeTableComponent.prototype.addRow = /**
       * Create table row and append to table
       * @return {?}
       */
          function () {
              /** @type {?} */
              var row = this.createRow();
              if (this.useDocFragment === true) {
                  this._bodyFragment.appendChild(row.htmlElement);
              }
              else {
                  this.renderer.appendChild(this.tableBody.nativeElement, row.htmlElement);
              }
              row.htmlElement.style["background"] = "";
              return row;
          };
      /* istanbul ignore next */
      /**
       * Set a row as selected and set selected style
       * @param nodeIndex Index of node/row to select
       * @param isSelected Toggle to set selected style
       */
      /**
       * Set a row as selected and set selected style
       * @param {?} nodeIndex Index of node/row to select
       * @param {?} isSelected Toggle to set selected style
       * @return {?}
       */
      TreeTableComponent.prototype._selectRow = /**
       * Set a row as selected and set selected style
       * @param {?} nodeIndex Index of node/row to select
       * @param {?} isSelected Toggle to set selected style
       * @return {?}
       */
          function (nodeIndex, isSelected) {
              /** @type {?} */
              var idx = _.findIndex(this.selectedNodes, function (node) {
                  return node === nodeIndex;
              });
              /* istanbul ignore if */
              if (isSelected) {
                  //if it wasn't selected, add it in selectedRows.
                  if (idx < 0) {
                      this.selectedNodes.push(nodeIndex);
                      this.nodes[nodeIndex].htmlElement.querySelector('td').style.color = 'blue';
                  }
              }
              else {
                  //if it was selected before, remove it from selectedRows.
                  if (idx >= 0) {
                      this.selectedNodes.splice(idx, 1);
                      this.nodes[nodeIndex].htmlElement.querySelector('td').style.color = "";
                  }
              }
          };
      /**
       * This function is called by setAttribute(row, value);
       * @param row Row to set as selected row
       * @param isSelected Toggle selected state and style
       */
      /**
       * This function is called by setAttribute(row, value);
       * @param {?} row Row to set as selected row
       * @param {?} isSelected Toggle selected state and style
       * @return {?}
       */
      TreeTableComponent.prototype.selectRow = /**
       * This function is called by setAttribute(row, value);
       * @param {?} row Row to set as selected row
       * @param {?} isSelected Toggle selected state and style
       * @return {?}
       */
          function (row, isSelected) {
              if (this.nodes == null)
                  return;
              /** @type {?} */
              var nodeIndex = _.findIndex(this.nodes, function (node) {
                  return node === row;
              });
              /** @type {?} */
              var tds = this.elementRef.nativeElement.querySelectorAll('td');
              for (var i = 0; i < tds.length; i++) {
                  ( /** @type {?} */(tds[i])).style.color = '';
              }
              for (var i = 0; i < this.nodes.length; i++) {
                  this._selectRow(i, false);
              }
              this._selectRow(nodeIndex, true);
              if (isSelected) {
                  this.selectedRowElements.push(row);
              }
              else {
                  this.selectedRowElements = this.selectedRowElements.filter(function (el) {
                      return el._uniqueId !== row._internalId;
                  });
              }
          };
      /**
       * @return {?}
       */
      TreeTableComponent.prototype.getSelectedRows = /**
       * @return {?}
       */
          function () {
              return this.selectedRowElements;
          };
      /* istanbul ignore next */
      /**
       * Create table cell (will not append to anything)
       * @returns The table cell that is created
       */
      /**
       * Create table cell (will not append to anything)
       * @return {?} The table cell that is created
       */
      TreeTableComponent.prototype.createCell = /**
       * Create table cell (will not append to anything)
       * @return {?} The table cell that is created
       */
          function () {
              /** @type {?} */
              var cell = new HTMLElementWrapper(this.renderer, "cell", this.getSession());
              cell.setAttribute("id", BaseComponent.generateUniqueId("cell"));
              this.setParentScreenId(cell);
              //for cell, we need to append it to the row
              this.trackNode(cell);
              return cell;
          };
      /* istanbul ignore next */
      /**
       * @deprecated used createCell instead
       */
      /**
       * @deprecated used createCell instead
       * @return {?}
       */
      TreeTableComponent.prototype.addCell = /**
       * @deprecated used createCell instead
       * @return {?}
       */
          function () {
              return this.createCell();
          };
      /* istanbul ignore next */
      /**
       * Re-render tree table. Must call jQuery plugin's method on element to re-render.
       */
      /**
       * Re-render tree table. Must call jQuery plugin's method on element to re-render.
       * @return {?}
       */
      TreeTableComponent.prototype.redrawTree = /**
       * Re-render tree table. Must call jQuery plugin's method on element to re-render.
       * @return {?}
       */
          function () {
              var _this = this;
              this.zone.runOutsideAngular(function () {
                  /* istanbul ignore next */
                  jQuery("#" + _this.id + " .jq-tree-table").treetable({
                      expandable: true
                  }, true);
                  _this.cd.markForCheck();
              });
          };
      /* istanbul ignore next */
      /**
       * Expand all nodes in the tree
       */
      /**
       * Expand all nodes in the tree
       * @return {?}
       */
      TreeTableComponent.prototype.expandAll = /**
       * Expand all nodes in the tree
       * @return {?}
       */
          function () {
              /* istanbul ignore next */
              jQuery("#" + this.id + " .jq-tree-table").treetable("expandAll");
              this.setNodeExpandedStatus("true");
          };
      /* istanbul ignore next */
      /**
       * Collapse all node in the tree
       */
      /**
       * Collapse all node in the tree
       * @return {?}
       */
      TreeTableComponent.prototype.collapseAll = /**
       * Collapse all node in the tree
       * @return {?}
       */
          function () {
              jQuery("#" + this.id + " .jq-tree-table").treetable("collapseAll");
              this.setNodeExpandedStatus("false");
          };
      /**
       * Get child nodes of the table
       * @returns [[nodes]]
       */
      /**
       * Get child nodes of the table
       * @return {?} [[nodes]]
       */
      TreeTableComponent.prototype.getTableChildren = /**
       * Get child nodes of the table
       * @return {?} [[nodes]]
       */
          function () {
              return this.nodes;
          };
      /* istanbul ignore next */
      /**
       * Get number of child nodes for this tree
       * @returns Number of child nodes
       */
      /**
       * Get number of child nodes for this tree
       * @return {?} Number of child nodes
       */
      TreeTableComponent.prototype.getChildCount = /**
       * Get number of child nodes for this tree
       * @return {?} Number of child nodes
       */
          function () {
              return this.nodes != null ? this.nodes.length : 0;
          };
      /**
       * Get child node by id
       * @param id
       */
      /**
       * Get child node by id
       * @param {?} id
       * @return {?}
       */
      TreeTableComponent.prototype.getChildById = /**
       * Get child node by id
       * @param {?} id
       * @return {?}
       */
          function (id) {
              if (this.nodes != null) {
                  /** @type {?} */
                  var temp = _.filter(this.nodes, function (item) { return item.getId() === id; });
                  if (temp.length > 0) {
                      return temp[0];
                  }
              }
              return null;
          };
      /* istanbul ignore next */
      /**
       * Get list of nodes from XPath expression string
       * @param xpathExpression
       */
      /* istanbul ignore next */
      /**
       * Get list of nodes from XPath expression string
       * @param {?} xpathExpression
       * @return {?}
       */
      TreeTableComponent.prototype.evaluateXPath = /**
       * Get list of nodes from XPath expression string
       * @param {?} xpathExpression
       * @return {?}
       */
          function (xpathExpression) {
              /** @type {?} */
              var result = new Vector();
              /** @type {?} */
              var xpathResult = document.evaluate(xpathExpression.replace("cell[", "td[").replace("row[", "tr["), this.elementRef.nativeElement, null, XPathResult.ANY_TYPE, null);
              if (xpathResult != null) {
                  /** @type {?} */
                  var node = xpathResult.iterateNext();
                  while (node) {
                      result.add(node);
                      node = xpathResult.iterateNext();
                  }
              }
              return result;
          };
      /**
       * Adds child node to the tree
       * @param {?} node Child to add
       * @return {?}
       */
      TreeTableComponent.prototype.trackNode = /**
       * Adds child node to the tree
       * @param {?} node Child to add
       * @return {?}
       */
          function (node) {
              if (this.nodes == null) {
                  this.nodes = [];
              }
              this.nodes.push(node);
          };
      /**
       * Get NexaWeb tag name
       * @returns Tagname
       */
      /**
       * Get NexaWeb tag name
       * @return {?} Tagname
       */
      TreeTableComponent.prototype.getNxTagName = /**
       * Get NexaWeb tag name
       * @return {?} Tagname
       */
          function () {
              return "treeTable";
          };
      /* istanbul ignore next */
      /**
       * Get [[cd]] (Change detector) property
       * @returns Change detector reference
       */
      /**
       * Get [[cd]] (Change detector) property
       * @return {?} Change detector reference
       */
      TreeTableComponent.prototype.getChangeDetector = /**
       * Get [[cd]] (Change detector) property
       * @return {?} Change detector reference
       */
          function () {
              return this.cd;
          };
      /**
       * Set node expanded property value
       * @param {?} status Value for node's expanded property
       * @return {?}
       */
      TreeTableComponent.prototype.setNodeExpandedStatus = /**
       * Set node expanded property value
       * @param {?} status Value for node's expanded property
       * @return {?}
       */
          function (status) {
              if (this.nodes != null) {
                  _.forEach(this.nodes, function (node) {
                      if (node.getLocalName() === "row") {
                          node.expanded = status;
                      }
                  });
              }
          };
      /**
       * Get JSON representation for this component
       * @returns Component metadata as JSON object
       */
      /**
       * Get JSON representation for this component
       * @return {?} Component metadata as JSON object
       */
      TreeTableComponent.prototype.toJson = /**
       * Get JSON representation for this component
       * @return {?} Component metadata as JSON object
       */
          function () {
              /** @type {?} */
              var retVal = _super.prototype.toJson.call(this);
              if (this.nodes != null) {
                  /** @type {?} */
                  var children = this.nodes.filter(function (node) { return node.getLocalName() === "row"; });
                  if (children.length > 0) {
                      retVal["children"] = children.map(function (child) { return child.toJson(); });
                  }
              }
              return retVal;
          };
      /**
       * Set the elements parent ID
       * @param {?} el
       * @return {?}
       */
      TreeTableComponent.prototype.setParentScreenId = /**
       * Set the elements parent ID
       * @param {?} el
       * @return {?}
       */
          function (el) {
              if (this.getParentView() != null) {
                  el.parentScreenId = this.getParentView().getId();
              }
          };
      /**
       * @return {?}
       */
      TreeTableComponent.prototype.getNodes = /**
       * @return {?}
       */
          function () {
              return this.nodes;
          };
      /**
       * @return {?}
       */
      TreeTableComponent.prototype.createDocFragment = /**
       * @return {?}
       */
          function () {
              if (this.useDocFragment === true) {
                  this._bodyFragment = document.createDocumentFragment();
              }
          };
      /**
       * @return {?}
       */
      TreeTableComponent.prototype.appendFragment = /**
       * @return {?}
       */
          function () {
              if (this._bodyFragment != null) {
                  ( /** @type {?} */(this.tableBody.nativeElement)).appendChild(this._bodyFragment);
              }
          };
      TreeTableComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-tree-table',
                      template: "<div [id]=\"id\"\nclass=\"vt-tree-table {{cssClass}}\"\n[style.width]=\"controlWidth\"\n[style.height]=\"controlHeight\"\n[style.border-style]=\"borderStyle\">\n    <table\n        class=\"table jq-tree-table\" [style.border-width]=\"borderWidth\">\n        <thead #tableHeader>\n            <tr>\n                <th scope=\"col\" *ngFor=\"let col of columnDefs\" [style.width.px]=\"col.controlWidth\">\n                    {{col.headerName}}\n                </th>\n            </tr>\n        </thead>\n        <tbody #tableBody>\n            <tr *ngFor=\"let row of rowData; let i = index\">\n                <td *ngFor=\"let col of columnDefs\">\n                    {{row[col.field]}}\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      encapsulation: i0.ViewEncapsulation.None,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return TreeTableComponent; })
                          }
                      ],
                      styles: ["table.treetable span.indenter{display:inline-block;margin:0;padding:0;text-align:right;-ms-user-select:none;user-select:none;-khtml-user-select:none;-moz-user-select:none;-o-user-select:none;-webkit-user-select:none;box-sizing:content-box;width:19px}table.treetable span.indenter a{background-position:left center;background-repeat:no-repeat;display:inline-block;text-decoration:none;width:19px}table.treetable{border:1px solid #888;border-collapse:collapse;font-size:.8em;line-height:1;width:100%}table.treetable caption{font-size:.9em;font-weight:700;margin-bottom:.2em}table.treetable thead{background:url(data:image/png;base64,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) top left repeat-x #aaa;font-size:.9em}table.treetable thead tr th{border:1px solid #888;font-weight:400;padding:.3em 1em .1em;text-align:left;height:6px}table.treetable tbody tr td{cursor:default;border-right:1px solid #8080ff}table.treetable span{background-position:center left;background-repeat:no-repeat;padding:.2em 0 .2em 1.5em}table.treetable span.file{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAADoSURBVBgZBcExblNBGAbA2ceegTRBuIKOgiihSZNTcC5LUHAihNJR0kGKCDcYJY6D3/77MdOinTvzAgCw8ysThIvn/VojIyMjIyPP+bS1sUQIV2s95pBDDvmbP/mdkft83tpYguZq5Jh/OeaYh+yzy8hTHvNlaxNNczm+la9OTlar1UdA/+C2A4trRCnD3jS8BB1obq2Gk6GU6QbQAS4BUaYSQAf4bhhKKTFdAzrAOwAxEUAH+KEM01SY3gM6wBsEAQB0gJ+maZoC3gI6iPYaAIBJsiRmHU0AALOeFC3aK2cWAACUXe7+AwO0lc9eTHYTAAAAAElFTkSuQmCC)}table.treetable span.folder{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGrSURBVDjLxZO7ihRBFIa/6u0ZW7GHBUV0UQQTZzd3QdhMQxOfwMRXEANBMNQX0MzAzFAwEzHwARbNFDdwEd31Mj3X7a6uOr9BtzNjYjKBJ6nicP7v3KqcJFaxhBVtZUAK8OHlld2st7Xl3DJPVONP+zEUV4HqL5UDYHr5xvuQAjgl/Qs7TzvOOVAjxjlC+ePSwe6DfbVegLVuT4r14eTr6zvA8xSAoBLzx6pvj4l+DZIezuVkG9fY2H7YRQIMZIBwycmzH1/s3F8AapfIPNF3kQk7+kw9PWBy+IZOdg5Ug3mkAATy/t0usovzGeCUWTjCz0B+Sj0ekfdvkZ3abBv+U4GaCtJ1iEm6ANQJ6fEzrG/engcKw/wXQvEKxSEKQxRGKE7Izt+DSiwBJMUSm71rguMYhQKrBygOIRStf4TiFFRBvbRGKiQLWP29yRSHKBTtfdBmHs0BUpgvtgF4yRFR+NUKi0XZcYjCeCG2smkzLAHkbRBmP0/Uk26O5YnUActBp1GsAI+S5nRJJJal5K1aAMrq0d6Tm9uI6zjyf75dAe6tx/SsWeD//o2/Ab6IH3/h25pOAAAAAElFTkSuQmCC)}table.treetable tr.collapsed span.indenter a{background-image:url(data:image/png;base64,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)}table.treetable tr.expanded span.indenter a{background-image:url(data:image/png;base64,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)}table.treetable tr.branch{background-color:#f9f9f9}table.treetable tr.selected{background-color:#3875d7;color:#fff}table.treetable tr span.indenter a{outline:0}table.treetable tr.collapsed.selected span.indenter a{background-image:url(data:image/png;base64,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)}table.treetable tr.expanded.selected span.indenter a{background-image:url(data:image/png;base64,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)}table.treetable tr.accept{background-color:#a3bce4;color:#fff}table.treetable tr.collapsed.accept td span.indenter a{background-image:url(data:image/x-png;base64,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)}table.treetable tr.expanded.accept td span.indenter a{background-image:url(data:image/x-png;base64,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)}vt-tree-table{overflow:auto}table.treetable tr:nth-child(odd){background:0 0}table.treetable tr:nth-child(even){background:#e6e6e6}"]
                  }] }
      ];
      /** @nocollapse */
      TreeTableComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.NgZone },
              { type: i0.Renderer2 },
              { type: i0.ChangeDetectorRef }
          ];
      };
      TreeTableComponent.propDecorators = {
          rowData: [{ type: i0.Input }],
          columnDefs: [{ type: i0.Input }],
          useDocFragment: [{ type: i0.Input }],
          columns: [{ type: i0.ContentChildren, args: [TableColumnDirective,] }],
          tableBody: [{ type: i0.ViewChild, args: ["tableBody", { read: i0.ElementRef },] }]
      };
      return TreeTableComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var TreeTableModule = /** @class */ (function () {
      function TreeTableModule() {
      }
      TreeTableModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [TreeTableComponent],
                      exports: [
                          TreeTableComponent
                      ],
                      entryComponents: [
                          TreeTableComponent
                      ]
                  },] }
      ];
      return TreeTableModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Base parent component class that all other screen components inherit from
   */
  var ViewComponent = /** @class */ (function (_super) {
      __extends(ViewComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       */
      function ViewComponent(parent, sessionService, elementRef) {
          var _this = _super.call(this, parent, sessionService, elementRef, null) || this;
          _this.mcos = new Set();
          _this.canBeActiveView = true;
          _this._viewInitializedSubject = new rxjs.Subject();
          _this.viewInitialized = _this._viewInitializedSubject.asObservable();
          _this.defIds = [];
          _this.screenIndex = null;
          _this.actionForwardName = _this.getId();
          return _this;
      }
      /**
       * Set [[routeUrl]] property value. If [[dialog]] exists, set it's route URL
       * @param url
       */
      /**
       * Set [[routeUrl]] property value. If [[dialog]] exists, set it's route URL
       * @param {?} url
       * @return {?}
       */
      ViewComponent.prototype.setRouteUrl = /**
       * Set [[routeUrl]] property value. If [[dialog]] exists, set it's route URL
       * @param {?} url
       * @return {?}
       */
          function (url) {
              this.routeUrl = url;
              if (this.dialog != null) {
                  this.dialog.setViewRouteUrl(url);
              }
          };
      /**
       * Get [[routeUrl]] property value
       * @returns Route URL
       */
      /**
       * Get [[routeUrl]] property value
       * @return {?} Route URL
       */
      ViewComponent.prototype.getRouteUrl = /**
       * Get [[routeUrl]] property value
       * @return {?} Route URL
       */
          function () {
              return this.routeUrl;
          };
      /**
       * Check if route is deactivated.
       * @returns True if route is deactivated
       */
      /**
       * Check if route is deactivated.
       * @return {?} True if route is deactivated
       */
      ViewComponent.prototype.isRouteDeactivated = /**
       * Check if route is deactivated.
       * @return {?} True if route is deactivated
       */
          function () {
              return this.routeDeactivated === true;
          };
      /**
       * After view init lifecycle
       */
      /**
       * After view init lifecycle
       * @return {?}
       */
      ViewComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.canBeActiveView !== false) {
                  this.parent = null;
              }
              //add view to stack
              this.getSession().getMcoContainer().registerView(this);
              _super.prototype.ngAfterViewInit.call(this);
              this.afterDialogInit();
              if (this.popupMenus != null) {
                  _.forEach(this.popupMenus, function (popupMenu) { return popupMenu.convertSubMenuItems(_this.id); });
              }
              this.componentInitialize();
              if (this.dialog) {
                  this.dialog.setViewRouteUrl(this.routeUrl);
                  this.viewRouteSet = true;
              }
              this.getSession().getMcoContainer().reStackView(this.id, this.screenIndex);
              this._viewInitializedSubject.next();
              this.viewIsInitialized = true;
          };
      /**
       * @return {?}
       */
      ViewComponent.prototype.afterDialogInit = /**
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.dialog) {
                  //get id of dialog as our id
                  this.id = this.dialog.getId();
                  this.dialog.screenIndex = this.screenIndex;
                  if (typeof this.dialog.modal === "boolean") {
                      this.modal = JavaUtils.booleanToString(this.dialog.modal);
                  }
                  else {
                      this.modal = this.dialog.modal;
                  }
                  if (this.modal != null && (this.modal === "true" || this.modal === "false")) {
                      this.setElementAttributeById(this.id, 'modal', this.modal);
                      this.setModalMode();
                  }
                  else {
                      this.dialog.modal = "false";
                      this.modal = this.dialog.modal;
                      this.setElementAttributeById(this.id, 'modal', "false");
                  }
                  if (this.popupMenus != null) {
                      _.forEach(this.popupMenus, function (popupMenu) { return popupMenu.convertSubMenuItems(_this.id); });
                  }
                  this.dialog.resetId();
                  if (this.viewRouteSet !== true) {
                      this.dialog.setViewRouteUrl(this.routeUrl);
                      this.viewRouteSet = true;
                  }
              }
          };
      /**
       * Set modal CSS and dialog's modal property value to true.
       * Make view component display as modal
       */
      /**
       * Set modal CSS and dialog's modal property value to true.
       * Make view component display as modal
       * @return {?}
       */
      ViewComponent.prototype.setModalMode = /**
       * Set modal CSS and dialog's modal property value to true.
       * Make view component display as modal
       * @return {?}
       */
          function () {
              if (this.modal == "true") {
                  this.dialog["elementRef"].nativeElement.className = "modal fade in";
                  this.dialog["elementRef"].nativeElement.style.cssText = "display:inline-block;";
                  this.setElementAttributeById(this.id, 'modal', this.modal);
                  this.dialog.modal = this.modal;
              }
          };
      /**
       * Destroy lifecycle. Clear all references
       */
      /**
       * Destroy lifecycle. Clear all references
       * @return {?}
       */
      ViewComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Clear all references
       * @return {?}
       */
          function () {
              var _this = this;
              if (this.beforeDestroyCb != null) {
                  this.beforeDestroyCb(this.getId());
              }
              this._inactiveMenuItems = null;
              this.routeDeactivated = true;
              //remove view from stack
              this.getSession().getMcoContainer().removeView(this);
              this.mcos.forEach(function (mco) { return _this.getSession().getMcoContainer().removeMco(mco); });
              this.mcos.clear();
              delete this.mcos;
              if (this.dialog != null) {
                  if (this.dialog.viewContainer != null) {
                      this.dialog.viewContainer.clear();
                      delete this.dialog.viewContainer;
                  }
                  delete this.dialog;
              }
              this.isDestroyed = true;
              this.getSession().getInjector(DynamicPagesService).removeView(this);
              _.forEach(this.defIds, function (id) {
                  _this.getSession().deleteDef(id);
              });
              this.defIds = null;
              this.popupMenus = null;
              // if (this._findElementCache != null) {
              //   this._findElementCache.clear();
              // }
              // this._findElementCache = null;
              this._tableColumnsMap = null;
              _super.prototype.ngOnDestroy.call(this);
          };
      /**
       * Delegate to [[bodyInit]]
       */
      /**
       * Delegate to [[bodyInit]]
       * @return {?}
       */
      ViewComponent.prototype.componentInitialize = /**
       * Delegate to [[bodyInit]]
       * @return {?}
       */
          function () {
              this.bodyInit();
          };
      /**
       * Get the component's tag name. Implementation of [[BaseComponent]] method
       * @returns Name of tag
       */
      /**
       * Get the component's tag name. Implementation of [[BaseComponent]] method
       * @return {?} Name of tag
       */
      ViewComponent.prototype.getTagName = /**
       * Get the component's tag name. Implementation of [[BaseComponent]] method
       * @return {?} Name of tag
       */
          function () {
              return 'vt-dummy-view';
          };
      /**
       * Not implemented
       */
      /**
       * Not implemented
       * @return {?}
       */
      ViewComponent.prototype.bodyInit = /**
       * Not implemented
       * @return {?}
       */
          function () {
          };
      /**
       * Query the "element" via selectFn function, then set the attribute of the element. If found
       * set the attribute {attribute} with value {value}
       *
       * @param selectorFn
       */
      /**
       * Query the "element" via selectFn function, then set the attribute of the element. If found
       * set the attribute {attribute} with value {value}
       *
       * @param {?} selectorFn
       * @param {?} attribute
       * @param {?} value
       * @return {?}
       */
      ViewComponent.prototype.setElementAttribute = /**
       * Query the "element" via selectFn function, then set the attribute of the element. If found
       * set the attribute {attribute} with value {value}
       *
       * @param {?} selectorFn
       * @param {?} attribute
       * @param {?} value
       * @return {?}
       */
          function (selectorFn, attribute, value) {
              /** @type {?} */
              var comp = selectorFn(this.children);
              if (comp == null) {
                  Logger.warn('Unable to set attribute, component is null');
              }
              else {
                  comp.setAttribute(attribute, value);
              }
              this.markForCheck();
          };
      /**
      * Set [[disabled]] property value
      * @param boo Value for disabled property
      */
      /**
       * Set [[disabled]] property value
       * @param {?} boo Value for disabled property
       * @return {?}
       */
      ViewComponent.prototype.setDisabled = /**
       * Set [[disabled]] property value
       * @param {?} boo Value for disabled property
       * @return {?}
       */
          function (boo) {
              this.disabled = boo;
              this.dialog.setDisabled(boo);
          };
      /**
       * Query the "element" via selectFn function, then set the attribute of the element. If found
       * set the attribute {attribute} with value {value}
       *
       * @param selectorFn
       */
      /**
       * Query the "element" via selectFn function, then set the attribute of the element. If found
       * set the attribute {attribute} with value {value}
       *
       * @param {?} compId
       * @param {?} attribute
       * @param {?} value
       * @return {?}
       */
      ViewComponent.prototype.setElementAttributeById = /**
       * Query the "element" via selectFn function, then set the attribute of the element. If found
       * set the attribute {attribute} with value {value}
       *
       * @param {?} compId
       * @param {?} attribute
       * @param {?} value
       * @return {?}
       */
          function (compId, attribute, value) {
              if (attribute === AttributesEnum.TITLE || attribute === 'title') {
                  this.setTitle(value);
              }
              else if (compId === this.getId()) {
                  this.setAttribute(attribute, value);
              }
              else {
                  /** @type {?} */
                  var comp = this.findElementById(compId);
                  /* istanbul ignore if */
                  /* istanbul ignore else */
                  if (comp == null) {
                      /** @type {?} */
                      var compDef = this.getSession().getDef(compId);
                      if (compDef != null) {
                          compDef.attribute[attribute] = value;
                      }
                      else {
                          comp = UiDocument.getMenuComponent(compId);
                          /* istanbul ignore else */
                          if (comp != null) {
                              comp.setAttribute(attribute, value);
                          }
                          else {
                              Logger.warn("Unable to set attribute, component with id: " + compId + " is not found");
                          }
                      }
                  }
                  else {
                      comp.setAttribute(attribute, value);
                  }
                  this.markForCheck();
              }
          };
      /**
       * Wholesale set attributes to an element.
       *
       * @param compId element to set attribute
       * @param attributes an array of AttributesEnum to be set
       */
      /**
       * Wholesale set attributes to an element.
       *
       * @param {?} compId element to set attribute
       * @param {?} attributes an array of AttributesEnum to be set
       * @return {?}
       */
      ViewComponent.prototype.setElementAttributesById = /**
       * Wholesale set attributes to an element.
       *
       * @param {?} compId element to set attribute
       * @param {?} attributes an array of AttributesEnum to be set
       * @return {?}
       */
          function (compId, attributes) {
              var e_1, _a;
              if (compId === this.getId()) {
                  this.setAttributes(attributes);
              }
              else {
                  /** @type {?} */
                  var comp = this.findElementById(compId);
                  if (comp == null) {
                      /** @type {?} */
                      var compDef = this.getSession().getDef(compId);
                      if (compDef != null) {
                          try {
                              for (var attributes_1 = __values(attributes), attributes_1_1 = attributes_1.next(); !attributes_1_1.done; attributes_1_1 = attributes_1.next()) {
                                  var attr = attributes_1_1.value;
                                  compDef.attribute[attr.attributeName] = attr.value;
                              }
                          }
                          catch (e_1_1) {
                              e_1 = { error: e_1_1 };
                          }
                          finally {
                              try {
                                  if (attributes_1_1 && !attributes_1_1.done && (_a = attributes_1.return))
                                      _a.call(attributes_1);
                              }
                              finally {
                                  if (e_1)
                                      throw e_1.error;
                              }
                          }
                      }
                      else {
                          Logger.warn("Unable to set attribute, component with id: " + compId + " is not found");
                      }
                  }
                  else {
                      comp.setAttributes(attributes);
                  }
                  this.markForCheck();
              }
          };
      /**
       * Removes an attribute from a component with a specific id
       * @param compId Component id
       * @param attribute Name of attribute to remove from component
       */
      /**
       * Removes an attribute from a component with a specific id
       * @param {?} compId Component id
       * @param {?} attribute Name of attribute to remove from component
       * @return {?}
       */
      ViewComponent.prototype.removeElementAttributeById = /**
       * Removes an attribute from a component with a specific id
       * @param {?} compId Component id
       * @param {?} attribute Name of attribute to remove from component
       * @return {?}
       */
          function (compId, attribute) {
              if (attribute === AttributesEnum.TITLE || attribute === 'title') {
                  this.setTitle("");
              }
              else if (compId === this.getId()) {
                  this.removeAttribute(attribute);
              }
              else {
                  /** @type {?} */
                  var comp = this.findElementById(compId);
                  /* istanbul ignore if */
                  /* istanbul ignore else */
                  if (comp == null) {
                      Logger.warn("Unable to remove attribute, component with id: " + compId + " is not found");
                  }
                  else {
                      comp.removeAttribute(attribute);
                  }
              }
              this.markForCheck();
          };
      /**
       * Searches for a radio button group by ID and adds an attribute to all [[RadioButtonComponent]] elements in the group
       * @param radioGroupId
       * @param attribute HTML attribute name to be set
       * @param value Value to set on HTML attribute
       */
      /**
       * Searches for a radio button group by ID and adds an attribute to all [[RadioButtonComponent]] elements in the group
       * @param {?} radioGroupId
       * @param {?} attribute HTML attribute name to be set
       * @param {?} value Value to set on HTML attribute
       * @return {?}
       */
      ViewComponent.prototype.setRadioGroupAttribute = /**
       * Searches for a radio button group by ID and adds an attribute to all [[RadioButtonComponent]] elements in the group
       * @param {?} radioGroupId
       * @param {?} attribute HTML attribute name to be set
       * @param {?} value Value to set on HTML attribute
       * @return {?}
       */
          function (radioGroupId, attribute, value) {
              /** @type {?} */
              var radios = _.filter(Array.from(this.children.values()), function (child) {
                  return child instanceof RadioButtonComponent && ( /** @type {?} */(child)).group === radioGroupId;
              });
              /* istanbul ignore if */
              if (radios != null && radios.length > 0) {
                  _.forEach(radios, function (radio) {
                      radio.setAttribute(attribute, value);
                  });
              }
              this.markForCheck();
          };
      /**
       * Get the value of an HTML attribute of a component
       * @param compId Id of component to get attribute from
       * @param attribute Name of HTML attribute to get
       */
      /**
       * Get the value of an HTML attribute of a component
       * @param {?} compId Id of component to get attribute from
       * @param {?} attribute Name of HTML attribute to get
       * @return {?}
       */
      ViewComponent.prototype.getElementAttributeById = /**
       * Get the value of an HTML attribute of a component
       * @param {?} compId Id of component to get attribute from
       * @param {?} attribute Name of HTML attribute to get
       * @return {?}
       */
          function (compId, attribute) {
              /** @type {?} */
              var comp = this.findElementById(compId);
              if (comp != null) {
                  return comp.getAttribute(attribute);
              }
          };
      /**
       * Find [[ComboboxComponent]] by id and call it's initializeComboboxValues method.
       * @param compId Component ID to initialize
       * @param value Value to set on combobox
       * @param attribute Name of attribute to set on combobox
       */
      /**
       * Find [[ComboboxComponent]] by id and call it's initializeComboboxValues method.
       * @param {?} compId Component ID to initialize
       * @param {?} value Value to set on combobox
       * @param {?} attribute Name of attribute to set on combobox
       * @return {?}
       */
      ViewComponent.prototype.initializeComboBoxValues = /**
       * Find [[ComboboxComponent]] by id and call it's initializeComboboxValues method.
       * @param {?} compId Component ID to initialize
       * @param {?} value Value to set on combobox
       * @param {?} attribute Name of attribute to set on combobox
       * @return {?}
       */
          function (compId, value, attribute) {
              /** @type {?} */
              var comboBox = /** @type {?} */ (this.findElementById(compId));
              if (comboBox == null) {
                  console.error("Unable to find combobox: " + compId + " ");
              }
              else {
                  comboBox.initializeComboboxValues(value);
                  if (attribute != null) {
                      if (attribute["width"] != null) {
                          comboBox.setControlWidth(attribute["width"]);
                      }
                      else if (attribute["onCommand"] != null) {
                          comboBox.setOnCommand(attribute["onCommand"]);
                      }
                  }
              }
          };
      /**
       * Set the [[ComboboxComponent]] selected item that matches value
       * @param compId [[ComboboxComponent]] id
       * @param value Value to set as selected
       */
      /**
       * Set the [[ComboboxComponent]] selected item that matches value
       * @param {?} compId [[ComboboxComponent]] id
       * @param {?} value Value to set as selected
       * @return {?}
       */
      ViewComponent.prototype.selectComboBoxItem = /**
       * Set the [[ComboboxComponent]] selected item that matches value
       * @param {?} compId [[ComboboxComponent]] id
       * @param {?} value Value to set as selected
       * @return {?}
       */
          function (compId, value) {
              /** @type {?} */
              var comboBox = /** @type {?} */ (this.findElementById(compId));
              /* istanbul ignore if */
              if (comboBox == null) {
                  console.error("Unable to find combobox: " + compId + " ");
              }
              else {
                  comboBox.setSelectValue(value);
              }
          };
      /**
       * Find component and focus it
       * @param compId Component id
       */
      /**
       * Find component and focus it
       * @param {?=} compId Component id
       * @return {?}
       */
      ViewComponent.prototype.setFocus = /**
       * Find component and focus it
       * @param {?=} compId Component id
       * @return {?}
       */
          function (compId) {
              if (compId === void 0) {
                  compId = null;
              }
              if (compId == this.id) {
                  this.showView();
              }
              else if (compId == null || compId == '') {
                  this.requestFocus();
              }
              else {
                  /** @type {?} */
                  var comp = UiDocument.findElementById(compId);
                  if (comp == null) {
                      console.error("Unable to setFocus, component with id: " + compId + " is not found");
                  }
                  else {
                      comp.requestFocus();
                  }
              }
          };
      /**
       * Set title on [[DialogComponent]]
       * @param title Title of dialog
       */
      /**
       * Set title on [[DialogComponent]]
       * @param {?} title Title of dialog
       * @return {?}
       */
      ViewComponent.prototype.setTitle = /**
       * Set title on [[DialogComponent]]
       * @param {?} title Title of dialog
       * @return {?}
       */
          function (title) {
              if (this.dialog != null) {
                  this.dialog.title = title;
                  this.dialog.markForCheck();
              }
          };
      /**
       * Close [[dialog]] if it exists on this component
       * @param delayDialogClose
       */
      /**
       * Close [[dialog]] if it exists on this component
       * @param {?=} delayDialogClose
       * @return {?}
       */
      ViewComponent.prototype.close = /**
       * Close [[dialog]] if it exists on this component
       * @param {?=} delayDialogClose
       * @return {?}
       */
          function (delayDialogClose) {
              var _this = this;
              /** @type {?} */
              var dialog = document.getElementById(this.dialog.id);
              dialog.setAttribute("style", "display: none;");
              dialog.innerHTML = "";
              this._viewStatus = 1;
              this.cleanup();
              if (this.dialog != null) {
                  if (delayDialogClose) {
                      setTimeout(function () {
                          _this.dialog.close(null, false);
                      }, 1);
                  }
                  else {
                      this.dialog.close(null, true);
                  }
              }
              else if (this.isDynamicPage === true) {
                  this.getSession().getInjector(DynamicPagesService).removeView(this);
              }
              else {
                  if (this.getSession() != null && this.getSession().getRouteNavigatorService() != null) {
                      this.getSession().getRouteNavigatorService().destroyRoute(this.routeUrl);
                  }
                  else {
                      console.error("Unable to change route, session or route navigation service is not defined");
                  }
                  console.error('Unable to close ViewComponent, DialogComponent not found');
              }
          };
      /**
       * Get name of this component
       */
      /**
       * Get name of this component
       * @return {?}
       */
      ViewComponent.prototype.getLocalName = /**
       * Get name of this component
       * @return {?}
       */
          function () {
              return "window";
          };
      /**
       * Register and add an MCO
       * @param mcoName
       * @param mcoClass
       */
      /**
       * Register and add an MCO
       * @param {?} mcoName
       * @param {?} mcoClass
       * @return {?}
       */
      ViewComponent.prototype.createMco = /**
       * Register and add an MCO
       * @param {?} mcoName
       * @param {?} mcoClass
       * @return {?}
       */
          function (mcoName, mcoClass) {
              /** @type {?} */
              var mco = this.getSession().getMcoContainer().getMco(mcoName);
              //check to see if MCO already exists?
              if (mco != null) {
                  console.warn("MCO " + mcoName + " is already exists, use existing one");
              }
              else {
                  mco = new mcoClass(this);
                  this.getSession().getMcoContainer().registerMco(mcoName, mco);
                  //add mco name for tracking (to be cleaned and removed later)
                  this.mcos.add(mcoName);
              }
              return mco;
          };
      /**
       * Get MCO from client session
       * @param mcoName Name of MCO to get
       * @returns MCO
       */
      /**
       * Get MCO from client session
       * @param {?} mcoName Name of MCO to get
       * @return {?} MCO
       */
      ViewComponent.prototype.getMco = /**
       * Get MCO from client session
       * @param {?} mcoName Name of MCO to get
       * @return {?} MCO
       */
          function (mcoName) {
              return this.getSession().getMcoContainer().getMco(mcoName);
          };
      /**
       * Parse string and create component base on it
       *
       * @param domString
       */
      /**
       * Parse string and create component base on it
       *
       * @param {?} domString
       * @return {?}
       */
      ViewComponent.prototype.createComponent = /**
       * Parse string and create component base on it
       *
       * @param {?} domString
       * @return {?}
       */
          function (domString) {
              //textField
              //label
              //panel
              //horizontalSeparator
              try {
                  /** @type {?} */
                  var element = AppUtils.parseDom(domString);
              }
              catch (e) {
                  console.error(e);
              }
          };
      /**
       * @deprecated DO NOT USE THIS, exists only for legacy support, use ngIf instead
       * @param componentType
       */
      /**
       * @deprecated DO NOT USE THIS, exists only for legacy support, use ngIf instead
       * @param {?} componentType
       * @return {?}
       */
      ViewComponent.prototype._createDynamicComponent = /**
       * @deprecated DO NOT USE THIS, exists only for legacy support, use ngIf instead
       * @param {?} componentType
       * @return {?}
       */
          function (componentType) {
              /** @type {?} */
              var comp = null;
              if (this.dialog != null && this.dialog.viewContainer != null) {
                  try {
                      /** @type {?} */
                      var compFactory = this.getSession().getInjector(i0.ComponentFactoryResolver);
                      if (compFactory != null) {
                          /** @type {?} */
                          var compRef = void 0;
                          if (componentType === ComponentType.LABEL) {
                              compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(LabelComponent));
                          }
                          else if (componentType === ComponentType.BUTTON) {
                              compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(ButtonComponent));
                          }
                          else if (componentType === ComponentType.COMBOBOX) {
                              compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(ComboBoxComponent));
                          }
                          else if (componentType === ComponentType.TEXT_FIELD) {
                              compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(TextFieldComponent));
                          }
                          else if (componentType === ComponentType.CHECKBOX) {
                              compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(CheckboxComponent));
                          }
                          else if (componentType === ComponentType.RADIO) {
                              compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(RadioButtonComponent));
                          }
                          else if (componentType === ComponentType.TEXTAREA) {
                              compRef = this.dialog.viewContainer.createComponent(compFactory.resolveComponentFactory(TextAreaComponent));
                          }
                          else {
                              throw new Error("Unknown component type: " + componentType);
                          }
                          if (compRef != null) {
                              comp = compRef.instance;
                              comp.compRef = compRef;
                              comp.compRef.changeDetectorRef.detectChanges();
                          }
                      }
                  }
                  catch (e) {
                      console.error("fail to create component: " + e);
                  }
              }
              return comp;
          };
      /**
       * @deprecated DO NOT USE THIS! Exists only for legacy support
       * @param id
       */
      /**
       * @deprecated DO NOT USE THIS! Exists only for legacy support
       * @param {?} id
       * @return {?}
       */
      ViewComponent.prototype._removeComponent = /**
       * @deprecated DO NOT USE THIS! Exists only for legacy support
       * @param {?} id
       * @return {?}
       */
          function (id) {
              var e_2, _a, e_3, _b;
              /** @type {?} */
              var child = this.findElementById(id);
              if (child != null) {
                  child.destroyComponent();
              }
              else {
                  if (this.dialog != null &&
                      this.dialog.viewContainer != null &&
                      ( /** @type {?} */(this.dialog.viewContainer))._embeddedViews != null &&
                      Array.isArray(( /** @type {?} */(this.dialog.viewContainer))._embeddedViews) &&
                      ( /** @type {?} */(this.dialog.viewContainer))._embeddedViews.length > 0) {
                      try {
                          /** @type {?} */
                          var ev = ( /** @type {?} */(this.dialog.viewContainer))._embeddedViews;
                          try {
                              for (var ev_1 = __values(ev), ev_1_1 = ev_1.next(); !ev_1_1.done; ev_1_1 = ev_1.next()) {
                                  var v = ev_1_1.value;
                                  if (v.nodes && Array.isArray(v.nodes) && v.nodes.length > 0) {
                                      try {
                                          for (var _c = __values(v.nodes), _d = _c.next(); !_d.done; _d = _c.next()) {
                                              var n = _d.value;
                                              if (n.instance != null && n.instance.id === id) {
                                                  if (typeof n.instance.destroyComponent === 'function') {
                                                      n.instance.destroyComponent();
                                                      /* istanbul ignore if */
                                                      if (AppUtils.enableLogging === true) {
                                                          console.info("Removed component: " + id);
                                                      }
                                                  }
                                                  break;
                                              }
                                          }
                                      }
                                      catch (e_3_1) {
                                          e_3 = { error: e_3_1 };
                                      }
                                      finally {
                                          try {
                                              if (_d && !_d.done && (_b = _c.return))
                                                  _b.call(_c);
                                          }
                                          finally {
                                              if (e_3)
                                                  throw e_3.error;
                                          }
                                      }
                                  }
                              }
                          }
                          catch (e_2_1) {
                              e_2 = { error: e_2_1 };
                          }
                          finally {
                              try {
                                  if (ev_1_1 && !ev_1_1.done && (_a = ev_1.return))
                                      _a.call(ev_1);
                              }
                              finally {
                                  if (e_2)
                                      throw e_2.error;
                              }
                          }
                      }
                      catch (e) {
                          console.error(e);
                      }
                  }
              }
          };
      /**
       * Check if this view can be active
       * @returns True if view can be active or parent is null
       */
      /**
       * Check if this view can be active
       * @return {?} True if view can be active or parent is null
       */
      ViewComponent.prototype.isView = /**
       * Check if this view can be active
       * @return {?} True if view can be active or parent is null
       */
          function () {
              return this.canBeActiveView !== false ? true : (this.getParent() == null ? true : false);
          };
      /**
       * Check if this view can't be active view
       * @returns True if view can't be active view
       */
      /**
       * Check if this view can't be active view
       * @return {?} True if view can't be active view
       */
      ViewComponent.prototype.isNoneActiveView = /**
       * Check if this view can't be active view
       * @return {?} True if view can't be active view
       */
          function () {
              return this.canBeActiveView === false;
          };
      /**
       * Check if this is a dynamic page
       * @returns True if it is a dynamic page
       */
      /**
       * Check if this is a dynamic page
       * @return {?} True if it is a dynamic page
       */
      ViewComponent.prototype.isDynamicView = /**
       * Check if this is a dynamic page
       * @return {?} True if it is a dynamic page
       */
          function () {
              return this.isDynamicPage === true ? true : false;
          };
      /**
       * Set [[DialogComponent]] instance z-index
       * @param newZIndex
       */
      /**
       * Set [[DialogComponent]] instance z-index
       * @param {?} newZIndex
       * @return {?}
       */
      ViewComponent.prototype.updateZIndex = /**
       * Set [[DialogComponent]] instance z-index
       * @param {?} newZIndex
       * @return {?}
       */
          function (newZIndex) {
              if (this.dialog != null && this.isDestroyed !== true && this.disabled != true) {
                  this.dialog.updateZIndex(newZIndex);
                  this.zIndex = newZIndex;
              }
          };
      /**
       * Get JSON representation of this component
       * @returns Object JSON metadata for this component
       */
      /**
       * Get JSON representation of this component
       * @return {?} Object JSON metadata for this component
       */
      ViewComponent.prototype.toJson = /**
       * Get JSON representation of this component
       * @return {?} Object JSON metadata for this component
       */
          function () {
              /** @type {?} */
              var json = _super.prototype.toJson.call(this);
              this.setJson(json, "screenIndex", this.getScreenIndex());
              if (this.getSession().getMcoContainer().activeView().getId() === this.getId() && UiDocument.menuItemElementMap != null) {
                  /** @type {?} */
                  var menuItems = [];
                  /** @type {?} */
                  var keySet = UiDocument.menuItemElementMap.keys();
                  /** @type {?} */
                  var keyIt = keySet.next();
                  while (keyIt.done !== true) {
                      menuItems.push(UiDocument.menuItemElementMap.get(keyIt.value).toJson());
                      keyIt = keySet.next();
                  }
                  if (this._inactiveMenuItems != null) {
                      /** @type {?} */
                      var keyIt_1 = this._inactiveMenuItems.values();
                      /** @type {?} */
                      var rs = keyIt_1.next();
                      while (rs.done !== true) {
                          menuItems.push(rs.value.toJson());
                          rs = keyIt_1.next();
                      }
                  }
                  if (json["children"] != null) {
                      json["children"] = json["children"].concat(menuItems);
                  }
                  else {
                      json["children"] = menuItems;
                  }
              }
              return json;
          };
      /**
       * Add component id to [[defIds]]
       * @param id
       */
      /**
       * Add component id to [[defIds]]
       * @param {?} id
       * @return {?}
       */
      ViewComponent.prototype.trackDef = /**
       * Add component id to [[defIds]]
       * @param {?} id
       * @return {?}
       */
          function (id) {
              this.defIds.push(id);
          };
      /**
       * @param {?} viewId
       * @return {?}
       */
      ViewComponent.hasIdAsCloseTargetOnInit = /**
       * @param {?} viewId
       * @return {?}
       */
          function (viewId) {
              return ViewComponent.closeOnInit.idSet.has(viewId);
          };
      /**
       * @param {?} viewType
       * @return {?}
       */
      ViewComponent.hasTypeAsCloseTargetOnInit = /**
       * @param {?} viewType
       * @return {?}
       */
          function (viewType) {
              return ViewComponent.closeOnInit.types.has(viewType);
          };
      /**
       * @return {?}
       */
      ViewComponent.hookClosePrevView2DynamicPagesService = /**
       * @return {?}
       */
          function () {
              if (!ViewComponent.closeOnInit.hooked) {
                  DynamicPagesService.onCreateViewCloser = function (sessionService, viewType, routeId) {
                      ViewComponent.closePrevView(sessionService, routeId ? routeId : viewType);
                  };
                  ViewComponent.closeOnInit.hooked = true;
              }
          };
      /**
       * @param {?} sessionService
       * @param {?} target
       * @return {?}
       */
      ViewComponent.closePrevView = /**
       * @param {?} sessionService
       * @param {?} target
       * @return {?}
       */
          function (sessionService, target) {
              /** @type {?} */
              var view = null;
              if ((typeof target) == "string") {
                  /** @type {?} */
                  var screenId = /** @type {?} */ (target);
                  if (ViewComponent.hasIdAsCloseTargetOnInit(screenId)) {
                      view = sessionService.getMcoContainer().getViewById(screenId);
                  }
              }
              else if (target instanceof i0.Type) {
                  /** @type {?} */
                  var viewType_1 = /** @type {?} */ (target);
                  if (ViewComponent.hasTypeAsCloseTargetOnInit(viewType_1)) {
                      view = _.find(sessionService.getMcoContainer().getViews(), function (v) { return v.constructor == viewType_1; });
                  }
              }
              //Vivify: if view has actionForwardName, do not close the view as we will call it handleActionForward() to refresh the screen.
              if (view && view.actionForwardName == null) {
                  view.close();
              }
          };
      /**
       * Close previous version of this view (if this view is "re-open"). This is to support usage
       * of removing current view and replacing with new view
       * @param viewId
       */
      /**
       * Close previous version of this view (if this view is "re-open"). This is to support usage
       * of removing current view and replacing with new view
       * @param {?} viewId
       * @param {?=} delayDialogClose
       * @return {?}
       */
      ViewComponent.prototype.closeView = /**
       * Close previous version of this view (if this view is "re-open"). This is to support usage
       * of removing current view and replacing with new view
       * @param {?} viewId
       * @param {?=} delayDialogClose
       * @return {?}
       */
          function (viewId, delayDialogClose) {
              var _this = this;
              /** @type {?} */
              var checkScreenInique = viewId === this.id;
              /** @type {?} */
              var oldView = _.find(this.getSession().getMcoContainer().getViews(), function (view) {
                  return view.id === viewId &&
                      (checkScreenInique === false ||
                          (checkScreenInique === true &&
                              view.uniqueId !== _this.uniqueId));
              });
              if (oldView != null) {
                  //for case where we are the same screen, we should't call beforeDestroyCb to cleanup
                  if (checkScreenInique === true) {
                      oldView.beforeDestroyCb = null;
                  }
                  oldView.close(delayDialogClose);
              }
              if (!this.viewIsInitialized && checkScreenInique) {
                  // This case is too late to close. This object's view is already exist, reused and un-closable!
                  // To save this trying, and execute closing at router before create new view.
                  if (!ViewComponent.closeOnInit.idSet.has(viewId)) {
                      ViewComponent.closeOnInit.idSet.add(viewId);
                  }
                  /** @type {?} */
                  var oType = /** @type {?} */ (this.constructor);
                  if (!ViewComponent.closeOnInit.types.has(oType)) {
                      ViewComponent.closeOnInit.types.add(oType);
                  }
                  ViewComponent.hookClosePrevView2DynamicPagesService();
              }
          };
      /**
       * Add a [[PopupMenuDirective]] to [[popupMenus]] property
       * @param popupMenu Popup menu to add to internal [[popupMenus]] list
       */
      /**
       * Add a [[PopupMenuDirective]] to [[popupMenus]] property
       * @param {?} popupMenu Popup menu to add to internal [[popupMenus]] list
       * @return {?}
       */
      ViewComponent.prototype.registerPopupMenu = /**
       * Add a [[PopupMenuDirective]] to [[popupMenus]] property
       * @param {?} popupMenu Popup menu to add to internal [[popupMenus]] list
       * @return {?}
       */
          function (popupMenu) {
              if (this.popupMenus == null) {
                  this.popupMenus = [];
              }
              this.popupMenus.push(popupMenu);
          };
      /**
       * Check if [[popupMenus]] has 1 or more items
       * @returns True if [[popupMenus]] is defined and has at least 1 item
       */
      /**
       * Check if [[popupMenus]] has 1 or more items
       * @return {?} True if [[popupMenus]] is defined and has at least 1 item
       */
      ViewComponent.prototype.hasPopupMenu = /**
       * Check if [[popupMenus]] has 1 or more items
       * @return {?} True if [[popupMenus]] is defined and has at least 1 item
       */
          function () {
              return this.popupMenus != null && this.popupMenus.length > 0;
          };
      /**
       * Get the ID of the first [[PopupMenuDirective]] instance in [[popupMenus
       * @returns Id of popup menu
       */
      /**
       * Get the ID of the first [[PopupMenuDirective]] instance in [[popupMenus
       * @return {?} Id of popup menu
       */
      ViewComponent.prototype.getFirstPopupMenuId = /**
       * Get the ID of the first [[PopupMenuDirective]] instance in [[popupMenus
       * @return {?} Id of popup menu
       */
          function () {
              return this.popupMenus != null && this.popupMenus.length > 0 ? this.popupMenus[0].id : null;
          };
      /**
       * Delegate to [[BaseComponent]] findElementById method
       * @param id Component ID
       */
      /**
       * Delegate to [[BaseComponent]] findElementById method
       * @param {?} id Component ID
       * @return {?}
       */
      ViewComponent.prototype.findElementById = /**
       * Delegate to [[BaseComponent]] findElementById method
       * @param {?} id Component ID
       * @return {?}
       */
          function (id) {
              /** @type {?} */
              var comp = _super.prototype.findElementById.call(this, id);
              if (comp == null && this._tableColumnsMap != null) {
                  comp = this._tableColumnsMap.get(KeyUtils.toMapKey(id));
              }
              if (comp == null) {
                  //check for inactive menu items
                  comp = /** @type {?} */ (this.getInactiveMenuItem(id));
              }
              return comp;
          };
      /**
       * Stop change detection
       */
      /**
       * Stop change detection
       * @return {?}
       */
      ViewComponent.prototype.freezeChangeDetection = /**
       * Stop change detection
       * @return {?}
       */
          function () {
              if (this.getChangeDetector() != null) {
                  this.getChangeDetector().detach();
                  this.changeDetectionFrozen = true;
              }
          };
      /**
       * Resume change detection if it has been stopped
       */
      /**
       * Resume change detection if it has been stopped
       * @return {?}
       */
      ViewComponent.prototype.unfreezeChangeDetection = /**
       * Resume change detection if it has been stopped
       * @return {?}
       */
          function () {
              if (this.getChangeDetector() != null) {
                  this.getChangeDetector().detectChanges();
                  this.getChangeDetector().reattach();
              }
              this.changeDetectionFrozen = false;
          };
      /**
       * Check if change detection has been stopped
       * @returns True if change detection has been stopped
       */
      /**
       * Check if change detection has been stopped
       * @return {?} True if change detection has been stopped
       */
      ViewComponent.prototype.isChangeDetectionFrozen = /**
       * Check if change detection has been stopped
       * @return {?} True if change detection has been stopped
       */
          function () {
              return this.changeDetectionFrozen === true;
          };
      /**
       * Check if this is a container component
       * @returns True
       */
      /**
       * Check if this is a container component
       * @return {?} True
       */
      ViewComponent.prototype.isContainer = /**
       * Check if this is a container component
       * @return {?} True
       */
          function () {
              return true;
          };
      /**
       * Trigger change detection for parent [[BaseComponent]] and [[dialog]] instance
       */
      /**
       * Trigger change detection for parent [[BaseComponent]] and [[dialog]] instance
       * @return {?}
       */
      ViewComponent.prototype.detectChanges = /**
       * Trigger change detection for parent [[BaseComponent]] and [[dialog]] instance
       * @return {?}
       */
          function () {
              _super.prototype.detectChanges.call(this);
              if (this.dialog != null) {
                  this.dialog.detectChanges();
              }
          };
      /**
       * Mark this component for change detection
       */
      /**
       * Mark this component for change detection
       * @return {?}
       */
      ViewComponent.prototype.markForCheck = /**
       * Mark this component for change detection
       * @return {?}
       */
          function () {
              _super.prototype.markForCheck.call(this);
              if (this.dialog != null) {
                  this.dialog.markForCheck();
              }
          };
      /**
       * Show the view after it has been hidden via minimized
       */
      /**
       * Show the view after it has been hidden via minimized
       * @return {?}
       */
      ViewComponent.prototype.showView = /**
       * Show the view after it has been hidden via minimized
       * @return {?}
       */
          function () {
              if (this.dialog != null) {
                  this.dialog.showView();
              }
              delete this.isMinimized;
          };
      /**
       * Minimize the [[dialog]] of this component
       */
      /**
       * Minimize the [[dialog]] of this component
       * @return {?}
       */
      ViewComponent.prototype.minimize = /**
       * Minimize the [[dialog]] of this component
       * @return {?}
       */
          function () {
              if (this.dialog != null) {
                  this.dialog.minimize(null);
              }
          };
      /**
       * Move this component to the top of the view stack
       */
      /**
       * Move this component to the top of the view stack
       * @return {?}
       */
      ViewComponent.prototype.moveToTop = /**
       * Move this component to the top of the view stack
       * @return {?}
       */
          function () {
              this.getSession().getMcoContainer().reStackView(this.id), this.screenIndex;
          };
      /**
       * @param {?} menuItem
       * @return {?}
       */
      ViewComponent.prototype.trackInactiveMenuItem = /**
       * @param {?} menuItem
       * @return {?}
       */
          function (menuItem) {
              var e_4, _a;
              /** @type {?} */
              var id = menuItem.getId();
              /** @type {?} */
              var fauxMenuItem = new HTMLElementWrapper(null, "menuItem", null);
              fauxMenuItem.setAttribute("id", id);
              if (menuItem.item != null && menuItem.item.customAttributes != null) {
                  /** @type {?} */
                  var keys = _.keys(menuItem.item.customAttributes);
                  try {
                      for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {
                          var key = keys_1_1.value;
                          if (key !== "id") {
                              fauxMenuItem.setAttribute(key, menuItem.item.customAttributes[key]);
                          }
                      }
                  }
                  catch (e_4_1) {
                      e_4 = { error: e_4_1 };
                  }
                  finally {
                      try {
                          if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return))
                              _a.call(keys_1);
                      }
                      finally {
                          if (e_4)
                              throw e_4.error;
                      }
                  }
              }
              if (this._inactiveMenuItems == null) {
                  this._inactiveMenuItems = new Map();
              }
              this._inactiveMenuItems.set(id, fauxMenuItem);
          };
      /**
       * @param {?} id
       * @return {?}
       */
      ViewComponent.prototype.getInactiveMenuItem = /**
       * @param {?} id
       * @return {?}
       */
          function (id) {
              return this._inactiveMenuItems != null ? this._inactiveMenuItems.get(id) : null;
          };
      /**
       * @return {?}
       */
      ViewComponent.prototype.cleanup = /**
       * @return {?}
       */
          function () {
              _super.prototype.cleanup.call(this);
              if (this._viewChildrenMap != null) {
                  /** @type {?} */
                  var cit = this._viewChildrenMap.values();
                  /** @type {?} */
                  var val = cit.next();
                  while (val.done !== true) {
                      //some children are not actual BaseComponent
                      if (typeof val.value.emptyChildren === "function") {
                          val.value.emptyChildren();
                          val.value._isDying = true;
                      }
                      val = cit.next();
                  }
              }
              _super.prototype.emptyChildren.call(this);
          };
      /**
       * @return {?}
       */
      ViewComponent.prototype.isModalDialog = /**
       * @return {?}
       */
          function () {
              return this.dialog != null && (this.dialog.modal === true || this.dialog.modal === "true");
          };
      /**
       * Not implemented
       */
      /**
       * Not implemented
       * @return {?}
       */
      ViewComponent.prototype.handleActionForward = /**
       * Not implemented
       * @return {?}
       */
          function () {
          };
      /**
       * screen index(0~)の文字列表現
       */
      /**
       * screen index(0~)の文字列表現
       * @return {?}
       */
      ViewComponent.prototype.getScreenIndex = /**
       * screen index(0~)の文字列表現
       * @return {?}
       */
          function () {
              return (this.screenIndex === undefined || this.screenIndex === null)
                  ? ''
                  : this.screenIndex.toString();
          };
      /**
       * @return {?}
       */
      ViewComponent.prototype.registerScreenIndex = /**
       * @return {?}
       */
          function () {
              this.screenIndex = this.getSession().getMcoContainer().nextScreenIndex(this.baseScreenId);
          };
      /**
       * @param {?} boo
       * @return {?}
       */
      ViewComponent.prototype.setVisible = /**
       * @param {?} boo
       * @return {?}
       */
          function (boo) {
              _super.prototype.setVisible.call(this, boo);
              this.getSession().getMcoContainer().refreshBreadCrumb();
          };
      ViewComponent.closeOnInit = { idSet: new Set(), types: new Set(), hooked: false };
      ViewComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-dummy-view',
                      template: ''
                  }] }
      ];
      /** @nocollapse */
      ViewComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef }
          ];
      };
      ViewComponent.propDecorators = {
          dialog: [{ type: i0.ViewChild, args: [DialogComponent,] }]
      };
      return ViewComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var ViewModule = /** @class */ (function () {
      function ViewModule() {
      }
      ViewModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          BaseModule
                      ],
                      declarations: [ViewComponent],
                      providers: [
                          DynamicPagesService
                      ],
                      exports: [
                          ViewComponent,
                      ]
                  },] }
      ];
      return ViewModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for popup menu component
   */
  var PopupMenuComponent = /** @class */ (function (_super) {
      __extends(PopupMenuComponent, _super);
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param cd Change detector
       * @param differs
       * @param popupMenuService
       * @param renderer see [[BaseComponent]] constructor
       */
      function PopupMenuComponent(parent, sessionService, elementRef, cd, differs, popupMenuService, renderer) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.cd = cd;
          _this.popupMenuService = popupMenuService;
          _this.menuItems = [];
          _this.menuItemsDiffer = null;
          _this.isShown = false;
          _this.menuItemsDiffer = differs.find([]).create();
          _this.onDocumentClick = function (event) {
              _this.handleDocumentClick(event);
          };
          document.addEventListener("click", _this.onDocumentClick, true);
          return _this;
      }
      Object.defineProperty(PopupMenuComponent.prototype, "hasMenuItems", {
          get: /**
           * @return {?}
           */ function () {
              return this.menuItems != null && this.menuItems.length > 0;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * Do check lifecycle
       */
      /**
       * Do check lifecycle
       * @return {?}
       */
      PopupMenuComponent.prototype.ngDoCheck = /**
       * Do check lifecycle
       * @return {?}
       */
          function () {
              if (this.menuItemsDiffer.diff(this.menuItems)) {
                  this.cd.markForCheck();
              }
          };
      /**
       * After view init lifecycle. Trigger change detection and show this component
       */
      /**
       * After view init lifecycle. Trigger change detection and show this component
       * @return {?}
       */
      PopupMenuComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Trigger change detection and show this component
       * @return {?}
       */
          function () {
              var _this = this;
              _super.prototype.ngAfterViewInit.call(this);
              this.cd.detectChanges();
              UiDocument.registerMenuItemElement(this.getId(), /** @type {?} */ (this));
              /** @type {?} */
              var tm = setTimeout(function () {
                  clearTimeout(tm);
                  _this.show();
              });
          };
      /**
       * Destroy lifecycle. Remove event listeners and remove dropdown elements
       */
      /**
       * Destroy lifecycle. Remove event listeners and remove dropdown elements
       * @return {?}
       */
      PopupMenuComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Remove event listeners and remove dropdown elements
       * @return {?}
       */
          function () {
              _super.prototype.ngOnDestroy.call(this);
              UiDocument.unregisterMenuItemElement(this.getId());
              document.removeEventListener("click", this.onDocumentClick, true);
              this.dropdownContainer = null;
              this.dropdown = null;
          };
      /**
       * Show the popup by setting CSS position to on screen
       * @return {?}
       */
      PopupMenuComponent.prototype.show = /**
       * Show the popup by setting CSS position to on screen
       * @return {?}
       */
          function () {
              this.popupMenuService.setActiveMenu(this.id);
              if (this.dropdown != null) {
                  this.dropdown.show();
                  this.isShown = true;
                  /** @type {?} */
                  var position = this.getSession().getMousePosition();
                  if (position != null && this.dropdownContainer != null) {
                      this.renderer.setStyle(this.dropdownContainer.nativeElement, "left", position.x + "px");
                      this.renderer.setStyle(this.dropdownContainer.nativeElement, "top", position.y + "px");
                  }
                  this.cd.markForCheck();
              }
          };
      /**
       * Hide the popup menu
       * @return {?}
       */
      PopupMenuComponent.prototype.hide = /**
       * Hide the popup menu
       * @return {?}
       */
          function () {
              this.dropdown.hide();
              this.isShown = false;
              this.cd.markForCheck();
              this.popupMenuService.setActiveMenu(null);
          };
      /**
       * Event handler for mouse click
       * @param event
       */
      /**
       * Event handler for mouse click
       * @param {?} event
       * @return {?}
       */
      PopupMenuComponent.prototype.handleDocumentClick = /**
       * Event handler for mouse click
       * @param {?} event
       * @return {?}
       */
          function (event) {
              if (this.isShown === true && !this.elementRef.nativeElement.contains(event.target)) {
                  this.hide();
              }
          };
      /**
       * Get [[cd]] (Change detector) property
       */
      /**
       * Get [[cd]] (Change detector) property
       * @return {?}
       */
      PopupMenuComponent.prototype.getChangeDetector = /**
       * Get [[cd]] (Change detector) property
       * @return {?}
       */
          function () {
              return this.cd;
          };
      /**
       * Event handler that hides all other popup menus and displays this one
       * @param event
       */
      /**
       * Event handler that hides all other popup menus and displays this one
       * @param {?} event
       * @return {?}
       */
      PopupMenuComponent.prototype.dispSubmenu = /**
       * Event handler that hides all other popup menus and displays this one
       * @param {?} event
       * @return {?}
       */
          function (event) {
              /** @type {?} */
              var currentTarget = event.currentTarget;
              /** @type {?} */
              var currentChildren = currentTarget.children;
              /** @type {?} */
              var parentChildren = currentTarget.parentElement.children;
              for (var i = 0, len = parentChildren.length; i < len; i++) {
                  if (parentChildren[i] !== undefined) {
                      this.renderer.setStyle(parentChildren[i], "background-color", "#ffffff");
                  }
                  if (parentChildren[i].children[1] === undefined) {
                      continue;
                  }
                  parentChildren[i].children[1].classList.remove('popup-sub-menu-display');
              }
              if (currentChildren[1] === undefined
                  || (currentChildren[0] !== undefined && !currentChildren[0].classList.contains('dropdown-item'))) {
                  return;
              }
              currentChildren[1].classList.add('popup-sub-menu-display');
              this.renderer.setStyle(currentTarget, "background-color", "#f5de92");
          };
      /**
       * Set an attribute with value on the menu item
       * @param name Attribute name
       * @param value Attribute value
       */
      /**
       * Set an attribute with value on the menu item
       * @param {?} name Attribute name
       * @param {?} value Attribute value
       * @return {?}
       */
      PopupMenuComponent.prototype.setAttribute = /**
       * Set an attribute with value on the menu item
       * @param {?} name Attribute name
       * @param {?} value Attribute value
       * @return {?}
       */
          function (name, value) {
              this.setCustomAttribute(name, value);
          };
      /**
       * Get the value of an attribute by name
       * @param name Attribute name
       */
      /**
       * Get the value of an attribute by name
       * @param {?} name Attribute name
       * @return {?}
       */
      PopupMenuComponent.prototype.getAttribute = /**
       * Get the value of an attribute by name
       * @param {?} name Attribute name
       * @return {?}
       */
          function (name) {
              return this.getCustomAttribute(name);
          };
      /**
       * @return {?}
       */
      PopupMenuComponent.prototype.toJson = /**
       * @return {?}
       */
          function () {
              return _super.prototype.toJson.call(this);
          };
      PopupMenuComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-popup-menu-view',
                      template: "<div class=\"dropdown-container\" bs-dropdown-container #bsDropdownContainer>\n  <div id=\"{{id}}\" dropdown #myDropdown=\"bs-dropdown\" [autoClose]=\"true\">\n    <ul *dropdownMenu class=\"dropdown-menu popup-menu\" role=\"menu\" id=\"{{id}}_menus\">\n      <ng-template ngFor [ngForOf]=\"menuItems\" let-item>\n        <li *ngIf=\"item.text === '-' && item.display !== false\" role=\"separator\" class=\"divider\"></li>\n        <li (mouseover)=\"dispSubmenu($event)\" *ngIf=\"item.menuItems != null && item.menuItems.length > 0 && item.display !== false\" class=\"dropdown-submenu\" role=\"menuitem\" vt-menu-item-comp [text]=\"item.text\" id=\"{{item.id}}\" [menuItems]=\"item.menuItems\" [display]=\"item.display\" [item]=\"item\" [popupMenuId]=\"id\"></li>\n        <li (mouseover)=\"dispSubmenu($event)\" *ngIf=\"item.text !== '-' && (item.menuItems == null || item.menuItems.length === 0) && item.display !== false\" role=\"menuitem\" vt-menu-item-comp [text]=\"item.text\" id=\"{{item.id}}\" [menuItems]=\"item.menuItems\" [display]=\"item.display\" [item]=\"item\" [popupMenuId]=\"id\"></li>\n      </ng-template>\n    </ul>\n  </div>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      encapsulation: i0.ViewEncapsulation.None,
                      styles: [".hidden{display:none}.dropdown-submenu{position:relative}.dropdown-submenu>a{text-align:left;padding-right:43px!important}.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-1px;margin-left:-1px;border-radius:6px}.dropdown-submenu:hover>.dropdown-menu{display:block}.dropdown-submenu>a:after{display:block;position:relative;right:-8px;font-size:8px;content:\">\";color:#626d8d;text-shadow:1px 0 0 #626d8d;float:right;margin:2px 0 -10px;padding:0;width:0;height:0;background:0 0;border:none}.dropdown-submenu:hover>a:after{border-left-color:#fff}.dropdown-submenu.pull-left{float:none}.dropdown-submenu.pull-left>.dropdown-menu{left:-100%;margin-left:10px;border-radius:6px}.dropdown-container{position:absolute;z-index:9999}"]
                  }] }
      ];
      /** @nocollapse */
      PopupMenuComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.ChangeDetectorRef },
              { type: i0.IterableDiffers },
              { type: ContextMenuService },
              { type: i0.Renderer2 }
          ];
      };
      PopupMenuComponent.propDecorators = {
          idName: [{ type: i0.Input }],
          dropdown: [{ type: i0.ViewChild, args: ["myDropdown", { read: ngxBootstrap.BsDropdownDirective },] }],
          dropdownContainer: [{ type: i0.ViewChild, args: ["bsDropdownContainer", { read: i0.ElementRef },] }],
          menuItems: [{ type: i0.Input }]
      };
      return PopupMenuComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Menu item directive class. Adds menu dispay and behavior to component
   */
  var MenuItemDirective = /** @class */ (function () {
      function MenuItemDirective() {
          this.text = '';
          this.visible = true;
          this.onCommand = new i0.EventEmitter();
      }
      /**
       * Convert [[MenuItemDirective]] children of parent view to [[MenuItem]]
       * @param parentScreenId
       */
      /**
       * Convert [[MenuItemDirective]] children of parent view to [[MenuItem]]
       * @param {?=} parentScreenId
       * @return {?}
       */
      MenuItemDirective.prototype.toMenuItem = /**
       * Convert [[MenuItemDirective]] children of parent view to [[MenuItem]]
       * @param {?=} parentScreenId
       * @return {?}
       */
          function (parentScreenId) {
              var _this = this;
              /** @type {?} */
              var menuItem = {
                  id: this.id,
                  text: this.text,
                  menuItems: null,
                  onCommand: this.onCommand,
                  parentScreenId: parentScreenId,
                  display: this.visible
              };
              if (this.subMenuItems != null && this.subMenuItems.length > 0) {
                  //filter to remove self then map to MenuItem
                  menuItem.menuItems = this.subMenuItems.filter(function (item) { return item !== _this; }).map(function (item) { return item.toMenuItem(parentScreenId); });
              }
              return menuItem;
          };
      MenuItemDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-menu-item'
                  },] }
      ];
      MenuItemDirective.propDecorators = {
          idName: [{ type: i0.Input }],
          id: [{ type: i0.Input }],
          text: [{ type: i0.Input }],
          visible: [{ type: i0.Input }],
          onCommand: [{ type: i0.Output }],
          subMenuItems: [{ type: i0.ContentChildren, args: [MenuItemDirective,] }]
      };
      return MenuItemDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for menu item component. Child rendered by Menu directive
   */
  var MenuItemComponent = /** @class */ (function () {
      /**
       *
       * @param sessionService Injects reference to [[SessionService]] instance
       */
      function MenuItemComponent(sessionService, cd) {
          this.sessionService = sessionService;
          this.cd = cd;
          this.display = true;
          this.onClick = new i0.EventEmitter();
      }
      Object.defineProperty(MenuItemComponent.prototype, "hasMenuItems", {
          /**
           * Check if menu items exist
           * @returns True if [[menuItems]] exists and has 1 or more items
           */
          get: /**
           * Check if menu items exist
           * @return {?} True if [[menuItems]] exists and has 1 or more items
           */ function () {
              return this.menuItems != null && this.menuItems.length > 0;
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(MenuItemComponent.prototype, "isDivider", {
          /**
           * Check if this menu item is a separator/divider (i.e. hyphen)
           * @returns True if the menu item text is a hyphen
           */
          get: /**
           * Check if this menu item is a separator/divider (i.e. hyphen)
           * @return {?} True if the menu item text is a hyphen
           */ function () {
              return this.text === '-';
          },
          enumerable: true,
          configurable: true
      });
      Object.defineProperty(MenuItemComponent.prototype, "menuStyles", {
          /**
           * Get menu item styles map
           * @return Map of styles
           */
          get: /**
           * Get menu item styles map
           * @return {?} Map of styles
           */ function () {
              return this.item != null ? this.item.styles : null;
          },
          enumerable: true,
          configurable: true
      });
      /**
       * After view init lifecycle. Adds menu item to [[UiDocument]]
       */
      /**
       * After view init lifecycle. Adds menu item to [[UiDocument]]
       * @return {?}
       */
      MenuItemComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Adds menu item to [[UiDocument]]
       * @return {?}
       */
          function () {
              UiDocument.registerMenuItemElement(this.id, this);
          };
      /**
       * Destroy lifecycle. Remove menu item from [[UiDocument]]
       */
      /**
       * Destroy lifecycle. Remove menu item from [[UiDocument]]
       * @return {?}
       */
      MenuItemComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Remove menu item from [[UiDocument]]
       * @return {?}
       */
          function () {
              this.item = null;
              this.menuItems = null;
              UiDocument.unregisterMenuItemElement(this.id);
          };
      /**
       * Set an attribute with value on the menu item
       * @param name Attribute name
       * @param value Attribute value
       */
      /**
       * Set an attribute with value on the menu item
       * @param {?} name Attribute name
       * @param {?} value Attribute value
       * @return {?}
       */
      MenuItemComponent.prototype.setAttribute = /**
       * Set an attribute with value on the menu item
       * @param {?} name Attribute name
       * @param {?} value Attribute value
       * @return {?}
       */
          function (name, value) {
              if (this.item) {
                  if (name === "display" || name === "visible") {
                      value = value === true || value === "true";
                      this.display = value;
                      this.item.display = value;
                      this.cd.detectChanges();
                  }
                  else if (name === "text") {
                      this.text = value;
                      this.item.text = value;
                      this.cd.detectChanges();
                  }
                  else if (MenuItemBuilder.knownKeys.indexOf(name) < 0) {
                      if (this.item.customAttributes == null) {
                          this.item.customAttributes = {};
                      }
                      this.item.customAttributes[name] = value;
                  }
              }
          };
      /**
       * Get the value of an attribute by name
       * @param name Attribute name
       */
      /**
       * Get the value of an attribute by name
       * @param {?} name Attribute name
       * @return {?}
       */
      MenuItemComponent.prototype.getAttribute = /**
       * Get the value of an attribute by name
       * @param {?} name Attribute name
       * @return {?}
       */
          function (name) {
              if (this.item) {
                  if (MenuItemBuilder.knownKeys.indexOf(name) < 0) {
                      return this.item.customAttributes == null ? null : this.item.customAttributes[name];
                  }
                  else if (name === "display" || name === "visible") {
                      return this.display;
                  }
                  else if (name === "text") {
                      return this.text;
                  }
                  else if (name === "id") {
                      return this.id;
                  }
              }
          };
      /**
       * Get value of [[id]] property
       * @returns [[id]] value
       */
      /**
       * Get value of [[id]] property
       * @return {?} [[id]] value
       */
      MenuItemComponent.prototype.getId = /**
       * Get value of [[id]] property
       * @return {?} [[id]] value
       */
          function () {
              return this.id;
          };
      /**
       * Get value of [[text]] property
       * @returns [[text]] value
       */
      /**
       * Get value of [[text]] property
       * @return {?} [[text]] value
       */
      MenuItemComponent.prototype.getText = /**
       * Get value of [[text]] property
       * @return {?} [[text]] value
       */
          function () {
              return this.text;
          };
      /* istanbul ignore next */
      /**
       * Event handler fro mouseenter event
       * @param event Mouse event
       */
      /**
       * Event handler fro mouseenter event
       * @param {?} event Mouse event
       * @return {?}
       */
      MenuItemComponent.prototype.handleOnEnter = /**
       * Event handler fro mouseenter event
       * @param {?} event Mouse event
       * @return {?}
       */
          function (event) {
              /** @type {?} */
              var clientEvent = new ClientEvent(this, event);
              if (AppUtils.customizeClientEvent != null) {
                  AppUtils.customizeClientEvent(this, clientEvent);
              }
              if (this.item != null && this.item.parentScreenId != null) {
                  clientEvent.setParameter("screenId", this.item.parentScreenId);
              }
              this.sessionService.getEventHandler().setClientEvent(clientEvent);
              if (this.item && typeof this.item.onCommandCallback === 'function') {
                  this.item.onCommandCallback(this.item);
              }
              else if (this.item && this.item.onCommand) {
                  this.item.onCommand.emit();
              }
              if (this.popupMenuId != null) {
                  this.sessionService.hideContextMenu(this.popupMenuId);
              }
          };
      /* istanbul ignore next */
      /**
       * Event handler for mouseenter. Focuses the event target
       * @param event Mouse event
       */
      /**
       * Event handler for mouseenter. Focuses the event target
       * @param {?} event Mouse event
       * @return {?}
       */
      MenuItemComponent.prototype.handleMouseEnter = /**
       * Event handler for mouseenter. Focuses the event target
       * @param {?} event Mouse event
       * @return {?}
       */
          function (event) {
              event.target.focus();
          };
      /* istanbul ignore next */
      /**
       * Event handler for click.
       * @param event
       * @event OnCommand
       */
      /**
       * Event handler for click.
       * \@event OnCommand
       * @param {?} event
       * @return {?}
       */
      MenuItemComponent.prototype.handleOnClick = /**
       * Event handler for click.
       * \@event OnCommand
       * @param {?} event
       * @return {?}
       */
          function (event) {
              /** @type {?} */
              var clientEvent = new ClientEvent(this, event);
              if (AppUtils.customizeClientEvent != null) {
                  AppUtils.customizeClientEvent(this, clientEvent);
              }
              if (this.item != null && this.item.parentScreenId != null) {
                  clientEvent.setParameter("screenId", this.item.parentScreenId);
              }
              this.sessionService.getEventHandler().setClientEvent(clientEvent);
              if (this.item && typeof this.item.onCommandCallback === 'function') {
                  this.item.onCommandCallback(this.item);
              }
              else if (this.item && this.item.onCommand) {
                  this.item.onCommand.emit();
              }
              if (this.popupMenuId != null) {
                  this.sessionService.hideContextMenu(this.popupMenuId);
              }
          };
      /* istanbul ignore next */
      /**
       * Event handler for mousedown event
       * @param event Mouse down event
       */
      /**
       * Event handler for mousedown event
       * @param {?} event Mouse down event
       * @return {?}
       */
      MenuItemComponent.prototype.handleMouseDown = /**
       * Event handler for mousedown event
       * @param {?} event Mouse down event
       * @return {?}
       */
          function (event) {
              /** @type {?} */
              var clientEvent = new ClientEvent(this, event);
              if (AppUtils.customizeClientEvent != null) {
                  AppUtils.customizeClientEvent(this, clientEvent);
              }
              if (this.item != null && this.item.parentScreenId != null) {
                  clientEvent.setParameter("screenId", this.item.parentScreenId);
              }
              this.sessionService.getEventHandler().setClientEvent(clientEvent);
              if (this.item && typeof this.item.onMouseDownCallback === "function") {
                  this.item.onMouseDownCallback(this);
              }
          };
      /**
       * Get JSON representation for this component
       * @returns Object Metadata as JSON
       */
      /**
       * Get JSON representation for this component
       * @return {?} Object Metadata as JSON
       */
      MenuItemComponent.prototype.toJson = /**
       * Get JSON representation for this component
       * @return {?} Object Metadata as JSON
       */
          function () {
              var e_1, _a;
              /** @type {?} */
              var json = {};
              json["tagName"] = "menuItem";
              json["nxTagName"] = "menuItem";
              if (this.id != null) {
                  json["id"] = this.id;
              }
              if (this.text != null) {
                  json["text"] = this.text;
              }
              /* istanbul ignore if */
              if (this.popupMenuId != null) {
                  json["popup"] = "#" + this.popupMenuId;
              }
              /* istanbul ignore if */
              if (this.item.customAttributes != null) {
                  /** @type {?} */
                  var keys = _.keys(this.item.customAttributes);
                  try {
                      for (var keys_1 = __values(keys), keys_1_1 = keys_1.next(); !keys_1_1.done; keys_1_1 = keys_1.next()) {
                          var key = keys_1_1.value;
                          json[key] = KeyUtils.toJsonValue(this.item.customAttributes[key]);
                      }
                  }
                  catch (e_1_1) {
                      e_1 = { error: e_1_1 };
                  }
                  finally {
                      try {
                          if (keys_1_1 && !keys_1_1.done && (_a = keys_1.return))
                              _a.call(keys_1);
                      }
                      finally {
                          if (e_1)
                              throw e_1.error;
                      }
                  }
              }
              return json;
          };
      /**
       * Event handler to show the submenu items by adding CSS class
       * @param event
       */
      /**
       * Event handler to show the submenu items by adding CSS class
       * @param {?} event
       * @return {?}
       */
      MenuItemComponent.prototype.dispSubmenu = /**
       * Event handler to show the submenu items by adding CSS class
       * @param {?} event
       * @return {?}
       */
          function (event) {
              /** @type {?} */
              var currentTarget = event.currentTarget;
              /** @type {?} */
              var currentChildren = currentTarget.children;
              /** @type {?} */
              var parentChildren = currentTarget.parentElement.children;
              for (var i = 0, len = parentChildren.length; i < len; i++) {
                  if (parentChildren[i] !== undefined) {
                      parentChildren[i].style.backgroundColor = "#ffffff";
                  }
                  if (parentChildren[i].children[1] === undefined) {
                      continue;
                  }
                  parentChildren[i].children[1].classList.remove('popup-sub-menu-display');
              }
              if (currentChildren[1] === undefined
                  || (currentChildren[0] !== undefined && !currentChildren[0].classList.contains('dropdown-item'))) {
                  return;
              }
              currentChildren[1].classList.add('popup-sub-menu-display');
              currentTarget.style.backgroundColor = "#f5de92";
          };
      MenuItemComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: '[vt-menu-item-comp]',
                      template: "<a *ngIf=\"hasMenuItems && display !== false\" id=\"{{id}}\" [ngClass]=\"{'dropdown-item': true}\" tabindex=\"-1\">{{text}}</a>\n<a *ngIf=\"hasMenuItems !== true && display !== false\" id=\"{{id}}\" [ngClass]=\"{'dropdown-item': true}\" [ngStyle]=\"menuStyles\" tabindex=\"-1\" (keydown.enter)=\"handleOnEnter($event)\" (mouseenter)=\"handleMouseEnter($event)\" (mousedown)=\"handleMouseDown($event)\" (click)=\"handleOnClick($event)\">{{text}}</a>\n<ng-template [ngIf]=\"hasMenuItems\">\n  <ul class=\"dropdown-menu popup-menu\" role=\"menu\">\n    <ng-template ngFor [ngForOf]=\"menuItems\" let-subItem>\n      <li *ngIf=\"subItem.text === '-' && subItem.display !== false\" role=\"separator\" class=\"divider\"></li>\n      <li (mouseover)=\"dispSubmenu($event)\" *ngIf=\"subItem.menuItems != null && subItem.menuItems.length > 0 && subItem.display !== false\" class=\"dropdown-submenu\" role=\"menuitem\" vt-menu-item-comp [text]=\"subItem.text\" [id]=\"subItem.id\" [menuItems]=\"subItem.menuItems\" [display]=\"subItem.display\" [item]=\"subItem\" [popupMenuId]=\"popupMenuId\"></li>\n      <li (mouseover)=\"dispSubmenu($event)\" *ngIf=\"subItem.text !== '-' && (subItem.menuItems == null || subItem.menuItems.length === 0) && subItem.display !== false\" role=\"menuitem\" vt-menu-item-comp [text]=\"subItem.text\" [id]=\"subItem.id\" [menuItems]=\"subItem.menuItems\" [display]=\"subItem.display\" [item]=\"subItem\" [popupMenuId]=\"popupMenuId\"></li>\n    </ng-template>\n  </ul>\n</ng-template>\n",
                      styles: [""]
                  }] }
      ];
      /** @nocollapse */
      MenuItemComponent.ctorParameters = function () {
          return [
              { type: SessionService },
              { type: i0.ChangeDetectorRef }
          ];
      };
      MenuItemComponent.propDecorators = {
          text: [{ type: i0.Input }],
          id: [{ type: i0.Input }],
          menuItems: [{ type: i0.Input }],
          display: [{ type: i0.Input }],
          visible: [{ type: i0.Input }],
          item: [{ type: i0.Input }],
          popupMenuId: [{ type: i0.Input }],
          onClick: [{ type: i0.Output }]
      };
      return MenuItemComponent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Menu directive class
   */
  var MenuDirective = /** @class */ (function (_super) {
      __extends(MenuDirective, _super);
      function MenuDirective() {
          return _super !== null && _super.apply(this, arguments) || this;
      }
      MenuDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-menu',
                      providers: [
                          {
                              provide: MenuItemDirective,
                              useExisting: i0.forwardRef(function () { return MenuDirective; })
                          }
                      ]
                  },] }
      ];
      return MenuDirective;
  }(MenuItemDirective));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for popup menu container
   */
  var PopupMenuContainerComponent = /** @class */ (function () {
      /**
       *
       * @param contextMenuService Injects reference to context menu service
       * @param cd Injects change detector reference
       */
      function PopupMenuContainerComponent(contextMenuService, cd) {
          var _this = this;
          this.contextMenuService = contextMenuService;
          this.cd = cd;
          this.hasPopupMenu = false;
          this.activeMenuSubscription = this.contextMenuService.activeMenuObservable.subscribe(function (activeMenu) {
              _this.setActiveMenu(activeMenu);
          });
      }
      /**
       * Destroy lifecycle. Remove references
       */
      /**
       * Destroy lifecycle. Remove references
       * @return {?}
       */
      PopupMenuContainerComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Remove references
       * @return {?}
       */
          function () {
              if (this.activeMenuSubscription != null) {
                  this.activeMenuSubscription.unsubscribe();
              }
              this.activeMenuSubscription = null;
              this.activeMenuItems = null;
              this.contextMenuService = null;
          };
      /**
       * Set active menu by id
       * @param id Id of menu to set as active
       */
      /**
       * Set active menu by id
       * @param {?} id Id of menu to set as active
       * @return {?}
       */
      PopupMenuContainerComponent.prototype.setActiveMenu = /**
       * Set active menu by id
       * @param {?} id Id of menu to set as active
       * @return {?}
       */
          function (id) {
              this.activeMenuId = id;
              if (id != null) {
                  this.activeMenuItems = this.contextMenuService.getContextMenuItems(id);
                  if (this.activeMenuItems != null && this.activeMenuItems.length > 0) {
                      this.hasPopupMenu = true;
                  }
              }
              else {
                  this.activeMenuItems = null;
                  this.hasPopupMenu = false;
              }
              this.cd.detectChanges();
          };
      PopupMenuContainerComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-popup-menu-container',
                      template: "<vt-popup-menu-view *ngIf=\"hasPopupMenu === true\" id=\"{{activeMenuId}}\" [menuItems]=\"activeMenuItems\"></vt-popup-menu-view>",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      styles: [""]
                  }] }
      ];
      /** @nocollapse */
      PopupMenuContainerComponent.ctorParameters = function () {
          return [
              { type: ContextMenuService },
              { type: i0.ChangeDetectorRef }
          ];
      };
      PopupMenuContainerComponent.propDecorators = {
          popupMenu: [{ type: i0.ViewChild, args: [PopupMenuComponent,] }]
      };
      return PopupMenuContainerComponent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Popup menu directive class. Adds context menu items to component
   */
  var PopupMenuDirective = /** @class */ (function () {
      /**
       *
       * @param parent
       * @param contextMenuService Injected service for context menu functions
       */
      function PopupMenuDirective(parent, contextMenuService) {
          this.parent = parent;
          this.contextMenuService = contextMenuService;
          this.disabled = false;
          this.visible = true;
          this.text = "";
      }
      /**
       * After view init lifecycle. Initialize submenu items
       */
      /**
       * After view init lifecycle. Initialize submenu items
       * @return {?}
       */
      PopupMenuDirective.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Initialize submenu items
       * @return {?}
       */
          function () {
              if (this.parent != null && this.parent.getParentView() != null) {
                  ( /** @type {?} */(this.parent.getParentView())).registerPopupMenu(this);
              }
              else {
                  this.convertSubMenuItems(null);
              }
          };
      /**
       * Delegate to [[ContextMenuService]] getContextMenuItems method
       */
      /**
       * Delegate to [[ContextMenuService]] getContextMenuItems method
       * @return {?}
       */
      PopupMenuDirective.prototype.getMenuItems = /**
       * Delegate to [[ContextMenuService]] getContextMenuItems method
       * @return {?}
       */
          function () {
              return this.contextMenuService.getContextMenuItems(this.id);
          };
      /**
       * Convert all sub menu items ([[MenuItemDirective]]) to [[MenuItem]]
       * @param parentScreenId Id of parent view component
       */
      /**
       * Convert all sub menu items ([[MenuItemDirective]]) to [[MenuItem]]
       * @param {?} parentScreenId Id of parent view component
       * @return {?}
       */
      PopupMenuDirective.prototype.convertSubMenuItems = /**
       * Convert all sub menu items ([[MenuItemDirective]]) to [[MenuItem]]
       * @param {?} parentScreenId Id of parent view component
       * @return {?}
       */
          function (parentScreenId) {
              /** @type {?} */
              var menuItems = [];
              if (this.subMenuItems) {
                  menuItems = this.subMenuItems.map(function (item) { return item.toMenuItem(parentScreenId); });
              }
              this.contextMenuService.registerContextMenu(this.id, menuItems, parentScreenId);
          };
      PopupMenuDirective.decorators = [
          { type: i0.Directive, args: [{
                      selector: 'vt-popup-menu'
                  },] }
      ];
      /** @nocollapse */
      PopupMenuDirective.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }] },
              { type: ContextMenuService }
          ];
      };
      PopupMenuDirective.propDecorators = {
          idName: [{ type: i0.Input }],
          id: [{ type: i0.Input }],
          disabled: [{ type: i0.Input }],
          visible: [{ type: i0.Input }],
          text: [{ type: i0.Input }],
          subMenuItems: [{ type: i0.ContentChildren, args: [MenuItemDirective,] }]
      };
      return PopupMenuDirective;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var PopupMenuModule = /** @class */ (function () {
      function PopupMenuModule() {
      }
      PopupMenuModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule,
                          ngxBootstrap.BsDropdownModule.forRoot()
                      ],
                      declarations: [
                          PopupMenuComponent,
                          MenuItemDirective,
                          MenuItemComponent,
                          MenuDirective,
                          PopupMenuContainerComponent,
                          PopupMenuDirective
                      ],
                      exports: [
                          PopupMenuComponent,
                          MenuItemDirective,
                          MenuItemComponent,
                          MenuDirective,
                          ngxBootstrap.BsDropdownModule,
                          PopupMenuContainerComponent,
                          PopupMenuDirective
                      ],
                      providers: [
                          ContextMenuService
                      ],
                      schemas: [i0.CUSTOM_ELEMENTS_SCHEMA]
                  },] }
      ];
      return PopupMenuModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for bottom/right split-pane section
   */
  var BottomPaneComponent = /** @class */ (function () {
      function BottomPaneComponent() {
      }
      /**
       * @return {?}
       */
      BottomPaneComponent.prototype.ngOnInit = /**
       * @return {?}
       */
          function () {
          };
      BottomPaneComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-bottom',
                      template: "<ng-template>\n  <ng-content></ng-content>\n</ng-template>",
                      styles: [""]
                  }] }
      ];
      /** @nocollapse */
      BottomPaneComponent.ctorParameters = function () { return []; };
      BottomPaneComponent.propDecorators = {
          content: [{ type: i0.ViewChild, args: [i0.TemplateRef,] }]
      };
      return BottomPaneComponent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for top/left split-pane section
   */
  var TopPaneComponent = /** @class */ (function () {
      function TopPaneComponent() {
      }
      /**
       * @return {?}
       */
      TopPaneComponent.prototype.ngOnInit = /**
       * @return {?}
       */
          function () {
          };
      TopPaneComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-top',
                      template: "<ng-template>\n  <ng-content></ng-content>\n</ng-template>",
                      styles: [""]
                  }] }
      ];
      /** @nocollapse */
      TopPaneComponent.ctorParameters = function () { return []; };
      TopPaneComponent.propDecorators = {
          content: [{ type: i0.ViewChild, args: [i0.TemplateRef,] }]
      };
      return TopPaneComponent;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * Class for split resizable panes
   */
  var SplitPaneComponent = /** @class */ (function (_super) {
      __extends(SplitPaneComponent, _super);
      /* istanbul ignore next */
      /**
       *
       * @param parent see [[BaseComponent]] constructor
       * @param sessionService see [[BaseComponent]] constructor
       * @param elementRef see [[BaseComponent]] constructor
       * @param renderer see [[BaseComponent]] constructor
       * @param zone Inject [[NgZone]] reference
       * @param cd Inject [[ChangeDetectorRef]]
       */
      function SplitPaneComponent(parent, sessionService, elementRef, renderer, zone, cd) {
          var _this = _super.call(this, parent, sessionService, elementRef, renderer) || this;
          _this.zone = zone;
          _this.cd = cd;
          /**
           * 'horizontal' = top/bottom panes, 'vertical' = left/right panes
           */
          _this.orientation = 'horizontal';
          /**
           * Where the divider position should be set
           */
          _this.splitPosition = '50%';
          _this._noScroll = false;
          _this.dividerStyles = {};
          _this.topPaneStyles = {};
          _this.bottomPaneStyles = {};
          _this.dividerCssClass = ["split-pane-divider"];
          _this._resizeOn = false;
          _this._prevPos = -1;
          _this._update = false;
          _this._handleMouseMove = _.throttle(function (event) {
              _this._resizePanels(event);
          }, 150);
          _this._handleMouseDown = function (event) {
              _this.zone.runOutsideAngular(function () {
                  document.addEventListener('mousemove', _this._handleMouseMove, true);
              });
              if (_this.orientation === "vertical") {
                  _this._prevPos = event.pageX;
              }
              else {
                  _this._prevPos = event.pageY;
              }
              _this._resizeOn = true;
              _this._update = false;
          };
          _this._handleMouseUp = function (event) {
              _this.zone.runOutsideAngular(function () {
                  document.removeEventListener("mousemove", _this._handleMouseMove, true);
              });
              _this._resizeOn = false;
              _this._update = true;
          };
          return _this;
      }
      Object.defineProperty(SplitPaneComponent.prototype, "noScroll", {
          get: /**
           * @return {?}
           */ function () { return this._noScroll; },
          /**
           * Set true, in case of cascading split pane
           */
          set: /**
           * Set true, in case of cascading split pane
           * @param {?} value
           * @return {?}
           */ function (value) {
              this._noScroll = value;
              this.topPaneStyles['overflow'] = value ? 'hidden' : 'inherit';
              this.bottomPaneStyles['overflow'] = value ? 'hidden' : 'inherit';
          },
          enumerable: true,
          configurable: true
      });
      /* istanbul ignore next */
      /**
       * Init lifecycle. Set panel width
       */
      /**
       * Init lifecycle. Set panel width
       * @return {?}
       */
      SplitPaneComponent.prototype.ngOnInit = /**
       * Init lifecycle. Set panel width
       * @return {?}
       */
          function () {
              _super.prototype.ngOnInit.call(this);
              this.setPaneWidth();
          };
      /* istanbul ignore next */
      /**
       * @return {?}
       */
      SplitPaneComponent.prototype.moveUp = /**
       * @return {?}
       */
          function () {
              if (this.orientation === 'horizontal') {
                  this.renderer.setStyle(this.topPaneElement.nativeElement, "height", "0%");
                  this.renderer.setStyle(this.bottomPaneElement.nativeElement, "height", "calc(100% - 13px)");
              }
              else {
                  this.renderer.setStyle(this.topPaneElement.nativeElement, "width", "calc(100% - 13px)");
                  this.renderer.setStyle(this.bottomPaneElement.nativeElement, "width", "0%");
              }
          };
      /* istanbul ignore next */
      /**
       * @return {?}
       */
      SplitPaneComponent.prototype.moveDown = /**
       * @return {?}
       */
          function () {
              if (this.orientation === 'horizontal') {
                  this.renderer.setStyle(this.topPaneElement.nativeElement, "height", "calc(100% - 13px)");
                  this.renderer.setStyle(this.bottomPaneElement.nativeElement, "height", "0%");
              }
              else {
                  this.renderer.setStyle(this.topPaneElement.nativeElement, "width", "0%");
                  this.renderer.setStyle(this.bottomPaneElement.nativeElement, "width", "calc(100% - 13px)");
              }
          };
      /**
       * Check if this is a container component
       * @returns True
       */
      /**
       * Check if this is a container component
       * @return {?} True
       */
      SplitPaneComponent.prototype.isContainer = /**
       * Check if this is a container component
       * @return {?} True
       */
          function () {
              return true;
          };
      /**
       * Set pane layout and dimensions
       * @return {?}
       */
      SplitPaneComponent.prototype.setPaneWidth = /**
       * Set pane layout and dimensions
       * @return {?}
       */
          function () {
              if (this.orientation === 'vertical') {
                  this.dividerStyles["height"] = "100%";
                  this.dividerStyles["width"] = "1px";
                  this.dividerStyles['float'] = 'left';
                  this.topPaneStyles['width'] = 'calc(' + this.splitPosition + ' - 3px)';
                  this.topPaneStyles['height'] = "100%";
                  this.topPaneStyles['float'] = 'left';
                  /** @type {?} */
                  var percent = this.splitPosition.split('%', 1)[0];
                  /** @type {?} */
                  var nPercent = +percent;
                  this.bottomPaneStyles['width'] = 'calc(' + (100 - nPercent) + '% - 10px)';
                  this.bottomPaneStyles['height'] = "100%";
                  this.bottomPaneStyles['float'] = 'left';
                  this.dividerCssClass.push("vertical");
              }
              else {
                  this.dividerStyles["height"] = "8px";
                  this.dividerStyles["width"] = "100%";
                  this.topPaneStyles['height'] = 'calc(' + this.splitPosition + ' - 3px)';
                  this.topPaneStyles['width'] = "100%";
                  /** @type {?} */
                  var percent = this.splitPosition.split('%', 1)[0];
                  /** @type {?} */
                  var nPercent = +percent;
                  this.bottomPaneStyles['height'] = 'calc(' + (100 - nPercent) + '% - 10px)';
                  this.bottomPaneStyles['width'] = "100%";
                  this.dividerCssClass.push("horizontal");
              }
          };
      /**
       * After view init lifecycle. Add event listeners
       */
      /**
       * After view init lifecycle. Add event listeners
       * @return {?}
       */
      SplitPaneComponent.prototype.ngAfterViewInit = /**
       * After view init lifecycle. Add event listeners
       * @return {?}
       */
          function () {
              var _this = this;
              _super.prototype.ngAfterViewInit.call(this);
              this.cd.detectChanges();
              this.zone.runOutsideAngular(function () {
                  ( /** @type {?} */(_this.splitPaneDivider.nativeElement)).addEventListener("mousedown", _this._handleMouseDown, true);
                  document.addEventListener("mouseup", _this._handleMouseUp, true);
              });
          };
      /* istanbul ignore next */
      /**
       * Destroy lifecycle. Remove event listeners
       */
      /**
       * Destroy lifecycle. Remove event listeners
       * @return {?}
       */
      SplitPaneComponent.prototype.ngOnDestroy = /**
       * Destroy lifecycle. Remove event listeners
       * @return {?}
       */
          function () {
              var _this = this;
              this.zone.runOutsideAngular(function () {
                  ( /** @type {?} */(_this.splitPaneDivider.nativeElement)).removeEventListener("mousedown", _this._handleMouseDown, true);
                  document.removeEventListener("mouseup", _this._handleMouseUp, true);
                  document.removeEventListener("mousemove", _this._handleMouseMove, true);
              });
              this._handleMouseDown = null;
              this._handleMouseMove = null;
              this._handleMouseUp = null;
              _super.prototype.ngOnDestroy.call(this);
          };
      /**
       * Event handler for panel resize event
       * @param {?} event Mouse event
       * @return {?}
       */
      SplitPaneComponent.prototype._resizePanels = /**
       * Event handler for panel resize event
       * @param {?} event Mouse event
       * @return {?}
       */
          function (event) {
              var _this = this;
              if (!this._update) {
                  if (this._containerWidth == null) {
                      /** @type {?} */
                      var c = $(this.splitPaneContainer.nativeElement);
                      this._containerHeight = c.height();
                      this._containerWidth = c.width();
                  }
                  this._update = true;
                  requestAnimationFrame(function () { return _this._doUpdate(event); });
              }
          };
      /**
       * Event handler for mouse event. Update pane width/height
       * @param {?} event Mouse event
       * @return {?}
       */
      SplitPaneComponent.prototype._doUpdate = /**
       * Event handler for mouse event. Update pane width/height
       * @param {?} event Mouse event
       * @return {?}
       */
          function (event) {
              if (this._resizeOn === true) {
                  if (this.orientation === "vertical") {
                      /** @type {?} */
                      var diff = this._prevPos - event.pageX;
                      /** @type {?} */
                      var leftWidth = ($(this.topPaneElement.nativeElement).width() - diff);
                      this._containerWidth = $(this.splitPaneContainer.nativeElement).width();
                      /** @type {?} */
                      var left = (leftWidth / this._containerWidth) * 100;
                      /** @type {?} */
                      var maximum = (leftWidth / (this._containerWidth - 15)) * 100;
                      if (maximum > 100)
                          this.renderer.setStyle(this.topPaneElement.nativeElement, "width", "calc(100% - 13px)");
                      else
                          this.renderer.setStyle(this.topPaneElement.nativeElement, "width", left + "%");
                      // this.renderer.setStyle(this.bottomPaneElement.nativeElement, "width", (this._containerWidth - (leftWidth + 6)) + "px");
                      this.renderer.setStyle(this.bottomPaneElement.nativeElement, "width", "calc(" + (100 - left) + "% - 13px)");
                      this._prevPos = event.pageX;
                  }
                  else {
                      /** @type {?} */
                      var diff = this._prevPos - event.pageY;
                      /** @type {?} */
                      var topHeight = ($(this.topPaneElement.nativeElement).height() - diff);
                      this._containerHeight = $(this.splitPaneContainer.nativeElement).height();
                      /** @type {?} */
                      var top_1 = (topHeight / this._containerHeight) * 100;
                      /** @type {?} */
                      var maximum = (topHeight / (this._containerHeight - 15)) * 100;
                      if (maximum > 100)
                          this.renderer.setStyle(this.topPaneElement.nativeElement, "height", "calc(100% - 13px");
                      else
                          this.renderer.setStyle(this.topPaneElement.nativeElement, "height", top_1 + "%");
                      // this.renderer.setStyle(this.bottomPaneElement.nativeElement, "height", (this._containerHeight - (topHeight + 10)) + "px");
                      this.renderer.setStyle(this.bottomPaneElement.nativeElement, "height", "calc(" + (100 - top_1) + "% - 13px)");
                      this._prevPos = event.pageY;
                  }
                  this._update = false;
              }
          };
      SplitPaneComponent.decorators = [
          { type: i0.Component, args: [{
                      selector: 'vt-split-pane',
                      template: "<div\n  class=\"vt-split-pane\"\n  id=\"{{id}}\"\n  [ngClass]=\"cssClass\"\n  [style.height]=\"controlHeight\"\n  [style.width.px]=\"controlWidth\"\n  #splitPaneContainer\n>\n  <section #topPaneSection class=\"top-pane\" *ngIf=\"topPane != null\" [ngStyle]=\"topPaneStyles\">\n    <ng-container *ngTemplateOutlet=\"topPane.content\" #containerTopTemplate></ng-container>\n  </section>\n  <div #splitPaneDivider [ngClass]=\"dividerCssClass\" [ngStyle]=\"dividerStyles\">\n    <span class=\"arrow left pull-left\" (click)=\"moveDown()\">\u2228</span>\n    <span class=\"arrow center\" style=\"font-size: 10pt;vertical-align: top;\">\uFF1D</span>\n    <span class=\"arrow right pull-right\" (click)=\"moveUp()\">\u2227</span>\n  </div>\n  <section #bottomPaneSection class=\"bottom-pane\" *ngIf=\"bottomPane != null\" [ngStyle]=\"bottomPaneStyles\">\n    <ng-container *ngTemplateOutlet=\"bottomPane.content\" #containerBottomTemplate></ng-container>\n  </section>\n</div>\n",
                      changeDetection: i0.ChangeDetectionStrategy.OnPush,
                      providers: [
                          {
                              provide: BaseComponent,
                              useExisting: i0.forwardRef(function () { return SplitPaneComponent; })
                          }
                      ],
                      styles: [".split-pane-divider{background-image:linear-gradient(#eff1f1,#cad5db);border:1px solid silver;box-sizing:content-box;overflow:hidden}.split-pane-divider .center{margin-left:0}.split-pane-divider.horizontal{margin:0;background:#cecece;background:linear-gradient(to bottom,#eff1f1,#cad5db)}.split-pane-divider.horizontal .arrow{font-size:10px;line-height:8px}.split-pane-divider.horizontal .center{position:relative;left:calc(50% - 9px);font-size:15px}.split-pane-divider.vertical{width:6px!important;height:calc(100% - 12px)!important;margin-top:5px;background:#cecece;background:linear-gradient(to right,#eff1f1,#cad5db)}.split-pane-divider.vertical:hover{cursor:ew-resize}.split-pane-divider.horizontal:hover{cursor:ns-resize}section.top-pane{overflow:auto}"]
                  }] }
      ];
      /** @nocollapse */
      SplitPaneComponent.ctorParameters = function () {
          return [
              { type: BaseComponent, decorators: [{ type: i0.Optional }, { type: i0.SkipSelf }] },
              { type: SessionService },
              { type: i0.ElementRef },
              { type: i0.Renderer2 },
              { type: i0.NgZone },
              { type: i0.ChangeDetectorRef }
          ];
      };
      SplitPaneComponent.propDecorators = {
          orientation: [{ type: i0.Input }],
          splitPosition: [{ type: i0.Input }],
          noScroll: [{ type: i0.Input }],
          topPaneElement: [{ type: i0.ViewChild, args: ["topPaneSection", { read: i0.ElementRef },] }],
          splitPaneDivider: [{ type: i0.ViewChild, args: ["splitPaneDivider", { read: i0.ElementRef },] }],
          bottomPaneElement: [{ type: i0.ViewChild, args: ["bottomPaneSection", { read: i0.ElementRef },] }],
          splitPaneContainer: [{ type: i0.ViewChild, args: ["splitPaneContainer", { read: i0.ElementRef },] }],
          topPane: [{ type: i0.ContentChild, args: [TopPaneComponent,] }],
          bottomPane: [{ type: i0.ContentChild, args: [BottomPaneComponent,] }]
      };
      return SplitPaneComponent;
  }(BaseComponent));

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  var SplitPaneModule = /** @class */ (function () {
      function SplitPaneModule() {
      }
      SplitPaneModule.decorators = [
          { type: i0.NgModule, args: [{
                      imports: [
                          common.CommonModule
                      ],
                      declarations: [
                          SplitPaneComponent,
                          TopPaneComponent,
                          BottomPaneComponent
                      ],
                      exports: [
                          SplitPaneComponent,
                          TopPaneComponent,
                          BottomPaneComponent
                      ]
                  },] }
      ];
      return SplitPaneModule;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */
  /**
   * @abstract
   */
  var /**
   * @abstract
   */ CustomAttribute = /** @class */ (function () {
      function CustomAttribute(parent) {
          this.parent = parent;
      }
      /**
       * @return {?}
       */
      CustomAttribute.prototype.ngOnInit = /**
       * @return {?}
       */
          function () {
              /** @type {?} */
              var name = this.getPropertyName();
              /** @type {?} */
              var value = this.getPropertyValue();
              if (this.parent != null && name != null && name !== "") {
                  if (value == null) {
                      value = "";
                  }
                  this.parent.setCustomAttribute(name, value);
              }
              else if (this.parent == null) {
                  console.error("Unable to set custom property, parent is null");
              }
          };
      return CustomAttribute;
  }());

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */

  /**
   * @fileoverview added by tsickle
   * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
   */

  exports.appInjector = appInjector;
  exports.AttributesEnum = AttributesEnum;
  exports.BaseComponent = BaseComponent;
  exports.BaseModule = BaseModule;
  exports.ComponentType = ComponentType;
  exports.AttributeChangeEvent = AttributeChangeEvent;
  exports.AppUtils = AppUtils;
  exports.ButtonComponent = ButtonComponent;
  exports.ButtonModule = ButtonModule;
  exports.CheckboxComponent = CheckboxComponent;
  exports.CheckboxModule = CheckboxModule;
  exports.ClientEvent = ClientEvent;
  exports.ComboBoxComponent = ComboBoxComponent;
  exports.ComboBoxModule = ComboBoxModule;
  exports.FauxComboElement = FauxComboElement;
  exports.DialogComponent = DialogComponent;
  exports.DialogModule = DialogModule;
  exports.DraggableDirective = DraggableDirective;
  exports.EventHandlerModule = EventHandlerModule;
  exports.EventHandlerService = EventHandlerService;
  exports.GridColumnDirective = GridColumnDirective;
  exports.HorizontalSeparatorModule = HorizontalSeparatorModule;
  exports.HorizontalSeparatorComponent = HorizontalSeparatorComponent;
  exports.Integer = Integer;
  exports.JavaModule = JavaModule;
  exports.JavaUtils = JavaUtils;
  exports.IllegalArgumentException = IllegalArgumentException;
  exports.DateFormat = DateFormat;
  exports.LabelComponent = LabelComponent;
  exports.LabelModule = LabelModule;
  exports.LayoutModule = LayoutModule;
  exports.LinkModule = LinkModule;
  exports.ListBoxDirective = ListBoxDirective;
  exports.ListItemDirective = ListItemDirective;
  exports.Long = Long;
  exports.McoContainerModule = McoContainerModule;
  exports.McoContainerService = McoContainerService;
  exports.MomentUtils = MomentUtils;
  exports.UiDocument = UiDocument;
  exports.Logger = Logger;
  exports.DynamicModule = DynamicModule;
  exports.DynamicElementBuilder = DynamicElementBuilder;
  exports.PanelComponent = PanelComponent;
  exports.RadioButtonComponent = RadioButtonComponent;
  exports.RadioButtonModule = RadioButtonModule;
  exports.ScrollPaneComponent = ScrollPaneComponent;
  exports.ScrollPaneModule = ScrollPaneModule;
  exports.SessionModule = SessionModule;
  exports.SessionService = SessionService;
  exports.StringBuilder = StringBuilder;
  exports.TableComponent = TableComponent;
  exports.TableModule = TableModule;
  exports.TabPaneModule = TabPaneModule;
  exports.TabPaneComponent = TabPaneComponent;
  exports.TabComponent = TabComponent;
  exports.TextAreaComponent = TextAreaComponent;
  exports.TextAreaModule = TextAreaModule;
  exports.TextFieldComponent = TextFieldComponent;
  exports.TextFieldModule = TextFieldModule;
  exports.TreeTableComponent = TreeTableComponent;
  exports.TreeTableModule = TreeTableModule;
  exports.HTMLElementWrapper = HTMLElementWrapper;
  exports.Vector = Vector;
  exports.HashMap = HashMap;
  exports.Hashtable = Hashtable;
  exports.ViewComponent = ViewComponent;
  exports.ViewModule = ViewModule;
  exports.DynamicPagesService = DynamicPagesService;
  exports.PopupMenuModule = PopupMenuModule;
  exports.PopupMenuComponent = PopupMenuComponent;
  exports.MenuItemBuilder = MenuItemBuilder;
  exports.SplitPaneModule = SplitPaneModule;
  exports.SplitPaneComponent = SplitPaneComponent;
  exports.TopPaneComponent = TopPaneComponent;
  exports.BottomPaneComponent = BottomPaneComponent;
  exports.KeyboardModule = KeyboardModule;
  exports.ArrowNavigatableContainerDirective = ArrowNavigatableContainerDirective;
  exports.ArrowNavigatableItemDirective = ArrowNavigatableItemDirective;
  exports.CustomAttribute = CustomAttribute;
  exports.TableColumnDirective = TableColumnDirective;
  exports.isIE = isIE;
  exports.ɵb = OnCreateDirective;
  exports.ɵl = ClipboardModule;
  exports.ɵk = ClipboardService;
  exports.ɵd = DynamicComponent;
  exports.ɵc = LinkComponent;
  exports.ɵa = ContextMenuService;
  exports.ɵo = MenuItemDirective;
  exports.ɵp = MenuItemComponent;
  exports.ɵq = MenuDirective;
  exports.ɵr = PopupMenuContainerComponent;
  exports.ɵs = PopupMenuDirective;
  exports.ɵn = TabHostDirective;
  exports.ɵi = FooterRowDirective;
  exports.ɵg = HeaderDirective;
  exports.ɵm = LockedColumnDirective;
  exports.ɵj = RowDirective;
  exports.ɵe = TableCellDirective;
  exports.ɵf = TableHeaderDirective;
  exports.ɵh = TableRowDefDirective;

  Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidml2aWZ5LWNvcmUtY29tcG9uZW50cy51bWQuanMubWFwIiwic291cmNlcyI6WyJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3Nlc3Npb24vYXBwLWluamVjdG9yLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9iYXNlL2F0dHJpYnV0ZXMuZW51bS50cyIsIm5vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2Jhc2Uva2V5LXV0aWxzLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9tY28tY29udGFpbmVyL21jby1jb250YWluZXIuc2VydmljZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvZXZlbnQtaGFuZGxlci9ldmVudC1oYW5kbGVyLnNlcnZpY2UudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3BvcHVwLW1lbnUvbWVudS1pdGVtLWJ1aWxkZXIudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3BvcHVwLW1lbnUvY29udGV4dC1tZW51LnNlcnZpY2UudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3Nlc3Npb24vc2Vzc2lvbi5zZXJ2aWNlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9qYXZhL2lsbGVnYWwtYXJndW1lbnQtZXhjZXB0aW9uLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9qYXZhL2phdmEtdXRpbHMudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2V2ZW50LWhhbmRsZXIvY2xpZW50LWV2ZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9qYXZhL2xpc3QtaXRlcmF0b3IudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2phdmEvdmVjdG9yLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9iYXNlL2F0dHJpYnV0ZS1jaGFuZ2UtZXZlbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2Jhc2UvYXBwLXV0aWxzLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9qYXZhL2hhc2gtbWFwLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9qYXZhL2hhc2h0YWJsZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvYmFzZS9sb2dnZXIudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2Jhc2UvYmFzZS5jb21wb25lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL21jby1jb250YWluZXIvbWNvLWNvbnRhaW5lci5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2V2ZW50LWhhbmRsZXIvZXZlbnQtaGFuZGxlci5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3Nlc3Npb24vc2Vzc2lvbi5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2phdmEvamF2YS5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2Jhc2Uvb24tY3JlYXRlLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvYmFzZS9iYXNlLm1vZHVsZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvYmFzZS9jb21wb25lbnQtdHlwZS5lbnVtLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9idXR0b24vYnV0dG9uLmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvYnV0dG9uL2J1dHRvbi5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2NoZWNrYm94L2NoZWNrYm94LmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvY2hlY2tib3gvY2hlY2tib3gubW9kdWxlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9jb21iby1ib3gvbGlzdC1pdGVtLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvY29tYm8tYm94L2xpc3QtYm94LmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvY29tYm8tYm94L2ZhdXgtY29tYm8tZWxlbWVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvY29tYm8tYm94L2NvbWJvLWJveC5jb21wb25lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2tleWJvYXJkL2Fycm93LW5hdmlnYXRhYmxlLWl0ZW0uZGlyZWN0aXZlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9rZXlib2FyZC9hcnJvdy1uYXZpZ2F0YWJsZS1jb250YWluZXIuZGlyZWN0aXZlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9rZXlib2FyZC9rZXlib2FyZC5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2NvbWJvLWJveC9jb21iby1ib3gubW9kdWxlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9kaWFsb2cvZHJhZ2dhYmxlLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdmlldy9keW5hbWljLXBhZ2VzLnNlcnZpY2UudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2Jhc2UvdWktZG9jdW1lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2RpYWxvZy9kaWFsb2cuY29tcG9uZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9kaWFsb2cvZGlhbG9nLm1vZHVsZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvbGF5b3V0L2dyaWQtY29sdW1uLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvaG9yaXpvbnRhbC1zZXBhcmF0b3IvaG9yaXpvbnRhbC1zZXBhcmF0b3IuY29tcG9uZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9ob3Jpem9udGFsLXNlcGFyYXRvci9ob3Jpem9udGFsLXNlcGFyYXRvci5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2phdmEvaW50ZWdlci50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvamF2YS9kYXRlLWZvcm1hdC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvbGFiZWwvbGFiZWwuY29tcG9uZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9sYWJlbC9sYWJlbC5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2xheW91dC9wYW5lbC5jb21wb25lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2xheW91dC9sYXlvdXQubW9kdWxlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9saW5rL2xpbmsuY29tcG9uZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9saW5rL2xpbmsubW9kdWxlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9qYXZhL2xvbmcudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2Jhc2UvbW9tZW50LXV0aWxzLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9keW5hbWljL2R5bmFtaWMuY29tcG9uZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy90ZXh0LWZpZWxkL3RleHQtZmllbGQuY29tcG9uZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy90ZXh0LWZpZWxkL3RleHQtZmllbGQubW9kdWxlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9keW5hbWljL2R5bmFtaWMubW9kdWxlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9keW5hbWljL2R5bmFtaWMtZWxlbWVudC5idWlsZGVyLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9yYWRpby1idXR0b24vcmFkaW8tYnV0dG9uLmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvcmFkaW8tYnV0dG9uL3JhZGlvLWJ1dHRvbi5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3Njcm9sbC1wYW5lL3Njcm9sbC1wYW5lLmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvc2Nyb2xsLXBhbmUvc2Nyb2xsLXBhbmUubW9kdWxlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9qYXZhL3N0cmluZy1idWlsZGVyLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy90YWJsZS90YWJsZS1jZWxsLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFibGUvdGFibGUtaGVhZGVyLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFibGUvaGVhZGVyLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFibGUvdGFibGUtY29sdW1uLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFibGUvdGFibGUtc2VsZWN0aW9uLWV2ZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy90cmVlLXRhYmxlL2h0bWwtZWxlbWVudC13cmFwcGVyLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy90YWJsZS90YWJsZS1yb3ctZGVmLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFibGUvZm9vdGVyLXJvdy5kaXJlY3RpdmUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3RhYmxlL3Jvdy5kaXJlY3RpdmUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL2NsaXBib2FyZC9jbGlwYm9hcmQuc2VydmljZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL2Z1bmN0aW9ucy9pcy1pZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFibGUvdGFibGUuY29tcG9uZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy90YWJsZS9sb2NrZWQtY29sdW1uLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvY2xpcGJvYXJkL2NsaXBib2FyZC5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3RhYmxlL3RhYmxlLm1vZHVsZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFiLXBhbmUvdGFiL3RhYi5jb21wb25lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3RhYi1wYW5lL3RhYi1wYW5lLmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFiLXBhbmUvdGFiL3RhYi1ob3N0LmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGFiLXBhbmUvdGFiLXBhbmUubW9kdWxlLnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy90ZXh0LWFyZWEvdGV4dC1hcmVhLmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvdGV4dC1hcmVhL3RleHQtYXJlYS5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3RyZWUtdGFibGUvdHJlZS10YWJsZS5jb21wb25lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3RyZWUtdGFibGUvdHJlZS10YWJsZS5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3ZpZXcvdmlldy5jb21wb25lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3ZpZXcvdmlldy5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3BvcHVwLW1lbnUvcG9wdXAtbWVudS5jb21wb25lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3BvcHVwLW1lbnUvbWVudS1pdGVtLmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvcG9wdXAtbWVudS9tZW51LWl0ZW0vbWVudS1pdGVtLmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvcG9wdXAtbWVudS9tZW51LmRpcmVjdGl2ZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvcG9wdXAtbWVudS9wb3B1cC1tZW51LWNvbnRhaW5lci9wb3B1cC1tZW51LWNvbnRhaW5lci5jb21wb25lbnQudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3BvcHVwLW1lbnUvcG9wdXAtbWVudS5kaXJlY3RpdmUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3BvcHVwLW1lbnUvcG9wdXAtbWVudS5tb2R1bGUudHMiLCJuZzovL3ZpdmlmeS1jb3JlLWNvbXBvbmVudHMvc3JjL2FwcC9tb2R1bGVzL3NwbGl0LXBhbmUvYm90dG9tLXBhbmUvYm90dG9tLXBhbmUuY29tcG9uZW50LnRzIiwibmc6Ly92aXZpZnktY29yZS1jb21wb25lbnRzL3NyYy9hcHAvbW9kdWxlcy9zcGxpdC1wYW5lL3RvcC1wYW5lL3RvcC1wYW5lLmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvc3BsaXQtcGFuZS9zcGxpdC1wYW5lLmNvbXBvbmVudC50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvc3BsaXQtcGFuZS9zcGxpdC1wYW5lLm1vZHVsZS50cyIsIm5nOi8vdml2aWZ5LWNvcmUtY29tcG9uZW50cy9zcmMvYXBwL21vZHVsZXMvYmFzZS9jdXN0b20tYXR0cmlidXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdG9yIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8qKlxuICogVGhpcyBjb25zdGFudCBwcm92aWRlIGEgZ2xvYmFsIGFjY2VzcyB0byBpbmplY3RvciBzbyB3ZSBjYW4gdXNlIGl0IHRvIHJldHJpZXZlXG4gKiBzZXJ2aWNlIGZyb20gcGxhY2Ugd2hlcmUgd2UgY2FuJ3QgaW5qZWN0IChsaWtlIGZ1bmN0aW9uKS5cbiAqXG4gKiAhISEhISEhISEhISEhIURPIE5PVCBVU0UgVEhJUyBJTiBQTEFDRVMgV0hFUkUgWU9VIENBTiBJTkpFQ1QgU0VSVklDRVMhISEhISEhISEhIVxuICovXG5sZXQgaW5qZWN0b3JSZWY6IEluamVjdG9yO1xuXG5leHBvcnQgY29uc3QgYXBwSW5qZWN0b3IgPSAoaW5qZWN0b3I/OiBJbmplY3Rvcik6IEluamVjdG9yID0+IHtcbiAgICBpZiAoaW5qZWN0b3IpIHtcbiAgICAgICAgaW5qZWN0b3JSZWYgPSBpbmplY3RvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5qZWN0b3JSZWY7XG59XG4iLCJleHBvcnQgZW51bSBBdHRyaWJ1dGVzRW51bSB7XG4gIElELFxuICBWSVNJQkxFLFxuICBDTEFTUyxcbiAgRElTQUJMRUQsXG4gIEVOQUJMRUQsXG4gIFRFWFQsXG4gIENPTE9SLFxuICBPTl9DT01NQU5ELFxuICBSRVFVSVJFLFxuICBUSVRMRSxcbiAgRk9OVF9CT0xELFxuICBTRUxFQ1RFRCxcbiAgQkdfQ09MT1IsXG4gIFZBTFVFLFxuICBQQVRURVJOLFxuICBNQVhfTEVOR1RILFxuICBNQVgsXG4gIE1JTlxufVxuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgS2V5VXRpbHMge1xuICAvKipcbiAgICogTWFrZSBrZXkgY2FzZSBpbnNlbnNpdGl2ZVxuICAgKiBAcGFyYW0ga2V5XG4gICAqL1xuICBzdGF0aWMgdG9NYXBLZXkoa2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmIChrZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGtleS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3RhdGljIHRvSnNvblZhbHVlKHZhbDogYW55KTogc3RyaW5nIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsID09PSBcImJvb2xlYW5cIikge1xuICAgICAgcmV0dXJuIHZhbCArIFwiXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB2YWw7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBLZXlVdGlscyB9IGZyb20gJy4uL2Jhc2Uva2V5LXV0aWxzJztcbmltcG9ydCB7IFZpZXdDb21wb25lbnQgfSBmcm9tICcuLi92aWV3L3ZpZXcuY29tcG9uZW50JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFZpZXdDaGFuZ2VkRXZlbnQgfSBmcm9tICcuL3ZpZXctY2hhbmdlZC5ldmVudCc7XG5cbkBJbmplY3RhYmxlKHtcbiAgcHJvdmlkZWRJbjogJ3Jvb3QnXG59KVxuZXhwb3J0IGNsYXNzIE1jb0NvbnRhaW5lclNlcnZpY2Uge1xuICAvKipcbiAgICogS2VlcHMgaW50ZXJuYWwgbGlzdCBvZiBhY3RpdmUgVmlld0NvbXBvbmVudHNcbiAgICovXG4gIHByaXZhdGUgYWN0aXZlVmlld3NTdGFjazogQXJyYXk8Vmlld0NvbXBvbmVudD4gPSBbXTtcblxuICAvL3N0b3JlZCBhY3Rpb25Gb3J3YXJkSGFuZGxlciAoZS5nLiBhIHN1YiB2aWV3KSB0aGF0IGRvZXMgbm90IGhhdmUgYW4gTlhNTFxuICBwcml2YXRlIGFjdGlvbkZvcndhcmRIYW5kbGVyOiBNYXA8c3RyaW5nLCBWaWV3Q29tcG9uZW50PjtcblxuICAvKipcbiAgICogSW50ZXJuYWwgbWFwIG9mIE1DTyBpbnN0YW5jZXNcbiAgICovXG4gIHByaXZhdGUgX21jb01hcDogTWFwPHN0cmluZywgYW55PiA9IG5ldyBNYXA8c3RyaW5nLCBhbnk+KCk7XG4gIHByaXZhdGUgcmVhZG9ubHkgTUlOX1pfSU5ERVggPSAxMDAwO1xuICBwcml2YXRlIHJlYWRvbmx5IE1BWF9aX0lOREVYID0gOTk5OTk7XG4gIC8vMTA1MCBpcyBmb3IgYWN0dWFsIG1vZGFsXG5cbiAgdmlld3NDaGFuZ2VkID0gbmV3IFN1YmplY3Q8Vmlld0NoYW5nZWRFdmVudD4oKTtcblxuICAvKipcbiAgICogR2V0IG1jbyBpbnN0YW5jZSBmcm9tIGludGVybmFsIFtbX21jb01hcF1dXG4gICAqIEBwYXJhbSBtY29OYW1lIE5hbWUgb2YgTUNPIGluc3RhbmNlXG4gICAqL1xuICBnZXRNY28obWNvTmFtZTogc3RyaW5nKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5fbWNvTWFwLmdldChLZXlVdGlscy50b01hcEtleShtY29OYW1lKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtYXhpbXVtIGFsbG93ZWQgei1pbmRleCB2YWx1ZSBmb3IgbGF5ZXJpbmcgd2luZG93c1xuICAgKi9cbiAgZ2V0TWF4WkluZGV4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuTUFYX1pfSU5ERVg7XG4gIH1cblxuICAvKipcbiAgICogQWxpYXMgb2YgW1tyZWdpc3Rlck1jb11dXG4gICAqIEBwYXJhbSBtY29OYW1lXG4gICAqIEBwYXJhbSBtY29cbiAgICovXG4gIGFkZE1jbyhtY29OYW1lOiBzdHJpbmcsIG1jbzogYW55KSB7XG4gICAgdGhpcy5yZWdpc3Rlck1jbyhtY29OYW1lLCBtY28pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBtY28gaW5zdGFuY2UgdG8gaW50ZXJuYWwgW1tfbWNvTWFwXV1cbiAgICogQHBhcmFtIG1jb05hbWVcbiAgICogQHBhcmFtIG1jb1xuICAgKi9cbiAgcmVnaXN0ZXJNY28obWNvTmFtZTogc3RyaW5nLCBtY286IGFueSkge1xuICAgIHRoaXMuX21jb01hcC5zZXQoS2V5VXRpbHMudG9NYXBLZXkobWNvTmFtZSksIG1jbyk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIG1jbyBvYmplY3QgZnJvbSBpbnRlcm5hbCBbW19tY29NYXBdXVxuICAgKiBAcGFyYW0gbWNvTmFtZSBOYW1lIG9mIG1jbyBpbnN0YW5jZSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZU1jbyhtY29OYW1lOiBzdHJpbmcpIHtcbiAgICBjb25zdCBrZXkgPSBLZXlVdGlscy50b01hcEtleShtY29OYW1lKTtcbiAgICBjb25zdCBtY28gPSB0aGlzLl9tY29NYXAuZ2V0KGtleSk7XG5cbiAgICBpZiAobWNvICE9IG51bGwgJiYgdHlwZW9mIG1jb1tcImNsZWFudXBcIl0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgbWNvLmNsZWFudXAoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9tY29NYXAuZGVsZXRlKGtleSk7XG4gIH1cblxuICAvKipcbiAgICogUHVzaCB2aWV3IHRvIHRoZSBsYXN0IGFjdGl2ZSB2aWV3IHN0YWNrLiBUaGlzIHdpbGwgYmUgdGhlIHZpZXcgdGhhdCByZXR1cm5lZFxuICAgKiB3aGVuIHBvcExhc3RBY3RpdmVWaWV3IGlzIGNhbGxlZC5cbiAgICpcbiAgICogQHBhcmFtIHZpZXcgVmlld0NvbXBvbmVudCB0byBiZSBhZGQgdG8gdGhlIHN0YWNrXG4gICAqL1xuICByZWdpc3RlclZpZXcodmlldzogVmlld0NvbXBvbmVudCkge1xuICAgIGlmICh2aWV3LmNhbkJlQWN0aXZlVmlldyAhPT0gdHJ1ZSkge1xuICAgICAgLy8gdGhpcy5hY3RpdmVWaWV3c1N0YWNrLnNwbGljZSgwLCAwLCB2aWV3KTtcbiAgICAgIC8vIHZpZXcuekluZGV4ID0gdGhpcy5NSU5fWl9JTkRFWCAtIHRoaXMuYWN0aXZlVmlld3NDb3VudCgpO1xuICAgICAgaWYgKHRoaXMuYWN0aW9uRm9yd2FyZEhhbmRsZXIgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmFjdGlvbkZvcndhcmRIYW5kbGVyID0gbmV3IE1hcDxzdHJpbmcsIFZpZXdDb21wb25lbnQ+KCk7XG4gICAgICB9XG4gICAgICB0aGlzLmFjdGlvbkZvcndhcmRIYW5kbGVyLnNldCh2aWV3LmFjdGlvbkZvcndhcmROYW1lLCB2aWV3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hY3RpdmVWaWV3c1N0YWNrLnB1c2godmlldyk7XG4gICAgICB2aWV3LnpJbmRleCA9IHRoaXMuZ2V0Vmlld1pJbmRleCgpO1xuICAgIH1cblxuICAgIHRoaXMuYWN0aXZlVmlld3NTdGFjayA9IF8udW5pcUJ5KHRoaXMuYWN0aXZlVmlld3NTdGFjaywgKHYpPT52LnVuaXF1ZUlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3AgbGFzdCBhY3RpdmUgdmlldy4gVGhpcyB3aWxsIHJlbW92ZSB0aGUgdmlldyBmcm9tIHRoZSBhY3RpdmUgc3RhY2tcbiAgICovXG4gIHBvcExhc3RBY3RpdmVWaWV3KCk6IFZpZXdDb21wb25lbnQge1xuICAgIHJldHVybiB0aGlzLmFjdGl2ZVZpZXdzU3RhY2sucG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgdmlldyB0aGF0IGhhcyBiZWVuIGRlc3Ryb3llZCBmcm9tIHRoZSBzdGFjay5cbiAgICpcbiAgICogQHBhcmFtIHZpZXcgVmlld0NvbXBvbmVudCB0byBiZSByZW1vdmVkIGZyb20gc3RhY2tcbiAgICovXG4gIHJlbW92ZVZpZXcodmlldzogVmlld0NvbXBvbmVudCkge1xuICAgIGlmICh2aWV3LmNhbkJlQWN0aXZlVmlldyAhPT0gdHJ1ZSl7XG4gICAgICBpZiAodGhpcy5hY3Rpb25Gb3J3YXJkSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYWN0aW9uRm9yd2FyZEhhbmRsZXIuZGVsZXRlKHZpZXcuYWN0aW9uRm9yd2FyZE5hbWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdGl2ZVZpZXdzU3RhY2sgPSBfLmZpbHRlcih0aGlzLmFjdGl2ZVZpZXdzU3RhY2ssICh2KT0+di51bmlxdWVJZCAhPT0gdmlldy51bmlxdWVJZCk7XG4gICAgICB0aGlzLnJlU3RhY2tWaWV3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1pbmltaXplIGEgdmlldyB3aW5kb3cgYnkgSURcbiAgICogQHBhcmFtIHZpZXdJZCBJZCBvZiB2aWV3IHRvIG1pbmltaXplXG4gICAqIEBwYXJhbSBzY3JlZW5JbmRleCAob3B0aW9uYWwpIGluZGV4IG9mIHNjcmVlbiBpZiBtdWx0aSBzY3JlZW4gc3VwcG9ydCBpcyBhbGxvd2VkXG4gICAqL1xuICBtaW5pbWl6ZVZpZXcodmlld0lkOiBzdHJpbmcsIHNjcmVlbkluZGV4OiBudW1iZXIgPSBudWxsKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0Vmlld0J5SWQodmlld0lkLCBzY3JlZW5JbmRleCk7XG5cbiAgICBpZiAodmlldyAhPSBudWxsKSB7XG4gICAgICB2aWV3LmlzTWluaW1pemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBsZXQgYWN0aXZlVmlldzogVmlld0NvbXBvbmVudCA9IG51bGw7XG4gICAgbGV0IGlzTW9kYWxBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGlmICh0aGlzLmFjdGl2ZVZpZXdzQ291bnQoKSA+IDEpIHtcbiAgICAgIGNvbnN0IHZpc2libGVWaWV3cyA9IHRoaXMuYWN0aXZlVmlld3NTdGFjay5maWx0ZXIodj0+di5pc01pbmltaXplZCAhPT0gdHJ1ZSAmJiB2LnNraXBCcmVhZENydW1iICE9PSB0cnVlKTtcblxuICAgICAgaWYgKHZpc2libGVWaWV3cyAhPSBudWxsICYmIHZpc2libGVWaWV3cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFjdGl2ZVZpZXcgPSB2aXNpYmxlVmlld3NbdmlzaWJsZVZpZXdzLmxlbmd0aCAtIDFdO1xuICAgICAgICBsZXQgaSA9IHZpc2libGVWaWV3cy5sZW5ndGggLSAxO1xuICAgICAgICAvLyBJdHRlcmF0ZSB0aHJvdWdoIHZpc2liaWxlIHZpZXdzIHRvIGxvb2sgZm9yIHRoZSBuZXh0IGRpYWxvZyB2aWV3IChub3Qgc3VidmlldylcbiAgICAgICAgd2hpbGUgKHZpc2libGVWaWV3c1tpXSAmJiAhYWN0aXZlVmlldy5kaWFsb2cpIHtcbiAgICAgICAgICBhY3RpdmVWaWV3ID0gdmlzaWJsZVZpZXdzW2ldXG4gICAgICAgICAgaS0tO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvdW50ID0gMDtcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKHZpc2libGVWaWV3c1tjb3VudF0pIHtcbiAgICAgICAgICAgIGlzTW9kYWxBY3RpdmUgPSB2aXNpYmxlVmlld3NbY291bnRdLmlzTW9kYWxEaWFsb2coKTtcbiAgICAgICAgICAgIGNvdW50ID0gY291bnQgKyAxO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoaXNNb2RhbEFjdGl2ZSAhPT0gdHJ1ZSAmJiBjb3VudCA8IHZpc2libGVWaWV3cy5sZW5ndGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudmlld3NDaGFuZ2VkLm5leHQoe1xuICAgICAgdmlld3M6IHRoaXMuZ2V0QnJlYWRjcnVtYih0aGlzLmFjdGl2ZVZpZXdzU3RhY2spLFxuICAgICAgYWN0aXZlVmlldzogYWN0aXZlVmlldyxcbiAgICAgIG1pbk1heEV2ZW50OiB0cnVlLFxuICAgICAgaXNNb2RhbEFjdGl2ZTogaXNNb2RhbEFjdGl2ZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIGEgdmlldyBieSBpZFxuICAgKiBAcGFyYW0gdmlld0lkIElkIG9mIHZpZXcgdG8gc2hvd1xuICAgKiBAcGFyYW0gc2NyZWVuSW5kZXggKG9wdGlvbmFsKSBpbmRleCBvZiBzY3JlZW4gaWYgbXVsdGkgc2NyZWVuIHN1cHBvcnQgaXMgYWxsb3dlZFxuICAgKi9cbiAgc2hvd1ZpZXcodmlld0lkOiBzdHJpbmcsIHNjcmVlbkluZGV4OiBudW1iZXIgPSBudWxsKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0Vmlld0J5SWQodmlld0lkLCBzY3JlZW5JbmRleCk7XG5cbiAgICBpZiAodmlldyAhPSBudWxsKSB7XG4gICAgICB2aWV3LmlzTWluaW1pemVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBsZXQgaXNNb2RhbEFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgbGV0IGNvdW50ID0gMDtcblxuICAgIGRvIHtcbiAgICAgIGlmICh0aGlzLmFjdGl2ZVZpZXdzU3RhY2tbY291bnRdKSB7XG4gICAgICAgIGlzTW9kYWxBY3RpdmUgPSB0aGlzLmFjdGl2ZVZpZXdzU3RhY2tbY291bnRdLmlzTW9kYWxEaWFsb2coKTtcbiAgICAgICAgY291bnQgPSBjb3VudCArIDE7XG4gICAgICB9XG4gICAgfSB3aGlsZSAoaXNNb2RhbEFjdGl2ZSAhPT0gdHJ1ZSAmJiBjb3VudCA8IHRoaXMuYWN0aXZlVmlld3NTdGFjay5sZW5ndGgpO1xuXG4gICAgdGhpcy52aWV3c0NoYW5nZWQubmV4dCh7XG4gICAgICB2aWV3czogdGhpcy5nZXRCcmVhZGNydW1iKHRoaXMuYWN0aXZlVmlld3NTdGFjayksXG4gICAgICBhY3RpdmVWaWV3OiB2aWV3LFxuICAgICAgbWluTWF4RXZlbnQ6IHRydWUsXG4gICAgICBpc01vZGFsQWN0aXZlOiBpc01vZGFsQWN0aXZlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2UgdGhlIHZpZXcgd2luZG93XG4gICAqIEBwYXJhbSB2aWV3SWQgSWQgb2YgdmlldyB0byBjbG9zZVxuICAgKiBAcGFyYW0gc2NyZWVuSW5kZXggKG9wdGlvbmFsKSBpbmRleCBvZiB0aGUgc2NyZWVuIGlmIG11bHRpIHNjcmVlbiBzdXBwb3J0XG4gICAqL1xuICBjbG9zZVZpZXcodmlld0lkOiBzdHJpbmcsIHNjcmVlbkluZGV4OiBudW1iZXIgPSBudWxsKSB7XG4gICAgY29uc3QgdmlldyA9IHRoaXMuZ2V0Vmlld0J5SWQodmlld0lkLCBzY3JlZW5JbmRleCk7XG5cbiAgICBpZiAodmlldyAhPSBudWxsKSB7XG4gICAgICB2aWV3LmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbnVtYmVyIG9mIGN1cnJlbnQgYWN0aXZlIHZpZXcgZnJvbSBbW2FjdGl2ZVZpZXdzU3RhY2tdXVxuICAgKiBAcmV0dXJucyBOdW1iZXIgb2YgYWN0aXZlIHZpZXdzXG4gICAqL1xuICBhY3RpdmVWaWV3c0NvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuYWN0aXZlVmlld3NTdGFjay5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgdG8gc2VlIGlmIGEgdmlldyBpcyBpbiB0aGUgW1thY3RpdmVWaWV3U3RhY2tdXVxuICAgKiBAcGFyYW0gdmlldyBWaWV3Q29tcG9uZW50J3MgaWQgYXMgYSBzdHJpbmcgb3IgW1tWaWV3Q29tcG9uZW50XV0gaW5zdGFuY2VcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdmlldyBjb21wb25lbnQgaXMgaW4gdGhlIFtbYWN0aXZlVmlld1N0YWNrXV1cbiAgICovXG4gIGhhc1ZpZXcodmlldzogVmlld0NvbXBvbmVudCB8IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGlmICh0eXBlb2YgdmlldyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBfLmZpbHRlcih0aGlzLmFjdGl2ZVZpZXdzU3RhY2ssICh2KT0+di5pZCA9PT0gdmlldyBhcyBzdHJpbmcpLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIF8uZmlsdGVyKHRoaXMuYWN0aXZlVmlld3NTdGFjaywgKHYpPT52LnVuaXF1ZUlkID09PSB2aWV3LnVuaXF1ZUlkKS5sZW5ndGggPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY3VycmVudCBhY3RpdmUgdmlld1xuICAgKiBAcmV0dXJucyB0aGUgYWN0aXZlIHZpZXcgZnJvbSB0aGUgdmlldyBzdGFja1xuICAgKi9cbiAgYWN0aXZlVmlldygpOiBWaWV3Q29tcG9uZW50IHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVWaWV3c0NvdW50KCkgPiAwID8gdGhpcy5hY3RpdmVWaWV3c1N0YWNrW3RoaXMuYWN0aXZlVmlld3NDb3VudCgpIC0gMV0gOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhIHZpZXcgZnJvbSBbW2FjdHJpdmVWaWV3U3RhY2tdXSBieSBJRFxuICAgKiBAcGFyYW0gdmlld0lkIFZpZXdzIGlkIHZhbHVlXG4gICAqIEBwYXJhbSBzY3JlZW5JbmRleCAob3B0aW9uYWwpIHRoZSBzY3JlZW5JbmRleCBvZiB0aGUgdmlldyAoaWYgbXVsdGlwbGUgc2NyZWVuIGlzIGFsbG93KVxuICAgKiBAcmV0dXJucyBWaWV3IHRoYXQgbWF0Y2hlcyB2YWx1ZSBvZiBpZFxuICAgKi9cbiAgZ2V0Vmlld0J5SWQodmlld0lkOiBzdHJpbmcsIHNjcmVlbkluZGV4OiBudW1iZXIgPSBudWxsKTogVmlld0NvbXBvbmVudCB7XG4gICAgcmV0dXJuIF8uZmluZCh0aGlzLmFjdGl2ZVZpZXdzU3RhY2ssICh2aWV3OiBWaWV3Q29tcG9uZW50KT0+e1xuICAgICAgcmV0dXJuIHZpZXcuaWQgPT09IHZpZXdJZCAmJiAoc2NyZWVuSW5kZXggPT0gbnVsbCB8fCAoc2NyZWVuSW5kZXggIT0gbnVsbCAmJiB2aWV3LnNjcmVlbkluZGV4ID09PSBzY3JlZW5JbmRleCkpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBoYW5kbGVyIHZpZXcgY29tcG9uZW50IGJ5IG5hbWVcbiAgICogQHBhcmFtIGFjdGlvbkZvcndhcmROYW1lXG4gICAqIEByZXR1cm5zIFZpZXcgY29tcG9uZW50IG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gY29tcG9uZW50IHdpdGggYWN0aW9uRm9yd2FyZE5hbWVcbiAgICovXG4gIGdldEFjdGlvbkZvcndhcmRIYW5kbGVyKGFjdGlvbkZvcndhcmROYW1lOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5hY3Rpb25Gb3J3YXJkSGFuZGxlciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5hY3Rpb25Gb3J3YXJkSGFuZGxlci5nZXQoYWN0aW9uRm9yd2FyZE5hbWUpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgW1thY3Rpb25Gb3J3YXJkSGFuZGxlcl1dXG4gICAqL1xuICBnZXRBY3Rpb25Gb3J3YXJkSGFuZGxlck1hcCgpIHtcbiAgICByZXR1cm4gdGhpcy5hY3Rpb25Gb3J3YXJkSGFuZGxlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFtbYWN0aXZlVmlld1N0YWNrXV1cbiAgICovXG4gIGdldFZpZXdzKCk6IEFycmF5PFZpZXdDb21wb25lbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5hY3RpdmVWaWV3c1N0YWNrO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB6LWluZGV4IChsYXllciBwb3NpdGlvbikgb2YgYWxsIGFjdGl2ZSB2aWV3c1xuICAgKiBAcGFyYW0gdG9wVmlld0lkIElEIG9mIHZpZXcgY29tcG9uZW50IHRvIHNldCBtYXggei1pbmRleCAodG9wKVxuICAgKi9cbiAgcmVTdGFja1ZpZXcodG9wVmlld0lkOiBzdHJpbmcgPSBudWxsLCBzY3JlZW5JbmRleDogbnVtYmVyID0gbnVsbCkge1xuICAgIHRoaXMuYWN0aXZlVmlld3NTdGFjayA9IF8uc29ydEJ5KHRoaXMuYWN0aXZlVmlld3NTdGFjaywgKHZpZXc6IFZpZXdDb21wb25lbnQpPT57XG4gICAgICAvL3dlIGFyZSB0b3Agdmlld1xuICAgICAgaWYgKHZpZXcuaWQgPT09IHRvcFZpZXdJZCAmJiAoc2NyZWVuSW5kZXggPT0gbnVsbCB8fCAoc2NyZWVuSW5kZXggPT09IHZpZXcuc2NyZWVuSW5kZXgpKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5NQVhfWl9JTkRFWDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZpZXcuekluZGV4O1xuICAgIH0pO1xuXG4gICAgbGV0IGlzTW9kYWxBY3RpdmU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIF8uZm9yRWFjaCh0aGlzLmFjdGl2ZVZpZXdzU3RhY2ssICh2aWV3OiBWaWV3Q29tcG9uZW50LCBpZHg6IG51bWJlcik9PntcbiAgICAgIHZpZXcudXBkYXRlWkluZGV4KHRoaXMuTUlOX1pfSU5ERVggKyBpZHgpO1xuXG4gICAgICBpZiAoaXNNb2RhbEFjdGl2ZSAhPT0gdHJ1ZSAmJiB2aWV3LmlzTW9kYWxEaWFsb2coKSA9PT0gdHJ1ZSkge1xuICAgICAgICBpc01vZGFsQWN0aXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMudmlld3NDaGFuZ2VkLm5leHQoe1xuICAgICAgdmlld3M6IHRoaXMuZ2V0QnJlYWRjcnVtYih0aGlzLmFjdGl2ZVZpZXdzU3RhY2spLFxuICAgICAgYWN0aXZlVmlldzogdGhpcy5hY3RpdmVWaWV3c1N0YWNrW3RoaXMuYWN0aXZlVmlld3NTdGFjay5sZW5ndGggLSAxXSxcbiAgICAgIGlzTW9kYWxBY3RpdmU6IGlzTW9kYWxBY3RpdmVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHotaW5kZXhcbiAgICovXG4gIGdldFZpZXdaSW5kZXgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5NSU5fWl9JTkRFWCArIHRoaXMuYWN0aXZlVmlld3NDb3VudCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRCcmVhZGNydW1iKHZpZXdzOiBBcnJheTxWaWV3Q29tcG9uZW50Pik6IEFycmF5PFZpZXdDb21wb25lbnQ+IHtcbiAgICByZXR1cm4gdmlld3MuZmlsdGVyKHY9PnYuc2tpcEJyZWFkQ3J1bWIgIT09IHRydWUgJiYgdi5kaWFsb2cgIT0gbnVsbCAmJiB2LnZpc2libGUgIT09IGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNlc3Npb24gZnJvbSBhbiBNQ08gaW5zdGFuY2VcbiAgICogQHBhcmFtIG1jb1xuICAgKiBAcmV0dXJucyBTZXNzaW9uXG4gICAqL1xuICBzdGF0aWMgZ2V0Q2xpZW50U2Vzc2lvbkZyb21NY28obWNvOiBhbnkpIHtcbiAgICByZXR1cm4gbWNvLmdldFNlc3Npb24oKTtcbiAgfVxuICAvKipcbiAgICogw6bCrMKhw6PCgcKuc2NyZWVuSW5kZXjDo8KCwpLDpcKPwpbDpcK+wpfDo8KBwpfDo8KBwr7Do8KBwpnDo8KAwoJcbiAgICogc2NyZWVuSW5kZXjDo8KBwq8xfjjDo8KBwq7DpcKAwqTDo8KCwpLDo8KBwqjDo8KCwovDo8KCwojDo8KBwobDo8KBwqvDo8KAwoHDo8KCwrXDo8KDwrzDo8KDwpDDo8KBwqfDpsKDwrPDpcKuwprDo8KBwpXDo8KCwozDo8KBwqbDo8KBwoTDo8KBwr7Do8KBwpnDo8KAwoJcbiAgICovXG4gIG5leHRTY3JlZW5JbmRleChiYXNlU2NyZWVuSWQ6c3RyaW5nLCBpZDpzdHJpbmcgPSBudWxsKTogbnVtYmVye1xuICAgIGNvbnN0IGV4aXN0aW5nU2NyZWVucyA9IHRoaXMuYWN0aXZlVmlld3NTdGFjay5maWx0ZXIodj0+XG4gICAgICAoaWQpXG4gICAgICAgID8gdi5pZCA9PT0gaWRcbiAgICAgICAgOiB2LmJhc2VTY3JlZW5JZCA9PT0gYmFzZVNjcmVlbklkXG4gICAgKTtcbiAgICBpZiAoZXhpc3RpbmdTY3JlZW5zLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGkgPSBfLm9yZGVyQnkoZXhpc3RpbmdTY3JlZW5zLCAoc2NyOiBWaWV3Q29tcG9uZW50KT0+c2NyLnNjcmVlbkluZGV4LCBcImRlc2NcIilcbiAgICAgICAgLnBvcCgpLnNjcmVlbkluZGV4XG4gICAgICByZXR1cm4gaSArIDE7XG4gICAgfWVsc2V7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cblxuICByZWZyZXNoQnJlYWRDcnVtYigpIHtcbiAgICBsZXQgaXNNb2RhbEFjdGl2ZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgXy5mb3JFYWNoKHRoaXMuYWN0aXZlVmlld3NTdGFjaywgKHZpZXc6IFZpZXdDb21wb25lbnQpPT57XG4gICAgICBpZiAoaXNNb2RhbEFjdGl2ZSAhPT0gdHJ1ZSAmJiB2aWV3LmlzTW9kYWxEaWFsb2coKSA9PT0gdHJ1ZSkge1xuICAgICAgICBpc01vZGFsQWN0aXZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMudmlld3NDaGFuZ2VkLm5leHQoe1xuICAgICAgdmlld3M6IHRoaXMuZ2V0QnJlYWRjcnVtYih0aGlzLmFjdGl2ZVZpZXdzU3RhY2spLFxuICAgICAgYWN0aXZlVmlldzogdGhpcy5hY3RpdmVWaWV3c1N0YWNrW3RoaXMuYWN0aXZlVmlld3NTdGFjay5sZW5ndGggLSAxXSxcbiAgICAgIGlzTW9kYWxBY3RpdmU6IGlzTW9kYWxBY3RpdmVcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ2xpZW50RXZlbnQgfSBmcm9tICcuL2NsaWVudC1ldmVudCc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBNY29Db250YWluZXJTZXJ2aWNlIH0gZnJvbSAnLi4vbWNvLWNvbnRhaW5lci9tY28tY29udGFpbmVyLnNlcnZpY2UnO1xuXG4vKipcbiAqIFRyYWNrIGV2ZW50c1xuICovXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBFdmVudEhhbmRsZXJTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBfY2xpZW50RXZlbnQ6IENsaWVudEV2ZW50O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgbWNvQ29udGFpbmVyU2VydmljZTogTWNvQ29udGFpbmVyU2VydmljZVxuICApIHtcblxuICB9XG5cbiAgc2V0Q2xpZW50RXZlbnQoZXZlbnQ6IENsaWVudEV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5fY2xpZW50RXZlbnQgPSBldmVudDtcbiAgfVxuXG4gIGdldENsaWVudEV2ZW50KCk6IENsaWVudEV2ZW50IHtcbiAgICByZXR1cm4gdGhpcy5fY2xpZW50RXZlbnQ7XG4gIH1cblxuICBmaXJlRXZlbnQoY29tbWFuZDogc3RyaW5nLCBtY29OYW1lOiBzdHJpbmcsIGFjdGlvbk5hbWU6IHN0cmluZywgYXJnOiBhbnksIHNvdXJjZTogQmFzZUNvbXBvbmVudCwgY2xpZW50RXZlbnQ6IENsaWVudEV2ZW50KSB7XG4gICAgY29uc3QgbWNvID0gdGhpcy5tY29Db250YWluZXJTZXJ2aWNlLmdldE1jbyhtY29OYW1lKTtcblxuICAgIGlmIChtY28gIT0gbnVsbCAmJiB0eXBlb2YgbWNvW2FjdGlvbk5hbWVdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgKG1jb1thY3Rpb25OYW1lXSBhcyBGdW5jdGlvbikuYXBwbHkobWNvLCBhcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKG1jb1thY3Rpb25OYW1lXSBhcyBGdW5jdGlvbikuYXBwbHkobWNvLCBbYXJnXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gXCIuL21lbnUtaXRlbVwiO1xuXG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcblxuLyoqXG4gKiBDbGFzcyBmb3IgY3JlYXRpbmcgW1tNZW51SXRlbXNdXVxuICovXG5leHBvcnQgY2xhc3MgTWVudUl0ZW1CdWlsZGVyIHtcbiAgICAvL2ludGVybmFsIG1lbnUgaXRlbSBmb3Igc3BlY2lhbCBjYXNlLCBETyBOT1QgdXNlXG4gICAgLy90aGlzIGlzIG5lZWRlZCB3aGVuIHJpZ2h0IGNsaWNrIGV2ZW50IG9mIGNoaWxkIGl0ZW0gaXMgdGFibGUgY29sdW1uIHRyaWdnZXIgYmVmb3JlIHJvd1xuICAgIF9pbnRlcm5hbE1lbnVJdGVtOiBNZW51SXRlbTtcblxuICAgIC8qKlxuICAgICAqIE1hcCBvZiBIVE1MIGF0dHJpYnV0ZXMgdG8gYWRkIHRvIG1lbnUgaXRlbVxuICAgICAqL1xuICAgIGF0dHJpYnV0ZXM6IHtbbmFtZTogc3RyaW5nXTogYW55fSA9IHt9O1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbWVudUl0ZW0gXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobWVudUl0ZW06IE1lbnVJdGVtID0gbnVsbCkge1xuICAgICAgICB0aGlzLl9pbnRlcm5hbE1lbnVJdGVtID0gbWVudUl0ZW07XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBBbGxvd2VkIGF0dHJpYnV0ZSBuYW1lc1xuICAgICAqL1xuICAgIHN0YXRpYyBrbm93bktleXMgPSBbXG4gICAgICAgIFwiaWRcIixcbiAgICAgICAgXCJ0ZXh0XCIsXG4gICAgICAgIFwib25Db21tYW5kXCIsXG4gICAgICAgIFwib25Db21tYW5kQ2FsbGJhY2tcIixcbiAgICAgICAgXCJvbk1vdXNlRG93bkNhbGxiYWNrXCIsXG4gICAgICAgIFwibWVudUl0ZW1zXCIsXG4gICAgICAgIFwiZGlzcGxheVwiLFxuICAgICAgICBcImZvbnRDb2xvclwiLFxuICAgICAgICBcImZvbnRCb2xkXCIsXG4gICAgICAgIFwiZm9udFNpemVcIixcbiAgICAgICAgXCJtYXJnaW5cIlxuICAgIF07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBtZW51IHNlcGFyYXRvciB1c2luZyBoeXBoZW5zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUhvcml6b250YWxEaXZpZGVyKCkge1xuICAgICAgICBjb25zdCBtZW51SXRlbSA9IG5ldyBNZW51SXRlbUJ1aWxkZXIoKTtcbiAgICAgICAgbWVudUl0ZW0uc2V0QXR0cmlidXRlKFwidGV4dFwiLCBcIi1cIik7XG5cbiAgICAgICAgcmV0dXJuIG1lbnVJdGVtO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhIG5ldyBbW01lbnVJdGVtQnVpbGRlcl1dIGluc3RhbmNlXG4gICAgICogQHJldHVybnMgW1tNZW51SXRlbUJ1aWxkZXJdXSBpbnN0YW5jZVxuICAgICAqL1xuICAgIHN0YXRpYyBjcmVhdGVNZW51SXRlbSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNZW51SXRlbUJ1aWxkZXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGV4dCBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0gdGV4dCBcbiAgICAgKi9cbiAgICBzZXRUZXh0KHRleHQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInRleHRcIiwgdGV4dCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gd2lkdGggXG4gICAgICovXG4gICAgc2V0V2lkdGgod2lkdGg6IHN0cmluZykge1xuICAgICAgICAvL2Rvbid0IHRoaW5rIHRoaXMgc2hvdWxkIGJlIGRvaW5nIGFueXRoaW5nLCBhbGwgbWVudSBpdGVtIHNoYXJlZCB0aGUgc2FtZSB3aWR0aFxuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIGltZyBcbiAgICAgKi9cbiAgICBzZXRJbWdIaW50KGltZzogc3RyaW5nKSB7XG4gICAgICAgIC8vVE9ET1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2Vkb3duXG4gICAgICogQHBhcmFtIGZuIE1vdXNlIGRvd24gZXZlbnQgaGFuZGxlciBmdW5jdGlvblxuICAgICAqL1xuICAgIHNldE9uTW91c2VEb3duKGZuOiAodGhpc0FyZz86IGFueSk9PnZvaWQpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJvbk1vdXNlRG93bkNhbGxiYWNrXCIsIGZuKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIFNldCBtYXJnaW4gYXR0cmlidXRlXG4gICAgICogQHBhcmFtIG1hcmdpbiBTaG91bGQgYmUgbnVtYmVyXG4gICAgICovXG4gICAgc2V0TWFyZ2luKG1hcmdpbjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwibWFyZ2luXCIsIG1hcmdpbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0IGZvbnRDb2xvciBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0gY29sb3IgU2hvdWxkIGJlIENTUyB2YWxpZCBjb2xvciBzdHJpbmcgKGUuZy4gI2ZmMDAwMCwgcmVkLCBldGMuKVxuICAgICAqL1xuICAgIHNldEZvbnRDb2xvcihjb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiZm9udENvbG9yXCIsIGNvbG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgZm9udFNpemUgYXR0cmlidXRlXG4gICAgICogQHBhcmFtIHNpemUgU2hvdWxkIGJlIG51bWJlclxuICAgICAqL1xuICAgIHNldEZvbnRTaXplKHNpemU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImZvbnRTaXplXCIsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBmb250Qm9sZCBhdHRyaWJ1dGVcbiAgICAgKiBAcGFyYW0gYm9sZCBcbiAgICAgKi9cbiAgICBzZXRGb250Qm9sZChib2xkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJmb250Qm9sZFwiLCBib2xkKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIFNldCBjdXN0b20gYXR0cmlidXRlIG9uIFtbTWVudUl0ZW1dXVxuICAgICAqIEBwYXJhbSBuYW1lIFxuICAgICAqIEBwYXJhbSB2YWx1ZSBcbiAgICAgKi9cbiAgICBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlc1tuYW1lXSA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh0aGlzLl9pbnRlcm5hbE1lbnVJdGVtICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChNZW51SXRlbUJ1aWxkZXIua25vd25LZXlzLmluZGV4T2YobmFtZSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsTWVudUl0ZW1bbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2ludGVybmFsTWVudUl0ZW0uY3VzdG9tQXR0cmlidXRlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsTWVudUl0ZW0uY3VzdG9tQXR0cmlidXRlcyA9IHt9OyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsTWVudUl0ZW0uY3VzdG9tQXR0cmlidXRlc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGVcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgYXR0cmlidXRlXG4gICAgICovXG4gICAgZ2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZXNbbmFtZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydCBbW01lbnVJdGVtRGlyZWN0aXZlXV0gdG8gW1tNZW51SXRlbV1dXG4gICAgICogQHBhcmFtIHBhcmVudFNjcmVlbklkIFxuICAgICAqL1xuICAgIHRvTWVudUl0ZW0ocGFyZW50U2NyZWVuSWQ/OiBzdHJpbmcpOiBNZW51SXRlbSB7XG4gICAgICAgIGNvbnN0IG1lbnVJdGVtOiBNZW51SXRlbSA9IHt9O1xuICAgICAgICBtZW51SXRlbS5wYXJlbnRTY3JlZW5JZCA9IHBhcmVudFNjcmVlbklkO1xuXG4gICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlc1tcImlkXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1lbnVJdGVtLmlkID0gdGhpcy5hdHRyaWJ1dGVzW1wiaWRcIl07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzW1widGV4dFwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZW51SXRlbS50ZXh0ID0gdGhpcy5hdHRyaWJ1dGVzW1widGV4dFwiXTtcbiAgICAgICAgfVxuXG4gICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlc1tcIm1lbnVJdGVtc1wiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZW51SXRlbS5tZW51SXRlbXMgPSBfLm1hcCh0aGlzLmF0dHJpYnV0ZXNbXCJtZW51SXRlbXNcIl0sIChzdWJNZW51KT0+c3ViTWVudS50b01lbnVJdGVtKHBhcmVudFNjcmVlbklkKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzW1wib25Db21tYW5kQ2FsbGJhY2tcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgbWVudUl0ZW0ub25Db21tYW5kQ2FsbGJhY2sgPSB0aGlzLmF0dHJpYnV0ZXNbXCJvbkNvbW1hbmRDYWxsYmFja1wiXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNbXCJvbkNvbW1hbmRcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgbWVudUl0ZW0ub25Db21tYW5kQ2FsbGJhY2sgPSB0aGlzLmF0dHJpYnV0ZXNbXCJvbkNvbW1hbmRcIl07XG4gICAgICAgIH1cblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzW1wib25Nb3VzZURvd25DYWxsYmFja1wiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtZW51SXRlbS5vbk1vdXNlRG93bkNhbGxiYWNrID0gdGhpcy5hdHRyaWJ1dGVzW1wib25Nb3VzZURvd25DYWxsYmFja1wiXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNbXCJkaXNwbGF5XCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgIG1lbnVJdGVtLmRpc3BsYXkgPSB0aGlzLmF0dHJpYnV0ZXNbXCJkaXNwbGF5XCJdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlc1tcImZvbnRDb2xvclwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBNZW51SXRlbUJ1aWxkZXIuaW5pdFN0eWxlKG1lbnVJdGVtKTtcblxuICAgICAgICAgICAgbWVudUl0ZW0uc3R5bGVzW1wiY29sb3JcIl0gPSB0aGlzLmF0dHJpYnV0ZXNbXCJmb250Q29sb3JcIl07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzW1wiZm9udFNpemVcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgTWVudUl0ZW1CdWlsZGVyLmluaXRTdHlsZShtZW51SXRlbSk7XG5cbiAgICAgICAgICAgIG1lbnVJdGVtLnN0eWxlc1tcImZvbnQtc2l6ZVwiXSA9IHRoaXMuYXR0cmlidXRlc1tcImZvbnRTaXplXCJdO1xuICAgICAgICB9XG5cbiAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyBcbiAgICAgICAgaWYgKHRoaXMuYXR0cmlidXRlc1tcImZvbnRCb2xkXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgIE1lbnVJdGVtQnVpbGRlci5pbml0U3R5bGUobWVudUl0ZW0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzW1wiZm9udEJvbGRcIl0gPT09IHRydWUgfHwgdGhpcy5hdHRyaWJ1dGVzW1wiZm9udEJvbGRcIl0gPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgbWVudUl0ZW0uc3R5bGVzW1wiZm9udC13ZWlnaHRcIl0gPSB0aGlzLmF0dHJpYnV0ZXNbXCJib2xkXCJdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZW51SXRlbS5zdHlsZXNbXCJmb250LXdlaWdodFwiXSA9IFwibm9ybWFsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzW1wibWFyZ2luXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgIE1lbnVJdGVtQnVpbGRlci5pbml0U3R5bGUobWVudUl0ZW0pO1xuXG4gICAgICAgICAgICBtZW51SXRlbS5zdHlsZXNbXCJtYXJnaW5cIl0gPSB0aGlzLmF0dHJpYnV0ZXNbXCJtYXJnaW5cIl07XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBrZXlzID0gXy5maWx0ZXIoXy5rZXlzKHRoaXMuYXR0cmlidXRlcyksIChrZXkpPT57XG4gICAgICAgICAgICByZXR1cm4gTWVudUl0ZW1CdWlsZGVyLmtub3duS2V5cy5pbmRleE9mKGtleSkgPCAwO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoa2V5cyAmJiBrZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1lbnVJdGVtLmN1c3RvbUF0dHJpYnV0ZXMgPSB7fTtcblxuICAgICAgICAgICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICAgICAgICBtZW51SXRlbS5jdXN0b21BdHRyaWJ1dGVzW2tleV0gPSB0aGlzLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZW51SXRlbTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgW1tNZW51SXRlbUJ1aWxkZXJdXSBpbnN0YW5jZSB0byBtZW51SXRlbXMgYXR0cmlidXRlXG4gICAgICovXG4gICAgYXBwZW5kQ2hpbGQobWVudUl0ZW06IE1lbnVJdGVtQnVpbGRlcikge1xuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzW1wibWVudUl0ZW1zXCJdID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlc1tcIm1lbnVJdGVtc1wiXSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lbnVJdGVtIGluc3RhbmNlb2YgTWVudUl0ZW1CdWlsZGVyKSB7XG4gICAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXNbXCJtZW51SXRlbXNcIl0ucHVzaChtZW51SXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZSBNZW51SXRlbSBhbmQgY29udmVydCB0byBhIGJ1aWxkZXIuIE5lZWQgZm9yIGNhc2Ugd2hlcmUgdGFibGUgY29sdW1uIHRyaWdnZXIgY29udGV4dCBtZW51XG4gICAgICogcHJpb3IgdG8gdGhlIGNvbnRleHRtZW51IG9mIHJvdyBpcyBhY3RpdmF0ZWQuIFRodXMgdGhlIE1lbnVJdGVtQ29tcG9uZW50IGRvZXMgbm90IGV4aXN0cyB5ZXQgc29cbiAgICAgKiB3ZSBuZWVkIHNvbWV0aGluZyBhcyB0ZW1wb3JhcnkuXG4gICAgICogXG4gICAgICogQHBhcmFtIG1lbnVJdGVtIFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tTWVudUl0ZW0obWVudUl0ZW06IE1lbnVJdGVtKSB7XG4gICAgICAgIHJldHVybiBuZXcgTWVudUl0ZW1CdWlsZGVyKG1lbnVJdGVtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBvdXQgc3R5bGUgdmFsdWVzIGZvciBbW01lbnVJdGVtXV1cbiAgICAgKiBAcGFyYW0gbWVudUl0ZW1cbiAgICAgKi9cbiAgICBzdGF0aWMgaW5pdFN0eWxlKG1lbnVJdGVtOiBNZW51SXRlbSkge1xuICAgICAgICBpZiAobWVudUl0ZW0uc3R5bGVzID09IG51bGwpIHtcbiAgICAgICAgICAgIG1lbnVJdGVtLnN0eWxlcyA9IHt9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9mcmVlIHJlc291cmNlXG4gICAgX2ZyZWUoKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsTWVudUl0ZW0gPSBudWxsO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBQb3B1cE1lbnVDb21wb25lbnQgfSBmcm9tICcuL3BvcHVwLW1lbnUuY29tcG9uZW50JztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgTWVudUl0ZW1CdWlsZGVyIH0gZnJvbSAnLi9tZW51LWl0ZW0tYnVpbGRlcic7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gJy4vbWVudS1pdGVtJztcblxuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9wdXBNZW51RGF0YSB7XG4gIG1lbnVJdGVtczogQXJyYXk8TWVudUl0ZW0+O1xuICBwYXJlbnRTY3JlZW5JZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIFNlcnZpY2UgY2xhc3MgdG8gaGFuZGxlIGNvbnRleHQgbWVudXNcbiAqL1xuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnVTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBjb250ZXh0TWVudU1hcDogTWFwPHN0cmluZywgUG9wdXBNZW51RGF0YT4gPSBuZXcgTWFwPHN0cmluZywgUG9wdXBNZW51RGF0YT4oKTtcbiAgcHJpdmF0ZSBhY3RpdmVNZW51U3ViamVjdDogU3ViamVjdDxzdHJpbmc+ID0gbmV3IFN1YmplY3Q8c3RyaW5nPigpO1xuICBwcml2YXRlIGFjdGl2ZU1lbnU6IHN0cmluZztcbiAgcHJpdmF0ZSBtZW51SXRlbUJ1aWxkZXJzOiBBcnJheTxNZW51SXRlbUJ1aWxkZXI+O1xuXG4gIGFjdGl2ZU1lbnVPYnNlcnZhYmxlID0gdGhpcy5hY3RpdmVNZW51U3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIG5hbWUgXG4gICAqIEBwYXJhbSBtZW51SXRlbXMgXG4gICAqIEBwYXJhbSBwYXJlbnRTY3JlZW5JZCBcbiAgICovXG4gIHJlZ2lzdGVyQ29udGV4dE1lbnUobmFtZTogc3RyaW5nLCBtZW51SXRlbXM6IEFycmF5PE1lbnVJdGVtPiwgcGFyZW50U2NyZWVuSWQ6IHN0cmluZyA9IG51bGwpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLnJla2V5KG5hbWUpO1xuICAgIGlmICh0aGlzLmNvbnRleHRNZW51TWFwLmhhcyhrZXkpKSB7XG4gICAgICBjb25zdCBtZW51RGF0YSA9IHRoaXMuY29udGV4dE1lbnVNYXAuZ2V0KGtleSk7XG5cbiAgICAgIGlmIChwYXJlbnRTY3JlZW5JZCAhPSBudWxsICYmIHBhcmVudFNjcmVlbklkICE9PSBcIlwiKSB7XG4gICAgICAgIG1lbnVEYXRhLnBhcmVudFNjcmVlbklkID0gcGFyZW50U2NyZWVuSWQ7XG4gICAgICB9XG5cbiAgICAgIG1lbnVEYXRhLm1lbnVJdGVtcyA9IG1lbnVJdGVtcztcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb250ZXh0TWVudU1hcC5zZXQoa2V5LCB7XG4gICAgICAgIG1lbnVJdGVtczogbWVudUl0ZW1zLFxuICAgICAgICBwYXJlbnRTY3JlZW5JZDogcGFyZW50U2NyZWVuSWRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGFjdGl2ZSBhbmQgdmlzaWJsZSBjb250ZXh0IG1lbnUgYnkgbmFtZVxuICAgKiBAcGFyYW0gbmFtZSBcbiAgICovXG4gIHNob3dDb250ZXh0TWVudShuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBsZXQgaGFzQ29udGV4dE1lbnU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBcbiAgICBpZiAodGhpcy5jb250ZXh0TWVudU1hcC5oYXModGhpcy5yZWtleShuYW1lKSkpIHtcbiAgICAgIGhhc0NvbnRleHRNZW51ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEFjdGl2ZU1lbnUobmFtZSk7XG4gICAgdGhpcy5hY3RpdmVNZW51ID0gbmFtZTtcblxuICAgIGlmICh0aGlzLm1lbnVJdGVtQnVpbGRlcnMgIT0gbnVsbCkge1xuICAgICAgdGhpcy5tZW51SXRlbUJ1aWxkZXJzLmZvckVhY2gobWVudUl0ZW1CdWlsZGVyPT5tZW51SXRlbUJ1aWxkZXIuX2ZyZWUoKSk7XG4gICAgICB0aGlzLm1lbnVJdGVtQnVpbGRlcnMgPSBbXTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFzQ29udGV4dE1lbnU7XG4gIH1cblxuICAvKipcbiAgICogRGVhY3RpdmF0ZSBtZW51IGJ5IG5hbWUsIGFuZCBoaWRlIGl0XG4gICAqIEBwYXJhbSBuYW1lXG4gICAqL1xuICBoaWRlQ29udGV4dE1lbnUobmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5zZXRBY3RpdmVNZW51KG51bGwpO1xuICAgIHRoaXMuYWN0aXZlTWVudSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG1lbnUgaXRlbXMgYnkgW1tQb3B1cE1lbnVEYXRhXV0gbmFtZSBrZXlcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiBbW1BvcHVwTWVudURhdGFdXSBrZXlcbiAgICogQHJldHVybnMgTWVudSBpdGVtcyBpbiBkYXRhIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIG51bGxcbiAgICovXG4gIGdldENvbnRleHRNZW51SXRlbXMobmFtZTogc3RyaW5nKTogQXJyYXk8TWVudUl0ZW0+IHtcbiAgICBjb25zdCBtZW51RGF0YSA9IHRoaXMuY29udGV4dE1lbnVNYXAuZ2V0KHRoaXMucmVrZXkobmFtZSkpO1xuXG4gICAgaWYgKG1lbnVEYXRhICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBtZW51RGF0YS5tZW51SXRlbXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBtZW51J3MgcGFyZW50IGlkXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgW1tQb3B1cE1lbnVEYXRhXV0gaXRlbSBrZXlcbiAgICovXG4gIGdldENvbnRleHRNZW51UGFyZW50U2NyZWVuSWQobmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3QgbWVudURhdGEgPSB0aGlzLmNvbnRleHRNZW51TWFwLmdldCh0aGlzLnJla2V5KG5hbWUpKTtcblxuICAgIGlmIChtZW51RGF0YSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gbWVudURhdGEucGFyZW50U2NyZWVuSWQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGNvbnRleHQgbWVudSBpdGVtIGJ5IG5hbWVcbiAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiBbW1BvcHVwTWVudURhdGFdXSBpdGVtIGtleVxuICAgKi9cbiAgcmVtb3ZlQ29udGV4dE1lbnUobmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5jb250ZXh0TWVudU1hcC5kZWxldGUodGhpcy5yZWtleShuYW1lKSk7XG5cbiAgICBpZiAodGhpcy5hY3RpdmVNZW51ID09PSBuYW1lKSB7XG4gICAgICB0aGlzLmFjdGl2ZU1lbnUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYWN0aXZlIG1lbnVcbiAgICogQHBhcmFtIGlkIElkIG9mIG1lbnUgdG8gc2V0IGFzIGFjdGl2ZVxuICAgKi9cbiAgc2V0QWN0aXZlTWVudShpZDogc3RyaW5nKSB7XG4gICAgdGhpcy5hY3RpdmVNZW51U3ViamVjdC5uZXh0KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbWVudSBpdGVtcyBieSBwYXJlbnQgc2NyZWVuIGlkXG4gICAqIEBwYXJhbSBpZCBJZCBvZiBwYXJlbnQgY29udGFpbmluZyBtZW51XG4gICAqIEBwYXJhbSBtZW51SXRlbXMgSXRlbXMgdG8gc2V0XG4gICAqL1xuICByZXNldE1lbnUoaWQ6IHN0cmluZywgbWVudUl0ZW1zOiBBcnJheTxNZW51SXRlbUJ1aWxkZXI+KSB7XG4gICAgbGV0IG5ld01lbnVJdGVtczogQXJyYXk8TWVudUl0ZW0+O1xuXG4gICAgY29uc3QgcGFyZW50U2NyZWVuSWQgPSB0aGlzLmdldENvbnRleHRNZW51UGFyZW50U2NyZWVuSWQoaWQpO1xuXG4gICAgaWYgKG1lbnVJdGVtcy5sZW5ndGggPiAwICYmIG1lbnVJdGVtc1swXSBpbnN0YW5jZW9mIE1lbnVJdGVtQnVpbGRlcikge1xuICAgICAgbmV3TWVudUl0ZW1zID0gXy5tYXAobWVudUl0ZW1zLCAobWVudUl0ZW06IE1lbnVJdGVtQnVpbGRlcik9Pm1lbnVJdGVtLnRvTWVudUl0ZW0ocGFyZW50U2NyZWVuSWQpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3TWVudUl0ZW1zID0gKG1lbnVJdGVtcyBhcyBhbnkpfHwgW107XG4gICAgfVxuXG4gICAgdGhpcy5yZWdpc3RlckNvbnRleHRNZW51KGlkLCBuZXdNZW51SXRlbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQga2V5IHRvIGxvd2VyY2FzZVxuICAgKiBAcGFyYW0ga2V5IFxuICAgKiBAcmV0dXJucyBrZXkgdmFsdWUgYXMgbG93ZXJjYXNlZCBzdHJpbmdcbiAgICovXG4gIHByaXZhdGUgcmVrZXkoa2V5OiBzdHJpbmcpIHtcbiAgICByZXR1cm4ga2V5LnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyBmb3Igc3BlY2lhbCBjYXNlXG4gICAqIEBwYXJhbSBtZW51SXRlbUJ1aWxkZXIgTWVudUl0ZW1CdWlsZGVyIHRvIGJlIHJlbGVhc2VkIG9mIG1lbW9yeSB3aGVuIHNob3dDb250ZXh0TWVudSBpcyBjYWxsZWQuXG4gICAqL1xuICBfdHJhY2tNZW51SXRlbUJ1aWxkZXJGb3JNZW1SZWxlYXNlKG1lbnVJdGVtQnVpbGRlcjogTWVudUl0ZW1CdWlsZGVyKSB7XG4gICAgaWYgKHRoaXMubWVudUl0ZW1CdWlsZGVycyA9PSBudWxsKSB7XG4gICAgICB0aGlzLm1lbnVJdGVtQnVpbGRlcnMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLm1lbnVJdGVtQnVpbGRlcnMucHVzaChtZW51SXRlbUJ1aWxkZXIpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3RvciwgVHlwZSwgTmdab25lIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNY29Db250YWluZXJTZXJ2aWNlIH0gZnJvbSAnLi4vbWNvLWNvbnRhaW5lci9tY28tY29udGFpbmVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyU2VydmljZSB9IGZyb20gJy4uL2V2ZW50LWhhbmRsZXIvZXZlbnQtaGFuZGxlci5zZXJ2aWNlJztcbmltcG9ydCB7IFJlcXVlc3RTZXJ2aWNlIH0gZnJvbSAnLi9yZXF1ZXN0LXNlcnZpY2UnO1xuaW1wb3J0IHsgUm91dGVOYXZpZ2F0b3IgfSBmcm9tICcuL3JvdXRlLW5hdmlnYXRvcic7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4vcG9zaXRpb24nO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVTZXJ2aWNlIH0gZnJvbSAnLi4vcG9wdXAtbWVudS9jb250ZXh0LW1lbnUuc2VydmljZSc7XG5pbXBvcnQgeyBNZW51SXRlbUJ1aWxkZXIgfSBmcm9tICcuLi9wb3B1cC1tZW51L21lbnUtaXRlbS1idWlsZGVyJztcbmltcG9ydCB7IE1lbnVJdGVtIH0gZnJvbSAnLi4vcG9wdXAtbWVudS9tZW51LWl0ZW0nO1xuaW1wb3J0IHsgTWVzc2FnZVNlcnZpY2UgfSBmcm9tICcuL21lc3NhZ2luZy1zZXJ2aWNlJztcblxuLyoqXG4gKiBDbGFzcyBmb3IgbWFuYWdpbmcgY2xpZW50IHNlc3Npb25zXG4gKi9cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTZXNzaW9uU2VydmljZSB7XG4gIHByaXZhdGUgcmVxdWVzdFNlcnZpY2U6IFJlcXVlc3RTZXJ2aWNlO1xuICBwcml2YXRlIHJvdXRlTmF2aWdhdG9yOiBSb3V0ZU5hdmlnYXRvcjtcbiAgcHJpdmF0ZSBtb3VzZVBvc2l0aW9uOiBQb3NpdGlvbjtcbiAgcHJpdmF0ZSBkZWZzTWFwOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcDxzdHJpbmcsIGFueT4oKTtcblxuICAvKipcbiAgICogRmxhZyB0byBrZWVwIHRyYWNrIG9mIHdoZW4gY29udHJvbCBrZXkgaXMgcHJlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBpc0N0cmw6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8ga2VlcCB0cmFjayBvZiB3aGVuIHNoaWZ0IGtleSBpcyBwcmVzc2VkXG4gICAqL1xuICBwcml2YXRlIGlzU2hpZnQ6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8ga2VlcCB0cmFjayBvZiB3aGVuIGFsdCBrZXkgaXMgcHJlc3NlZFxuICAgKi9cbiAgcHJpdmF0ZSBpc0FsdDogYm9vbGVhbjtcblxuICBwcml2YXRlIG1lc3NhZ2luZ1NlcnZpY2U6IE1lc3NhZ2VTZXJ2aWNlO1xuXG4gIF9jdXJyZW50UG9wdXBNZW51SWQ6IHN0cmluZztcblxuICAvKipcbiAgICogU3BlY2lmeSBob3cgZmFyIGEgdXNlciBjYW4gZHJhZyB0aGUgZGlhbG9nIGRvd24uXG4gICAqL1xuICBkaWFsb2dNYXhUb3BQb3NpdGlvbjogbnVtYmVyO1xuXG4gIC8vdHJhY2sgd2luZG93IGxvc3QgZm9jdXNcbiAgX3dpbmRvd0xvc3RGb2N1czogYm9vbGVhbjtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIF9tY29Db250YWluZXJcbiAgICogQHBhcmFtIF9ldmVudEhhbmRsZXJTZXJ2aWNlXG4gICAqIEBwYXJhbSBpbmplY3RvclxuICAgKiBAcGFyYW0gY29udGV4dE1lbnVTZXJ2aWNlXG4gICAqIEBwYXJhbSBuZ1pvbmVcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByaXZhdGUgX21jb0NvbnRhaW5lcjogTWNvQ29udGFpbmVyU2VydmljZSxcbiAgICBwcml2YXRlIF9ldmVudEhhbmRsZXJTZXJ2aWNlOiBFdmVudEhhbmRsZXJTZXJ2aWNlLFxuICAgIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLFxuICAgIHByaXZhdGUgY29udGV4dE1lbnVTZXJ2aWNlOiBDb250ZXh0TWVudVNlcnZpY2UsXG4gICAgbmdab25lOiBOZ1pvbmVcbiAgKSB7XG4gICAgbmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZXZlbnQpPT50aGlzLmNoZWNrS2V5KGV2ZW50KSwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2ZW50KT0+dGhpcy5yZXNldEtleShldmVudCksIHRydWUpO1xuXG4gICAgICAvL3RyYWNrIHdoZW4gd2luZG93IGxvc3QvZ2FpbiBmb2N1c1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c291dFwiLCAoZXZlbnQ6IEZvY3VzRXZlbnQpPT57XG4gICAgICAgICAgdGhpcy5fd2luZG93TG9zdEZvY3VzID0gdHJ1ZTtcbiAgICAgIH0sIHRydWUpO1xuXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzaW5cIiwgKCk9PntcbiAgICAgICAgdGhpcy5fd2luZG93TG9zdEZvY3VzID0gZmFsc2U7XG4gICAgICB9LCB0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaW50ZXJuYWwgW1tfbWNvQ29udGFpbmVyXV1cbiAgICovXG4gIGdldE1jb0NvbnRhaW5lcigpOiBNY29Db250YWluZXJTZXJ2aWNlIHtcbiAgICByZXR1cm4gdGhpcy5fbWNvQ29udGFpbmVyO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBpbnRlcm5hbCBbW19ldmVudEhhbmRsZXJTZXJ2aWNlXV1cbiAgICovXG4gIGdldEV2ZW50SGFuZGxlcigpOiBFdmVudEhhbmRsZXJTZXJ2aWNlIHtcbiAgICByZXR1cm4gdGhpcy5fZXZlbnRIYW5kbGVyU2VydmljZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgW1tyZXF1ZXN0U2VydmljZV1dIHZhbHVlXG4gICAqIEBwYXJhbSByZXF1ZXN0U2VydmljZVxuICAgKi9cbiAgcmVnaXN0ZXJSZXF1ZXN0U2VydmljZShyZXF1ZXN0U2VydmljZTogUmVxdWVzdFNlcnZpY2UpIHtcbiAgICB0aGlzLnJlcXVlc3RTZXJ2aWNlID0gcmVxdWVzdFNlcnZpY2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHZhbHVlIG9mIFtbcmVxdWVzdFNlcnZpY2VdXSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBUaGUgcmVxdWVzdFNlcnZpY2VcbiAgICovXG4gIGdldFJlcXVlc3RTZXJ2aWNlKCk6IFJlcXVlc3RTZXJ2aWNlIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0U2VydmljZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgW1tyb3V0ZU5hdmlnYXRvcl1dIHZhbHVlXG4gICAqIEBwYXJhbSByb3V0ZU5hdmlnYXRvclxuICAgKi9cbiAgcmVnaXN0ZXJSb3V0ZU5hdmlnYXRvclNlcnZpY2Uocm91dGVOYXZpZ2F0b3I6IFJvdXRlTmF2aWdhdG9yKSB7XG4gICAgdGhpcy5yb3V0ZU5hdmlnYXRvciA9IHJvdXRlTmF2aWdhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2YWx1ZSBvZiBbW3JvdXRlTmF2aWdhdG9yXV0gcHJvcGVydHlcbiAgICovXG4gIGdldFJvdXRlTmF2aWdhdG9yU2VydmljZSgpOiBSb3V0ZU5hdmlnYXRvciB7XG4gICAgcmV0dXJuIHRoaXMucm91dGVOYXZpZ2F0b3I7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbW91c2VcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBzZXRNb3VzZVBvc2l0aW9uKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5tb3VzZVBvc2l0aW9uID0ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgIHk6IGV2ZW50LmNsaWVudFksXG4gICAgICBzY3JlZW5YOiBldmVudC5zY3JlZW5YLFxuICAgICAgc2NyZWVuWTogZXZlbnQuc2NyZWVuWVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1vdXNlIHBvc2l0aW9uXG4gICAqIEByZXR1cm5zIE9iamVjdCB3aXRoIHByb3BlcnRpZXM6IHgsIHksIHNjcmVlblgsIHNjcmVlbllcbiAgICovXG4gIGdldE1vdXNlUG9zaXRpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubW91c2VQb3NpdGlvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxlZ2F0ZSB0byBbW0luamVjdG9yXV0uZ2V0IG1ldGhvZFxuICAgKiBAcGFyYW0gdHlwZVxuICAgKi9cbiAgZ2V0SW5qZWN0b3IodHlwZTogYW55KSB7XG4gICAgcmV0dXJuIHRoaXMuaW5qZWN0b3IuZ2V0KHR5cGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkaXNwbGF5IHNlcnZpY2UuXG4gICAqL1xuICBnZXREaXNwbGF5U2VydmljZSgpIHtcbiAgICAvL1RPRE9cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxlZ2F0ZSB0byBbW0NvbnRleHRNZW51U2VydmljZV1dLnNob3dDb250ZXh0TWVudVxuICAgKiBAcGFyYW0gaWQgQ29udGV4dCBtZW51IGlkXG4gICAqL1xuICBzaG93Q29udGV4dE1lbnUoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNvbnRleHRNZW51U2VydmljZS5zaG93Q29udGV4dE1lbnUoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERlbGVnYXRlIHRvIFtbQ29udGV4dE1lbnVTZXJ2aWNlXV0uaGlkZUNvbnRleHRNZW51XG4gICAqIEBwYXJhbSBpZCBDb250ZXh0IG1lbnUgaWRcbiAgICovXG4gIGhpZGVDb250ZXh0TWVudShpZDogc3RyaW5nKSB7XG4gICAgdGhpcy5jb250ZXh0TWVudVNlcnZpY2UuaGlkZUNvbnRleHRNZW51KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxlZ2F0ZSB0byBbW0NvbnRleHRNZW51U2VydmljZV1dLnJlc2V0TWVudS4gQW5kIHNldCBbW19jdXJyZW50UG9wdXBNZW51SWRdXVxuICAgKiBAcGFyYW0gaWQgTWVudSBpZFxuICAgKiBAcGFyYW0gbWVudUl0ZW1zXG4gICAqL1xuICByZXNldENvbnRleHRNZW51KGlkOiBzdHJpbmcsIG1lbnVJdGVtczogQXJyYXk8TWVudUl0ZW1CdWlsZGVyPikge1xuICAgIHRoaXMuY29udGV4dE1lbnVTZXJ2aWNlLnJlc2V0TWVudShpZCwgbWVudUl0ZW1zKTtcbiAgICB0aGlzLl9jdXJyZW50UG9wdXBNZW51SWQgPSBpZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgZW50cnkgdG8gW1tkZWZzTWFwXV0gTWFwXG4gICAqIEBwYXJhbSBpZCBLZXlcbiAgICogQHBhcmFtIGRhdGEgVmFsdWVcbiAgICovXG4gIHN0b3JlRGVmKGlkOiBzdHJpbmcsIGRhdGE6IGFueSkge1xuICAgIHRoaXMuZGVmc01hcC5zZXQoaWQsIGRhdGEpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBkZWYgbWFwIGVudHJ5IGJ5IGtleVxuICAgKiBAcGFyYW0gaWQgS2V5XG4gICAqL1xuICBnZXREZWYoaWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmRlZnNNYXAuZ2V0KGlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgZGVmIGZyb20gW1tkZWZzTWFwXV0gYnkga2V5XG4gICAqIEBwYXJhbSBpZCBLZXkgdG8gZGVsZXRlXG4gICAqL1xuICBkZWxldGVEZWYoaWQ6IHN0cmluZykge1xuICAgIHRoaXMuZGVmc01hcC5kZWxldGUoaWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW2lzQ3RybF1dIHByb3BlcnR5IHZhbHVlXG4gICAqIEByZXR1cm5zIFRydWUgaWYgY29udHJvbCBrZXkgaXMgcHJlc3NlZCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKi9cbiAgaXNDdHJsUHJlc3NlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5pc0N0cmwgPT09IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbaXNTaGlmdF1dIHByb3BlcnR5IHZhbHVlXG4gICAqIEByZXR1cm5zIFRydWUgaWYgc2hpZnQga2V5IGlzIHByZXNzZWQsIG90aGVyd2lzZSBmYWxzZS5cbiAgICovXG4gIGlzU2hpZnRQcmVzc2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzU2hpZnQgPT09IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbaXNBbHRdXSBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcmV0dXJucyBUcnVlIGlmIGFsdCBrZXkgaXMgcHJlc3NlZCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKi9cbiAgaXNBbHRQcmVzc2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzQWx0ID09PSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW21lc3NhZ2luZ1NlcnZpY2VdXSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBWYWx1ZSBvZiBbW21lc3NhZ2luZ1NlcnZpY2VkXV1cbiAgICovXG4gIGdldE1lc3NhZ2luZ1NlcnZpY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMubWVzc2FnaW5nU2VydmljZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgW1ttZXNzYWdpbmdTZXJ2aWNlXV0gcHJvcGVydHlcbiAgICogQHBhcmFtIHNlcnZpY2VcbiAgICovXG4gIHJlZ2lzdGVyTWVzc2FnaW5nU2VydmljZShzZXJ2aWNlOiBNZXNzYWdlU2VydmljZSkge1xuICAgIHRoaXMubWVzc2FnaW5nU2VydmljZSA9IHNlcnZpY2U7XG4gIH1cblxuICAvKipcbiAgICogS2V5IGRvd24gaGFuZGxlciB0byBzZXQgaW50ZXJuYWwgZmxhZ3MgZm9yIENvbnRyb2wsIFNoaWZ0LCBhbmQgQWx0XG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgcHJpdmF0ZSBjaGVja0tleShldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIHRoaXMuaXNDdHJsID0gZXZlbnQuY3RybEtleTtcbiAgICB0aGlzLmlzU2hpZnQgPSBldmVudC5zaGlmdEtleTtcbiAgICB0aGlzLmlzQWx0ID0gZXZlbnQuYWx0S2V5O1xuICB9XG5cbiAgLyoqXG4gICAqIEtleWJvYXJkIGV2ZW50IGhhbmRsZXIgZm9yIHNldHRpbmcgYWxsIGludGVybmFsIGZsYWdzIGZvciBDb250cm9sLCBTaGlmdCwgYW5kIEFsdCB0byBmYWxzZVxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIHByaXZhdGUgcmVzZXRLZXkoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgIHRoaXMuaXNDdHJsID0gZmFsc2U7XG4gICAgICB0aGlzLmlzU2hpZnQgPSBmYWxzZTtcbiAgICAgIHRoaXMuaXNBbHQgPSBmYWxzZTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBleHRlbmRzIEVycm9yIHtcblxufVxuIiwiaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuaW1wb3J0ICogYXMgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gfSBmcm9tICcuL2lsbGVnYWwtYXJndW1lbnQtZXhjZXB0aW9uJztcblxuZXhwb3J0IGNsYXNzIEphdmFVdGlscyB7XG4gIHN0YXRpYyByZWFkb25seSBOVU1FUklDID0gbmV3IFJlZ0V4cChcIl5bMC05XSskXCIpO1xuXG4gIHN0YXRpYyBpc051bWJlcihzdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBzdHIgPT0gbnVsbCA/IGZhbHNlIDogSmF2YVV0aWxzLk5VTUVSSUMudGVzdChzdHIpO1xuICB9XG5cbiAgc3RhdGljIGJvb2xlYW5Ub1N0cmluZyhib286IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIGlmIChib28gPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAndHJ1ZSc7XG4gICAgfVxuXG4gICAgcmV0dXJuICdmYWxzZSc7XG4gIH1cblxuICBzdGF0aWMgZXF1YWxzKGE6IGFueSwgYjogYW55KSB7XG4gICAgcmV0dXJuIGEgPT0gYjtcbiAgfVxuXG4gIHN0YXRpYyBwYXJzZUJvb2xlYW4odmFsOiBhbnkpIHtcbiAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB2YWwgPT09ICd0cnVlJyA/IHRydWUgOiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnQgYm9vbGVhbiB2YWx1ZTogJyArIHZhbCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHN0cmluZ1ZhbHVlKHZhbDogYW55KSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH1cblxuICAgIHJldHVybiB2YWwgKyAnJztcbiAgfVxuXG4gIHN0YXRpYyBsb25nVmFsdWUoc3RyOiBhbnkpIHtcbiAgICBpZiAoc3RyICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBfLnBhcnNlSW50KHN0cik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBzdGF0aWMgZG91YmxlVmFsdWUoc3RyOiBzdHJpbmcpIHtcbiAgICBpZiAoc3RyICE9IG51bGwpIHtcblxuICAgICAgbGV0IHJlc3VsdCA6bnVtYmVyID0gc3RyLmluZGV4T2YoXCIuXCIpID49IDAgPyBwYXJzZUZsb2F0KHN0cikgOiBfLnBhcnNlSW50KHN0cik7XG5cbiAgICAgIGlmIChpc05hTihyZXN1bHQpKXtcbiAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3RhdGljIGludFZhbHVlKHN0cjogYW55KSB7XG4gICAgaWYgKHN0ciAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gXy5wYXJzZUludChzdHIpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc3RhdGljIHRvU3RyaW5nKHZhbDogYW55KSB7XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gdmFsICsgJyc7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiBKYXZhVXRpbHMuYm9vbGVhblRvU3RyaW5nKHZhbCk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGNvbXBhcmVUbyhhOiBzdHJpbmcsIGI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgbGV0IHJldFZhbCA9IG51bGw7XG5cbiAgICBpZiAoYSA9PT0gYikge1xuICAgICAgcmV0VmFsID0gMDtcbiAgICB9IGVsc2UgaWYgKGEgPiBiKSB7XG4gICAgICByZXRWYWwgPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXRWYWwgPSAtMTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0VmFsO1xuICB9XG5cbiAgc3RhdGljIGJpZ0RlY2ltYWwodmFsOiBudW1iZXIgfCBzdHJpbmcsIHNjYWxlOiBudW1iZXIgPSAwLCByb3VuZGluZ01vZGU6IG51bWJlciA9IC0xKSB7XG4gICAgLy9mb3Igbm93LCBqdXN0IHJldHJuIHRoZSBudW1iZXJcbiAgICBjb25zdCBmaXhlZFZhbHVlID0gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgPyB2YWwgOiBwYXJzZUZsb2F0KHZhbCk7XG5cbiAgICBpZiAoc2NhbGUgPiAwKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChgJHtmaXhlZFZhbHVlfS4ke18ucGFkU3RhcnQoJycsIHNjYWxlLCAnMCcpfWApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZml4ZWRWYWx1ZTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc2lnbnVtKG51bTogbnVtYmVyKTogbnVtYmVyIHtcbiAgICByZXR1cm4gbnVtID09PSAwID8gMCA6IG51bSA+IDAgPyAxIDogLTE7XG4gIH1cblxuICBzdGF0aWMgZmxvYXRWYWx1ZShzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoc3RyKTtcbiAgfVxuXG4gIHN0YXRpYyBsZXNzVGhhbihhOiBhbnksIGI6IGFueSk6IGJvb2xlYW4ge1xuICAgIGlmIChtb21lbnQuaXNNb21lbnQoYSkgJiYgbW9tZW50LmlzTW9tZW50KGIpKSB7XG4gICAgICByZXR1cm4gKGEgYXMgbW9tZW50Lk1vbWVudCkuaXNCZWZvcmUoYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGEgPCBiO1xuICB9XG59XG4iLCIvL2ltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IEtleVV0aWxzIH0gZnJvbSAnLi4vYmFzZS9rZXktdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgQ2xpZW50RXZlbnQge1xuICAgIHByaXZhdGUgX3BhcmFtZXRlcnM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgIHByaXZhdGUgX2F0dHJpYnV0ZXM6IE1hcDxzdHJpbmcsIGFueT4gPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xuICAgIHByaXZhdGUgX3JldHVyblZhbHVlOiBhbnk7XG4gICAgcHJpdmF0ZSBfcmV0dXJuVmFsdWVTZXQ6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NvdXJjZTogYW55LCBwcml2YXRlIF9ldmVudDogRXZlbnQpIHtcblxuICAgIH1cblxuICAgIGdldFNvdXJjZSgpOiBhbnkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NvdXJjZTtcbiAgICB9XG5cbiAgICBnZXRFdmVudCgpOiBFdmVudCB7XG4gICAgICByZXR1cm4gdGhpcy5fZXZlbnQ7XG4gICAgfVxuXG4gICAgc2V0UGFyYW1ldGVyKHBhcmFtTmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICB0aGlzLl9wYXJhbWV0ZXJzLnNldChLZXlVdGlscy50b01hcEtleShwYXJhbU5hbWUpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0UGFyYW1ldGVyKHBhcmFtTmFtZTogc3RyaW5nKTogYW55IHtcbiAgICAgIHJldHVybiB0aGlzLl9wYXJhbWV0ZXJzLmdldChLZXlVdGlscy50b01hcEtleShwYXJhbU5hbWUpKTtcbiAgICB9XG5cbiAgICBzZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgICB0aGlzLl9hdHRyaWJ1dGVzLnNldChLZXlVdGlscy50b01hcEtleShhdHRyaWJ1dGVOYW1lKSwgdmFsdWUpO1xuICAgIH1cblxuICAgIGdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lOiBzdHJpbmcpOiBhbnkge1xuICAgICAgcmV0dXJuIHRoaXMuX2F0dHJpYnV0ZXMuZ2V0KEtleVV0aWxzLnRvTWFwS2V5KGF0dHJpYnV0ZU5hbWUpKTtcbiAgICB9XG5cbiAgICBzdG9wUHJvcGFnYXRpb24oKSB7XG4gICAgICBpZiAodGhpcy5fZXZlbnQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgIGlmICh0aGlzLl9ldmVudCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0UmV0dXJuVmFsdWUodmFsdWU6IGFueSl7XG4gICAgICB0aGlzLl9yZXR1cm5WYWx1ZSA9IHZhbHVlO1xuXG4gICAgICB0aGlzLl9yZXR1cm5WYWx1ZVNldCA9IHRydWU7XG4gICAgfVxuXG4gICAgZ2V0UmV0dXJuVmFsdWUoKTogYW55IHtcbiAgICAgIHJldHVybiB0aGlzLl9yZXR1cm5WYWx1ZTtcbiAgICB9XG5cbiAgICBpc1JldHVyblZhbHVlU2V0KCk6IGJvb2xlYW4ge1xuICAgICAgLy9jYW4ndCBjaGVjayBmb3IgcmV0dXJuVmFsdWUgaXMgbnVsbCBiL2MgaXQgY2FuIGJlIHNldCB0byBudWxsXG4gICAgICByZXR1cm4gdGhpcy5fcmV0dXJuVmFsdWVTZXQgPT09IHRydWUgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxufSIsImltcG9ydCB7IEl0ZXJhdG9yIH0gZnJvbSAnLi9pdGVyYXRvcic7XG5cbmV4cG9ydCBjbGFzcyBMaXN0SXRlcmF0b3I8RSA9IGFueT4gaW1wbGVtZW50cyBJdGVyYXRvcjxFPntcbiAgICBwcml2YXRlIGN1cnJlbnRJbmRleDogbnVtYmVyID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0YTogQXJyYXk8RT4pIHtcbiAgICB9XG5cbiAgICBoYXNOZXh0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhICE9IG51bGwgJiYgdGhpcy5kYXRhLmxlbmd0aCA+IHRoaXMuY3VycmVudEluZGV4O1xuICAgIH1cblxuICAgIG5leHQ8VCBleHRlbmRzIEU+KCk6IEUge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50SW5kZXggPCB0aGlzLmRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhW3RoaXMuY3VycmVudEluZGV4KytdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzdWNoIGVsZW1lbnQnKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgSXRlcmF0b3IgfSBmcm9tICcuL2l0ZXJhdG9yJztcbmltcG9ydCB7IExpc3RJdGVyYXRvciB9IGZyb20gJy4vbGlzdC1pdGVyYXRvcic7XG5pbXBvcnQgeyBJdGVyYWJsZSB9IGZyb20gJy4vaXRlcmFibGUnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuXG4vL2VtdWx2YXRlIEphdmEgdmVjdG9yIChzb21ld2hhdClcbmV4cG9ydCBjbGFzcyBWZWN0b3I8RSA9IGFueT4gaW1wbGVtZW50cyBJdGVyYWJsZSB7XG4gIHByaXZhdGUgZGF0YTogQXJyYXk8RT4gPSBbXTtcblxuICBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIHwgQXJyYXk8RT4pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzaXplKSkge1xuICAgICAgdGhpcy5kYXRhID0gc2l6ZTtcbiAgICB9XG4gIH1cblxuICB0b0FycmF5KCk6IEFycmF5PEU+IHtcbiAgICByZXR1cm4gdGhpcy5kYXRhO1xuICB9XG5cbiAgc2V0RGF0YShkYXRhOiBBcnJheTxFPikge1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBzaXplKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YSA9PSBudWxsID8gMCA6IHRoaXMuZGF0YS5sZW5ndGg7XG4gIH1cblxuICBnZXQ8VCBleHRlbmRzIEU+IChpZHg6IG51bWJlcik6IFQge1xuICAgIGlmICh0aGlzLnNpemUoKSA+IGlkeCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGF0YVtpZHhdIGFzIFQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBhZGQoZWxlbWVudDogRSwgaW5zZXJ0aW9uSW5kZXg6IG51bWJlciA9IC0xKTogbnVtYmVyIHtcbiAgICBpZiAoaW5zZXJ0aW9uSW5kZXggPT09IC0xKSB7XG4gICAgICByZXR1cm4gdGhpcy5kYXRhLnB1c2goZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGF0YS5zcGxpY2UoaW5zZXJ0aW9uSW5kZXgsIDAsIGVsZW1lbnQpO1xuICAgICAgcmV0dXJuIGluc2VydGlvbkluZGV4O1xuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZShpZHg6IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0aGlzLmdldChpZHgpKSB7XG4gICAgICB0aGlzLmRhdGEuc3BsaWNlKGlkeCwgMSk7XG4gICAgfVxuICB9XG5cbiAgYWRkRWxlbWVudChlbGVtZW50OiBFKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoZWxlbWVudCk7XG4gIH1cblxuICBhZGRBbGwodmVjOiBWZWN0b3I8RT4pIHtcbiAgICBsZXQgaXQ6IEl0ZXJhdG9yPEU+ID0gdmVjLml0ZXJhdG9yKCk7XG4gICAgd2hpbGUoaXQuaGFzTmV4dCgpKSB7XG4gICAgICB0aGlzLmFkZChpdC5uZXh0KCkpO1xuICAgIH1cbiAgfVxuXG4gIGZpcnN0RWxlbWVudCgpOiBFIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhICE9IG51bGwgJiYgdGhpcy5kYXRhLmxlbmd0aCA+IDAgPyB0aGlzLmRhdGFbMF0gOiBudWxsO1xuICB9XG5cbiAgbGFzdEVsZW1lbnQoKTogRSB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YSAhPSBudWxsICYmIHRoaXMuZGF0YS5sZW5ndGggPiAwID8gdGhpcy5kYXRhW3RoaXMuZGF0YS5sZW5ndGggLSAxXSA6IG51bGw7XG4gIH1cblxuICBjb250YWlucyhlbGVtZW50OiBFKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGF0YSAhPSBudWxsICYmIHRoaXMuZGF0YS5pbmRleE9mKGVsZW1lbnQpID49IDAgPyB0cnVlOiBmYWxzZTtcbiAgfVxuXG4gIGVsZW1lbnRBdChpZHg6IG51bWJlcik6IEUge1xuICAgIHJldHVybiB0aGlzLmdldChpZHgpO1xuICB9XG5cbiAgaXNFbXB0eSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5kYXRhID09IG51bGwgfHwgdGhpcy5kYXRhLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIGl0ZXJhdG9yKCk6IEl0ZXJhdG9yPEU+IHtcbiAgICByZXR1cm4gbmV3IExpc3RJdGVyYXRvcjxFPihfLmNsb25lKHRoaXMuZGF0YSkpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSBcIi4vYmFzZS5jb21wb25lbnRcIjtcblxuZXhwb3J0IGNsYXNzIEF0dHJpYnV0ZUNoYW5nZUV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgb2xkVmFsdWU6IGFueSxcbiAgICAgICAgcHJpdmF0ZSBuZXdWYWx1ZTogYW55LFxuICAgICAgICBwcml2YXRlIHNvdXJjZUVsZW1lbnQ6IEJhc2VDb21wb25lbnRcbiAgICApIHt9XG5cbiAgICBnZXROYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgZ2V0T2xkVmFsdWUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2xkVmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0TmV3VmFsdWUoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV3VmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0U291cmNlRWxlbWVudCgpOiBCYXNlQ29tcG9uZW50IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlRWxlbWVudDtcbiAgICB9XG4gICAgXG59IiwiaW1wb3J0IHsgQXR0cmlidXRlTmFtZVZhbHVlIH0gZnJvbSBcIi4vYXR0cmlidXRlLW5hbWUtdmFsdWVcIjtcbmltcG9ydCB7IENsaWVudEV2ZW50IH0gZnJvbSBcIi4uL2V2ZW50LWhhbmRsZXIvY2xpZW50LWV2ZW50XCI7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSBcIi4vYmFzZS5jb21wb25lbnRcIjtcblxuLy8gQGR5bmFtaWNcbmV4cG9ydCBjbGFzcyBBcHBVdGlscyB7XG4gICAgc3RhdGljIHJlYWRvbmx5IGRvbVBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuICAgIC8qKiDDo8KCwq/Do8KDwqnDo8KCwrnDpcKxwp7DpsKAwqfDpcKkwonDpsKPwpvDp8KUwqjDo8KDwp7Do8KDwoPDo8KDwpcgKi9cbiAgICBzdGF0aWMgX2NsYXNzT3ZlcnJpZGVNYXA6IE1hcDxhbnksIGFueT4gPSBuZXcgTWFwKCk7XG4gICAgc3RhdGljIGF0dHJpYnV0ZU92ZXJyaWRlQ2xhc3NJbml0aWFsaXplcjogKCkgPT4gdm9pZCAgPSBudWxsO1xuICAgIHN0YXRpYyBhdHRyaWJ1dGVPdmVycmlkZUNsYXNzOiAodmFsdWU6IHN0cmluZykgPT4gQXJyYXk8QXR0cmlidXRlTmFtZVZhbHVlPiA9IG51bGw7XG4gICAgLyoqIMOjwoPCkMOjwoPCqsOjwoPCh8OjwoPCvMOjwoPCiMOlwrHCnsOmwoDCp8OlwqTCicOmwo/Cm8OnwpTCqMOjwoPCnsOjwoPCg8OjwoPClyAqL1xuICAgIHN0YXRpYyBfdmFsaWRhdGVPdmVycmlkZU1hcDogTWFwPGFueSwgYW55PiA9IG5ldyBNYXAoKTtcbiAgICBzdGF0aWMgYXR0cmlidXRlT3ZlcnJpZGVWYWxpZGF0ZUluaXRpYWxpemVyOiAoKSA9PiB2b2lkICA9IG51bGw7XG4gICAgc3RhdGljIGF0dHJpYnV0ZU92ZXJyaWRlVmFsaWRhdGU6ICh2YWx1ZTogc3RyaW5nKSA9PiBBcnJheTxBdHRyaWJ1dGVOYW1lVmFsdWU+ID0gbnVsbDtcblxuICAgIHN0YXRpYyBjdXN0b21pemVDbGllbnRFdmVudDogKHNvdXJjZTogYW55LCBjbGllbnRFdmVudDogQ2xpZW50RXZlbnQpID0+IHZvaWQgPSBudWxsO1xuICAgIHN0YXRpYyB2YWxpZGF0ZUZpZWxkOiAoc291cmNlOiBCYXNlQ29tcG9uZW50KSA9PiBib29sZWFuID0gbnVsbDtcbiAgICBzdGF0aWMgcGFyc2VEb20oc3RyOiBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9tUGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdHIsIFwiYXBwbGljYXRpb24veG1sXCIpLmZpcnN0RWxlbWVudENoaWxkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBIVE1MIGF0dHJpYnV0ZSB0byBzZWUgaWYgdGhleSBzaG91bGQgYmUgcGFzcyB0byB0aGUgc2VydmVyLiBUaGlzIGlzIG5lZWRlZFxuICAgICAqIGJlY2F1c2UgTmV4YXdlYiBmcmFtZXdvcmsgYWxsb3cgcGFzc2luZyBvZiBjdXN0b20gYXR0cmlidXRlc1xuICAgICAqL1xuICAgIHN0YXRpYyB2YWxpZGF0ZUF0dHJpYnV0ZTogKGF0dHJpYnV0ZU5hbWU6IHN0cmluZykgPT4gYm9vbGVhbiA9IG51bGw7XG4gICAgc3RhdGljIHNldEN1c3RvbUF0dHJpYnV0ZTogKGpzb246IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9LCBlbDogRWxlbWVudCkgPT4gdm9pZDtcbiAgICBzdGF0aWMgZW5hYmxlTG9nZ2luZzogYm9vbGVhbiA9IHRydWU7XG4gICAgc3RhdGljIG1heEZpbmRFbGVtZW50Q2FjaGU6IG51bWJlciA9IDUwMDtcbiAgICBzdGF0aWMgaXNDbG9zZUJ0bjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIGF0dHJpYnV0ZU92ZXJyaWRlSW5pdGlhbGl6ZXIgKi9cbiAgICBzdGF0aWMgYXR0cmlidXRlT3ZlcnJpZGVJbml0aWFsaXplcigpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPdmVycmlkZUNsYXNzSW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVPdmVycmlkZVZhbGlkYXRlSW5pdGlhbGl6ZXIoKTtcbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgSGFzaE1hcDxLLCBWPiBpbXBsZW1lbnRzIE1hcDxLLCBWPiB7XG4gICAgcHJpdmF0ZSBfaW50ZXJuYWxNYXA6IE1hcDxLLCBWPiA9IG5ldyBNYXA8SywgVj4oKTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgfVxuXG4gICAgZ2V0IHNpemUoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFsTWFwLnNpemU7XG4gICAgfVxuXG4gICAgcHV0KGtleTogSywgdmFsdWU6IFYpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxNYXAuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIGdldChrZXk6IEspOiBWIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFsTWFwLmdldChrZXkpO1xuICAgIH1cblxuICAgIHNldChrZXk6IEssIHZhbHVlOiBWKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsTWFwLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZGVsZXRlKGtleTogSyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxNYXAuZGVsZXRlKGtleSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGtleTogSyk6IHZvaWQge1xuICAgICAgICB0aGlzLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxNYXAuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBlbnRyaWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxNYXAuZW50cmllcygpO1xuICAgIH1cblxuICAgIGZvckVhY2goY2I6ICh2YWx1ZTogViwga2V5OiBLLCBtYXA6IE1hcDxLLCBWPik9PnZvaWQsIHRoaXNBcmc6IGFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxNYXAuZm9yRWFjaChjYiwgdGhpc0FyZyk7XG4gICAgfVxuXG4gICAgaGFzKGtleTogSykge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxNYXAuaGFzKGtleSk7XG4gICAgfVxuXG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFsTWFwLmtleXMoKTtcbiAgICB9XG5cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbE1hcC52YWx1ZXMoKTtcbiAgICB9XG5cbiAgICB0b0pzb24oKToge1tuYW1lOiBzdHJpbmddOiBhbnl9IHtcbiAgICAgIGNvbnN0IGpzb24gPSB7fTtcbiAgICAgIGNvbnN0IGtleXMgPSB0aGlzLmtleXMoKTtcbiAgICAgIGxldCBrZXkgPSBrZXlzLm5leHQoKTtcblxuICAgICAgd2hpbGUoa2V5LmRvbmUgIT09IHRydWUpIHtcbiAgICAgICAganNvbltrZXkudmFsdWUgYXMgYW55XSA9IHRoaXMuZ2V0KGtleS52YWx1ZSk7XG4gICAgICAgIGtleSA9IGtleXMubmV4dCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4ganNvbjtcbiAgICB9XG5cbiAgICBnZXQgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbE1hcFtTeW1ib2wuaXRlcmF0b3JdO1xuICAgIH1cblxuICAgIGdldCBbU3ltYm9sLnRvU3RyaW5nVGFnXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFsTWFwW1N5bWJvbC50b1N0cmluZ1RhZ107XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSGFzaE1hcCB9IGZyb20gXCIuL2hhc2gtbWFwXCI7XG5cbmV4cG9ydCBjbGFzcyBIYXNodGFibGU8SywgVj4gZXh0ZW5kcyBIYXNoTWFwPEssIFY+IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQXBwVXRpbHMgfSBmcm9tIFwiLi9hcHAtdXRpbHNcIjtcblxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XG4gICAgc3RhdGljIHdhcm4oZTogYW55KSB7XG4gICAgICAgIGlmIChBcHBVdGlscy5lbmFibGVMb2dnaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgbG9nKGU6IGFueSkge1xuICAgICAgICBpZiAoQXBwVXRpbHMuZW5hYmxlTG9nZ2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgaW5mbyhlOiBhbnkpIHtcbiAgICAgICAgaWYgKEFwcFV0aWxzLmVuYWJsZUxvZ2dpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbyhlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBlcnJvcihlOiBhbnkpIHtcbiAgICAgICAgaWYgKEFwcFV0aWxzLmVuYWJsZUxvZ2dpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZGVidWcoZTogYW55KSB7XG4gICAgICAgIGlmIChBcHBVdGlscy5lbmFibGVMb2dnaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGUpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IENvbXBvbmVudCwgT3B0aW9uYWwsIFNraXBTZWxmLCBBZnRlclZpZXdJbml0LCBJbnB1dCwgT25EZXN0cm95LCBFbGVtZW50UmVmLCBPbkluaXQsIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBSZW5kZXJlcjIgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZVwiO1xuaW1wb3J0IHsgS2V5VXRpbHMgfSBmcm9tIFwiLi9rZXktdXRpbHNcIjtcbmltcG9ydCB7IEF0dHJpYnV0ZXNFbnVtIH0gZnJvbSBcIi4vYXR0cmlidXRlcy5lbnVtXCI7XG5pbXBvcnQgeyBKYXZhVXRpbHMgfSBmcm9tIFwiLi4vamF2YS9qYXZhLXV0aWxzXCI7XG5pbXBvcnQgeyBDbGllbnRFdmVudCB9IGZyb20gXCIuLi9ldmVudC1oYW5kbGVyL2NsaWVudC1ldmVudFwiO1xuaW1wb3J0IHsgQm9yZGVyUG9zaXRpb24gfSBmcm9tIFwiLi9zdHlsZS1saXRlcmFsc1wiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4uL2phdmEvdmVjdG9yXCI7XG5pbXBvcnQgeyBBdHRyaWJ1dGVDaGFuZ2VMaXN0ZW5lciB9IGZyb20gXCIuL2F0dHJpYnV0ZS1jaGFuZ2UtbGlzdGVuZXJcIjtcbmltcG9ydCB7IEF0dHJpYnV0ZUNoYW5nZUV2ZW50IH0gZnJvbSBcIi4vYXR0cmlidXRlLWNoYW5nZS1ldmVudFwiO1xuaW1wb3J0IHsgQXBwVXRpbHMgfSBmcm9tIFwiLi9hcHAtdXRpbHNcIjtcbmltcG9ydCB7IEhhc2h0YWJsZSB9IGZyb20gXCIuLi9qYXZhL2hhc2h0YWJsZVwiO1xuaW1wb3J0IHsgSGFzaE1hcCB9IGZyb20gXCIuLi9qYXZhL2hhc2gtbWFwXCI7XG5pbXBvcnQgeyBWaWV3Q29tcG9uZW50IH0gZnJvbSBcIi4uL3ZpZXcvdmlldy5jb21wb25lbnRcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL2xvZ2dlclwiO1xuaW1wb3J0IHsgSFRNTEVsZW1lbnRXcmFwcGVyIH0gZnJvbSBcIi4uL3RyZWUtdGFibGUvaHRtbC1lbGVtZW50LXdyYXBwZXJcIjtcbmltcG9ydCB7IEF0dHJpYnV0ZU5hbWVWYWx1ZSB9IGZyb20gXCIuL2F0dHJpYnV0ZS1uYW1lLXZhbHVlXCI7XG5pbXBvcnQgeyBUcnVzdGVkU3R5bGVTdHJpbmcgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZS9zcmMvc2FuaXRpemF0aW9uL2J5cGFzc1wiO1xuaW1wb3J0IHsgVGFiQ29tcG9uZW50IH0gZnJvbSBcIi4uL3RhYi1wYW5lL3RhYi90YWIuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBUYWJQYW5lQ29tcG9uZW50IH0gZnJvbSBcIi4uL3RhYi1wYW5lL3RhYi1wYW5lLmNvbXBvbmVudFwiO1xuXG4vKipcbiAqIE1haW4gY2xhc3MgdGhhdCBhbGwgY29yZSBjb21wb25lbnRzIHNob3VsZCBpbmhlcml0LlxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd2dC1iYXNlJyxcbiAgdGVtcGxhdGU6ICdub3RoaW5nIGhlcmUnXG59KVxuZXhwb3J0IGNsYXNzIEJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3ksIE9uSW5pdCB7XG4gIEBJbnB1dCgpIGF1dG9XcmFwOiBib29sZWFuO1xuICBASW5wdXQoKSBib3JkZXJQb3NpdGlvbjogQm9yZGVyUG9zaXRpb247XG4gIEBJbnB1dCgpIGlkOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGRpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIHNvcnQ6IHN0cmluZyA9IFwiXCI7XG4gIEBJbnB1dCgpIHZpc2libGU6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoKSB0ZXh0OiBzdHJpbmcgPSBcIlwiO1xuICBASW5wdXQoKSBzZXQgY3NzQ2xhc3MoY3NzOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9jc3NDbGFzcyA9IHRoaXMuY2xlYW5Dc3MoY3NzKTtcbiAgICB0aGlzLmluaXRCb3JkZXJMYXlvdXQoKTtcbiAgfVxuXG4gIEBJbnB1dCgpIGNvbnRyb2xXaWR0aDogc3RyaW5nO1xuICBASW5wdXQoKSBjb250cm9sSGVpZ2h0OiBzdHJpbmc7XG4gIEBJbnB1dCgpIG1heEhlaWdodDogc3RyaW5nO1xuICBASW5wdXQoKSBsaW5lSGVpZ2h0OiBzdHJpbmc7XG4gIEBJbnB1dCgpIG1hcmdpblJpZ2h0OiBzdHJpbmc7XG4gIEBJbnB1dCgpIG1hcmdpbkxlZnQ6IHN0cmluZztcbiAgQElucHV0KCkgbWFyZ2luVG9wOiBzdHJpbmc7XG4gIEBJbnB1dCgpIG1hcmdpbkJvdHRvbTogc3RyaW5nO1xuICBASW5wdXQoKSBjb250cm9sTWFyZ2luOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGNvbnRyb2xQYWRkaW5nOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGNvbnRyb2xPdmVyZmxvdzogc3RyaW5nO1xuICBASW5wdXQoKSBwYW5lbFdpZHRoOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHBhbmVsTWluV2lkdGg6IHN0cmluZztcbiAgQElucHV0KCkgcGFuZWxNaW5IZWlnaHQ6IHN0cmluZztcbiAgQElucHV0KCkgY29udHJvbEZsb2F0OiBzdHJpbmc7XG4gIEBJbnB1dCgpIHJlcXVpcmVkOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgpIHBhdHRlcm46IHN0cmluZztcbiAgQElucHV0KCkgbWluOiBudW1iZXIgfCBzdHJpbmc7XG4gIEBJbnB1dCgpIG1heDogbnVtYmVyIHwgc3RyaW5nO1xuICBASW5wdXQoKSBtaW5MZW5ndGg6IG51bWJlciB8IHN0cmluZztcbiAgQElucHV0KCkgbWF4TGVuZ3RoOiBudW1iZXIgfCBzdHJpbmc7XG4gIEBJbnB1dCgpIGlucHV0TG9jYWxlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGlucHV0Q2hhcnNldHM6IHN0cmluZztcbiAgQElucHV0KCkgZm9jdXNPbkFjdGl2YXRpb246IGJvb2xlYW47XG4gIEBJbnB1dCgpIGZvY3VzZWQ6IGJvb2xlYW47XG4gIEBJbnB1dCgpIG9yZGVySW5kZXg6IG51bWJlciA9IC0xO1xuICBASW5wdXQoKSB4OiBzdHJpbmc7XG4gIEBJbnB1dCgpIHk6IHN0cmluZztcbiAgQElucHV0KCkgc2V0IHJlcXVpcmUocmVxOiBib29sZWFuKSB7XG4gICAgdGhpcy5yZXF1aXJlZCA9IHJlcTtcbiAgfVxuICBASW5wdXQoKSBjb250cm9sV2lkdGhDb21ib0JveDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBY2Nlc3NvciBmb3IgW1tyZXF1aXJlZF1dIHByb3BlcnR5XG4gICAqL1xuICBnZXQgcmVxdWlyZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1aXJlZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8vYWRkIHRvIHByZXZlbnQgY29uZnVzaW9uXG4gIEBJbnB1dCgpIGNsYXNzKGNzczogc3RyaW5nKSB7XG4gICAgdGhpcy5jc3NDbGFzcyA9IGNzcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBY2Nlc3NvciBmb3IgW1tjc3NDbGFzc11dIHByb3BlcnR5XG4gICAqL1xuICBnZXQgY3NzQ2xhc3MoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fY3NzQ2xhc3M7XG4gIH1cblxuICAvL1RPRE8gbmVlZCB0byBmaWd1cmUgb3V0IHdoYXQgdGhlc2UgZG9cbiAgQElucHV0KCkgaEdyYWJTcGFjZTogYm9vbGVhbjtcbiAgQElucHV0KCkgdkdyYWJTcGFjZTogYm9vbGVhbjtcblxuICBASW5wdXQoKSBiZ0NvbG9yOiBzdHJpbmc7XG5cbiAgLy91c2UgYnkgPGRlZnMgLi4uLj5cbiAgLy9lLmcuIDx2dC1jb21iby1ib3ggaWQ9XCJmb29cIiBlZGl0b3I9XCIjZm9vQmFyXCIgLi4uPlxuICBASW5wdXQoKSBlZGl0b3I6IHN0cmluZztcblxuICAvL3BvcHVwIG1lbnUgaWQgdGhhdCBzaG91bGQgcG9wIHdoZW4gdGhpcyBjb21wIGlzIHJpZ2h0IGNsaWNrIChpZiB0aGVyZSBpcyBhbnkpXG4gIEBJbnB1dCgpIHBvcHVwOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEFsaWduIGhvcml6b250YWxseT8gVE9ETyBuZWVkIGlzIGEgbWFqb3IgcmVncmVzc2lvbiB0ZXN0XG4gICAqL1xuICBASW5wdXQoKSBhbGlnbkhvcml6b250YWw6IHN0cmluZztcblxuICBwcml2YXRlIF9jc3NDbGFzczogc3RyaW5nO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGNvbXBSZWY6IENvbXBvbmVudFJlZjxhbnk+O1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHByaXZhdGUgX3RlbXBGcmVlemVDZDogYm9vbGVhbjtcblxuICAvL2FsaWFzIGZvciBkaXNhYmxlZFxuICBASW5wdXQoKSBzZXQgZW5hYmxlZChib286IGJvb2xlYW4pIHtcbiAgICBpZiAodHlwZW9mIGJvbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vaWYgZW5hYmxlZCBpcyBmYWxzZSwgZGlzYWJsZWQgaXMgdHJ1ZVxuICAgICAgdGhpcy5kaXNhYmxlZCA9IGJvbyA9PT0gJ3RydWUnID8gZmFsc2UgOiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc2FibGVkID0gIWJvbztcbiAgICB9XG4gIH1cblxuICBnZXQgZW5hYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gIXRoaXMuZGlzYWJsZWQ7XG4gIH1cblxuICBASW5wdXQoKSBzZXQgc29ydFZhbHVlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICB0aGlzLnNvcnQgPSB2YWx1ZVxuICB9XG5cbiAgZ2V0IHNvcnRWYWx1ZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnNvcnQ7XG4gIH1cblxuICAvL2xvb2tzIGxpa2UgTmV4YXdlYiBzdXBwb3J0IGN1c3RvbSBhdHRyaWJ1dGVzIGtleS92YWx1ZVxuICBASW5wdXQoKSBjdXN0b21BdHRyaWJ1dGVzOiB7IFtuYW1lOiBzdHJpbmddOiBhbnkgfTtcblxuICAvL2ZvbnRcbiAgQElucHV0KCkgZm9udEJvbGQ6IGJvb2xlYW4gfCBzdHJpbmc7XG4gIEBJbnB1dCgpIGZvbnRDb2xvcjogc3RyaW5nO1xuICBASW5wdXQoKSBmb250SXRhbGljOiBib29sZWFuIHwgc3RyaW5nO1xuICBASW5wdXQoKSBmb250U2l6ZTogbnVtYmVyO1xuICBASW5wdXQoKSBmb250VW5kZXJsaW5lOiBib29sZWFuIHwgc3RyaW5nO1xuICBASW5wdXQoKSBmb250Q29sb3JEaXNhYmxlZDogc3RyaW5nO1xuICBASW5wdXQoKSBvcGFjaXR5OiBzdHJpbmc7XG5cbiAgLy9ib3JkZXJcbiAgQElucHV0KCkgYm9yZGVyQ29sb3I6IHN0cmluZztcbiAgQElucHV0KCkgYm9yZGVyV2lkdGg6IG51bWJlciB8IHN0cmluZztcbiAgQElucHV0KCkgYm9yZGVyU3R5bGU6IHN0cmluZztcbiAgQElucHV0KCkgYm9yZGVySGVpZ2h0OiBudW1iZXIgfCBzdHJpbmc7XG5cbiAgLy9za2lwIGVtaXRpbmcgY29udGV4dCBtZW51IGV2ZW50XG4gIEBJbnB1dCgpIHNraXBFbWl0Q29udGV4dE1lbnVFdmVudDogYm9vbGVhbjtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBAT3V0cHV0KCkgb25Db250ZXh0TWVudTogRXZlbnRFbWl0dGVyPE1vdXNlRXZlbnQ+ID0gbmV3IEV2ZW50RW1pdHRlcjxNb3VzZUV2ZW50PigpO1xuICBAT3V0cHV0KCkgb25BY3RpdmVMb3N0OiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIEBPdXRwdXQoKSBvbkJlZm9yZUFjdGl2ZUxvc3Q6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICBzdHlsZXM6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG5cbiAgLy9mb3IgdGFibGUgdXNlXG4gIHRhYmxlUm93Tm86IG51bWJlcjtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBwcml2YXRlIF91bmlxdWVJZDogc3RyaW5nO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBUaGlzIGlzIGZvciB1c2Ugd2hlbiBzZXRBdHRyaWJ1dGUob25Db21tYW5kIGlzIHNldClcbiAgICovXG4gIHByb3RlY3RlZCBfaW50ZXJuYWxPbkNvbW1hbmQ6IChwYXJhbT86IGFueSkgPT4gdm9pZDtcbiAgcHJvdGVjdGVkIF9pbnRlcm5hbE9uQWN0aXZlTG9zdDogKHBhcmFtPzogYW55KSA9PiB2b2lkO1xuXG4gIC8vaW50ZXJuYWwgdXNlIG9ubHksIGRvIG5vdCB1c2UgZXh0ZXJuYWxseVxuICBfaW50ZXJuYWxDaGFuZ2VDYjogKGNvbXA6IEJhc2VDb21wb25lbnQpID0+IHZvaWQ7XG5cbiAgZ2V0IHVuaXF1ZUlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX3VuaXF1ZUlkO1xuICB9XG5cbiAgcHJvdGVjdGVkIF9jaGlsZHJlbjogTWFwPHN0cmluZywgQmFzZUNvbXBvbmVudD4gPSBudWxsO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHByb3RlY3RlZCBfY2hpbGRyZW5JbmRleDogQXJyYXk8c3RyaW5nPiA9IG51bGw7XG5cbiAgZ2V0IGNoaWxkcmVuKCk6IE1hcDxzdHJpbmcsIEJhc2VDb21wb25lbnQ+IHtcbiAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW47XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBwcml2YXRlIGF0dHJpYnV0ZUNoYW5nZUxpc3RlbmVyczogQXJyYXk8QXR0cmlidXRlQ2hhbmdlTGlzdGVuZXI+O1xuXG4gIHByaXZhdGUgcmFkaW9CdXR0b25Hcm91cHM6IE1hcDxzdHJpbmcsIEFycmF5PEJhc2VDb21wb25lbnQ+PjtcblxuICBoaWdobGlnaHRCZ0NvbG9yOiBzdHJpbmc7XG4gIGhpZ2hsaWdodEZvbnRDb2xvcjogc3RyaW5nO1xuXG4gIHBhcmVudFRhYmxlUm93OiBhbnk7XG5cbiAgLy9jYWNoZSByZWR1Y2VDaGlsZHJlbkl0ZXJhdGl2ZVxuICAvLyBwcml2YXRlIF9yZWR1Y2VDaGlsZHJlbkl0ZXJhdGl2ZUNhY2hlOiBBcnJheTxCYXNlQ29tcG9uZW50PjtcblxuICAvL3RyYWNrIGFsbCBjaGlsZHJlbiBmb3IgdGhlIHZpZXdcbiAgcHJvdGVjdGVkIF92aWV3Q2hpbGRyZW5NYXA6IE1hcDxzdHJpbmcsIEJhc2VDb21wb25lbnQ+O1xuXG4gIC8vZm9yIFRhYkNvbXBvbmVudFxuICBwcm90ZWN0ZWQgdGFiQ2hpbGRyZW5JZHM6IEFycmF5PHN0cmluZz47XG5cbiAgcHJpdmF0ZSBzY3JvbGxQYW5lczogQXJyYXk8QmFzZUNvbXBvbmVudD47XG5cbiAgX2lzRHlpbmc6IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIHdoZXJlIGl0IHJlcXVpcmVkIG1pbmltYWwgaW5qZWN0aW9uIGluIG9yZGVyIGZvciB0aGlzIGNsYXNzIHRvIGZ1bmN0aW9uIHByb3Blcmx5LiBTdWJjbGFzcyBjYW4gb3ZlcmxvYWQgdGhpcyBjb25zdHJ1Y3RvclxuICAgKiBidXQgaXQgbXVzdCBwcm92aWRlZCB0aGUgbWluaW1hbCByZXF1aXJlZCBpdGVtcyB0byBiZSBpbmplY3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBUaGUgY29tcG9uZW50IHdoZXJlIHRoaXMgY29tcG9uZW50IHdpbGwgYmUgdXNlZC4gVGhpcyBpbmplY3Rpb24gaXMgcHJvdmlkZWQgYnkgQW5ndWxhciBpZiB0aGUgcGFyZW50IGNvbXBvbmVudCBcInByb3ZpZGVcIiBpdHNlbGYuXG4gICAqIEBwYXJhbSBzZXNzaW9uU2VydmljZSBTZXNzaW9uU2VydmljZSBuZWVkZWQgYnkgdGhpcyBjbGFzcywgdGhpcyBzaG91bGQgYmUgaW5qZWN0ZWQgYnkgQW5ndWxhci5cbiAgICogQHBhcmFtIGVsZW1lbnRSZWYgdGhlIGVsZW1lbnQgcmVmZXJlbmNlIHRoYXQgd3JhcCB0aGUgZWxlbWVudCAodGFnKSBvZiB0aGlzIGNvbXBvbmVudC5cbiAgICogQHBhcmFtIHJlbmRlcmVyIFRoZSByZW5kZXJlciAoaW5qZWN0ZWQgYnkgQW5ndWxhcikgdGhhdCB3ZSB1c2VkIHRvIHBlcmZvcm0gRE9NIG1hbmlwdWxhdGlvbi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHByb3RlY3RlZCBwYXJlbnQ6IEJhc2VDb21wb25lbnQsIHByaXZhdGUgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlLCBwcm90ZWN0ZWQgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHJvdGVjdGVkIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHtcbiAgICB0aGlzLl91bmlxdWVJZCA9IEJhc2VDb21wb25lbnQuZ2VuZXJhdGVVbmlxdWVJZCgpO1xuXG4gICAgLy9pbml0aWFsIGlkXG4gICAgdGhpcy5pZCA9IHRoaXMuX3VuaXF1ZUlkO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEdvdCBjYWxsIHdoZW4gdGhpcyBjb21wb25lbnQgZmluaXNoZWQgaW5pdGlhbGl6aW5nLCBpZiB5b3Ugb3ZlcnJpZGUgdGhpcywgbWFrZSBzdXJlIHRvIGNhbGwgc3VwZXIubmdBZnRlclZpZXdJbml0KClcbiAgICovXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5wYXJlbnQuYWRkQ2hpbGQodGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy5fY2hpbGRyZW5JbmRleCA9IF8udW5pcSh0aGlzLl9jaGlsZHJlbkluZGV4KTtcblxuICAgIC8vY29tbW5ldCBvdXQsIGNhdXNpbmcgcmVncmVzc2lvbiBiL2MgdGhlIGNzcyBzZWxlY3RvciBuZWVkIGlkIG9mIHBhcmVudCB3aW5kb3dcbiAgICAvLyBpZiAodGhpcy5yZW5kZXJlciAhPSBudWxsICYmIHR5cGVvZiB0aGlzLnJlbmRlcmVyW1wicmVtb3ZlQXR0cmlidXRlXCJdID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAvLyAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCBcImlkXCIpO1xuICAgIC8vIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBJbml0IGxpZmUgY3ljbGUgb2YgdGhpcyBjbGFzcywgaWYgeW91IG92ZXJyaWRlIHRoaXMsIG1ha2Ugc3VyZSB0byBjYWxsIHN1cGVyLm5nT25Jbml0KClcbiAgICovXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuaW5pdEJvcmRlckxheW91dCgpO1xuXG4gICAgaWYgKHRoaXMuZm9udEJvbGQgPT09IHRydWUgfHwgdGhpcy5mb250Qm9sZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgIHRoaXMuc2V0Rm9udEJvbGQodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZm9udEl0YWxpYyA9PT0gdHJ1ZSB8fCB0aGlzLmZvbnRJdGFsaWMgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB0aGlzLnN0eWxlc1tcImZvbnQtc3R5bGVcIl0gPSBcIml0YWxpY1wiO1xuICAgICAgdGhpcy5zZXRGb250SXRhbGljKHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZvbnRTaXplICE9IG51bGwpIHtcbiAgICAgIHRoaXMuc2V0Rm9udFNpemUodGhpcy5mb250U2l6ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZm9udFVuZGVybGluZSA9PT0gdHJ1ZSB8fCB0aGlzLmZvbnRVbmRlcmxpbmUgPT09IFwidHJ1ZVwiKSB7XG4gICAgICB0aGlzLnNldEZvbnRVbmRlcmxpbmUodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZm9udENvbG9yICE9IG51bGwpIHtcbiAgICAgIHRoaXMuc2V0Q29sb3IodGhpcy5mb250Q29sb3IpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmF1dG9XcmFwID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnN0eWxlc1tcIndoaXRlLXNwYWNlXCJdID0gXCJub3JtYWxcIjtcbiAgICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmF1dG9XcmFwID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5zdHlsZXNbXCJ3aGl0ZS1zcGFjZVwiXSA9IFwibm93cmFwXCI7XG4gICAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cblxuICAgIHRoaXMuY2hlY2tOeFN0eWxpbmcoKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHByaXZhdGUgY2hlY2tOeFN0eWxpbmcoc2tpcEF0dHJpYnV0ZU92ZXJyaWRlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBpZiAoc2tpcEF0dHJpYnV0ZU92ZXJyaWRlICE9PSB0cnVlICYmIHRoaXMuX2Nzc0NsYXNzICE9IG51bGwgJiYgdGhpcy5fY3NzQ2xhc3MubGVuZ3RoID4gMCAmJiB0eXBlb2YgQXBwVXRpbHMuYXR0cmlidXRlT3ZlcnJpZGVDbGFzcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBsZXQgbmV3QXR0cmlidXRlcyA9IEFwcFV0aWxzLmF0dHJpYnV0ZU92ZXJyaWRlQ2xhc3ModGhpcy5fY3NzQ2xhc3MpO1xuXG4gICAgICBpZiAobmV3QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgICAgIC8vIGNsYXNzIMOjwoHCq8OpwpbCosOjwoHCl8OjwoHCpsOjwoHCr8OjwoDCgcOmwpfCosOlwq3CmMOjwoHCrsOmwozCh8Olwq7CmsOjwoHCqMOjwoPCnsOjwoPCvMOjwoLCuFxuICAgICAgICBjb25zdCBuZXdDc3NDbGFzcyA9IF8uZmlsdGVyKG5ld0F0dHJpYnV0ZXMsIChhdHRyOiBBdHRyaWJ1dGVOYW1lVmFsdWUpID0+IGF0dHIuYXR0cmlidXRlTmFtZSA9PT0gQXR0cmlidXRlc0VudW0uQ0xBU1MpLm1hcCgoYXR0cjogQXR0cmlidXRlTmFtZVZhbHVlKSA9PiBhdHRyLnZhbHVlKS5qb2luKFwiIFwiKTtcbiAgICAgICAgbmV3QXR0cmlidXRlcyA9IF8uZmlsdGVyKG5ld0F0dHJpYnV0ZXMsIChhdHRyOiBBdHRyaWJ1dGVOYW1lVmFsdWUpID0+IGF0dHIuYXR0cmlidXRlTmFtZSAhPT0gQXR0cmlidXRlc0VudW0uQ0xBU1MpO1xuICAgICAgICBcbiAgICAgICAgbmV3QXR0cmlidXRlcy5wdXNoKHtcbiAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBBdHRyaWJ1dGVzRW51bS5DTEFTUyxcbiAgICAgICAgICB2YWx1ZTogKHRoaXMuX2Nzc0NsYXNzICsgXCIgXCIgKyBuZXdDc3NDbGFzcykudHJpbSgpLFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZXMobmV3QXR0cmlidXRlcywgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZWxlbWVudFJlZiAhPSBudWxsKSB7XG4gICAgICBjb25zdCBfdmFsaWRhdGUgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ2YWxpZGF0ZVwiKTtcblxuICAgICAgaWYgKHNraXBBdHRyaWJ1dGVPdmVycmlkZSAhPT0gdHJ1ZSAmJiBfdmFsaWRhdGUgIT0gbnVsbCAmJiBfdmFsaWRhdGUubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgbmV3QXR0cmlidXRlcyA9IEFwcFV0aWxzLmF0dHJpYnV0ZU92ZXJyaWRlVmFsaWRhdGUoX3ZhbGlkYXRlKTtcblxuICAgICAgICBpZiAobmV3QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgICAgICAgLy8gY2xhc3Mgw6PCgcKrw6nClsKiw6PCgcKXw6PCgcKmw6PCgcKvw6PCgMKBw6bCl8Kiw6XCrcKYw6PCgcKuw6bCjMKHw6XCrsKaw6PCgcKow6PCg8Kew6PCg8K8w6PCgsK4XG4gICAgICAgICAgY29uc3QgbmV3Q3NzQ2xhc3MgPSBfLmZpbHRlcihuZXdBdHRyaWJ1dGVzLCAoYXR0cjogQXR0cmlidXRlTmFtZVZhbHVlKSA9PiBhdHRyLmF0dHJpYnV0ZU5hbWUgPT09IEF0dHJpYnV0ZXNFbnVtLkNMQVNTKS5tYXAoKGF0dHI6IEF0dHJpYnV0ZU5hbWVWYWx1ZSkgPT4gYXR0ci52YWx1ZSkuam9pbihcIiBcIik7XG4gICAgICAgICAgbmV3QXR0cmlidXRlcyA9IF8uZmlsdGVyKG5ld0F0dHJpYnV0ZXMsIChhdHRyOiBBdHRyaWJ1dGVOYW1lVmFsdWUpID0+IGF0dHIuYXR0cmlidXRlTmFtZSAhPT0gQXR0cmlidXRlc0VudW0uQ0xBU1MpO1xuICAgICAgICAgIFxuICAgICAgICAgIG5ld0F0dHJpYnV0ZXMucHVzaCh7XG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lOiBBdHRyaWJ1dGVzRW51bS5DTEFTUyxcbiAgICAgICAgICAgIHZhbHVlOiAodGhpcy5fY3NzQ2xhc3MgKyBcIiBcIiArIG5ld0Nzc0NsYXNzKS50cmltKCksXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZXMobmV3QXR0cmlidXRlcywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBib3JkZXIgQ1NTIGJhc2VkIG9uIGJvcmRlclBvc2l0aW9uIHZhbHVlICh0b3AgfCBsZWZ0IHwgYm90dG9tIHwgcmlnaHQpXG4gICAqL1xuICBwcml2YXRlIGluaXRCb3JkZXJMYXlvdXQoKSB7XG4gICAgaWYgKHRoaXMuYm9yZGVyUG9zaXRpb24gIT0gbnVsbCAmJiB0aGlzLmJvcmRlclBvc2l0aW9uICE9ICcnKSB7XG4gICAgICBpZiAodGhpcy5fY3NzQ2xhc3MgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9jc3NDbGFzcyA9IHRoaXMuX2Nzc0NsYXNzICsgJyBib3JkZXItJyArIHRoaXMuYm9yZGVyUG9zaXRpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jc3NDbGFzcyA9ICdib3JkZXItJyArIHRoaXMuYm9yZGVyUG9zaXRpb247XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIERlc3Ryb3kgbGlmZWN5Y2xlLiBDbGVhciBjb21wb25lbnQgcmVmZXJlbmNlcyBhbmQgY2FjaGVcbiAgICovXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIHRoaXMuX2lzRHlpbmcgPSB0cnVlO1xuXG4gICAgY29uc3QgcGFyZW50VmlldyA9IHRoaXMuZ2V0UGFyZW50VmlldygpO1xuXG4gICAgaWYgKHBhcmVudFZpZXcgIT0gbnVsbCkge1xuICAgICAgLy9yZW1vdmUgb3Vyc2VsZiBmcm9tIHRoZSB2aWV3IGNoaWxkcmVuIG1hcFxuICAgICAgaWYgKHBhcmVudFZpZXcuX3ZpZXdDaGlsZHJlbk1hcCAhPSBudWxsKSB7XG4gICAgICAgIHBhcmVudFZpZXcuX3ZpZXdDaGlsZHJlbk1hcC5kZWxldGUoS2V5VXRpbHMudG9NYXBLZXkodGhpcy5nZXRJZCgpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5faW50ZXJuYWxDaGFuZ2VDYiA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl92aWV3Q2hpbGRyZW5NYXAgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fdmlld0NoaWxkcmVuTWFwLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2NoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9jaGlsZHJlbi5jbGVhcigpO1xuICAgIH1cblxuICAgIHRoaXMuX2NoaWxkcmVuSW5kZXggPSBudWxsO1xuICAgIHRoaXMuX3ZpZXdDaGlsZHJlbk1hcCA9IG51bGw7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UgPSBudWxsO1xuICAgIHRoaXMuYXR0cmlidXRlQ2hhbmdlTGlzdGVuZXJzID0gbnVsbDtcbiAgICB0aGlzLnJhZGlvQnV0dG9uR3JvdXBzID0gbnVsbDtcbiAgICB0aGlzLmVsZW1lbnRSZWYgPSBudWxsO1xuICAgIHRoaXMuc2Nyb2xsUGFuZXMgPSBudWxsO1xuICB9XG5cbiAgcHJvdGVjdGVkIGNsZWFudXAoKSB7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgW1tTZXNzaW9uU2VydmljZV1dIGluc3RhbmNlIGluamVjdGVkIHZpYSBjb25zdHJ1Y3RvclxuICAgKiBAcmV0dXJucyBTZXNzaW9uU2VydmljZSBpbnN0YW5jZVxuICAgKi9cbiAgZ2V0U2Vzc2lvbigpOiBTZXNzaW9uU2VydmljZSB7XG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvblNlcnZpY2U7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogR2V0IGNoaWxkIGNvbXBvbmVudCBieSBpZFxuICAgKiBAcGFyYW0gaWQgQ29tcG9uZW50IElEXG4gICAqIEByZXR1cm5zIENoaWxkIFtbQmFzZUNvbXBvbmVudF1dXG4gICAqL1xuICBnZXRDaGlsZChpZDogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuX2NoaWxkcmVuICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0KEtleVV0aWxzLnRvTWFwS2V5KGlkKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgW1tkaXNhYmxlZF1dIHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSBib28gVmFsdWUgZm9yIGRpc2FibGVkIHByb3BlcnR5XG4gICAqL1xuICBzZXREaXNhYmxlZChib286IGJvb2xlYW4pIHtcbiAgICB0aGlzLmRpc2FibGVkID0gYm9vO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0IFtbdmlzaWJsZV1dIHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSBib28gVmFsdWUgZm9yIHZpc2libGUgcHJvcGVydHlcbiAgICovXG4gIHNldFZpc2libGUoYm9vOiBib29sZWFuKSB7XG4gICAgdGhpcy52aXNpYmxlID0gYm9vO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICBzZXRTY3JvbGxQb3NWZXJ0aWNhbChleHByZXNzaW9uKSB7XG4gICAgLy9UT0RPXG4gIH1cblxuICAvKipcbiAgICogU2V0IGNvbG9yIG9mIHRleHQgb24gdGhlIGNvbXBvbmVudFxuICAgKiBAcGFyYW0gdmFsdWUgQ29sb3Igc3RyaW5nLiBTaG91bGQgYmUgaGV4YWRlY2ltYWwgb3IgY29sb3IgbmFtZSBzdXBwb3J0ZWQgYnkgQ1NTXG4gICAqL1xuICBzZXRGb250Q29sb3IodmFsdWUpIHtcbiAgICB0aGlzLnNldENvbG9yKHZhbHVlKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBWYWx1ZSBvZiBbW2Rpc2FibGVkXV0gcHJvcGVydHlcbiAgICogQHJldHVybnMgVmFsdWUgb2YgZGlzYWJsZWRcbiAgICovXG4gIGdldERpc2FibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmRpc2FibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbHVlIG9mIG9wcG9zaXRlIG9mIFtbZGlzYWJsZWRdXSB2YWx1ZVxuICAgKiBAcmV0dXJucyBWYWx1ZSBvZiBlbmFibGVkXG4gICAqL1xuICBnZXRFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhdGhpcy5nZXREaXNhYmxlZCgpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFZhbHVlIG9mIHNvQ29sdW1uTm8gYXR0cmlidXRlXG4gICAqIEByZXR1cm5zIENvbHVtbiBudW1iZXJcbiAgICovXG4gIGdldFNvQ29sdW1uTm8oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJzb0NvbHVtbk5vXCIpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEdldCB0aGUgY29tcG9uZW50IHJlZiBzdHJpbmcgdmFsdWUgZnJvbSBbW2VkaXRvcl1dIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIFJlZiBvZiBjb21wb25lbnRcbiAgICovXG4gIGdldEVkaXRvcigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmVkaXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWx1ZSBvZiBzb1JlcXVpcmUgYXR0cmlidXRlXG4gICAqIEByZXR1cm5zIHNvUmVxdWlyZSB2YWx1ZVxuICAgKi9cbiAgZ2V0U29SZXF1aXJlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwic29SZXF1aXJlXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbHVlIG9mIHNvVmFsaWRhdGUgYXR0cmlidXRlXG4gICAqIEByZXR1cm5zIHNvVmFsaWRhdGUgdmFsdWVcbiAgICovXG4gIGdldFNvVmFsaWRhdGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJzb1ZhbGlkYXRlXCIpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFZhbHVlIG9mIHNvVHlwZSBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMgc29UeXBlIHZhbHVlXG4gICAqL1xuICBnZXRTb1R5cGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJzb1R5cGVcIik7XG4gIH1cblxuICAvKipcbiAgICogVmFsdWUgb2Ygc29Gb3JtYXQgYXR0cmlidXRlXG4gICAqIEByZXR1cm5zIHNvRm9ybWF0IHZhbHVlXG4gICAqL1xuICBnZXRTb0Zvcm1hdCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInNvRm9ybWF0XCIpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFZhbHVlIG9mIHNvTWluIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyBzb01pbiB2YWx1ZVxuICAgKi9cbiAgZ2V0U29NaW4oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJzb01pblwiKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBWYWx1ZSBvZiBzb01heCBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMgc29NYXggdmFsdWVcbiAgICovXG4gIGdldFNvTWF4KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwic29NYXhcIik7XG4gIH1cblxuICAvKipcbiAgICogVmFsdWUgb2Ygc29NYXhMZW5ndGggYXR0cmlidXRlXG4gICAqIEByZXR1cm5zIHNvTWF4TGVuZ3RoIHZhbHVlXG4gICAqL1xuICBnZXRTb01heExlbmd0aCgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInNvTWF4TGVuZ3RoXCIpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFZhbHVlIG9mIHNvUGF0dGVybiBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMgc29QYXR0ZXJuIHZhbHVlXG4gICAqL1xuICBnZXRTb1BhdHRlcm4oKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJzb1BhdHRlcm5cIik7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogVmFsdWUgb2Ygc29NYXhCeXRlTGVuIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyBzb01heEJ5dGVMZW4gdmFsdWVcbiAgICovXG4gIGdldFNvTWF4Qnl0ZUxlbigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInNvTWF4Qnl0ZUxlblwiKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgW1tkaXNhYmxlZF1dIHByb3BlcnR5IHRvIG9wcG9zaXRlIG9mIGlucHV0XG4gICAqIEBwYXJhbSBib28gVmFsdWUgb2YgZW5hYmxlZFxuICAgKi9cbiAgc2V0RW5hYmxlZChib286IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIGJvbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGJvbyA9IGJvbyA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLnNldERpc2FibGVkKCFib28pO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFNldCB2YWx1ZSBvZiBbW3NvcnRdXSBwcm9wZXJ0eVxuICAgKiBAcGFyYW0gdmFsdWUgU29ydCB2YWx1ZSB0byBzZXRcbiAgICovXG4gIHNldFNvcnRWYWx1ZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgdGhpcy5zb3J0ID0gdmFsdWVcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdmFsdWUgb2YgW1t2aXNpYmxlXV0gcHJvcGVydHlcbiAgICogQHJldHVybnMgVmlzYmxlIHByb3BlcnR5IHZhbHVlXG4gICAqL1xuICBnZXRWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnZpc2libGU7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0cyB2YWx1ZSBvZiB0ZXh0IGF0dHJpYnV0ZSBhbmQgbWFya3MgY29tcG9uZW50IGZvciBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAqIEBwYXJhbSB2YWx1ZSBUZXh0IHRvIHNldC4gSWYgaXQncyBhIG51bGwgdmFsdWUsIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGFuIGVtcHR5IHN0cmluZ1xuICAgKiBJZiBpdCdzIGEgbnVtYmVyIG9yIG5vbi1zdHJpbmcsIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2YWx1ZS5cbiAgICovXG4gIHNldFRleHQodmFsdWU6IHN0cmluZyB8IG51bWJlcik6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnRleHQgPSB2YWx1ZTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHRoaXMudGV4dCA9ICcnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRleHQgPSB2YWx1ZSArICcnO1xuICAgIH1cbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFNldCBjYWxsYmFjayBmdW5jdGlvbiBmb3IgW1tvbkNvbW1hbmRdXVxuICAgKiBAcGFyYW0gZm4gRnVuY3Rpb24gdG8gYmUgaW52b2tlZCBmb3IgW1tvbkNvbW1hbmRdXSBldmVudFxuICAgKi9cbiAgc2V0T25Db21tYW5kKGZuOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5faW50ZXJuYWxPbkNvbW1hbmQgPSBmbjtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgY2FsbGJhY2sgZnVuY3Rpb24gZm9yIFtbb25BY3RpdmVMb3N0XV1cbiAgICogQHBhcmFtIGZuIEZ1bmN0aW9uIHRvIGJlIGludm9rZWQgZm9yIFtbb25BY3RpdmVMb3N0XV0gZXZlbnRcbiAgICovXG4gIHNldE9uQWN0aXZlTG9zdChmbjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIHRoaXMuX2ludGVybmFsT25BY3RpdmVMb3N0ID0gZm47XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0IGFsbCBhdHRyaWJ1dGVzIGluIG9uZSBnb1xuICAgKlxuICAgKiBAcGFyYW0gYXR0cnNcbiAgICogQHBhcmFtIHNraXBBdHRyaWJ1dGVPdmVycmlkZSBTZXQgdG8gJ3RydWUnIGlmIHlvdSBkbyBub3Qgd2FudCBjdXN0b20gYXR0cmlidXRlIHRvIG92ZXJyaWRlIGV4aXNpdGluZyBIVE1MIGF0dHJpYnV0ZVxuICAgKi9cbiAgc2V0QXR0cmlidXRlcyhhdHRyczogQXJyYXk8QXR0cmlidXRlTmFtZVZhbHVlPiwgc2tpcEF0dHJpYnV0ZU92ZXJyaWRlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICB0aGlzLl90ZW1wRnJlZXplQ2QgPSB0cnVlO1xuXG4gICAgZm9yIChjb25zdCBhdHRyIG9mIGF0dHJzKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyLmF0dHJpYnV0ZU5hbWUsIGF0dHIudmFsdWUsIHNraXBBdHRyaWJ1dGVPdmVycmlkZSk7XG4gICAgfVxuXG4gICAgdGhpcy5fdGVtcEZyZWV6ZUNkID0gZmFsc2U7XG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgSFRNTCBhdHRyaWJ1dGUgdmFsdWUgb24gY29tcG9uZW50XG4gICAqIEBwYXJhbSBhdHRyaWJ1dGUgSFRNTCBhdHRyaWJ1dGUgdG8gc2V0XG4gICAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSBvZiBhdHRyaWJ1dGVcbiAgICogQHBhcmFtIHNraXBBdHRyaWJ1dGVPdmVycmlkZSBTZXQgdG8gJ3RydWUnIGlmIHlvdSBkbyBub3Qgd2FudCBjdXN0b20gYXR0cmlidXRlIHRvIG92ZXJyaWRlIGV4aXNpdGluZyBIVE1MIGF0dHJpYnV0ZVxuICAgKi9cbiAgc2V0QXR0cmlidXRlKGF0dHJpYnV0ZTogQXR0cmlidXRlc0VudW0gfCBzdHJpbmcsIHZhbHVlOiBhbnksIHNraXBBdHRyaWJ1dGVPdmVycmlkZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBvcmlnaW5hbEF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGU7XG4gICAgICBhdHRyaWJ1dGUgPSBhdHRyaWJ1dGUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gXCJpZFwiKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLklELCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLlZJU0lCTEUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcImNsYXNzXCIpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uQ0xBU1MsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSAnZW5hYmxlZCcpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uRU5BQkxFRCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uRElTQUJMRUQsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSAndGV4dCcpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uVEVYVCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09ICdjb2xvcicpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uQ09MT1IsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcInRpdGxlXCIpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uVElUTEUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcInJlcXVpcmVcIikge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGVzRW51bS5SRVFVSVJFLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gXCJmb250Qm9sZFwiIHx8IGF0dHJpYnV0ZSA9PT0gXCJmb250Ym9sZFwiKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLkZPTlRfQk9MRCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IFwic2VsZWN0ZWRcIikge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGVzRW51bS5TRUxFQ1RFRCwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IFwiYmdjb2xvclwiKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLkJHX0NPTE9SLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gXCJ2YWx1ZVwiKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLlZBTFVFLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gXCJtYXhsZW5ndGhcIiB8fCBhdHRyaWJ1dGUgPT09IFwibWF4X2xlbmd0aFwiKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLk1BWF9MRU5HVEgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcInJlcXVpcmVcIiB8fCBhdHRyaWJ1dGUgPT09IFwicmVxdWlyZWRcIikge1xuICAgICAgICB0aGlzLnNldFJlcXVpcmUodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IFwid2lkdGhcIikge1xuICAgICAgICB0aGlzLnNldENvbnRyb2xXaWR0aCh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gXCJoZWlnaHRcIikge1xuICAgICAgICB0aGlzLnNldENvbnRyb2xIZWlnaHQodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IFwiZm9udFNpemVcIiB8fCBhdHRyaWJ1dGUgPT09IFwiZm9udHNpemVcIikge1xuICAgICAgICB0aGlzLnNldEZvbnRTaXplKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcIm9uY29tbWFuZFwiKSB7XG4gICAgICAgIHRoaXMuc2V0T25Db21tYW5kKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcIm9uYWN0aXZlbG9zdFwiKSB7XG4gICAgICAgIHRoaXMuc2V0T25BY3RpdmVMb3N0KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcInBhdHRlcm5cIikge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGVzRW51bS5QQVRURVJOLCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gXCJtYXhcIikge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShBdHRyaWJ1dGVzRW51bS5NQVgsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcIm1pblwiKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLk1JTiwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChKYXZhVXRpbHMuaXNOdW1iZXIob3JpZ2luYWxBdHRyaWJ1dGVOYW1lKSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShfLnBhcnNlSW50KG9yaWdpbmFsQXR0cmlidXRlTmFtZSksIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0Q3VzdG9tQXR0cmlidXRlKG9yaWdpbmFsQXR0cmlidXRlTmFtZSwgdmFsdWUpO1xuICAgICAgICAvLyBMb2dnZXIud2FybihgVW5rbm93biBhdHRyaWJ1dGU6ICR7YXR0cmlidXRlfSwgc2V0dGluZyBhcyBjdXN0b20gYXR0cmlidXRlYCk7XG5cbiAgICAgICAgaWYgKGF0dHJpYnV0ZSA9PT0gXCJ2YWxpZGF0ZVwiICYmIHNraXBBdHRyaWJ1dGVPdmVycmlkZSAhPT0gdHJ1ZSAmJiB2YWx1ZSAhPSBudWxsICYmIHZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBsZXQgbmV3QXR0cmlidXRlcyA9IEFwcFV0aWxzLmF0dHJpYnV0ZU92ZXJyaWRlVmFsaWRhdGUodmFsdWUpO1xuXG4gICAgICAgICAgaWYgKG5ld0F0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gY2xhc3Mgw6PCgcKrw6nClsKiw6PCgcKXw6PCgcKmw6PCgcKvw6PCgMKBw6bCl8Kiw6XCrcKYw6PCgcKuw6bCjMKHw6XCrsKaw6PCgcKow6PCg8Kew6PCg8K8w6PCgsK4XG4gICAgICAgICAgICBjb25zdCBuZXdDc3NDbGFzcyA9IF8uZmlsdGVyKG5ld0F0dHJpYnV0ZXMsIChhdHRyOiBBdHRyaWJ1dGVOYW1lVmFsdWUpID0+IGF0dHIuYXR0cmlidXRlTmFtZSA9PT0gQXR0cmlidXRlc0VudW0uQ0xBU1MpLm1hcCgoYXR0cjogQXR0cmlidXRlTmFtZVZhbHVlKSA9PiBhdHRyLnZhbHVlKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIG5ld0F0dHJpYnV0ZXMgPSBfLmZpbHRlcihuZXdBdHRyaWJ1dGVzLCAoYXR0cjogQXR0cmlidXRlTmFtZVZhbHVlKSA9PiBhdHRyLmF0dHJpYnV0ZU5hbWUgIT09IEF0dHJpYnV0ZXNFbnVtLkNMQVNTKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbmV3QXR0cmlidXRlcy5wdXNoKHtcbiAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZTogQXR0cmlidXRlc0VudW0uQ0xBU1MsXG4gICAgICAgICAgICAgIHZhbHVlOiAodGhpcy5fY3NzQ2xhc3MgKyBcIiBcIiArIG5ld0Nzc0NsYXNzKS50cmltKCksXG4gICAgICAgICAgICB9KTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlcyhuZXdBdHRyaWJ1dGVzLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5maXJlU2V0QXR0cmlidXRlRXZlbnQob3JpZ2luYWxBdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLkNMQVNTICYmIHNraXBBdHRyaWJ1dGVPdmVycmlkZSAhPT0gdHJ1ZSAmJiB2YWx1ZSAhPSBudWxsICYmIHZhbHVlLmxlbmd0aCA+IDAgJiYgdHlwZW9mIEFwcFV0aWxzLmF0dHJpYnV0ZU92ZXJyaWRlQ2xhc3MgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBsZXQgbmV3QXR0cmlidXRlcyA9IEFwcFV0aWxzLmF0dHJpYnV0ZU92ZXJyaWRlQ2xhc3ModmFsdWUpO1xuXG4gICAgICAgIGlmIChuZXdBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgICAgICAvLyBjbGFzcyDDo8KBwqvDqcKWwqLDo8KBwpfDo8KBwqbDo8KBwq/Do8KAwoHDpsKXwqLDpcKtwpjDo8KBwq7DpsKMwofDpcKuwprDo8KBwqjDo8KDwp7Do8KDwrzDo8KCwrhcbiAgICAgICAgICBjb25zdCBuZXdDc3NDbGFzcyA9IF8uZmlsdGVyKG5ld0F0dHJpYnV0ZXMsIChhdHRyOiBBdHRyaWJ1dGVOYW1lVmFsdWUpID0+IGF0dHIuYXR0cmlidXRlTmFtZSA9PT0gQXR0cmlidXRlc0VudW0uQ0xBU1MpLm1hcCgoYXR0cjogQXR0cmlidXRlTmFtZVZhbHVlKSA9PiBhdHRyLnZhbHVlKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICBuZXdBdHRyaWJ1dGVzID0gXy5maWx0ZXIobmV3QXR0cmlidXRlcywgKGF0dHI6IEF0dHJpYnV0ZU5hbWVWYWx1ZSkgPT4gYXR0ci5hdHRyaWJ1dGVOYW1lICE9PSBBdHRyaWJ1dGVzRW51bS5DTEFTUyk7XG4gICAgICAgICAgXG4gICAgICAgICAgbmV3QXR0cmlidXRlcy5wdXNoKHtcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU6IEF0dHJpYnV0ZXNFbnVtLkNMQVNTLFxuICAgICAgICAgICAgdmFsdWU6ICh0aGlzLl9jc3NDbGFzcyArIFwiIFwiICsgbmV3Q3NzQ2xhc3MpLnRyaW0oKSxcbiAgICAgICAgICB9KTtcbiAgXG4gICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGVzKG5ld0F0dHJpYnV0ZXMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLklEKSB7XG4gICAgICAgIHRoaXMuc2V0SWQodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlZJU0lCTEUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09IFwiXCIpIHtcbiAgICAgICAgICB0aGlzLnNldFZpc2libGUoSmF2YVV0aWxzLnBhcnNlQm9vbGVhbih2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uQ0xBU1MpIHtcbiAgICAgICAgdGhpcy5zZXRDc3NDbGFzcyh2YWx1ZSwgc2tpcEF0dHJpYnV0ZU92ZXJyaWRlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5ESVNBQkxFRCkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoSmF2YVV0aWxzLnBhcnNlQm9vbGVhbih2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uRU5BQkxFRCkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgIHRoaXMuc2V0RGlzYWJsZWQoIUphdmFVdGlscy5wYXJzZUJvb2xlYW4odmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlRFWFQpIHtcbiAgICAgICAgdGhpcy5zZXRUZXh0KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5DT0xPUikge1xuICAgICAgICB0aGlzLnNldENvbG9yKHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5GT05UX0JPTEQpIHtcbiAgICAgICAgdGhpcy5zZXRGb250Qm9sZCh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uT05fQ09NTUFORCkge1xuICAgICAgICB0aGlzLnNldE9uQ29tbWFuZCh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uUkVRVUlSRSkge1xuICAgICAgICB0aGlzLnNldFJlcXVpcmUodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlRJVExFKSB7XG4gICAgICAgIHRoaXMuc2V0VGl0bGUodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlNFTEVDVEVEKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWQodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLkJHX0NPTE9SKSB7XG4gICAgICAgIHRoaXMuc2V0QmdDb2xvcih2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uVkFMVUUpIHtcbiAgICAgICAgdGhpcy5zZXRWYWx1ZSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uTUFYX0xFTkdUSCkge1xuICAgICAgICB0aGlzLnNldE1heExlbmd0aCh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uTUFYKSB7XG4gICAgICAgIHRoaXMuc2V0TWF4KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5NSU4pIHtcbiAgICAgICAgdGhpcy5zZXRNaW4odmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlBBVFRFUk4pIHtcbiAgICAgICAgdGhpcy5zZXRQYXR0ZXJuKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIExvZ2dlci53YXJuKCdVbmFibGUgdG8gc2V0IGF0dHJpYnV0ZSwgdW5rbm93biBhdHRyaWJ1dGUgaWQ6ICcgKyBhdHRyaWJ1dGUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBHZXQgdmFsdWUgb2YgSFRNTCBhdHRyaWJ1dGVcbiAgICogQHBhcmFtIGF0dHJpYnV0ZSBOYW1lIG9mIEhUTUwgYXR0cmlidXRlIHRvIGdldFxuICAgKiBAcmV0dXJucyBWYWx1ZSBvZiBhdHRyaWJ1dGVcbiAgICovXG4gIGdldEF0dHJpYnV0ZShhdHRyaWJ1dGU6IHN0cmluZyB8IEF0dHJpYnV0ZXNFbnVtLCBza2lwUXVlcnlET01JZk5vdEV4aXN0czogYm9vbGVhbiA9IGZhbHNlKTogYW55IHtcbiAgICBpZiAodHlwZW9mIGF0dHJpYnV0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZUxvd2VyID0gYXR0cmlidXRlLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICd2aXNpYmxlJykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWaXNpYmxlKCkgKyAnJztcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdlbmFibGVkJykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFbmFibGVkKCkgKyAnJztcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RGlzYWJsZWQoKSArICcnO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gJ3RleHQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFRleHQoKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdjb2xvcicpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29sb3IoKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdyZXF1aXJlJykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXF1aXJlZCgpICsgJyc7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZUxvd2VyID09PSBcInZhbHVlXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09IFwic2VsZWN0ZWRcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGVja2VkKCkgKyAnJztcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09IFwiaWRcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJZCgpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gXCJwYXR0ZXJuXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGF0dGVybigpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gXCJtaW5cIikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNaW4oKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09IFwibWF4XCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWF4KCk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZUxvd2VyID09PSBcIm1heF9sZW5ndGhcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNYXhMZW5ndGgoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXN0b21BdHRyaWJ1dGVzICE9IG51bGwgJiYgdGhpcy5jdXN0b21BdHRyaWJ1dGVzW2F0dHJpYnV0ZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDdXN0b21BdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBcImlzTG9ja2VkQ29sdW1uXCIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSBlbHNlIGlmIChza2lwUXVlcnlET01JZk5vdEV4aXN0cyAhPT0gdHJ1ZSkge1xuICAgICAgICBMb2dnZXIud2FybihgQXR0cmlidXRlICR7YXR0cmlidXRlfSBkb2VzIG5vdCBleGlzdHMsIHRyeWluZyB0byBnZXQgZnJvbSBET01gKTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFJlZiAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlZJU0lCTEUpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFZpc2libGUoKSArICcnO1xuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5ESVNBQkxFRCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0RGlzYWJsZWQoKSArICcnO1xuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5FTkFCTEVEKSB7XG4gICAgICByZXR1cm4gIXRoaXMuZ2V0RGlzYWJsZWQoKSArICcnO1xuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5URVhUKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRUZXh0KCk7XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLkNPTE9SKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRDb2xvcigpO1xuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5SRVFVSVJFKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRSZXF1aXJlZCgpICsgJyc7XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlZBTFVFKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZSgpO1xuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5TRUxFQ1RFRCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hlY2tlZCgpICsgJyc7XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlBBVFRFUk4pIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFBhdHRlcm4oKTtcbiAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uTUlOKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRNaW4oKTtcbiAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uTUFYKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRNYXgoKTtcbiAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uTUFYX0xFTkdUSCkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0TWF4TGVuZ3RoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1VuYWJsZSB0byBnZXQgYXR0cmlidXRlLCB1bmtub3duIGF0dHJpYnV0ZSBpZDogJyArIGF0dHJpYnV0ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBGb2N1cyB0aGUgSFRNTCBlbGVtZW50IG9mIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICByZXF1ZXN0Rm9jdXMoKSB7XG4gICAgaWYgKHRoaXMuZ2V0RWxlbWVudCgpICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEZvY3VzIHRoZSBuYXRpdmUgSFRNTCBlbGVtZW50IG9mIHRoZSBjb21wb25lbnQgYW5kIG1hcmsgZm9yIGNoYW5nZSBkZXRlY3Rpb25cbiAgICovXG4gIHNldEZvY3VzKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnRSZWYgIT0gbnVsbCkge1xuICAgICAgKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5mb2N1cygpO1xuICAgICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3Igd2hlbiBmb2N1cyBpcyBsb3N0LiBJbnZva2VzIG9uQWN0aXZlTG9zdCBldmVudCBoYW5kbGVyXG4gICAqIEBldmVudCBbW09uQWN0aXZlTG9zdF1dXG4gICAqL1xuICBmb2N1c0xvc3QoKSB7XG4gICAgdGhpcy5vbkFjdGl2ZUxvc3QuZW1pdCgpO1xuXG4gICAgaWYgKHR5cGVvZiB0aGlzLl9pbnRlcm5hbE9uQWN0aXZlTG9zdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5faW50ZXJuYWxPbkFjdGl2ZUxvc3QodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSB1bmlxdWUgaWQgdXNpbmcgYW4gb3B0aW9uYWwgcHJlZml4XG4gICAqIEBwYXJhbSBwcmVmaXggU3RyaW5nIHRvIGFwcGVuZCB0byBiZWdpbm5pbmcgb2YgSURcbiAgICogQHJldHVybnMgVW5pcXVlIElEXG4gICAqL1xuICBzdGF0aWMgZ2VuZXJhdGVVbmlxdWVJZChwcmVmaXg6IHN0cmluZyA9ICdiYXNlJyk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHByZWZpeCArIERhdGUubm93KCkgKyAnXycgKyBfLnJhbmRvbSgxLCAxMDAwKSArIF8ucmFuZG9tKDEsIDEwMCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogQWRkcyBjaGlsZCBjb21wb25lbnQgdG8gdGhpcyBjb21wb25lbnRcbiAgICogQHBhcmFtIGNoaWxkIENvbXBvbmVudCB0byBhZGQgYXMgY2hpbGRcbiAgICovXG4gIHByb3RlY3RlZCBhZGRDaGlsZChjaGlsZDogQmFzZUNvbXBvbmVudCkge1xuICAgIGlmIChjaGlsZC5pZCAhPT0gdGhpcy5pZCkge1xuICAgICAgY29uc3QgY2hpbGRLZXkgPSBLZXlVdGlscy50b01hcEtleShjaGlsZC5pZCk7XG5cbiAgICAgIGlmICh0aGlzLl9jaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9jaGlsZHJlbiA9IG5ldyBNYXA8c3RyaW5nLCBCYXNlQ29tcG9uZW50PigpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fY2hpbGRyZW5JbmRleCA9PT0gbnVsbCkge1xuICAgICAgICB0aGlzLl9jaGlsZHJlbkluZGV4ID0gbmV3IEFycmF5PHN0cmluZz4oKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fY2hpbGRyZW4uc2V0KGNoaWxkS2V5LCBjaGlsZCk7XG4gICAgICB0aGlzLl9jaGlsZHJlbkluZGV4LnB1c2goY2hpbGQuaWQpO1xuXG4gICAgICAvL2NoZWNrIHRvIHNlZSBpZiB3ZSBoYXZlIFZpZXdDb21wb25lbnQsIGlmIHNvLCByZWdpc3RlciBvdXJzZWxmIHNvIHRoYXRcbiAgICAgIC8vaXQgY2FuIGJlIGxvY2F0ZWQgZmFzdGVyXG4gICAgICBjb25zdCBwYXJlbnRWaWV3ID0gdGhpcy5nZXRQYXJlbnRWaWV3KCk7XG5cbiAgICAgIGlmIChwYXJlbnRWaWV3ICE9IG51bGwgJiYgKGNoaWxkLmlzRmF1eEVsZW1lbnQoKSB8fCBjaGlsZC5pc0RpYWxvZygpICE9PSB0cnVlKSkge1xuICAgICAgICBpZiAocGFyZW50Vmlldy5fdmlld0NoaWxkcmVuTWFwID09IG51bGwpIHtcbiAgICAgICAgICBwYXJlbnRWaWV3Ll92aWV3Q2hpbGRyZW5NYXAgPSBuZXcgTWFwPHN0cmluZywgQmFzZUNvbXBvbmVudD4oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudFZpZXcuX3ZpZXdDaGlsZHJlbk1hcC5zZXQoY2hpbGRLZXksIGNoaWxkKTtcblxuICAgICAgICAvL3RyYWNrIFNjcm9sbFBhbmUgZm9yIHNjcm9sbCBhZGp1c3RtZW50XG4gICAgICAgIGlmICh0eXBlb2YgY2hpbGQuaXNTY3JvbGxQYW5lID09PSBcImZ1bmN0aW9uXCIgJiYgY2hpbGQuaXNTY3JvbGxQYW5lKCkgPT09IHRydWUpIHtcbiAgICAgICAgICBwYXJlbnRWaWV3LnJlZ2lzdGVyU2Nyb2xsUGFuZShjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBuYXRpdmUgZWxlbWVudCBvZiB0aGUgY29tcG9uZW50IGlmIGEgcmVmZXJlbmNlIHRvIGl0IGlzIGRlZmluZWRcbiAgICogQHJldHVybnMgVGhlIEhUTUwgbmF0aXZlIGVsZW1lbnQgb3IgJ251bGwnIGlmIHJlZmVyZW5jZSBpcyBtaXNzaW5nXG4gICAqL1xuICBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50UmVmID8gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQgOiBudWxsO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEdldCB0aGUgdGV4dCBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcmV0dXJucyBUZXh0IHZhbHVlXG4gICAqL1xuICBnZXRUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudGV4dDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgQ1NTIGNvbG9yIHN0eWxlIGF0dHJpYnV0ZSBhbmQgbWFya3MgZm9yIGNoYW5nZSBkZXRlY3Rpb25cbiAgICogQHBhcmFtIGNvbG9yIENTUyBjb2xvciBzdHJpbmcgdmFsdWUuIFNob3VsZCBiZSBoZXhhZGVjaW1hbCBvciB2YWxpZCBDU1MgY29sb3Igc3RyaW5nXG4gICAqL1xuICBzZXRDb2xvcihjb2xvcjogc3RyaW5nKSB7XG4gICAgaWYgKGNvbG9yID09IG51bGwgfHwgY29sb3IgPT09IFwiXCIpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1snY29sb3InXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdHlsZXNbJ2NvbG9yJ10gPSBjb2xvcjtcbiAgICB9XG5cbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgY29sb3Igc3R5bGUgYXR0cmlidXRlIHZhbHVlXG4gICAqIEByZXR1cm5zIENvbG9yIHN0cmluZy4gSGV4YWRlY2ltYWwgb3IgQ1NTIGNvbG9yIHN0cmluZ1xuICAgKi9cbiAgZ2V0Q29sb3IoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zdHlsZXNbJ2NvbG9yJ107XG4gIH1cblxuICAvKipcbiAgICogU2V0IGJhY2tncm91bmQgY29sb3IgQ1NTIHN0eWxlIGF0dHJpYnV0ZSB2YWx1ZVxuICAgKiBAcGFyYW0gYmdDb2xvciBDb2xvciBzdHJpbmcgdmFsdWUgdG8gc2V0LiBTaG91bGQgYmUgaGV4YWRlY2ltYWwgb3IgdmFsaWQgQ1NTIGNvbG9yIHN0cmluZy5cbiAgICovXG4gIHNldEJnQ29sb3IoYmdDb2xvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5iZ0NvbG9yID0gYmdDb2xvcjtcbiAgICB0aGlzLnN0eWxlc1tcImJhY2tncm91bmRcIl0gPSBiZ0NvbG9yO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0cyBmb250LXdlaWdodCBzdHlsZSBwcm9wZXJ0eSB0byBib2xkXG4gICAqIEBwYXJhbSBib28gU3dpdGNoIGZvciB0dXJuaW5nIGJvbGQgc3R5bGUgb24vb2ZmXG4gICAqL1xuICBzZXRGb250Qm9sZChib286IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICB0aGlzLmZvbnRCb2xkID0gYm9vO1xuXG4gICAgaWYgKGJvbyA9PT0gdHJ1ZSB8fCBib28gPT09IFwidHJ1ZVwiKSB7XG4gICAgICB0aGlzLnN0eWxlc1tcImZvbnQtd2VpZ2h0XCJdID0gXCJib2xkXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tcImZvbnQtd2VpZ2h0XCJdO1xuICAgIH1cblxuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0cyBDU1Mgc3R5bGUgYXR0cmlidXRlIGZvbnQtc3R5bGUgdG8gaXRhbGljXG4gICAqIEBwYXJhbSBib28gU3dpdGNoIGZvciB0dXJuaW5nIGl0YWxpYyBzdHlsZSBvbi9vZmZcbiAgICovXG4gIHNldEZvbnRJdGFsaWMoYm9vOiBib29sZWFuIHwgc3RyaW5nKSB7XG4gICAgdGhpcy5mb250SXRhbGljID0gYm9vO1xuXG4gICAgaWYgKGJvbyA9PT0gdHJ1ZSB8fCBib28gPT09IFwidHJ1ZVwiKSB7XG4gICAgICB0aGlzLnN0eWxlc1tcImZvbnQtc3R5bGVcIl0gPSBcIml0YWxpY1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdGhpcy5zdHlsZXNbXCJmb250LXN0eWxlXCJdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIENTUyBzdHlsZSBhdHRyaWJ1dGUgZm9udC1zaXplXG4gICAqIEBwYXJhbSBzaXplIE51bWJlciBvZiBwaXhlbHMgZm9yIGZvbnQtc2l6ZVxuICAgKi9cbiAgc2V0Rm9udFNpemUoc2l6ZTogbnVtYmVyKSB7XG4gICAgdGhpcy5mb250U2l6ZSA9IHNpemU7XG5cbiAgICB0aGlzLnN0eWxlc1tcImZvbnQtc2l6ZVwiXSA9IHNpemUgKyBcInB4XCI7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogQWRkL3JlbW92ZSBDU1Mgc3R5bGUgYXR0cmlidXRlIHRleHQtZGVjb3JhdGlvbiB0byB1bmRlcmxpbmVcbiAgICogQHBhcmFtIHVuZGVybGluZSBTd2l0Y2ggZm9yIHR1cm5pbmcgdW5kZXJsaW5lIHN0eWxlIG9uL29mZiBmb3IgdGV4dFxuICAgKi9cbiAgc2V0Rm9udFVuZGVybGluZSh1bmRlcmxpbmU6IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICB0aGlzLmZvbnRVbmRlcmxpbmUgPSB1bmRlcmxpbmU7XG5cbiAgICBpZiAodGhpcy5mb250VW5kZXJsaW5lID09PSBcInRydWVcIiB8fCB0aGlzLmZvbnRVbmRlcmxpbmUgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuc3R5bGVzW1widGV4dC1kZWNvcmF0aW9uXCJdID0gXCJ1bmRlcmxpbmVcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW1widGV4dC1kZWNvcmF0aW9uXCJdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIHRoYXQgcmVnaXN0ZXJzIGZvY3VzIGV2ZW50XG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgaGFuZGxlRm9jdXMoZXZlbnQ6IEZvY3VzRXZlbnQpIHtcbiAgICB0aGlzLnJlZ2lzdGVyQ2xpZW50RXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgdGhhdCByZWdpc3RlcnMgY2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBoYW5kbGVDbGljayhldmVudDogTW91c2VFdmVudCkge1xuICAgIHRoaXMucmVnaXN0ZXJDbGllbnRFdmVudChldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciB0aGF0IHJlZ2lzdGVycyBrZXlkb3duIGV2ZW50XG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgaGFuZGxlS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIHRoaXMucmVnaXN0ZXJDbGllbnRFdmVudChldmVudCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciB0aGF0IHJlZ2lzdGVycyBrZXl1cCBldmVudFxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgdGhpcy5yZWdpc3RlckNsaWVudEV2ZW50KGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIHRoYXQgcmVnaXN0ZXJzIG1vdXNlZG93biBldmVudFxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIGhhbmRsZU1vdXNlRG93bihldmVudDogTW91c2VFdmVudCkge1xuICAgIHRoaXMucmVnaXN0ZXJDbGllbnRFdmVudChldmVudCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogR2V0cyBjdXN0b20gYXR0cmlidXRlIGJ5IG5hbWUgaWYgaXQgZXhpc3RzXG4gICAqIEBwYXJhbSBhdHRyaWJ1dGVOYW1lIE5hbWUgb2YgY3VzdG9tIGF0dHJpYnV0ZVxuICAgKiBAcmV0dXJucyBDdXN0b20gYXR0cmlidXRlIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIHVuZGVmaW5lZFxuICAgKi9cbiAgZ2V0Q3VzdG9tQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgaWYgKHRoaXMuY3VzdG9tQXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5jdXN0b21BdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0IGF0dHJpYnV0ZSBvbiBjdXN0b21BdHRyaWJ1dGUgb2JqZWN0IHVzaW5nIG5hbWUgYXMga2V5XG4gICAqIEBwYXJhbSBuYW1lIGtleSBuYW1lIG9mIGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0gdmFsdWUgdmFsdWUgdG8gc2V0IGZvciBrZXkvbmFtZVxuICAgKi9cbiAgc2V0Q3VzdG9tQXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIGlmICh0aGlzLmN1c3RvbUF0dHJpYnV0ZXMgPT0gbnVsbCkge1xuICAgICAgdGhpcy5jdXN0b21BdHRyaWJ1dGVzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuY3VzdG9tQXR0cmlidXRlc1tuYW1lXSA9IHZhbHVlICsgJyc7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIENoZWNrIGlmIGN1c3RvbSBhdHRyaWJ1dGUgZXhpc3RzXG4gICAqIEBwYXJhbSBpZCBLZXkgbmFtZSBvZiBhdHRyaWJ1dGVcbiAgICogQHJldHVybnMgVHJ1ZSBpZiBjdXN0b20gYXR0cmlidXRlIHdpdGggbmFtZS9rZXkgZXhpc3RzXG4gICAqL1xuICBoYXNDdXN0b21BdHRyaWJ1dGUoaWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmN1c3RvbUF0dHJpYnV0ZXMgIT0gbnVsbCAmJiB0aGlzLmN1c3RvbUF0dHJpYnV0ZXNbaWRdICE9IG51bGw7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogR2V0IGNoaWxkIGNvbXBvbmVudCBieSBpbmRleFxuICAgKiBAcGFyYW0gaWR4IEluZGV4IG9mIGNoaWxkIGNvbXBvbmVudFxuICAgKiBAcmV0dXJucyBDaGlsZCBbW0Jhc2VDb21wb25lbnRdXVxuICAgKi9cbiAgZ2V0Q2hpbGRBdChpZHg6IG51bWJlcik6IEJhc2VDb21wb25lbnQge1xuICAgIGlmICh0aGlzLl9jaGlsZHJlbkluZGV4ICE9PSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5fY2hpbGRyZW5JbmRleC5sZW5ndGggPiBpZHgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGQodGhpcy5fY2hpbGRyZW5JbmRleFtpZHhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG51bWJlciBvZiBjaGlsZCBjb21wb25lbnRzXG4gICAqIEByZXR1cm5zIE51bWJlciBvZiBjaGlsZHJlblxuICAgKi9cbiAgZ2V0Q2hpbGRDb3VudCgpOiBudW1iZXIge1xuICAgIGlmICh0aGlzLl9jaGlsZHJlbiAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkcmVuLnNpemU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaW5kZXggb2YgY2hpbGQgY29tcG9uZW50IGlmIGl0IGV4aXN0c1xuICAgKiBAcGFyYW0gY2hpbGQgQ2hpbGQgY29tcG9uZW50XG4gICAqL1xuICBpbmRleE9mQ2hpbGQoY2hpbGQ6IGFueSk6IG51bWJlciB7XG4gICAgLy9UT0RPXG4gICAgY29uc29sZS5lcnJvcihcImluZGV4T2ZDaGlsZCBpcyBub3QgaW1wbGVtZW50ZWRcIik7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEluc2VydCBjaGlsZCBjb21wb25lbnQgdG8gY2hpbGRyZW4gYXJyYXkgYXQgbG9jYXRpb24gb2YgaW5kZXhcbiAgICogQHBhcmFtIGlkeCBJbmRleCBvZiBpbnNlcnQgbG9jYXRpb25cbiAgICogQHBhcmFtIHJvd1xuICAgKi9cbiAgaW5zZXJ0Q2hpbGRBdChpZHg6IG51bWJlciwgcm93OiBhbnkpIHtcbiAgICAvL1RPRE9cbiAgICBjb25zb2xlLmVycm9yKFwiaW5zZXJ0Q2hpbGRBdCBpcyBub3QgaW1wbGVtZW50ZWRcIik7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogVE9ETzogQWRkIGRvY3VtZW50YXRpb24gZm9yIGVtaXRJbnRlcm5hbENvbW1hbmRcbiAgICovXG4gIHByb3RlY3RlZCBlbWl0SW50ZXJuYWxPbkNvbW1hbmQoKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLl9pbnRlcm5hbE9uQ29tbWFuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5faW50ZXJuYWxPbkNvbW1hbmQodGhpcyk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLl9pbnRlcm5hbE9uQ29tbWFuZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5pbnZva2VNY29BY3Rpb24odGhpcy5faW50ZXJuYWxPbkNvbW1hbmQpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgZXZlbnQgaGFuZGxlciBmb3IgY2xpZW50IGV2ZW50XG4gICAqIEBwYXJhbSBldmVudCBFdmVudCB0byByZWdpc3RlclxuICAgKi9cbiAgcHJvdGVjdGVkIHJlZ2lzdGVyQ2xpZW50RXZlbnQoZXZlbnQ6IEV2ZW50KSB7XG4gICAgY29uc3QgY2xpZW50RXZlbnQgPSBuZXcgQ2xpZW50RXZlbnQodGhpcywgZXZlbnQpO1xuXG4gICAgaWYgKEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50ICE9IG51bGwpIHtcbiAgICAgIEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50KHRoaXMsIGNsaWVudEV2ZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLmdldFNlc3Npb24oKS5nZXRFdmVudEhhbmRsZXIoKS5zZXRDbGllbnRFdmVudChjbGllbnRFdmVudCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogR2V0IHRoZSBuYXRpdmUgSFRNTCBlbGVtZW50IHRhZyBuYW1lXG4gICAqIEByZXR1cm5zIE5hbWUgb2YgSFRNTCBlbGVtZW50IHRhZ1xuICAgKi9cbiAgZ2V0VGFnTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRSZWYgIT0gbnVsbCA/IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnRhZ05hbWUgOiAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY29tcG9uZW50IHRhZyBuYW1lIHdpdGhvdXQgdml2aWZ5IGNvcmUgcHJlZml4IChpLmUuIFwidnQtXCIpXG4gICAqIEByZXR1cm5zIFRhZyBuYW1lXG4gICAqL1xuICBnZXRMb2NhbE5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUYWdOYW1lKCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKFwidnQtXCIsIFwiXCIpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFyZW50IGNvbXBvbmVudCBpZiBpdCBleGlzdHNcbiAgICogQHJldHVybnMgQ29tcG9uZW50IG9yIG51bGwgaWYgdGhlcmUgaXMgbm8gcGFyZW50XG4gICAqL1xuICBnZXRQYXJlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2YWx1ZSBwcm9wZXJ0eSBpZiBpdCBleGlzdHMsIG90aGVyd2lzZSByZXR1cm4gJ251bGwnXG4gICAqIEByZXR1cm5zIFZhbHVlIG9yICdudWxsJ1xuICAgKi9cbiAgZ2V0VmFsdWUoKSB7XG4gICAgaWYgKHRoaXNbXCJ2YWx1ZVwiXSkge1xuICAgICAgcmV0dXJuIHRoaXNbXCJ2YWx1ZVwiXTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBSZW1vdmVzIGF0dHJpYnV0ZSBuYW1lIG5hbWVcbiAgICogQHBhcmFtIGF0dHJpYnV0ZSBBdHRyaWJ1dGUgdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlOiBzdHJpbmcgfCBBdHRyaWJ1dGVzRW51bSkge1xuICAgIGlmICh0eXBlb2YgYXR0cmlidXRlID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgYXR0cmlidXRlTG93ZXIgPSBhdHRyaWJ1dGUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLlZJU0lCTEUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLkVOQUJMRUQpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShBdHRyaWJ1dGVzRW51bS5ESVNBQkxFRCk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZUxvd2VyID09PSAndGV4dCcpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uVEVYVCk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZUxvd2VyID09PSAnY29sb3InKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLkNPTE9SKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdwYXR0ZXJuJykge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShBdHRyaWJ1dGVzRW51bS5QQVRURVJOKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdtYXgnKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLk1BWCk7XG4gICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZUxvd2VyID09PSAnbWF4bGVuZ3RoJyB8fCBhdHRyaWJ1dGVMb3dlciA9PT0gJ21heF9sZW5ndGgnKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLk1BWF9MRU5HVEgpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gJ21pbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uTUlOKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdjbGFzcycpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uQ0xBU1MpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gJ29uY29tbWFuZCcgfHwgYXR0cmlidXRlTG93ZXIgPT09ICdvbl9jb21tYW5kJykge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShBdHRyaWJ1dGVzRW51bS5PTl9DT01NQU5EKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdyZXF1aXJlJykge1xuICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZShBdHRyaWJ1dGVzRW51bS5SRVFVSVJFKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICd0aXRsZScpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uVElUTEUpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gJ2ZvbnRib2xkJyB8fCBhdHRyaWJ1dGVMb3dlciA9PT0gJ2ZvbnRfYm9sZCcpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uRk9OVF9CT0xEKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICdzZWxlY3RlZCcpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uU0VMRUNURUQpO1xuICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVMb3dlciA9PT0gJ2JnQ29sb3InKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLkJHX0NPTE9SKTtcbiAgICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlTG93ZXIgPT09ICd2YWx1ZScpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoQXR0cmlidXRlc0VudW0uVkFMVUUpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmN1c3RvbUF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgICBkZWxldGUgdGhpcy5jdXN0b21BdHRyaWJ1dGVzW2F0dHJpYnV0ZV07XG4gICAgICAgIExvZ2dlci53YXJuKGBVbmtub3duIGF0dHJpYnV0ZTogJHthdHRyaWJ1dGV9LCBzZXR0aW5nIGFzIGN1c3RvbSBhdHRyaWJ1dGVgKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5maXJlUmVub3ZlQXR0cmlidXRlRXZlbnQoYXR0cmlidXRlKTtcbiAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uVklTSUJMRSkge1xuICAgICAgdGhpcy5zZXRWaXNpYmxlKHRydWUpO1xuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5ESVNBQkxFRCkge1xuICAgICAgdGhpcy5zZXREaXNhYmxlZChmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLkVOQUJMRUQpIHtcbiAgICAgIHRoaXMuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uVEVYVCkge1xuICAgICAgZGVsZXRlIHRoaXMudGV4dDtcbiAgICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLkNPTE9SKSB7XG4gICAgICB0aGlzLnNldENvbG9yKFwiXCIpO1xuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5PTl9DT01NQU5EKSB7XG4gICAgICBkZWxldGUgdGhpcy5faW50ZXJuYWxPbkNvbW1hbmQ7XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLlBBVFRFUk4pIHtcbiAgICAgIHRoaXMuc2V0UGF0dGVybih1bmRlZmluZWQpO1xuICAgIH0gZWxzZSBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5NQVgpIHtcbiAgICAgIHRoaXMuc2V0TWF4KHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLk1BWF9MRU5HVEgpIHtcbiAgICAgIHRoaXMuc2V0TWF4TGVuZ3RoKHVuZGVmaW5lZCk7XG4gICAgfSBlbHNlIGlmIChhdHRyaWJ1dGUgPT09IEF0dHJpYnV0ZXNFbnVtLk1JTikge1xuICAgICAgdGhpcy5zZXRNaW4odW5kZWZpbmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBzZXQgYXR0cmlidXRlLCB1bmtub3duIGF0dHJpYnV0ZSBpZDogJyArIGF0dHJpYnV0ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIG9mIFtbc2V0UmVxdWlyZWRdXVxuICAgKiBAcGFyYW0gYm9vXG4gICAqL1xuICBzZXRSZXF1aXJlKGJvbzogYm9vbGVhbiB8IHN0cmluZykge1xuICAgIHRoaXMuc2V0UmVxdWlyZWQoYm9vKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgW1tyZXF1aXJlZF1dIHRvIHRydWUgb3IgZmFsc2VcbiAgICogQHBhcmFtIGJvb1xuICAgKi9cbiAgc2V0UmVxdWlyZWQoYm9vOiBib29sZWFuIHwgc3RyaW5nKSB7XG4gICAgaWYgKGJvbyA9PT0gJ3RydWUnIHx8IGJvbyA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5yZXF1aXJlZCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5yZXF1aXJlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBbW3BhdHRlcm5dXSB2YWx1ZVxuICAgKiBAcGFyYW0gcGF0dGVyblxuICAgKi9cbiAgc2V0UGF0dGVybihwYXR0ZXJuOiBzdHJpbmcpIHtcbiAgICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbbWluXV0gdmFsdWVcbiAgICogQHBhcmFtIHZhbFxuICAgKi9cbiAgc2V0TWluKHZhbDogYW55KSB7XG4gICAgdGhpcy5taW4gPSB2YWw7XG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgW1ttYXhdXSB2YWx1ZVxuICAgKiBAcGFyYW0gdmFsXG4gICAqL1xuICBzZXRNYXgodmFsOiBhbnkpIHtcbiAgICB0aGlzLm1heCA9IHZhbDtcbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW3BhdHRlcm5dXSB2YWx1ZVxuICAgKiBAcmV0dXJucyBbW3BhdHRlcm5dXVxuICAgKi9cbiAgZ2V0UGF0dGVybigpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnBhdHRlcm47XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbbWluXV0gdmFsdWVcbiAgICogQHJldHVybnMgW1ttaW5dXVxuICAgKi9cbiAgZ2V0TWluKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMubWluO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW21heF1dIHZhbHVlXG4gICAqIEByZXR1cm5zIFtbbWF4XV1cbiAgICovXG4gIGdldE1heCgpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLm1heDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgW1tpbnB1dExvY2FsZV1dIHZhbHVlXG4gICAqIEByZXR1cm5zIFtbaW5wdXRMb2NhbGVdXVxuICAgKi9cbiAgZ2V0SW5wdXRMb2NhbGUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dExvY2FsZTtcbiAgfVxuXG4gIC8qKiBTZXQgW1tpbnB1dExvY2FsZV1dIHZhbHVlXG4gICAqIEBwYXJhbSBsb2NhbGVcbiAgICovXG4gIHNldElucHV0TG9jYWxlKGxvY2FsZTogc3RyaW5nKSB7XG4gICAgdGhpcy5pbnB1dExvY2FsZSA9IGxvY2FsZTtcbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW2lucHV0Q2hhcnNldHNdXSB2YWx1ZVxuICAgKiBAcmV0dXJucyBbW2lucHV0Q2hhcnNldHNdXVxuICAgKi9cbiAgZ2V0SW5wdXRDaGFyc2V0cygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmlucHV0Q2hhcnNldHM7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbaW5wdXRDaGFyZXN0c11dIHZhbHVlXG4gICAqIEBwYXJhbSBpbnB1dENoYXJTZXRzXG4gICAqL1xuICBzZXRJbnB1dENoYXJzZXRzKGlucHV0Q2hhclNldHM6IHN0cmluZykge1xuICAgIHRoaXMuaW5wdXRDaGFyc2V0cyA9IGlucHV0Q2hhclNldHM7XG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgW1tpZF1dIHZhbHVlXG4gICAqIEByZXR1cm5zIFtbaWRdXVxuICAgKi9cbiAgZ2V0SWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgW1tpZF1dIHZhbHVlXG4gICAqIEBwYXJhbSBpZFxuICAgKi9cbiAgc2V0SWQoaWQ6IHN0cmluZykge1xuICAgIGlmICh0aGlzLnBhcmVudCAhPSBudWxsICYmIHRoaXMucGFyZW50LmNoaWxkcmVuLmhhcyh0aGlzLmlkKSkge1xuICAgICAgdGhpcy5wYXJlbnQuY2hpbGRyZW4uZGVsZXRlKEtleVV0aWxzLnRvTWFwS2V5KHRoaXMuaWQpKTtcbiAgICAgIHRoaXMucGFyZW50LmNoaWxkcmVuLnNldChLZXlVdGlscy50b01hcEtleShpZCksIHRoaXMpO1xuXG4gICAgICBpZiAodGhpcy5fY2hpbGRyZW5JbmRleCAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBpZHggPSBfLmZpbmRJbmRleCh0aGlzLnBhcmVudC5fY2hpbGRyZW5JbmRleCwgKGl0ZW0pID0+IGl0ZW0gPT09IHRoaXMuaWQpO1xuXG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgIHRoaXMucGFyZW50Ll9jaGlsZHJlbkluZGV4W2lkeF0gPSBpZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBhcmVudC5fY2hpbGRyZW5JbmRleC5wdXNoKGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGFyZW50Ll9jaGlsZHJlbkluZGV4ID0gXy51bmlxKHRoaXMucGFyZW50Ll9jaGlsZHJlbkluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmlkID0gaWQ7XG4gIH1cblxuICAvKipcbiAgICogQWJzdHJhY3QgbWV0aG9kLiBJbXBsZW1lbnRlZCBieSBzdWIgY2xhc3MgY29tcG9uZW50c1xuICAgKiBAcGFyYW0gdGl0bGVcbiAgICovXG4gIHNldFRpdGxlKHRpdGxlOiBzdHJpbmcpIHtcbiAgICAvL2ltcGwuIGJ5IHN1YiBjbGFzc1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBbW2Nzc0NsYXNzXV0gb2YgY29tcG9uZW50LlxuICAgKiBAcGFyYW0gY3NzIENsYXNzIChDU1MpIG5hbWUgdG8gc2V0IG9uIGNvbXBvbmVudC4gRm9yIG11bHRpcGxlIENTUyBjbGFzc2VzLCBqb2luIHdpdGggRE9UICguKVxuICAgKiBgYGBcbiAgICogLmNsYXNzMS5jbGFzczIuY2xhc3MzXG4gICAqIGBgYFxuICAgKi9cbiAgc2V0Q3NzQ2xhc3MoY3NzOiBzdHJpbmcsIHNraXBBdHRyaWJ1dGVPdmVycmlkZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKGNzcyAhPSBudWxsICYmIGNzcy5pbmRleE9mKFwiLlwiKSA+PSAwKSB7XG4gICAgICBjb25zdCB0ZW1wID0gY3NzLnNwbGl0KFwiXFwuXCIpO1xuXG4gICAgICB0aGlzLmNzc0NsYXNzID0gdGVtcC5qb2luKFwiLVwiKTtcblxuICAgICAgaWYgKHRlbXBbMF0gPT09IFwiXCIpIHtcbiAgICAgICAgdGhpcy5jc3NDbGFzcyA9IHRoaXMuY3NzQ2xhc3Muc3Vic3RyaW5nKDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuY3NzQ2xhc3MgPSBjc3M7XG4gICAgdGhpcy5jaGVja054U3R5bGluZyhza2lwQXR0cmlidXRlT3ZlcnJpZGUpO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNzcyBjbGFzcyBuYW1lIHRvIHRoZSBpbnRlcm5hbCBbW19jc3NDbGFzc11dIHByb3BlcnR5XG4gICAqIEBwYXJhbSBjc3MgQ1NTIGNsYXNzIG5hbWUgdG8gYWRkXG4gICAqL1xuICBhZGRDc3NDbGFzcyhjc3M6IHN0cmluZykge1xuICAgIGlmICh0aGlzLl9jc3NDbGFzcyA9PSBudWxsIHx8IHRoaXMuX2Nzc0NsYXNzID09PSBcIlwiKSB7XG4gICAgICB0aGlzLl9jc3NDbGFzcyA9IGNzcztcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2Nzc0NsYXNzLmluZGV4T2YoY3NzKSA9PSAtMSkge1xuICAgICAgdGhpcy5fY3NzQ2xhc3MgPSBgJHt0aGlzLl9jc3NDbGFzc30gJHtjc3N9YDtcbiAgICB9XG4gICAgdGhpcy5jaGVja054U3R5bGluZygpO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBjc3MgY2xhc3MgbmFtZSBmcm9tIGludGVybmFsIFtbX2Nzc0NsYXNzXV0gcHJvcGVydHlcbiAgICogQHBhcmFtIGNzcyBDU1MgY2xhc3MgbmFtZSB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUNzc0NsYXNzKGNzczogc3RyaW5nKSB7XG5cbiAgICBpZiAodGhpcy5fY3NzQ2xhc3MgIT0gbnVsbClcbiAgICAgIHRoaXMuX2Nzc0NsYXNzID0gdGhpcy5fY3NzQ2xhc3MucmVwbGFjZShjc3MsICcnKTtcbiAgICB0aGlzLmNoZWNrTnhTdHlsaW5nKCk7XG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFtbcmVxdWlyZV1dIHByb3BlcnR5IHZhbHVlXG4gICAqIEByZXR1cm5zIFZhbHVlIG9mIFtbcmVxdWlyZV1dXG4gICAqL1xuICBnZXRSZXF1aXJlZCgpOiBzdHJpbmcgfCBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1aXJlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgcmVmZXJlbmNlcyB0byB0aGUgY29tcG9uZW50IGFuZCBpbnZva2VzIEFuZ3VsYXJzIFtbbmdPbkRlc3Ryb3ldXSBtZXRob2RcbiAgICovXG4gIGRlc3Ryb3lDb21wb25lbnQoKSB7XG4gICAgaWYgKHRoaXMuY29tcFJlZiAhPSBudWxsKSB7XG4gICAgICB0aGlzLmNvbXBSZWYuZGVzdHJveSgpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50UmVmICE9IG51bGwpIHtcbiAgICAgICh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkucmVtb3ZlKCk7XG4gICAgICB0aGlzLm5nT25EZXN0cm95KCk7XG4gICAgICBMb2dnZXIud2FybihcIk1lbW9yeSBsZWFrISBQbGVhc2UgdXNlIG5nSWYgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIGNvbXBvbmVudCFcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIEpTT04gb2JqZWN0XG4gICAqL1xuICB0b0pzb24oKToge30ge1xuICAgIGNvbnN0IHJldFZhbDogYW55ID0ge307XG5cbiAgICAvL2dldCBjdXN0b20gYXR0cmlidXRlcyBiaW5kZWQgdG8gb3VyIHRhZ1xuICAgIGlmICh0aGlzLmVsZW1lbnRSZWYgIT0gbnVsbCAmJiB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBlbCA9IHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgbGV0IGF0dHJpYnV0ZXM6IEFycmF5PHN0cmluZz4gPSBudWxsO1xuXG4gICAgICBpZiAodHlwZW9mIGVsLmdldEF0dHJpYnV0ZU5hbWVzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgYXR0cmlidXRlcyA9IGVsLmdldEF0dHJpYnV0ZU5hbWVzKCk7XG4gICAgICB9IGVsc2UgaWYgKGVsLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgYXR0cmlidXRlcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWwuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGF0dHJpYnV0ZXMucHVzaChlbC5hdHRyaWJ1dGVzW2ldLm5hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgICAgXy5mb3JFYWNoKGF0dHJpYnV0ZXMsIChhdHRyaWJ1dGVOYW1lKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBBcHBVdGlscy52YWxpZGF0ZUF0dHJpYnV0ZSA9PT0gXCJmdW5jdGlvblwiICYmIEFwcFV0aWxzLnZhbGlkYXRlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLnNldEpzb24ocmV0VmFsLCBhdHRyaWJ1dGVOYW1lLCBlbC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBBcHBVdGlscy5zZXRDdXN0b21BdHRyaWJ1dGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBBcHBVdGlscy5zZXRDdXN0b21BdHRyaWJ1dGUocmV0VmFsLCBlbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5zZXRKc29uKHJldFZhbCwgXCJueFRhZ05hbWVcIiwgdGhpcy5nZXROeFRhZ05hbWUoKSk7XG4gICAgdGhpcy5zZXRKc29uKHJldFZhbCwgXCJ0YWdOYW1lXCIsIHRoaXMuZ2V0VGFnTmFtZSgpKTtcbiAgICB0aGlzLnNldEpzb24ocmV0VmFsLCBcImlkXCIsIHRoaXMuaWQpO1xuICAgIHRoaXMuc2V0SnNvbihyZXRWYWwsIFwiZGlzYWJsZWRcIiwgdGhpcy5nZXREaXNhYmxlZCgpKTtcbiAgICB0aGlzLnNldEpzb24ocmV0VmFsLCBcImVuYWJsZWRcIiwgdGhpcy5nZXRFbmFibGVkKCkpO1xuICAgIHRoaXMuc2V0SnNvbihyZXRWYWwsIFwidmlzaWJsZVwiLCB0aGlzLmdldFZpc2libGUoKSk7XG4gICAgdGhpcy5zZXRKc29uKHJldFZhbCwgXCJ0ZXh0XCIsIHRoaXMuZ2V0VGV4dCgpKTtcbiAgICB0aGlzLnNldEpzb24ocmV0VmFsLCBcImNzc0NsYXNzXCIsIHRoaXMuY3NzQ2xhc3MpO1xuICAgIHRoaXMuc2V0SnNvbihyZXRWYWwsIFwiY3VzdG9tQXR0cmlidXRlc1wiLCB0aGlzLmN1c3RvbUF0dHJpYnV0ZXNUb0pzb24oKSk7XG5cbiAgICBpZiAodGhpcy5nZXRWYWx1ZSgpICE9IG51bGwpIHtcbiAgICAgIHRoaXMuc2V0SnNvbihyZXRWYWwsIFwidmFsdWVcIiwgdGhpcy5nZXRWYWx1ZSgpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fY2hpbGRyZW4gIT09IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLl9jaGlsZHJlbi5zaXplID4gMCkge1xuICAgICAgICAvL25lZWQgdG8gcmV0dXJuIGNoaWxkcmVuIGluIHByb3BlciBvcmRlclxuICAgICAgICByZXRWYWxbXCJjaGlsZHJlblwiXSA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbkluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgICAgZm9yIChsZXQgaWQgb2YgdGhpcy5fY2hpbGRyZW5JbmRleCkge1xuICAgICAgICAgICAgY29uc3QgYyA9IHRoaXMuZ2V0Q2hpbGQoaWQpO1xuXG4gICAgICAgICAgICAvL2dldENoaWxkIGNhbiByZXR1cm4gbnVsbD9cbiAgICAgICAgICAgIGlmIChjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgY2hpbGRKc29uID0gdGhpcy5jaGlsZFRvSnNvbihjKTtcblxuICAgICAgICAgICAgICBpZiAoY2hpbGRKc29uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXRWYWxbXCJjaGlsZHJlblwiXS5wdXNoKGNoaWxkSnNvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0VmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgY2hpbGQgdG8gSlNPTlxuICAgKiBAcGFyYW0gY2hpbGQgY2hpbGQgdG8gYmUgY29udmVydGVkIHRvIEpTT05cbiAgICovXG4gIHByb3RlY3RlZCBjaGlsZFRvSnNvbihjaGlsZDogQmFzZUNvbXBvbmVudCkge1xuICAgIHJldHVybiBjaGlsZC50b0pzb24oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIEpTT04gcmVwcmVzZW50YXRpb24gb2YgW1tjdXN0b21BdHRyaWJ1dGVzXV1cbiAgICogQHJldHVybnMgSlNPTiBPYmplY3RcbiAgICovXG4gIHByb3RlY3RlZCBjdXN0b21BdHRyaWJ1dGVzVG9Kc29uKCkge1xuICAgIHJldHVybiBCYXNlQ29tcG9uZW50Lm1hcFRvSnNvbih0aGlzLmN1c3RvbUF0dHJpYnV0ZXMpO1xuICB9XG5cbiAgc3RhdGljIG1hcFRvSnNvbihtYXA6IHsgW25hbWU6IHN0cmluZ106IGFueSB9KSB7XG4gICAgY29uc3QgY3VzdG9tQXR0cmlidXRlcyA9IHt9O1xuXG4gICAgaWYgKG1hcCkge1xuICAgICAgY29uc3Qga2V5cyA9IF8ua2V5cyhtYXApO1xuXG4gICAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgICBsZXQgdmFsdWUgPSBtYXBba2V5XTtcblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiICYmIHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlICsgXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGN1c3RvbUF0dHJpYnV0ZXNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjdXN0b21BdHRyaWJ1dGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3VsZCBiZSBpbXBsZW1lbnRlZCBieSBzdWIgY2xhc3Mgb3RoZXJ3aXNlIHJldHVybnMgZGVmYXVsdCB2YWx1ZSBvZiBcIm5vbmVcIlxuICAgKiBAcmV0dXJucyBOeFRhZ05hbWUgYXMgc3RyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0TnhUYWdOYW1lKCkge1xuICAgIHJldHVybiBcIm5vbmVcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIEpTT04gdmFsdWVzLiBNdXRhdGVzIEpTT04gb2JqZWN0IHRoYXQgaXMgcGFzc2VkIGluXG4gICAqIEBwYXJhbSBqc29uIE9iamVjdCB0byBhZGQga2V5IHRvXG4gICAqIEBwYXJhbSBrZXkgS2V5IHRvIHNldFxuICAgKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gc2V0IGZvciBrZXkgcGFyYW1cbiAgICovXG4gIHByb3RlY3RlZCBzZXRKc29uKGpzb246IGFueSwga2V5OiBhbnksIHZhbHVlOiBhbnkpIHtcbiAgICBpZiAoa2V5ICE9IG51bGwpIHtcbiAgICAgIGpzb25ba2V5XSA9IHRoaXMudG9Kc29uVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB2YWx1ZSB0byBhIHZhbGlkIEpTT04gcHJvcGVydHkgc3RyaW5nXG4gICAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBjb252ZXJ0IHRvIHN0cmluZ1xuICAgKiBAcmV0dXJucyBWYWx1ZSBhcyBhIHZhbGlkIEpTT04gcHJvcGVydHkgc3RyaW5nXG4gICAqL1xuICBwcm90ZWN0ZWQgdG9Kc29uVmFsdWUodmFsdWU6IGFueSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4gdmFsdWUgKyAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIFtbaWRdXSBwcm9wZXJ0eSB0byBhIHVuaXF1ZSBzdHJpbmcgSUQgZ2VuZXJhdGVkIGJ5IFtbX3VuaXF1ZUlkXV1cbiAgICovXG4gIHJlc2V0SWQoKSB7XG4gICAgdGhpcy5pZCA9IHRoaXMuX3VuaXF1ZUlkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2YWx1ZSBvZiBjaGVja2VkIHByb3BlcnR5LiBTaG91bGQgYmUgaW1wbGVtZW50ZWQgaW4gc3ViIGNsYXNzIGNvbXBvbmVudHMgdGhhdCBoYXZlIGNoZWNrZWQgc3RhdGVcbiAgICogQHJldHVybnMgVmFsdWUgb2YgW1tjaGVja2VkXV0gcHJvcGVydHlcbiAgICovXG4gIGdldENoZWNrZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEFic3RyYWN0IG1ldGhvZC4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHN1YiBjbGFzcyBjb21wb25lbnRzIHRoYXQgaGF2ZSBjaGVja2VkIHN0YXRlXG4gICAqIEBwYXJhbSBib28gVG9nZ2xlIFtbY2hlY2tlZF1dIG9uL29mZlxuICAgKi9cbiAgc2V0Q2hlY2tlZChib286IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICAvLyBOTy1PUFxuICB9XG5cbiAgLyoqXG4gICAqIEFic3RyYWN0IG1ldGhvZC4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGJ5IHN1YiBjbGFzcyBjb21wb25lbnRzIHRoYXQgaGF2ZSBzZWxlY3RlZCBzdGF0ZVxuICAgKiBAcGFyYW0gYm9vIFRvZ2dsZSBbW2NoZWNrZWRdXSBvbi9vZmZcbiAgICovXG4gIHNldFNlbGVjdGVkKGJvbzogYm9vbGVhbiB8IHN0cmluZykge1xuICAgIC8vIE5PLU9QXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogR2V0IFtbbWF4TGVuZ3RoXV0gcHJvcGVydHkuIFJldHVybnMgLTEgaWYgaXQgaXMgbnVsbFxuICAgKiBAcmV0dXJucyBWYWx1ZSBvZiBtYXhMZW5ndGggYXMgaW50ZWdlciBpZiBpdCdzIHNldCwgb3RoZXJ3aXNlIHJldHVybnMgbnVsbFxuICAgKi9cbiAgZ2V0TWF4TGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWF4TGVuZ3RoID09IG51bGwgPyAtMSA6IEphdmFVdGlscy5pbnRWYWx1ZSh0aGlzLm1heExlbmd0aCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogR2V0IFtbbWluTGVuZ3RoXV0gcHJvcGVydHkuIFJldHVybnMgLTEgaWYgaXQgaXMgbnVsbFxuICAgKiBAcmV0dXJucyBWYWx1ZSBvZiBtaW5MZW5ndGggYXMgaW50ZWdlciBpZiBpdCdzIHNldCwgb3RoZXJ3aXNlIHJldHVybnMgbnVsbFxuICAgKi9cbiAgZ2V0TWluTGVuZ3RoKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWluTGVuZ3RoID09IG51bGwgPyAtMSA6IEphdmFVdGlscy5pbnRWYWx1ZSh0aGlzLm1pbkxlbmd0aCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBvZiBjaGlsZCBjb21wb25lbnRzXG4gICAqIEByZXR1cm5zIENoaWxkIGNvbXBvbmVudHNcbiAgICovXG4gIGdldENoaWxkcmVuKCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gbmV3IFZlY3RvcjxCYXNlQ29tcG9uZW50PigpO1xuICAgIGlmICh0aGlzLl9jaGlsZHJlbkluZGV4ICE9PSBudWxsKSB7XG4gICAgICBmb3IgKGxldCBpZCBvZiB0aGlzLl9jaGlsZHJlbkluZGV4KSB7XG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmdldENoaWxkKGlkKTtcblxuICAgICAgICBpZiAoYyAhPSBudWxsKSB7XG4gICAgICAgICAgY2hpbGRyZW4uYWRkKGMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFJlbW92ZSBjaGlsZCBjb21wb25lbnQgZnJvbSBsaXN0IG9mIGNoaWxkcmVuIGFuZCByZW1vdmUgY2hpbGRyZW4gb2YgY2hpbGRcbiAgICogQHBhcmFtIGNoaWxkIENoaWxkIGNvbXBvbmVudCB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUNoaWxkKGNoaWxkOiBCYXNlQ29tcG9uZW50KSB7XG4gICAgLy9pZiBzb21laG93IHNlbmQgaXQgYXMgc3RyaW5nICh2aWEgdHlwZSBhbnkpXG4gICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgY2hpbGQgPSB0aGlzLmdldEVsZW1lbnRCeUlkKGNoaWxkKSBhcyBCYXNlQ29tcG9uZW50O1xuICAgIH1cblxuICAgIGlmIChjaGlsZCAhPSBudWxsKSB7XG4gICAgICAvL2ZpcnN0IGhpZGUgaXRcbiAgICAgIGlmIChjaGlsZC5zZXRWaXNpYmxlKSB7XG4gICAgICAgIGNoaWxkLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5jaGlsZHJlbikge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLmRlbGV0ZShLZXlVdGlscy50b01hcEtleShjaGlsZC5pZCkpO1xuICAgICAgICBpZiAodGhpcy5fY2hpbGRyZW5JbmRleCAhPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuX2NoaWxkcmVuSW5kZXggPSBfLnVuaXEoXy5maWx0ZXIodGhpcy5fY2hpbGRyZW5JbmRleCwgKGl0ZW0pID0+IGl0ZW0gIT09IGNoaWxkLmlkKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFyZW50VmlldyA9IHRoaXMuZ2V0UGFyZW50VmlldygpO1xuXG4gICAgICAvL3JlbW92ZSBvdXJzZWxmIGZyb20gdGhlIHZpZXcgY2hpbGRyZW4gbWFwXG4gICAgICBpZiAocGFyZW50VmlldyAhPSBudWxsICYmIHBhcmVudFZpZXcuX3ZpZXdDaGlsZHJlbk1hcCAhPSBudWxsKSB7XG4gICAgICAgIHBhcmVudFZpZXcuX3ZpZXdDaGlsZHJlbk1hcC5kZWxldGUoS2V5VXRpbHMudG9NYXBLZXkoY2hpbGQuZ2V0SWQoKSkpO1xuICAgICAgfVxuXG4gICAgICAvL21vdmUgY2hpbGRyZW4gb2YgY2hpbGRyZW5cbiAgICAgIGlmIChjaGlsZC5yZW1vdmVBbGxDaGlsZHJlbikge1xuICAgICAgICBjaGlsZC5yZW1vdmVBbGxDaGlsZHJlbigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGNoaWxkIGNvbXBvbmVudCBieSBJRFxuICAgKiBAcGFyYW0gaWQgQ2hpbGQgW1tpZF1dXG4gICAqL1xuICByZW1vdmVDaGlsZEJ5SWQoaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGNoaWxkID0gdGhpcy5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICBpZiAoY2hpbGQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbGwgY2hpbGQgY29tcG9uZW50c1xuICAgKi9cbiAgcHJpdmF0ZSByZW1vdmVBbGxDaGlsZHJlbigpIHtcbiAgICBpZiAodGhpcy5jaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICBjb25zdCBjaXQgPSB0aGlzLmNoaWxkcmVuLnZhbHVlcygpO1xuICAgICAgbGV0IGNyID0gY2l0Lm5leHQoKTtcblxuICAgICAgd2hpbGUgKGNyLmRvbmUgIT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChjci52YWx1ZSk7XG4gICAgICAgIGNyID0gY2l0Lm5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy50YWJDaGlsZHJlbklkcyAhPSBudWxsKSB7XG4gICAgICB0aGlzLnRhYkNoaWxkcmVuSWRzLmZvckVhY2goY2lkID0+IHtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZEJ5SWQoY2lkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgY2hpbGQgY29tcG9uZW50IGJ5IElELiBEZWVwIHNlYXJjaFxuICAgKiBAcGFyYW0gaWQgQ2hpbGQgY29tcG9uZW50IFtbaWRdXVxuICAgKi9cbiAgZ2V0RWxlbWVudEJ5SWQoaWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLmZpbmRFbGVtZW50QnlJZChpZCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBjaGlsZCBjb21wb25lbnQgd2l0aCBpZCBleGlzdHNcbiAgICogQHBhcmFtIGlkIENoaWxkIGNvbXBvbmVudCBbaWRdXG4gICAqL1xuICBoYXNDaGlsZChpZDogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZEVsZW1lbnRCeUlkKGlkKSAhPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB2YWxpZGF0ZSBhdHRyaWJ1dGUgZm9yIGlucHV0IGNvbXBvbmVudC4gSW1wbGVtZW50IG9uIHN1YiBjbGFzcyBjb21wb25lbnRcbiAgICogQHBhcmFtIGF0dHJcbiAgICovXG4gIHNldFZhbGlkYXRlKGF0dHI6IHN0cmluZykge1xuICAgIC8vVE9ET1xuICAgIGNvbnNvbGUuZXJyb3IoXCJzZXRWYWxpZGF0ZSBpcyBub3QgaW1wbGVtZW50ZWRcIik7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHR5cGUgYXR0cmlidXRlIGZvciBpbnB1dCBjb21wb25lbnQuIEltcGxlbWVudCBvbiBzdWIgY2xhc3MgY29tcG9uZW50XG4gICAqIEBwYXJhbSB0eXBlXG4gICAqL1xuICBzZXRUeXBlKHR5cGU6IHN0cmluZykge1xuICAgIC8vVE9ET1xuICAgIGNvbnNvbGUuZXJyb3IoXCJzZXRUeXBlIGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgZm9ybWF0IGF0dHJpYnV0ZSBmb3IgaW5wdXQgY29tcG9uZW50LiBJbXBsZW1lbnQgb24gc3ViIGNsYXNzIGNvbXBvbmVudFxuICAgKiBAcGFyYW0gZm9ybWF0XG4gICAqL1xuICBzZXRGb3JtYXQoZm9ybWF0OiBzdHJpbmcpIHtcbiAgICAvL1RPRE9cbiAgICBjb25zb2xlLmVycm9yKFwic2V0Rm9ybWF0IGlzIG5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgW1ttYXhMZW5ndGhdXSBmb3IgaW5wdXQgY29tcG9uZW50XG4gICAqIEBwYXJhbSBtYXhMZW5ndGggSW5wdXQgbWF4IGxlbmd0aCBwcm9wZXJ0eS4gU2hvdWxkIGJlIG51bWVyaWMgc3RyaW5nXG4gICAqL1xuICBzZXRNYXhMZW5ndGgobWF4TGVuZ3RoOiBzdHJpbmcpIHtcbiAgICB0aGlzLm1heExlbmd0aCA9IG1heExlbmd0aDtcbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBbW21pbkxlbmd0aF1dIGZvciBpbnB1dCBjb21wb25lbnRcbiAgICogQHBhcmFtIG1pbkxlbmd0aCBJbnB1dCBtYXggbGVuZ3RoIHByb3BlcnR5LiBTaG91bGQgYmUgbnVtZXJpYyBzdHJpbmdcbiAgICovXG4gIHNldE1pbkxlbmd0aChtaW5MZW5ndGg6IHN0cmluZykge1xuICAgIHRoaXMubWluTGVuZ3RoID0gbWluTGVuZ3RoO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbbWF4TGVuZ3RoXV0gYXMgYnl0ZSBsZW5ndGggZm9yIGlucHV0IGNvbXBvbmVudFxuICAgKiBAcGFyYW0gYmwgU2hvdWxkIGJlIG51bWVyaWMgc3RyaW5nXG4gICAqL1xuICBzZXRNYXhCeXRlTGVuKGJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLnNldE1heExlbmd0aChibCk7XG4gIH1cblxuICAvKipcbiAgICogQWJzdHJhY3QgbWV0aG9kLiBTZXQgdmFsdWUgb2YgaW5wdXQgY29tcG9uZW50XG4gICAqIEBwYXJhbSB2YWwgVmFsdWUgdG8gc2V0XG4gICAqL1xuICBzZXRWYWx1ZSh2YWw6IGFueSkge1xuXG4gIH1cblxuICAvKipcbiAgICogU2V0IGZvY3VzYWJsZSBwcm9wZXJ0eSB2YWx1ZSBmb3IgY29tcG9uZW50LiBJbXBsZW1lbnQgb24gc3ViIGNsYXNzXG4gICAqIEBwYXJhbSBmb2N1c2FibGUgVG9nZ2xlIGZvY3VzYWJsZSBvbi9vZmZcbiAgICovXG4gIHNldEZvY3VzYWJsZShmb2N1c2FibGU6IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICAvL1RPRE9cbiAgfVxuXG4gIC8qKlxuICAgKiBBYnN0cmFjdC4gU2VsZWN0IHBhcmVudCBjb21wb25lbnQgdGFiLiBJbXBsZW1lbnQgb24gc3ViIGNsYXNzXG4gICAqL1xuICBzZWxlY3RQYXJlbnRUYWIoKSB7XG4gICAgZnVuY3Rpb24gZmluZFRhYkJlbG9uZyhpdGVtOiBCYXNlQ29tcG9uZW50KSB7XG4gICAgICBpZiAoaXRlbSAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IGl0ZW0uZ2V0UGFyZW50KCk7XG4gICAgICAgIGlmIChwYXJlbnQgIT0gbnVsbCAmJiBwYXJlbnQuZ2V0TG9jYWxOYW1lKCkgIT09ICd0YWInKVxuICAgICAgICAgIHJldHVybiBmaW5kVGFiQmVsb25nKHBhcmVudCk7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRhYiA9IGZpbmRUYWJCZWxvbmcodGhpcy5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKSkgYXMgVGFiQ29tcG9uZW50O1xuXG4gICAgZnVuY3Rpb24gZmluZFRhYlBhbmVCZWxvbmcodGFiOiBCYXNlQ29tcG9uZW50KSB7XG4gICAgICBpZiAodGFiICE9IG51bGwpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGFiLmdldFBhcmVudCgpO1xuICAgICAgICBpZiAocGFyZW50ICE9IG51bGwgJiYgcGFyZW50LmdldExvY2FsTmFtZSgpICE9PSAndGFiLXBhbmUnKVxuICAgICAgICAgIHJldHVybiBmaW5kVGFiUGFuZUJlbG9uZyhwYXJlbnQpO1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0YWJQYW5lID0gZmluZFRhYlBhbmVCZWxvbmcodGhpcy5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKSkgYXMgVGFiUGFuZUNvbXBvbmVudDtcbiAgICBpZiAodGFiICE9IG51bGwpIHtcbiAgICAgIHRhYlBhbmUuc2V0U2VsZWN0ZWRUYWIodGFiLmlkKTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogUGVyZm9ybSBhIGRlZXAgc2VhcmNoICh0aGF0IGlzLCBsb29rcyB1cCBkZXNjZW5kYW50cylcbiAgICogQHBhcmFtIGlkIGVsZW1lbnQgaWQgdG8gc2VhcmNoXG4gICAqL1xuICBmaW5kRWxlbWVudEJ5SWQoaWQ6IHN0cmluZyk6IEJhc2VDb21wb25lbnQge1xuICAgIGNvbnN0IG1hcHBlZENoaWxkSWQgPSBLZXlVdGlscy50b01hcEtleShpZCk7XG5cbiAgICBsZXQgY29tcDogQmFzZUNvbXBvbmVudCA9IG51bGw7XG4gICAgLy9maXJzdCBjaGVjayBmb3IgY2FjaGVcbiAgICAvLyBsZXQgY29tcDogQmFzZUNvbXBvbmVudCA9IFVpRG9jdW1lbnQuZ2V0RnJvbUNhY2hlKG1hcHBlZENoaWxkSWQpO1xuXG4gICAgaWYgKGNvbXAgPT0gbnVsbCkge1xuICAgICAgLy9jaGVjayBmb3IgcmFkaW8gYnV0dG9uIGdyb3VwXG4gICAgICBjb25zdCByYWRpb0dyb3VwID0gdGhpcy5nZXRSYWRpb0J1dHRvbkdyb3VwQ29tcG9uZW50KGlkKTtcblxuICAgICAgaWYgKHJhZGlvR3JvdXAgIT0gbnVsbCkge1xuICAgICAgICBjb21wID0gcmFkaW9Hcm91cDtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbXAgPT0gbnVsbCkge1xuICAgICAgICAvL2dldCBhbGwgY2hpbGRyZW4gZnJvbSBWaWV3XG4gICAgICAgIC8vIGNvbnN0IGFsbENoaWxkcmVuID0gdGhpcy5nZXRQYXJlbnRWaWV3KCkucmVkdWNlQ2hpbGRyZW5JdGVyYXRpdmUoKTtcbiAgICAgICAgLy8gY29uc3QgZWRpdG9ySWQgPSBgI3tpZH1gO1xuXG4gICAgICAgIC8vIGZvciAobGV0IGNoaWxkIG9mIGFsbENoaWxkcmVuKSB7XG4gICAgICAgIC8vICAgaWYgKFxuICAgICAgICAvLyAgICAgS2V5VXRpbHMudG9NYXBLZXkoY2hpbGQuZ2V0SWQoKSkgPT09IG1hcHBlZENoaWxkSWQgfHxcbiAgICAgICAgLy8gICAgIC8vYnkgZWRpdG9yIGlkIChlLmcuIGVkaXRvcj1cIiNlZGl0b3JJZFwiKVxuICAgICAgICAvLyAgICAgY2hpbGQuZWRpdG9yID09PSBlZGl0b3JJZFxuICAgICAgICAvLyAgICkge1xuICAgICAgICAvLyAgICAgY29tcCA9IGNoaWxkO1xuICAgICAgICAvLyAgICAgYnJlYWs7XG4gICAgICAgIC8vICAgfVxuICAgICAgICAvLyB9XG4gICAgICAgIGlmICh0aGlzLl92aWV3Q2hpbGRyZW5NYXAgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbXAgPSB0aGlzLl92aWV3Q2hpbGRyZW5NYXAuZ2V0KG1hcHBlZENoaWxkSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbXAgPT0gbnVsbCAmJiB0aGlzLmlzVmlldygpICE9PSB0cnVlKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50VmlldyA9IHRoaXMuZ2V0UGFyZW50VmlldygpO1xuXG4gICAgICAgICAgaWYgKHBhcmVudFZpZXcgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29tcCA9IHBhcmVudFZpZXcuZmluZEVsZW1lbnRCeUlkKG1hcHBlZENoaWxkSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvL2lmIHdlIGZpbmQgY29tcG9uZW50LCBhZGQgdG8gY2FjaGVcbiAgICAgIC8vIGlmIChjb21wICE9IG51bGwpIHtcbiAgICAgIC8vICAgVWlEb2N1bWVudC5hZGRUb0NhY2hlKG1hcHBlZENoaWxkSWQsIGNvbXApO1xuICAgICAgLy8gfVxuICAgIH1cblxuICAgIGlmIChjb21wID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbXAgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBjb21wO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEdldCByYWRpbyBidXR0b24gZ3JvdXAgY29tcG9uZW50IGJ5IGlkXG4gICAqIEBwYXJhbSBpZCBSYWRpbyBidXR0b24gZ3JvdXAgSURcbiAgICovXG4gIGdldFJhZGlvQnV0dG9uR3JvdXBDb21wb25lbnQoaWQ6IHN0cmluZyk6IEJhc2VDb21wb25lbnQge1xuICAgIGlmIChpZCA9PT0gKHRoaXMgYXMgYW55KS5ncm91cCkge1xuICAgICAgLy9yYWRpbyBidXR0b24gZ3JvdXBcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCByYWRpb0dyb3VwID0gdGhpcy5nZXRSYWRpb0J1dHRvbkdyb3VwKGlkKTtcblxuICAgICAgaWYgKHJhZGlvR3JvdXAgIT0gbnVsbCkge1xuICAgICAgICBsZXQgcmV0VmFsID0gcmFkaW9Hcm91cFswXTtcblxuICAgICAgICBmb3IgKGxldCByYWRpbyBvZiByYWRpb0dyb3VwKSB7XG4gICAgICAgICAgaWYgKHJhZGlvLmdldENoZWNrZWQoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0VmFsID0gcmFkaW87XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldFZhbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgY2hhbmdlIGxpc3RlbmVyIG9uIGF0dHJpYnV0ZXNcbiAgICogQHBhcmFtIGxpc3RlbmVyXG4gICAqL1xuICBhZGRBdHRyaWJ1dGVDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcjogQXR0cmlidXRlQ2hhbmdlTGlzdGVuZXIpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5hdHRyaWJ1dGVDaGFuZ2VMaXN0ZW5lcnMgPT0gbnVsbCkge1xuICAgICAgdGhpcy5hdHRyaWJ1dGVDaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lci5faW50ZXJuYWxJZCA9IEJhc2VDb21wb25lbnQuZ2VuZXJhdGVVbmlxdWVJZCgnbGlzdGVuZXInKTtcblxuICAgIHRoaXMuYXR0cmlidXRlQ2hhbmdlTGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpXG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGNoYW5nZSBsaXN0ZW5lciBvbiBhdHRyaWJ1dGVzXG4gICAqIEBwYXJhbSBsaXN0ZW5lclxuICAgKi9cbiAgcmVtb3ZlQXR0cmlidXRlQ2hhbmdlTGlzdGVuZXIobGlzdGVuZXI6IEF0dHJpYnV0ZUNoYW5nZUxpc3RlbmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuYXR0cmlidXRlQ2hhbmdlTGlzdGVuZXJzICE9IG51bGwpIHtcbiAgICAgIHRoaXMuYXR0cmlidXRlQ2hhbmdlTGlzdGVuZXJzID0gXy5maWx0ZXIodGhpcy5hdHRyaWJ1dGVDaGFuZ2VMaXN0ZW5lcnMsIChpdGVtOiBBdHRyaWJ1dGVDaGFuZ2VMaXN0ZW5lcikgPT4gaXRlbS5faW50ZXJuYWxJZCAhPT0gbGlzdGVuZXIuX2ludGVybmFsSWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYXR0cmlidXRlIGFuZCBlbWl0IGNoYW5nZSBldmVudFxuICAgKiBAcGFyYW0gYXR0cmlidXRlTmFtZVxuICAgKiBAcGFyYW0gbmV3VmFsdWVcbiAgICogQGV2ZW50IEF0dHJpYnV0ZUNoYW5nZUV2ZW50XG4gICAqL1xuICBwcm90ZWN0ZWQgZmlyZVNldEF0dHJpYnV0ZUV2ZW50KGF0dHJpYnV0ZU5hbWU6IHN0cmluZywgbmV3VmFsdWU6IGFueSkge1xuICAgIGlmICh0aGlzLmF0dHJpYnV0ZUNoYW5nZUxpc3RlbmVycyAmJiB0aGlzLmF0dHJpYnV0ZUNoYW5nZUxpc3RlbmVycy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBldmVudDogQXR0cmlidXRlQ2hhbmdlRXZlbnQgPSBuZXcgQXR0cmlidXRlQ2hhbmdlRXZlbnQoXG4gICAgICAgIGF0dHJpYnV0ZU5hbWUsIHRoaXMuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpLCBuZXdWYWx1ZSwgdGhpc1xuICAgICAgKTtcblxuICAgICAgXy5mb3JFYWNoKHRoaXMuYXR0cmlidXRlQ2hhbmdlTGlzdGVuZXJzLCAobGlzdGVuZXI6IEF0dHJpYnV0ZUNoYW5nZUxpc3RlbmVyKSA9PiB7XG4gICAgICAgIGxpc3RlbmVyLm9uQXR0cmlidXRlU2V0KGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYXR0cmlidXRlIGFuZCBlbWl0IGNoYW5nZSBldmVudFxuICAgKiBAcGFyYW0gYXR0cmlidXRlTmFtZVxuICAgKiBAZXZlbnQgQXR0cmlidXRlQ2hhbmdlRXZlbnRcbiAgICovXG4gIHByb3RlY3RlZCBmaXJlUmVub3ZlQXR0cmlidXRlRXZlbnQoYXR0cmlidXRlTmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuYXR0cmlidXRlQ2hhbmdlTGlzdGVuZXJzICYmIHRoaXMuYXR0cmlidXRlQ2hhbmdlTGlzdGVuZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGV2ZW50OiBBdHRyaWJ1dGVDaGFuZ2VFdmVudCA9IG5ldyBBdHRyaWJ1dGVDaGFuZ2VFdmVudChcbiAgICAgICAgYXR0cmlidXRlTmFtZSwgdGhpcy5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSksIG51bGwsIHRoaXNcbiAgICAgICk7XG5cbiAgICAgIF8uZm9yRWFjaCh0aGlzLmF0dHJpYnV0ZUNoYW5nZUxpc3RlbmVycywgKGxpc3RlbmVyOiBBdHRyaWJ1dGVDaGFuZ2VMaXN0ZW5lcikgPT4ge1xuICAgICAgICBsaXN0ZW5lci5vbkF0dHJpYnV0ZVJlbW92ZWQoZXZlbnQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIGZvciBzdGF0aWMgW1tjbGVhbkNzc11dIG1ldGhvZFxuICAgKiBAcGFyYW0gY3NzXG4gICAqL1xuICBwcml2YXRlIGNsZWFuQ3NzKGNzczogc3RyaW5nKSB7XG4gICAgcmV0dXJuIEJhc2VDb21wb25lbnQuY2xlYW5Dc3MoY3NzKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBGb3JtYXQgY3NzIHNlbGVjdG9ycy4gUmVtb3ZlIGRvdFxuICAgKiBAcGFyYW0gY3NzXG4gICAqIEByZXR1cm5zIE5ldyBDU1Mgc2VsZWN0b3Igc3RyaW5nXG4gICAqL1xuICBzdGF0aWMgY2xlYW5Dc3MoY3NzOiBzdHJpbmcpIHtcbiAgICBpZiAoY3NzICE9IG51bGwgJiYgY3NzLmluZGV4T2YoXCIuXCIpID49IDApIHtcbiAgICAgIC8vbW9yZSB0aGFuIG9uZSBzdHlsZT9cbiAgICAgIGlmIChjc3MuaW5kZXhPZihcIiBcIikgPiAwKSB7XG4gICAgICAgIHJldHVybiBfLm1hcChjc3Muc3BsaXQoXCIgXCIpLCAoaXRlbSkgPT4gdGhpcy5jbGVhbkNzcyhpdGVtKSkuam9pbihcIiBcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvL29ubHkgb25lIHN0eWxlXG4gICAgICAgIHJldHVybiBjc3MucmVwbGFjZSgvXFwuL2csICctJykucmVwbGFjZSgvXlxcLS8sICcnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY3NzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFic3RyYWN0IG1ldGhvZCBnZXRzIHRoZSBpbnN0YW5jZSdzIFtbQ2hhbmdlRGV0ZWN0b3JSZWZdXS4gU2hvdWxkIGJlIGltcGxlbWVudGVkIGluIHN1YiBjbGFzc1xuICAgKi9cbiAgcHJvdGVjdGVkIGdldENoYW5nZURldGVjdG9yKCk6IENoYW5nZURldGVjdG9yUmVmIHtcbiAgICAvL3N1Yi1jbGFzcyBvdmVycmlkZVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIE1hcmsgY29tcG9uZW50IGZvciBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAqL1xuICBtYXJrRm9yQ2hlY2soKSB7XG4gICAgaWYgKHRoaXMuX3RlbXBGcmVlemVDZCAhPT0gdHJ1ZSAmJiB0aGlzLl9pc0R5aW5nICE9PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5nZXRDaGFuZ2VEZXRlY3RvcigpICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5nZXRDaGFuZ2VEZXRlY3RvcigpLm1hcmtGb3JDaGVjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2UgY2hhbmdlIGRldGVjdGlvbiBvbiBjb21wb25lbnRcbiAgICovXG4gIGRldGVjdENoYW5nZXMoKSB7XG4gICAgaWYgKHRoaXMuX3RlbXBGcmVlemVDZCAhPT0gdHJ1ZSAmJiB0aGlzLl9pc0R5aW5nICE9PSB0cnVlKSB7XG4gICAgICBpZiAodGhpcy5nZXRDaGFuZ2VEZXRlY3RvcigpICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5nZXRDaGFuZ2VEZXRlY3RvcigpLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IENTUyBoZWlnaHQgYW5kIHdpZHRoIHN0eWxlIHZhbHVlLiBFaXRoZXIgJ2hlaWdodC93aWR0aCcgb3IgJ21heC1oZWlnaHQvbWF4LXdpZHRoJ1xuICAgKiBAcGFyYW0gaGVpZ2h0U3R5bGVOYW1lXG4gICAqIEBwYXJhbSB3aWR0aFN0eWxlTmFtZVxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRXaWR0aEhlaWdodFN0eWxlKGhlaWdodFN0eWxlTmFtZTogc3RyaW5nID0gJ2hlaWdodCcsIHdpZHRoU3R5bGVOYW1lOiBzdHJpbmcgPSAnbWF4LXdpZHRoJykge1xuICAgIGlmICh0aGlzLmNvbnRyb2xIZWlnaHQgIT0gbnVsbCAmJiB0aGlzLmNvbnRyb2xIZWlnaHQgIT0gXCJcIiAmJiBwYXJzZUludCh0aGlzLmNvbnRyb2xIZWlnaHQpID4gMCkge1xuICAgICAgdGhpcy5zdHlsZXNbXCJoZWlnaHRcIl0gPSBwYXJzZUludCh0aGlzLmNvbnRyb2xIZWlnaHQpICsgXCJweFwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbnRyb2xXaWR0aCAhPSBudWxsICYmIHRoaXMuY29udHJvbFdpZHRoICE9IFwiXCIgJiYgcGFyc2VJbnQodGhpcy5jb250cm9sV2lkdGgpID4gMCkge1xuICAgICAgdGhpcy5zdHlsZXNbd2lkdGhTdHlsZU5hbWVdID0gcGFyc2VJbnQodGhpcy5jb250cm9sV2lkdGgpICsgXCJweFwiO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBBZGQgYSByYWRpbyBidXR0b24gY29tcG9uZW50IHRvIHRoaXMgY29tcG9uZW50XG4gICAqIEBwYXJhbSByYWRpb1xuICAgKi9cbiAgYWRkUmFkaW9CdXR0b25Hcm91cChyYWRpbzogQmFzZUNvbXBvbmVudCkge1xuICAgIC8vcmFkaW8gZ3JvdXAgbmVlZCB0byBiZSBhdCBWaWV3Q29tcG9uZW50IGxldmVsXG4gICAgaWYgKHRoaXMuaXNWaWV3KCkgIT09IHRydWUgJiYgdGhpcy5nZXRQYXJlbnQoKSAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRQYXJlbnQoKS5hZGRSYWRpb0J1dHRvbkdyb3VwKHJhZGlvKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yYWRpb0J1dHRvbkdyb3VwcyA9PSBudWxsKSB7XG4gICAgICB0aGlzLnJhZGlvQnV0dG9uR3JvdXBzID0gbmV3IE1hcDxzdHJpbmcsIEFycmF5PEJhc2VDb21wb25lbnQ+PigpO1xuICAgIH1cblxuICAgIC8vaWdub3JlIHR5cGUgdG8gcHJldmVudCBjaXJjdWxhciByZWZcbiAgICBsZXQgZ3JvdXBJZDogc3RyaW5nID0gKHJhZGlvIGFzIGFueSkuZ3JvdXA7XG5cbiAgICBpZiAodGhpcy5yYWRpb0J1dHRvbkdyb3Vwcy5nZXQoZ3JvdXBJZCkgPT0gbnVsbCkge1xuICAgICAgdGhpcy5yYWRpb0J1dHRvbkdyb3Vwcy5zZXQoZ3JvdXBJZCwgW3JhZGlvXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmFkaW9CdXR0b25Hcm91cHMuZ2V0KGdyb3VwSWQpLnB1c2gocmFkaW8pO1xuICAgIH1cblxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBHZXQgcmFkaW8gYnV0dG9uIGdyb3VwIGJ5IGdyb3VwIElEXG4gICAqIEBwYXJhbSBncm91cElkXG4gICAqIEByZXR1cm5zICBSYWRpbyBidXR0b24gZ3JvdXAgY29tcG9uZW50XG4gICAqL1xuICBnZXRSYWRpb0J1dHRvbkdyb3VwKGdyb3VwSWQ6IHN0cmluZykge1xuICAgIGxldCB2aWV3ID0gdGhpcy5nZXRQYXJlbnRWaWV3KCk7XG5cbiAgICByZXR1cm4gdmlldyAhPSBudWxsICYmIHZpZXcucmFkaW9CdXR0b25Hcm91cHMgIT0gbnVsbCA/IHZpZXcucmFkaW9CdXR0b25Hcm91cHMuZ2V0KGdyb3VwSWQpIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIFtbY29udHJvbFdpZHRoXV0gcHJvcGVydHlcbiAgICogQHBhcmFtIHdpZHRoIFNob3VsZCBiZSBudW1lcmljIHZhbHVlXG4gICAqL1xuICBzZXRDb250cm9sV2lkdGgod2lkdGg6IGFueSkge1xuICAgIHRoaXMuY29udHJvbFdpZHRoID0gd2lkdGg7XG5cbiAgICB0aGlzLmluaXRXaWR0aEhlaWdodFN0eWxlKCk7XG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIFtbY29udHJvbEhlaWdodF1dIHByb3BlcnR5XG4gICAqIEBwYXJhbSBoZWlnaHQgU2hvdWxkIGJlIG51bWVyaWMgdmFsdWVcbiAgICovXG4gIHNldENvbnRyb2xIZWlnaHQoaGVpZ2h0OiBhbnkpIHtcbiAgICB0aGlzLmNvbnRyb2xIZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLmluaXRXaWR0aEhlaWdodFN0eWxlKCk7XG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgW1tzZXRDb250cm9sV2lkdGhdXSBtZXRob2RcbiAgICogQHBhcmFtIHdpZHRoIFNob3VsZCBiZSBhIG51bWVyaWMgdmFsdWVcbiAgICovXG4gIHNldFdpZHRoKHdpZHRoOiBhbnkpIHtcbiAgICB0aGlzLnNldENvbnRyb2xXaWR0aCh3aWR0aCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbY29udHJvbFdpZHRoXV0gcHJvcGVydHlcbiAgICogQHJldHVybnMgVmFsdWUgb2YgW1tjb250cm9sV2lkdGhdXVxuICAgKi9cbiAgZ2V0V2lkdGgoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb250cm9sV2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogQWxpYXMgZm9yIFtbc2V0Q29udHJvbEhlaWdodF1dIG1ldGhvZFxuICAgKiBAcGFyYW0gaGVpZ2h0IFNob3VsZCBiZSBhIG51bWVyaWMgdmFsdWVcbiAgICovXG4gIHNldEhlaWdodChoZWlnaHQ6IGFueSkge1xuICAgIHRoaXMuc2V0Q29udHJvbEhlaWdodChoZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW2NvbnRyb2xIZWlnaHRdXSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBWYWx1ZSBvZiBbW2NvbnRyb2xIZWlnaHRdXVxuICAgKi9cbiAgZ2V0SGVpZ2h0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY29udHJvbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHZhbHVlIG9mIFtbeF1dIHByb3BlcnR5IGZvciBob3Jpem9udGFsIHBvc2l0aW9uLlxuICAgKiBTZXRzIENTUyBcImxlZnRcIiBwcm9wZXJ0eSB0byBbW3hdXSBweC5cbiAgICogQHBhcmFtIHggSG9yaXpvbnRhbCBjb29yZGluYXRlIHBvc2l0aW9uXG4gICAqL1xuICBzZXRYKHg6IHN0cmluZykge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy5zdHlsZXNbXCJsZWZ0XCJdID0geCArIFwicHhcIjtcbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW3hdXSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBWYWx1ZSBvZiBbW3hdXVxuICAgKi9cbiAgZ2V0WCgpIHtcbiAgICByZXR1cm4gdGhpcy54O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdmFsdWUgb2YgW1t5XV0gcHJvcGVydHkgZm9yIHZlcnRpY2FsIHBvc2l0aW9uLlxuICAgKiBTZXRzIENTUyBcInRvcFwiIHByb3BlcnR5IHRvIFtbeV1dIHB4LlxuICAgKiBAcGFyYW0geSBWZXJ0aWNhbCBjb29yZGluYXRlIHBvc2l0aW9uXG4gICAqL1xuICBzZXRZKHk6IHN0cmluZykge1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5zdHlsZXNbXCJ0b3BcIl0gPSB5ICsgXCJweFwiO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbeV1dIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIFZhbHVlIG9mIFtbeV1dXG4gICAqL1xuICBnZXRZKCkge1xuICAgIHJldHVybiB0aGlzLnk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbYm9yZGVyV2lkdGhdXSBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcGFyYW0gYm9yZGVyV2lkdGggU2hvdWxkIGJlIG51bWVyaWNcbiAgICovXG4gIHNldEJvcmRlcldpZHRoKGJvcmRlcldpZHRoOiBzdHJpbmcpIHtcbiAgICB0aGlzLmJvcmRlcldpZHRoID0gYm9yZGVyV2lkdGg7XG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjb21wb25lbnQgaXMgdmlldyBjb21wb25lbnQuXG4gICAqIEltcGxlbWVudCBpbiBzdWIgY2xhc3NcbiAgICovXG4gIGlzVmlldygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlcmUgYXJlIGFjdGl2ZSB2aWV3cy5cbiAgICogSW1wbGVtZW50IGluIHN1YiBjbGFzc1xuICAgKi9cbiAgaXNOb25lQWN0aXZlVmlldygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBjb21wb25lbnQgaXMgYW4gaW5zdGFuY2Ugb2YgW1tEaWFsb2dDb21wb25lbnRdXVxuICAgKi9cbiAgcHJvdGVjdGVkIGlzRGlhbG9nKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIGNvbXBvbmVudCBpcyBhIGR5bmFtaWMgdmlld1xuICAgKi9cbiAgaXNEeW5hbWljVmlldygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYXJlbnQgdmlldyBvZiB0aGlzIGNvbXBvbmVudFxuICAgKiBAcmV0dXJucyBQYXJlbnQgdmlldyBjb21wb25lbnRcbiAgICovXG4gIGdldFBhcmVudFZpZXcoKTogQmFzZUNvbXBvbmVudCB7XG4gICAgaWYgKHRoaXMuaXNWaWV3KCkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxldCBwYXJlbnRWaWV3OiBCYXNlQ29tcG9uZW50ID0gbnVsbDtcblxuICAgIGlmICh0aGlzLnBhcmVudCAhPSBudWxsKSB7XG4gICAgICBsZXQgc3RhY2s6IEFycmF5PEJhc2VDb21wb25lbnQ+ID0gW3RoaXMucGFyZW50XTtcblxuICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHN0YWNrLnBvcCgpO1xuXG4gICAgICAgIGlmICh0ZW1wLmlzVmlldygpID09PSB0cnVlKSB7XG4gICAgICAgICAgcGFyZW50VmlldyA9IHRlbXA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGVtcC5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgICAgIHN0YWNrLnB1c2godGVtcC5wYXJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudFZpZXc7XG4gIH1cblxuICBnZXRQYXJlbnRTY3JvbGxWaWV3KCk6IEJhc2VDb21wb25lbnQge1xuICAgIGlmICh0aGlzLmlzU2Nyb2xsVmlldygpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsZXQgcGFyZW50VmlldzogQmFzZUNvbXBvbmVudCA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgbGV0IHN0YWNrOiBBcnJheTxCYXNlQ29tcG9uZW50PiA9IFt0aGlzLnBhcmVudF07XG5cbiAgICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IHRlbXAgPSBzdGFjay5wb3AoKTtcblxuICAgICAgICBpZiAodGVtcC5pc1Njcm9sbFZpZXcoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHBhcmVudFZpZXcgPSB0ZW1wO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRlbXAucGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKHRlbXAucGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwYXJlbnRWaWV3O1xuICB9XG5cbiAgaXNTY3JvbGxWaWV3KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIHBhcmVudCBjb250YWluZXIgY29tcG9uZW50IChmb3Igc3VidmlldyksIG5vdCB0aGUgYWN0dWFsIHBhcmVudCB2aWV3LiBUaGlzIGlzIHRoZSBwYXJlbnRcbiAgICogVmlld0NvbXBvbmVudCB3aGVyZSBjYW5CZUFjdGl2ZVZpZXcgaXMgZmFsc2VcbiAgICovXG4gIF9nZXROb25lQWN0aXZlVmlld1BhcmVudCgpOiBCYXNlQ29tcG9uZW50IHtcbiAgICBpZiAodGhpcy5pc05vbmVBY3RpdmVWaWV3KCkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGxldCBwYXJlbnRWaWV3OiBCYXNlQ29tcG9uZW50ID0gbnVsbDtcblxuICAgIGlmICh0aGlzLnBhcmVudCAhPSBudWxsKSB7XG4gICAgICBsZXQgc3RhY2s6IEFycmF5PEJhc2VDb21wb25lbnQ+ID0gW3RoaXMucGFyZW50XTtcblxuICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgdGVtcCA9IHN0YWNrLnBvcCgpO1xuXG4gICAgICAgIGlmICh0ZW1wLmlzTm9uZUFjdGl2ZVZpZXcoKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHBhcmVudFZpZXcgPSB0ZW1wO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRlbXAucGFyZW50ICE9IG51bGwpIHtcbiAgICAgICAgICBzdGFjay5wdXNoKHRlbXAucGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBwYXJlbnRWaWV3O1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNvbnRleHQgbWVudSBjbGljayAocmlnaHQgY2xpY2spLlxuICAgKiBEZWxlZ2F0ZXMgdG8gW1tTZXNzaW9uU2VydmljZV1dIHRvIGRpc3BsYXkgcG9wdXAuXG4gICAqIEBwYXJhbSBldmVudCBDbGljayBldmVudFxuICAgKiBAcGFyYW0gZm9yY2UgYWx3YXlzIGVtaXRcbiAgICovXG4gIGhhbmRsZU9uQ29udGV4dE1lbnUoZXZlbnQ6IE1vdXNlRXZlbnQsIGZvcmNlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICAvL2FsbG93IGNvbXBvbmVudCB0byBza2lwIGVtaXQgZXZlbnQgYW5kIGxldCBwYXJlbnQgKGkuZS4gdGFibGUgY2VsbCB0byBlbWl0IGl0KVxuICAgIGlmIChmb3JjZSA9PT0gdHJ1ZSB8fCB0aGlzLnNraXBFbWl0Q29udGV4dE1lbnVFdmVudCAhPT0gdHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuZ2V0U2Vzc2lvbigpICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5nZXRTZXNzaW9uKCkuc2V0TW91c2VQb3NpdGlvbihldmVudCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHBhcmVudFZpZXcgPSB0aGlzLmdldFBhcmVudFZpZXcoKTtcbiAgICAgIGxldCBwb3B1cE1lbnVJZDogc3RyaW5nID0gbnVsbDtcblxuICAgICAgaWYgKHBhcmVudFZpZXcgIT0gbnVsbCkge1xuICAgICAgICBwb3B1cE1lbnVJZCA9IChwYXJlbnRWaWV3IGFzIFZpZXdDb21wb25lbnQpLmdldEZpcnN0UG9wdXBNZW51SWQoKTtcbiAgICAgIH1cblxuXG4gICAgICB0aGlzLm9uQ29udGV4dE1lbnUuZW1pdChldmVudCk7XG5cblxuICAgICAgaWYgKHRoaXMucG9wdXAgIT0gbnVsbCAmJiB0aGlzLnBvcHVwICE9PSBcIlwiKSB7XG4gICAgICAgIGlmICh0aGlzLnBvcHVwLmluZGV4T2YoXCIjXCIpID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5wb3B1cCA9IHRoaXMucG9wdXAuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcG9wdXBNZW51SWQgPSB0aGlzLnBvcHVwO1xuXG4gICAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLl9jdXJyZW50UG9wdXBNZW51SWQgPSB0aGlzLnBvcHVwO1xuICAgICAgfVxuXG4gICAgICBpZiAocG9wdXBNZW51SWQgIT0gbnVsbCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICBjb25zdCB0bSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0bSk7XG5cbiAgICAgICAgICBpZiAodGhpcy5nZXRTZXNzaW9uKCkuX2N1cnJlbnRQb3B1cE1lbnVJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBwb3B1cE1lbnVJZCA9IHRoaXMuZ2V0U2Vzc2lvbigpLl9jdXJyZW50UG9wdXBNZW51SWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5nZXRTZXNzaW9uKCkuc2hvd0NvbnRleHRNZW51KHBvcHVwTWVudUlkKTtcbiAgICAgICAgICB0aGlzLmdldFNlc3Npb24oKS5fY3VycmVudFBvcHVwTWVudUlkID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEVtaXRzIGZvY3VzIGxvc3QgZXZlbnQgZm9yIGNvbXBvbmVudHMgdGhhdCByZXF1aXJlIHZhbGlkYXRpb25cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBldmVudCBCZWZvcmVBY3RpdmVMb3N0XG4gICAqL1xuICB2YWxpZGF0ZUZpZWxkKGV2ZW50OiBGb2N1c0V2ZW50KSB7XG4gICAgaWYgKEFwcFV0aWxzLnZhbGlkYXRlRmllbGQgIT0gbnVsbCAmJiBBcHBVdGlscy52YWxpZGF0ZUZpZWxkKHRoaXMpICE9PSB0cnVlKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgdGhpcy5vbkJlZm9yZUFjdGl2ZUxvc3QuZW1pdCgpO1xuXG4gICAgdGhpcy5mb2N1c0xvc3QoKTtcbiAgfVxuXG4gIC8vaXRlcmF0YXRpdmUgZnVuY3Rpb24gdG8gcHJldmVudCBzdGFjayBvdmVyZmxvd1xuICAvLyByZWR1Y2VDaGlsZHJlbkl0ZXJhdGl2ZSgpIHtcbiAgLy8gICBpZiAodGhpcy5fcmVkdWNlQ2hpbGRyZW5JdGVyYXRpdmVDYWNoZSAhPSBudWxsICYmIHRoaXMuX3JlZHVjZUNoaWxkcmVuSXRlcmF0aXZlQ2FjaGUubGVuZ3RoID4gMCkge1xuICAvLyAgICAgcmV0dXJuIHRoaXMuX3JlZHVjZUNoaWxkcmVuSXRlcmF0aXZlQ2FjaGU7XG4gIC8vICAgfVxuXG4gIC8vICAgdGhpcy5fcmVkdWNlQ2hpbGRyZW5JdGVyYXRpdmVDYWNoZSA9IFtdO1xuXG4gIC8vICAgaWYgKHRoaXMuY2hpbGRyZW4gPT0gbnVsbCkge1xuICAvLyAgICAgTG9nZ2VyLndhcm4oXCJyZWR1Y2VDaGlsZHJlbkl0ZXJhdGl2ZSwgY2hpbGRyZW4gaXMgbnVsbFwiKTtcbiAgLy8gICAgIHJldHVybiB0aGlzLl9yZWR1Y2VDaGlsZHJlbkl0ZXJhdGl2ZUNhY2hlO1xuICAvLyAgIH1cblxuICAvLyAgIC8vc2tpcCBEaWFsb2dDb21wb25lbnRcbiAgLy8gICBsZXQgc3RhY2s6IEFycmF5PEJhc2VDb21wb25lbnQ+ID0gXy5maWx0ZXIoQXJyYXkuZnJvbSh0aGlzLmNoaWxkcmVuLnZhbHVlcygpKSwgKGNvbXA6IEJhc2VDb21wb25lbnQpPT57XG4gIC8vICAgICByZXR1cm4gY29tcC5pc0ZhdXhFbGVtZW50KCkgfHwgY29tcC5pc0RpYWxvZygpICE9PSB0cnVlO1xuICAvLyAgIH0pO1xuXG4gIC8vICAgdGhpcy5fcmVkdWNlQ2hpbGRyZW5JdGVyYXRpdmVDYWNoZSA9IHRoaXMuX3JlZHVjZUNoaWxkcmVuSXRlcmF0aXZlQ2FjaGUuY29uY2F0KHN0YWNrKTtcbiAgLy8gICBsZXQgY291bnRlciA9IDA7XG5cbiAgLy8gICB3aGlsZShzdGFjay5sZW5ndGggPiAwKSB7XG4gIC8vICAgICBjb25zdCBjaGlsZCA9IHN0YWNrLnBvcCgpO1xuXG4gIC8vICAgICBpZiAoY2hpbGQuY2hpbGRyZW4gIT0gbnVsbCAmJiBjaGlsZC5jaGlsZHJlbi5zaXplID4gMCkge1xuICAvLyAgICAgICAvL2dldCBncmFuZGNoaWxkcmVuXG4gIC8vICAgICAgIGNvbnN0IGdyYW5kQ2hpbGRyZW4gPSBBcnJheS5mcm9tKGNoaWxkLmNoaWxkcmVuLnZhbHVlcygpKTtcbiAgLy8gICAgICAgdGhpcy5fcmVkdWNlQ2hpbGRyZW5JdGVyYXRpdmVDYWNoZSA9IHRoaXMuX3JlZHVjZUNoaWxkcmVuSXRlcmF0aXZlQ2FjaGUuY29uY2F0KGdyYW5kQ2hpbGRyZW4pO1xuXG4gIC8vICAgICAgIC8vcHVzaCB0byBvdXIgc3RhY2sgdG8gaXRlcmF0ZSBvdXIgZ3JhbmRjaGlsZHJlbiB0byBsb29rIGZvciBncmVhdCBncmFuZGNoaWxkcmVuXG4gIC8vICAgICAgIHN0YWNrID0gc3RhY2suY29uY2F0KGdyYW5kQ2hpbGRyZW4pO1xuICAvLyAgICAgfVxuXG4gIC8vICAgICBjb3VudGVyKys7XG5cbiAgLy8gICAgIGlmIChjb3VudGVyID4gMTAwMDAgfHwgc3RhY2subGVuZ3RoID4gMTAwMDApIHtcbiAgLy8gICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQmFzZUNvbXBvbmVudC5yZWR1Y2VDaGlsZHJlbkl0ZXJhdGl2ZTogc3RhY2sgb3ZlcmZsb3dcIik7XG4gIC8vICAgICB9XG4gIC8vICAgfVxuXG4gIC8vICAgcmV0dXJuIHRoaXMuX3JlZHVjZUNoaWxkcmVuSXRlcmF0aXZlQ2FjaGU7XG4gIC8vIH1cblxuICAvKipcbiAgICogR2V0IGNoaWxkcmVuIG9mIGEgdGFibGUgY29tcG9uZW50LlxuICAgKiBAcmV0dXJucyBBcnJheSBvZiB0YWJsZSBjaGlsZHJlblxuICAgKi9cbiAgZ2V0VGFibGVDaGlsZHJlbigpOiBBcnJheTxhbnk+IHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbYmdDb2xvcl1dIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIFZhbHVlIG9mIFtbYmdDb2xvcl1dXG4gICAqL1xuICBnZXRCZ0NvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmJnQ29sb3I7XG4gIH1cblxuICBwcm90ZWN0ZWQgc2V0QXR0cmlidXRlRnJvbURlZigpIHtcbiAgICBjb25zdCBjb21wRGVmID0gdGhpcy5nZXRTZXNzaW9uKCkuZ2V0RGVmKHRoaXMuaWQpO1xuXG4gICAgaWYgKGNvbXBEZWYgIT0gbnVsbCAmJiBjb21wRGVmLmF0dHJpYnV0ZSAhPSBudWxsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGNvbXBEZWYuYXR0cmlidXRlIGluc3RhbmNlb2YgTWFwIHx8XG4gICAgICAgIGNvbXBEZWYuYXR0cmlidXRlIGluc3RhbmNlb2YgSGFzaHRhYmxlIHx8XG4gICAgICAgIGNvbXBEZWYuYXR0cmlidXRlIGluc3RhbmNlb2YgSGFzaE1hcFxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBjb21wRGVmLmF0dHJpYnV0ZS5rZXlzKCk7XG4gICAgICAgIGxldCBrZXkgPSBrZXlzLm5leHQoKTtcblxuICAgICAgICB3aGlsZSAoa2V5LmRvbmUgIT09IHRydWUpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShrZXkudmFsdWUsIGNvbXBEZWYuYXR0cmlidXRlLmdldChrZXkpKTtcbiAgICAgICAgICBrZXkgPSBrZXlzLm5leHQoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IF8ua2V5cyhjb21wRGVmLmF0dHJpYnV0ZSk7XG5cbiAgICAgICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShrZXksIGNvbXBEZWYuYXR0cmlidXRlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4geHBhdGggbG9va3VwIG9uIHRoZSBlbGVtZW50LiBUaGlzIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgdGhlIGFjdHVhbCBIVE1MRWxlbWVudC5cbiAgICpcbiAgICogQHdhcm5pbmcgUExFQVNFIEVOU1VSRSBUTyBGUkVFIFVQIFRIRSBUSEUgUkVTVUxUIFNPIFdFIERPTidUIEhBVkUgQU5ZIERBTkdMSU5HIEhUTUwgRUxFTUVOVFxuICAgKlxuICAgKiBAcGFyYW0geHBhdGhFeHByZXNzaW9uXG4gICAqL1xuICBldmFsdWF0ZVhQYXRoKHhwYXRoRXhwcmVzc2lvbjogc3RyaW5nKTogVmVjdG9yPE5vZGU+IHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgY29sb3Igb2YgaGlnaHRsaWdodGVkIHRleHQgYmFja2dyb3VuZFxuICAgKiBAcGFyYW0gY29sb3IgU2hvdWxkIGJlIGEgdmFsaWQgQ1NTIGNvbG9yIHZhbHVlIChlLmcuIFwiI0ZGMDAwMFwiIG9yIFwicmVkXCIpXG4gICAqL1xuICBzZXRIaWdobGlnaHRCZ0NvbG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICB0aGlzLmhpZ2hsaWdodEJnQ29sb3IgPSBjb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgY29sb3Igb2YgaGlnaGxpZ2h0ZWQgdGV4dCBmb3JlZ3JvdW5kXG4gICAqIEBwYXJhbSBjb2xvciBTaG91bGQgYmUgYSB2YWxpZCBDU1MgY29sb3IgdmFsdWUgKGUuZy4gXCIjRkYwMDAwXCIgb3IgXCJyZWRcIilcbiAgICovXG4gIHNldEhpZ2hsaWdodEZvbnRDb2xvcihjb2xvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5oaWdobGlnaHRGb250Q29sb3IgPSBjb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgW1toaWdodGxpZ2h0QmdDb2xvcl1dIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIENvbG9yIHN0cmluZ1xuICAgKi9cbiAgZ2V0SGlnaGxpZ2h0QmdDb2xvcigpIHtcbiAgICByZXR1cm4gdGhpcy5oaWdobGlnaHRCZ0NvbG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW2hpZ2hsaWdodEZvbnRDb2xvcl1dIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIENvbG9yIHN0cmluZ1xuICAgKi9cbiAgZ2V0SGlnaGxpZ2h0Rm9udENvbG9yKCkge1xuICAgIHJldHVybiB0aGlzLmhpZ2hsaWdodEZvbnRDb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgW1twYXJlbnRUYWJsZVJvd11dIHByb3BlcnR5XG4gICAqL1xuICBnZXRQYXJlbnRUYWJsZVJvdygpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJlbnRUYWJsZVJvdztcbiAgfVxuXG4gIC8vY2xlYXIgcmVkdWNlIGNoaWxkcmVuIGl0ZXJhdGl2ZSBjYWNoZVxuICAvLyByZXNldFJlZHVjZUNoaWxkcmVuSXRlcmF0aXZlQ2FjaGUoKSB7XG4gIC8vICAgdGhpcy5fcmVkdWNlQ2hpbGRyZW5JdGVyYXRpdmVDYWNoZSA9IG51bGw7XG4gIC8vIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgY2hhbmdlIGRldGVjdGlvbiBpcyBmcm96ZW5cbiAgICogQHJldHVybnMgQm9vbGVhbiBJZiBjb21wb25lbnQgY2hhbmdlIGRldGVjdGlvbiBpcyBmcm96ZW5cbiAgICovXG4gIGlzQ2hhbmdlRGV0ZWN0aW9uRnJvemVuKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjb21wb25lbnQgaXMgYSBmYXV4IGVsZW1lbnRcbiAgICogQHJldHVybnMgQm9vbGVhbiBJZiBjb21wb25lbnQgaXMgZmF1eCBlbGVtZW50XG4gICAqL1xuICBpc0ZhdXhFbGVtZW50KCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgaW50ZXJuYWwgW1tfdmlld0NoaWxkcmVuTWFwXV0gbWVtYmVyXG4gICAqIEByZXR1cm5zIFZhbHVlIG9mIFtbX3ZpZXdDaGlsZHJlbk1hcF1dXG4gICAqL1xuICBnZXRWaWV3Q2hpbGRyZW5NYXAoKTogTWFwPHN0cmluZywgQmFzZUNvbXBvbmVudD4ge1xuICAgIHJldHVybiB0aGlzLl92aWV3Q2hpbGRyZW5NYXA7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB2aWV3IGNoaWxkIHdpdGggaWQgZnJvbSBbW192aWV3Q2hpbGRyZW5NYXBdXVxuICAgKiBAcGFyYW0gaWQgSUQgb2YgY2hpbGQgdG8gcmVtb3ZlXG4gICAqL1xuICByZW1vdmVWaWV3Q2hpbGRGcm9tTWFwKGlkOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5fdmlld0NoaWxkcmVuTWFwICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3ZpZXdDaGlsZHJlbk1hcC5kZWxldGUoS2V5VXRpbHMudG9NYXBLZXkoaWQpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNvbXBvbmVudCB0byBbW192aWV3Q2hpbGRyZW5NYXBdXVxuICAgKiBAcGFyYW0gb2JqIENoaWxkIHRvIGFkZCB0byBbW192aWV3Q2hpbGRyZW5NYXBdXVxuICAgKi9cbiAgYWRkVmlld0NoaWxkVG9NYXAob2JqOiBCYXNlQ29tcG9uZW50IHwgSFRNTEVsZW1lbnRXcmFwcGVyKSB7XG4gICAgaWYgKHRoaXMuX3ZpZXdDaGlsZHJlbk1hcCAhPSBudWxsKSB7XG4gICAgICB0aGlzLl92aWV3Q2hpbGRyZW5NYXAuc2V0KEtleVV0aWxzLnRvTWFwS2V5KG9iai5nZXRJZCgpKSwgb2JqIGFzIGFueSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEludm9rZSBhbiBNQ08gbWV0aG9kIGJ5IG5hbWUuIElmIGEgZnVuY3Rpb24gaXMgcGFzc2VkIGFzIGFyZ3VtZW50LCBpdCB3aWxsIGJlIGNhbGxlZCB3aXRoXG4gICAqIHRoaXMgY29tcG9uZW50IGFzIGFuIGFyZ3VtZW50LlxuICAgKiBAcGFyYW0gYWN0aW9uIE5hbWUgb2YgYWN0aW9uIG1ldGhvZCB0byBpbnZva2Ugb3IgYSBmdW5jdGlvbiB0byBpbnZva2VcbiAgICovXG4gIHByb3RlY3RlZCBpbnZva2VNY29BY3Rpb24oYWN0aW9uOiBzdHJpbmcgfCAoKGFyZz86IGFueSkgPT4gYW55KSkge1xuICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGFjdGlvbih0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbi5pbmRleE9mKFwibWNvOi8vXCIpID09PSAwKSB7XG4gICAgICBjb25zdCBtY29OYW1lID0gYWN0aW9uLnN1YnN0cmluZyg2LCBhY3Rpb24uaW5kZXhPZihcIi5cIikpO1xuICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IGFjdGlvbi5zdWJzdHJpbmcoYWN0aW9uLmluZGV4T2YoXCIuXCIpICsgMSwgYWN0aW9uLmluZGV4T2YoXCIoXCIpKTtcbiAgICAgIGNvbnN0IGFyZyA9IGFjdGlvbi5zdWJzdHJpbmcoYWN0aW9uLmluZGV4T2YoXCIoXCIpICsgMSwgYWN0aW9uLmluZGV4T2YoXCIpXCIpKTtcblxuICAgICAgaWYgKGFyZyAhPSBudWxsICYmIGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG1jbyA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0TWNvQ29udGFpbmVyKCkuZ2V0TWNvKG1jb05hbWUpO1xuXG4gICAgICAgIGlmIChtY28gIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChhcmcgPT09IFwidGhpc1wiKSB7XG4gICAgICAgICAgICBtY29bbWV0aG9kTmFtZV0uYXBwbHkobWNvLCBbdGhpc10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtY29bbWV0aG9kTmFtZV0uYXBwbHkobWNvLCBbYXJnXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gZXhlY3V0ZSBNQ08gYWN0aW9uLCBtY28gbm90IGZvdW5kOiBcIiArIG1jb05hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtY28gPSB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldE1jb0NvbnRhaW5lcigpLmdldE1jbyhtY29OYW1lKTtcblxuICAgICAgICBpZiAobWNvICE9IG51bGwpIHtcbiAgICAgICAgICBtY29bbWV0aG9kTmFtZV0uYXBwbHkobWNvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGV4ZWN1dGUgTUNPIGFjdGlvbiwgbWNvIG5vdCBmb3VuZDogXCIgKyBtY29OYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBfbm90aWZ5SW50ZXJuYWxDaGFuZ2VDYigpIHtcbiAgICBpZiAodHlwZW9mIHRoaXMuX2ludGVybmFsQ2hhbmdlQ2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhpcy5faW50ZXJuYWxDaGFuZ2VDYih0aGlzKTtcbiAgICB9XG4gIH1cblxuICBlbXB0eUNoaWxkcmVuKCkge1xuICAgIGlmICh0aGlzLl92aWV3Q2hpbGRyZW5NYXAgIT0gbnVsbCkge1xuICAgICAgY29uc3QgY2l0ID0gdGhpcy5fdmlld0NoaWxkcmVuTWFwLnZhbHVlcygpO1xuICAgICAgbGV0IHZhbCA9IGNpdC5uZXh0KCk7XG5cbiAgICAgIHdoaWxlICh2YWwuZG9uZSAhPT0gdHJ1ZSkge1xuICAgICAgICAvL3NvbWUgY2hpbGRyZW4gYXJlIG5vdCBhY3R1YWwgQmFzZUNvbXBvbmVudFxuICAgICAgICBpZiAodHlwZW9mIHZhbC52YWx1ZS5lbXB0eUNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB2YWwudmFsdWUuZW1wdHlDaGlsZHJlbigpO1xuICAgICAgICAgIHZhbC52YWx1ZS5faXNEeWluZyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YWwgPSBjaXQubmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmNoaWxkcmVuICE9IG51bGwpIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4uY2xlYXIoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fdmlld0NoaWxkcmVuTWFwICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX3ZpZXdDaGlsZHJlbk1hcC5jbGVhcigpO1xuICAgICAgZGVsZXRlIHRoaXMuX3ZpZXdDaGlsZHJlbk1hcDtcbiAgICB9XG5cbiAgICAvLyB0aGlzLl92aWV3Q2hpbGRyZW5NYXAgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIGEgU2Nyb2xsUGFuZUNvbXBvbmVudFxuICAgKi9cbiAgaXNTY3JvbGxQYW5lKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIHRoZSBwcmV2aW91cyBjYXB0dXJlZFxuICAgKi9cbiAgcmVzZXRTY3JvbGxUb3BUb1ByZXZpb3VzUG9zaXRpb24oKSB7XG4gICAgLy9pbXBsZW1lbnQgYnkgc2Nyb2xscGFuZVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IGFsbCBzY3JvbGxwYW5lIHBvc1xuICAgKi9cbiAgcmVzZXRBbGxTY3JvbGxQYW5lc1Bvc2l0aW9uVG9QcmV2aW91cygpIHtcbiAgICBpZiAodGhpcy5zY3JvbGxQYW5lcyAhPSBudWxsKSB7XG4gICAgICB0aGlzLnNjcm9sbFBhbmVzLmZvckVhY2goKHNjcm9sbFBhbmUpID0+IHNjcm9sbFBhbmUucmVzZXRTY3JvbGxUb3BUb1ByZXZpb3VzUG9zaXRpb24oKSk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRTY3JvbGxUb3BQb3NpdGlvbigpIHtcbiAgfVxuICByZXNldEFsbFNjcm9sbFBhbmVzUG9zaXRpb25Ub1RvcCgpIHtcbiAgICBpZiAodGhpcy5zY3JvbGxQYW5lcyAhPSBudWxsKSB7XG4gICAgICB0aGlzLnNjcm9sbFBhbmVzLmZvckVhY2goKHNjcm9sbFBhbmUpID0+IHNjcm9sbFBhbmUucmVzZXRTY3JvbGxUb3BQb3NpdGlvbigpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTm90aWZ5IHBhcmVudCB2aWV3IHRoYXQgdGhlcmUgaXMgYSB2YWxpZGF0aW9uIGVycm9yIG9uIHRoaXMsIHRoaXMgc2hvdWxkIG9ubHkgYmUgYXBwbGljYWJsZWQgdG8gZGlzYWJsZWQgZWxlbWVudFxuICAgKi9cbiAgbm90aWZ5UGFyZW50T2ZFcnJvcigpIHtcbiAgICBpZiAodGhpcy5nZXREaXNhYmxlZCgpID09PSB0cnVlKSB7XG4gICAgICBjb25zdCBwYXJlbnRWaWV3ID0gdGhpcy5nZXRQYXJlbnRWaWV3KCk7XG5cbiAgICAgIGlmIChwYXJlbnRWaWV3ICE9IG51bGwgJiYgcGFyZW50Vmlld1tcImRpYWxvZ1wiXSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChwYXJlbnRWaWV3W1wiZGlhbG9nXCJdLl9kaXNhYmxlZEVycm9yRWxlbWVudElkID09IG51bGwpIHtcbiAgICAgICAgICBwYXJlbnRWaWV3W1wiZGlhbG9nXCJdLl9kaXNhYmxlZEVycm9yRWxlbWVudElkID0gW107XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyZW50Vmlld1tcImRpYWxvZ1wiXS5fZGlzYWJsZWRFcnJvckVsZW1lbnRJZC5pbmRleE9mKHRoaXMuZ2V0SWQoKSkgPCAwKSB7XG4gICAgICAgICAgcGFyZW50Vmlld1tcImRpYWxvZ1wiXS5fZGlzYWJsZWRFcnJvckVsZW1lbnRJZC5wdXNoKHRoaXMuZ2V0SWQoKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRm9jdXMgdGhlIHBhcmVudCB0YWJcbiAgICovXG4gIGZvY3VzUGFyZW50VGFiKCkge1xuICAgIC8vZ2V0IHBhcmVudCB2aWV3XG4gICAgY29uc3QgcGFyZW50VmlldyA9IHRoaXMuX2dldE5vbmVBY3RpdmVWaWV3UGFyZW50KCkgfHwgdGhpcy5nZXRQYXJlbnRWaWV3KCk7XG5cbiAgICBpZiAocGFyZW50VmlldyAhPSBudWxsKSB7XG4gICAgICAvL2NoZWNrIHRvIHNlZSBpZiB0aGlzIHZpZXcgaXMgaW4gYSBUYWJQYW5lXG4gICAgICBjb25zdCB0YWJQYW5lID0gcGFyZW50Vmlldy5nZXRQYXJlbnQoKTtcblxuICAgICAgLy9jaGVjayB0byBzZWUgaWYgdGhlIHBhcmVudCBpcyBhIFRhYlxuICAgICAgaWYgKHRhYlBhbmUgIT0gbnVsbCAmJiB0YWJQYW5lLmdldE54VGFnTmFtZSgpID09PSBcInRhYlwiKSB7XG4gICAgICAgIHRhYlBhbmUuc2V0Rm9jdXMoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXIgc2Nyb2xscGFuZVxuICAgKlxuICAgKiBAcGFyYW0gc2Nyb2xsUGFuZSBzY3JvbGxQYW5lIHRvIHJlZ2lzdGVyXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyU2Nyb2xsUGFuZShzY3JvbGxQYW5lOiBCYXNlQ29tcG9uZW50KSB7XG4gICAgaWYgKHR5cGVvZiBzY3JvbGxQYW5lLmlzU2Nyb2xsUGFuZSA9PT0gXCJmdW5jdGlvblwiICYmIHNjcm9sbFBhbmUuaXNTY3JvbGxQYW5lKCkgPT09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLnNjcm9sbFBhbmVzID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxQYW5lcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNjcm9sbFBhbmVzLnB1c2goc2Nyb2xsUGFuZSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IE1jb0NvbnRhaW5lclNlcnZpY2UgfSBmcm9tICcuL21jby1jb250YWluZXIuc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgTWNvQ29udGFpbmVyU2VydmljZVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIE1jb0NvbnRhaW5lck1vZHVsZSB7IH1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyU2VydmljZSB9IGZyb20gJy4vZXZlbnQtaGFuZGxlci5zZXJ2aWNlJztcbmltcG9ydCB7IE1jb0NvbnRhaW5lck1vZHVsZSB9IGZyb20gJy4uL21jby1jb250YWluZXIvbWNvLWNvbnRhaW5lci5tb2R1bGUnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIE1jb0NvbnRhaW5lck1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtdLFxuICBwcm92aWRlcnM6IFtcbiAgICBFdmVudEhhbmRsZXJTZXJ2aWNlXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgRXZlbnRIYW5kbGVyTW9kdWxlIHsgfVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJy4vc2Vzc2lvbi5zZXJ2aWNlJztcbmltcG9ydCB7IE1jb0NvbnRhaW5lck1vZHVsZSB9IGZyb20gJy4uL21jby1jb250YWluZXIvbWNvLWNvbnRhaW5lci5tb2R1bGUnO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyTW9kdWxlIH0gZnJvbSAnLi4vZXZlbnQtaGFuZGxlci9ldmVudC1oYW5kbGVyLm1vZHVsZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgTWNvQ29udGFpbmVyTW9kdWxlLFxuICAgIEV2ZW50SGFuZGxlck1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtdLFxuICBwcm92aWRlcnM6IFtcbiAgICBTZXNzaW9uU2VydmljZVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFNlc3Npb25Nb2R1bGUgeyB9XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIEphdmFNb2R1bGUgeyB9XG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIENvbnRlbnRDaGlsZCwgT25Jbml0LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIE91dHB1dCwgVmlld0NoaWxkLCBmb3J3YXJkUmVmLCBWaWV3Q29udGFpbmVyUmVmLCBOZ1pvbmUsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPbkNyZWF0ZUV2ZW50IH0gZnJvbSAnLi9vbi1jcmVhdGUtZXZlbnQnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbdnRPbkNyZWF0ZV0nXG59KVxuZXhwb3J0IGNsYXNzIE9uQ3JlYXRlRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgcnVuT3V0c2lkZVpvbmU6IGJvb2xlYW47XG4gIEBPdXRwdXQoKSB2dE9uQ3JlYXRlOiBFdmVudEVtaXR0ZXI8T25DcmVhdGVFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPE9uQ3JlYXRlRXZlbnQ+KCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmPEhUTUxFbGVtZW50PixcbiAgICBwcml2YXRlIHpvbmU6IE5nWm9uZVxuICApIHtcblxuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKHRoaXMucnVuT3V0c2lkZVpvbmUgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e1xuICAgICAgICB0aGlzLnZ0T25DcmVhdGUuZW1pdCh7XG4gICAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50UmVmXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudnRPbkNyZWF0ZS5lbWl0KHtcbiAgICAgICAgZWxlbWVudDogdGhpcy5lbGVtZW50UmVmXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4vYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgU2Vzc2lvbk1vZHVsZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbi5tb2R1bGUnO1xuaW1wb3J0IHsgSmF2YU1vZHVsZSB9IGZyb20gJy4uL2phdmEvamF2YS5tb2R1bGUnO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyTW9kdWxlIH0gZnJvbSAnLi4vZXZlbnQtaGFuZGxlci9ldmVudC1oYW5kbGVyLm1vZHVsZSc7XG5pbXBvcnQgeyBPbkNyZWF0ZURpcmVjdGl2ZSB9IGZyb20gJy4vb24tY3JlYXRlLmRpcmVjdGl2ZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgU2Vzc2lvbk1vZHVsZSxcbiAgICBKYXZhTW9kdWxlLFxuICAgIEV2ZW50SGFuZGxlck1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtCYXNlQ29tcG9uZW50LCBPbkNyZWF0ZURpcmVjdGl2ZV0sXG4gIGV4cG9ydHM6IFtCYXNlQ29tcG9uZW50LCBPbkNyZWF0ZURpcmVjdGl2ZV1cbn0pXG5leHBvcnQgY2xhc3MgQmFzZU1vZHVsZSB7IH1cbiIsImV4cG9ydCBlbnVtIENvbXBvbmVudFR5cGUge1xuICBMQUJFTCxcbiAgQlVUVE9OLFxuICBURVhUX0ZJRUxELFxuICBDT01CT0JPWCxcbiAgQ0hFQ0tCT1gsXG4gIFJBRElPLFxuICBURVhUQVJFQVxufVxuIiwiaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIEVsZW1lbnRSZWYsIFNraXBTZWxmLCBPcHRpb25hbCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIFJlbmRlcmVyMiwgZm9yd2FyZFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2Vzc2lvbi9zZXNzaW9uLnNlcnZpY2UnO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmltcG9ydCB7IEFwcFV0aWxzIH0gZnJvbSAnLi4vYmFzZS9hcHAtdXRpbHMnO1xuXG4vKipcbiAqIEJ1dHRvbiBjb21wb25lbnQgY2xhc3MuIEluaGVyaXRzIGZyb20gW1tCYXNlQ29tcG9uZW50XV1cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndnQtYnV0dG9uJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2J1dHRvbi5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2J1dHRvbi5jb21wb25lbnQuY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlQ29tcG9uZW50LFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCk9PkJ1dHRvbkNvbXBvbmVudClcbiAgICB9XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgQnV0dG9uQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIGZvY3VzZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXHRAT3V0cHV0KCkgb25Db21tYW5kID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHBhcmVudDogQmFzZUNvbXBvbmVudCwgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlLCBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwcml2YXRlIGNkOiBDaGFuZ2VEZXRlY3RvclJlZiwgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuICAgIHN1cGVyKHBhcmVudCwgc2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWYsIHJlbmRlcmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0IGxpZmVjeWNsZS4gTXVzdCBjYWxsIHBhcmVudCBuZ09uSW5pdFxuICAgKi9cbiAgbmdPbkluaXQoKSB7XG4gICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgIGlmKHRoaXMubWFyZ2luVG9wICE9IG51bGwpe1xuICAgICAgdGhpcy5tYXJnaW5Ub3AgPSB0aGlzLm1hcmdpblRvcCArICdweCc7XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXJnaW5SaWdodCAhPSBudWxsKXtcbiAgICAgIHRoaXMubWFyZ2luUmlnaHQgPSB0aGlzLm1hcmdpblJpZ2h0ICsgJ3B4JztcbiAgICB9XG5cbiAgICBpZih0aGlzLm1hcmdpbkxlZnQgIT0gbnVsbCl7XG4gICAgICB0aGlzLm1hcmdpbkxlZnQgPSB0aGlzLm1hcmdpbkxlZnQgKyAncHgnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZnRlciB2aWV3IGluaXQgbGlmZWN5Y2xlLiBNdXN0IGNhbGwgcGFyZW50IG5nQWZ0ZXJWaWV3SW5pdFxuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuXG4gICAgdGhpcy5pbml0V2lkdGhIZWlnaHRTdHlsZShcImhlaWdodFwiLCBcIndpZHRoXCIpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlRnJvbURlZigpO1xuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNsaWNrIGV2ZW50XG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAZXZlbnQgT25Db21tYW5kXG4gICAqL1xuXHRvbkNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG5cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIC8vcmVnaXN0ZXIgY2xpZW50IGV2ZW50IGZvciBtY29cbiAgICB0aGlzLmhhbmRsZUNsaWNrKGV2ZW50KTtcblxuICAgIHRoaXMub25Db21tYW5kLmVtaXQoKTtcblxuICAgIC8vaXQgbG9va3MgbGlrZSB5b3UgY2FuIGNoYW5nZSBvbkNvbW1hbmQgYmluZGluZyBhdCBydW50aW1lIGFuZCBzaW5jZSB3ZSBhcmUgY29kZVxuICAgIC8vd2UgYWRkIGFub3RoZXIgZm4gdG8gZG8gaXQgKHdlIG1heSByZW1vdmVkIHRoaXMgbGF0ZXIgb25jZSB3ZSBoYXZlIGEgYmV0dGVyIG9mIHVzYWdlKVxuICAgIHRoaXMuZW1pdEludGVybmFsT25Db21tYW5kKCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgbW91c2Vkb3duIGV2ZW50XG4gICAqIEBwYXJhbSBlXG4gICAqL1xuICBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgbGV0IGN1cnJlbnRUYXJnZXQ6IHN0cmluZyA9IGUuY3VycmVudFRhcmdldFsnaWQnXTtcbiAgICBpZiAoY3VycmVudFRhcmdldCAhPSBudWxsICYmIGN1cnJlbnRUYXJnZXQuaW5kZXhPZihcIkJ0bkNsb3NlXCIpID4gMCkge1xuICAgICAgQXBwVXRpbHMuaXNDbG9zZUJ0biA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIEFwcFV0aWxzLmlzQ2xvc2VCdG4gPSBmYWxzZTtcbiAgICB9XG4gICAgdGhpcy5oYW5kbGVNb3VzZURvd24oZSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBoYW5kbGVPbkJsdXIoKSB7XG4gICAgQXBwVXRpbHMuaXNDbG9zZUJ0biA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjaGFuZ2UgZGV0ZWN0b3IgcmVmZXJlbmNlIGZvciB0aGUgYnV0dG9uIGluc3RhbmNlXG4gICAqIEByZXR1cm5zIFtbY2RdXSBwcm9wZXJ0eSAoQ2hhbmdlIGRldGVjdG9yKVxuICAgKi9cbiAgcHJvdGVjdGVkIGdldENoYW5nZURldGVjdG9yKCk6IENoYW5nZURldGVjdG9yUmVmIHtcbiAgICByZXR1cm4gdGhpcy5jZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgTmV4YXdlYiB0YWcgbmFtZVxuICAgKiBAcmV0dXJucyBTdHJpbmdcbiAgICovXG4gIHByb3RlY3RlZCBnZXROeFRhZ05hbWUoKSB7XG4gICAgcmV0dXJuIFwiYnV0dG9uXCI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGJ1dHRvbiBjb21wb25lbnRcbiAgICogQHJldHVybnMgSnNvbiBvYmplY3RcbiAgICovXG4gIHRvSnNvbigpOiB7fSB7XG4gICAgY29uc3QganNvbjogYW55ID0gc3VwZXIudG9Kc29uKCk7XG4gICAgdGhpcy5zZXRKc29uKGpzb24sIFwiZm9jdXNlZFwiLCB0aGlzLmZvY3VzZWQpO1xuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBCdXR0b25Db21wb25lbnQgfSBmcm9tICcuL2J1dHRvbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgQmFzZU1vZHVsZSB9IGZyb20gJy4uL2Jhc2UvYmFzZS5tb2R1bGUnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIEJhc2VNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbQnV0dG9uQ29tcG9uZW50XSxcbiAgZXhwb3J0czogW0J1dHRvbkNvbXBvbmVudF0sXG4gIGVudHJ5Q29tcG9uZW50czogW1xuICAgIEJ1dHRvbkNvbXBvbmVudFxuICBdXG59KVxuZXhwb3J0IGNsYXNzIEJ1dHRvbk1vZHVsZSB7IH1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgRWxlbWVudFJlZiwgSW5wdXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBPcHRpb25hbCwgU2tpcFNlbGYsIENoYW5nZURldGVjdG9yUmVmLCBSZW5kZXJlcjIsIGZvcndhcmRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2Vzc2lvbi9zZXNzaW9uLnNlcnZpY2UnO1xuXG4vKipcbiAqIENoZWNrIGJveCBjb21wb25lbnQgY2xhc3NcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndnQtY2hlY2stYm94JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2NoZWNrYm94LmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vY2hlY2tib3guY29tcG9uZW50LmNzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogQmFzZUNvbXBvbmVudCxcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpPT5DaGVja2JveENvbXBvbmVudClcbiAgICB9XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgQ2hlY2tib3hDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgdmFsdWU6IGFueTtcbiAgQElucHV0KCkgY2hlY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAvL2FsaWFzIGZvciBjaGVja2VkXG4gIEBJbnB1dCgpIHNldCBpc0NoZWNrZWQoYm9vOiBib29sZWFuKSB7XG4gICAgdGhpcy5jaGVja2VkID0gYm9vO1xuICB9XG5cbiAgZ2V0IGlzQ2hlY2tlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jaGVja2VkO1xuICB9XG5cbiAgQE91dHB1dCgpIG9uQ29tbWFuZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gIEBPdXRwdXQoKSBvblN0YXRlQ2hhbmdlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgXG4gIEBPdXRwdXQoKSBvblNlbGVjdDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LCBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLCByZW5kZXJlcjogUmVuZGVyZXIyKSB7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXQgbGlmZWN5Y2xlLiBNdXN0IGNhbGwgcGFyZW50IGNsYXNzIG5nT25Jbml0XG4gICAqL1xuICBuZ09uSW5pdCgpIHtcbiAgICBzdXBlci5uZ09uSW5pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFmdGVyIHZpZXcgaW5pdCBsaWZlY3ljbGUuIE11c3QgY2FsbCBwYXJlbnQgY2xhc3MgbmdBZnRlclZpZXdJbml0XG4gICAqL1xuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgc3VwZXIubmdBZnRlclZpZXdJbml0KCk7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVGcm9tRGVmKCk7XG4gICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgZXZlbnRcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBldmVudCBPbkNvbW1hbmRcbiAgICovXG4gIG9uQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAvL2NvbnN1bWUgdGhlIGV2ZW50LCBkbyBub3QgcHJvcGFnYXRlIGFueSBmdXJ0aGVyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgXG4gICAgdGhpcy5oYW5kbGVDbGljayhldmVudCk7XG4gICAgdGhpcy5vbkNvbW1hbmQuZW1pdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlZG93biBldmVudFxuICAgKiBAcGFyYW0gZXZlbnQgXG4gICAqL1xuICBvbk1vdXNlRG93bihldmVudDogTW91c2VFdmVudCkge1xuICAgIC8vY29uc3VtZSB0aGUgZXZlbnQsIGRvIG5vdCBwcm9wYWdhdGUgYW55IGZ1cnRoZXJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIHRoaXMuaGFuZGxlTW91c2VEb3duKGV2ZW50KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBzdGF0ZSBjaGFuZ2UgKGNoZWNrL3VuY2hlY2spXG4gICAqIEBldmVudCBPblN0YXRlQ2hhbmdlXG4gICAqIEBldmVudCBPblNlbGVjdCBJZiB0aGUgY2hlY2tib3ggaXMgc2V0IHRvIHNlbGVjdGVkIHN0YXRlXG4gICAqL1xuICBoYW5kbGVTdGF0ZUNoYW5nZSgpIHtcbiAgICB0aGlzLm9uU3RhdGVDaGFuZ2UuZW1pdCgpO1xuXG4gICAgaWYgKHRoaXMuY2hlY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5vblNlbGVjdC5lbWl0KCk7XG4gICAgfVxuXG4gICAgLy9ub3RpZnkgaW50ZXJuYWwgY2hhbmdlcyAoZm9yIGludGVybmFsIHVzZSBvbmx5KVxuICAgIHRoaXMuX25vdGlmeUludGVybmFsQ2hhbmdlQ2IoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgY29tcG9uZW50IG5hbWVcbiAgICogQHJldHVybnMgTmFtZSBvZiBjb21wb25lbnRcbiAgICovXG4gIGdldExvY2FsTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcImNoZWNrQm94XCI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbY2hlY2tlZF1dIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIFZhbHVlIG9mIFtbY2hlY2tlZF1dXG4gICAqL1xuICBnZXRDaGVja2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNoZWNrZWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbY2hlY2tlZF1dIHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSBzaG91bGRDaGVja2VkIFZhbHVlIHNob3VsZCBiZSB0cnVlL2ZhbHNlIG9yIFwidHJ1ZVwiL1wiZmFsc2VcIiB0byBzZXQgW1tjaGVja2VkXV1cbiAgICovXG4gIHNldENoZWNrZWQoc2hvdWxkQ2hlY2tlZDogYm9vbGVhbiB8IHN0cmluZywgc2tpcEludGVybmFsQ2hhbmdlOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICB0aGlzLmNoZWNrZWQgPSBzaG91bGRDaGVja2VkID09PSB0cnVlIHx8IHNob3VsZENoZWNrZWQgPT09ICd0cnVlJztcblxuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG5cbiAgICAvL25vdGlmeSBpbnRlcm5hbCBjaGFuZ2VzIChmb3IgaW50ZXJuYWwgdXNlIG9ubHkpXG4gICAgaWYgKHNraXBJbnRlcm5hbENoYW5nZSAhPT0gdHJ1ZSkge1xuICAgICAgdGhpcy5fbm90aWZ5SW50ZXJuYWxDaGFuZ2VDYigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlhcyBmb3IgW1tzZXRDaGVja2VkXV0gbWV0aG9kXG4gICAqIEBwYXJhbSBib28gVG9nZ2xlIFtbY2hlY2tlZF1dXG4gICAqL1xuICBzZXRTZWxlY3RlZChib286IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICB0aGlzLnNldENoZWNrZWQoYm9vKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgW1t2YWx1ZV1dIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIFZhbHVlIG9mIFtbdmFsdWVdXVxuICAgKi9cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEpTT04gcmVwcmVzZW50YXRpb24gb2YgY29tcG9uZW50IHN0YXRlXG4gICAqIEByZXR1cm5zIE9iamVjdCBKc29uIG9iamVjdFxuICAgKi9cbiAgdG9Kc29uKCkge1xuICAgIGNvbnN0IGpzb24gPSBzdXBlci50b0pzb24oKTtcblxuICAgIGlmICh0aGlzLmdldENoZWNrZWQoKSA9PT0gdHJ1ZSkge1xuICAgICAganNvbltcInNlbGVjdGVkXCJdID0gXCJ0cnVlXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGpzb25bXCJzZWxlY3RlZFwiXSA9IFwiZmFsc2VcIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy52YWx1ZSAhPSBudWxsKSB7XG4gICAgICBqc29uW1widmFsdWVcIl0gPSB0aGlzLnZhbHVlICsgJyc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICAvKipcbiAgICogR2V0IE5leGF3ZWIgdGFnIG5hbWVcbiAgICogQHJldHVybnMgU3RyaW5nIFRhZyBuYW1lXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0TnhUYWdOYW1lKCkge1xuICAgIHJldHVybiBcImNoZWNrQm94XCI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbY2RdXSAoQ2hhbmdlIGRldGVjdG9yKSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBUaGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yIHJlZmVyZW5jZVxuICAgKi9cbiAgcHJvdGVjdGVkIGdldENoYW5nZURldGVjdG9yKCk6IENoYW5nZURldGVjdG9yUmVmIHtcbiAgICByZXR1cm4gdGhpcy5jZDtcbiAgfVxuICAgIC8qKlxuICAgKiBTZXQgYmFja2dyb3VuZC1jb2xvclxuICAgKiBAcGFyYW0gU3RyaW5nIGJhY2tncm91bmQgY29sb3JcbiAgICovXG4gIHNldEJnQ29sb3IoY29sb3I6c3RyaW5nKXtcbiAgICB0aGlzWydlbGVtZW50UmVmJ10ubmF0aXZlRWxlbWVudC5jaGlsZHJlblswXVsnc3R5bGUnXVsnYmFja2dyb3VuZC1jb2xvciddID0gY29sb3I7XG4gIH1cbiAgZ2V0QmdDb2xvcigpe1xuICAgcmV0dXJuICB0aGlzWydlbGVtZW50UmVmJ10ubmF0aXZlRWxlbWVudC5jaGlsZHJlblswXVsnc3R5bGUnXVsnYmFja2dyb3VuZC1jb2xvciddO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IENoZWNrYm94Q29tcG9uZW50IH0gZnJvbSAnLi9jaGVja2JveC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbQ2hlY2tib3hDb21wb25lbnRdLFxuICBleHBvcnRzOiBbXG4gICAgQ2hlY2tib3hDb21wb25lbnQsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgXSxcbiAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgQ2hlY2tib3hDb21wb25lbnRcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBDaGVja2JveE1vZHVsZSB7IH1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAndnQtbGlzdC1pdGVtJ1xufSlcbmV4cG9ydCBjbGFzcyBMaXN0SXRlbURpcmVjdGl2ZSB7XG4gIEBJbnB1dCgpIHZhbHVlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHRleHQ6IHN0cmluZztcbiAgQElucHV0KCkgc2VsZWN0ZWQ6IGJvb2xlYW4gfCBzdHJpbmc7XG4gIEBJbnB1dCgpIGlzQ2hlY2tlZDogYm9vbGVhbiB8IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG59XG4iLCJpbXBvcnQgeyBDb250ZW50Q2hpbGRyZW4sIERpcmVjdGl2ZSwgUXVlcnlMaXN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMaXN0SXRlbURpcmVjdGl2ZSB9IGZyb20gJy4vbGlzdC1pdGVtLmRpcmVjdGl2ZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ3Z0LWxpc3QtYm94J1xufSlcbmV4cG9ydCBjbGFzcyBMaXN0Qm94RGlyZWN0aXZlIHtcbiAgQENvbnRlbnRDaGlsZHJlbihMaXN0SXRlbURpcmVjdGl2ZSlcbiAgbGlzdEl0ZW1zOiBRdWVyeUxpc3Q8TGlzdEl0ZW1EaXJlY3RpdmU+O1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbn1cbiIsImltcG9ydCB7IENvbWJvQm94Q29tcG9uZW50IH0gZnJvbSBcIi4vY29tYm8tYm94LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgVmFsdWVQYWlyIH0gZnJvbSBcIi4vdmFsdWUtcGFpclwiO1xuaW1wb3J0IHsgQXR0cmlidXRlc0VudW0gfSBmcm9tIFwiLi4vYmFzZS9hdHRyaWJ1dGVzLmVudW1cIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjbGFzcyBGYXV4Q29tYm9FbGVtZW50IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgTE9DQUxfTkFNRTogc3RyaW5nID0gXCJsaXN0SXRlbVwiO1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29tYm9Cb3g6IENvbWJvQm94Q29tcG9uZW50LCBwcml2YXRlIHZhbHVlUGFpcjogVmFsdWVQYWlyKSB7XG5cbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHNldEF0dHJpYnV0ZShuYW1lOiBhbnksIHZhbHVlOiBhbnkpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IEF0dHJpYnV0ZXNFbnVtLlNFTEVDVEVEIHx8IG5hbWUgPT09IFwic2VsZWN0ZWRcIikge1xuICAgICAgICAgICAgaWYgKHZhbHVlID09IHRydWUgfHwgdmFsdWUgPT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbWJvQm94LnNldFNlbGVjdEl0ZW0odGhpcy52YWx1ZVBhaXIsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbWJvQm94LnNldFNlbGVjdEl0ZW0obnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmFsdWVQYWlyLnNlbGVjdGVkID0gdmFsdWUgPT0gdHJ1ZSB8fCB2YWx1ZSA9PSBcInRydWVcIjtcblxuICAgICAgICAgICAgdGhpcy5jb21ib0JveC5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gQXR0cmlidXRlc0VudW0uVklTSUJMRSB8fCBuYW1lID09PSBcInZpc2libGVcIikge1xuICAgICAgICAgICAgdGhpcy52YWx1ZVBhaXIudmlzaWJsZSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKG5hbWUgPT09IEF0dHJpYnV0ZXNFbnVtLlRFWFQgfHwgbmFtZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVQYWlyLnRleHQgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBBdHRyaWJ1dGVzRW51bS5WQUxVRSB8fCBuYW1lID09PSBcInZhbHVlXCIpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWVQYWlyLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRmF1eENvbWJvRWxlbWVudDogVW5rbm93biBhdHRyaWJ1dGU6IFwiICsgbmFtZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRMb2NhbE5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIEZhdXhDb21ib0VsZW1lbnQuTE9DQUxfTkFNRTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGdldEF0dHJpYnV0ZShuYW1lOiBhbnkpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IFwidmFsdWVcIiB8fCBuYW1lID09PSBBdHRyaWJ1dGVzRW51bS5WQUxVRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVQYWlyLnZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hbWUgPT09IFwidGV4dFwiIHx8IG5hbWUgPT09IEF0dHJpYnV0ZXNFbnVtLlRFWFQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlUGFpci50ZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5hbWUgPT09IFwic2VsZWN0ZWRcIiB8fCBuYW1lID09PSBBdHRyaWJ1dGVzRW51bS5TRUxFQ1RFRCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVQYWlyLnNlbGVjdGVkID09IHRydWUgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZ2V0VGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwidGV4dFwiKTtcbiAgICB9XG5cbiAgICBpc1NlbGVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKTtcbiAgICB9XG5cbiAgICBzZXRDaGVja2VkKGJvbzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInNlbGVjdGVkXCIsIGJvbyk7XG4gICAgfVxufSIsImltcG9ydCB7IENvbXBvbmVudCwgQ29udGVudENoaWxkLCBPbkluaXQsIEVsZW1lbnRSZWYsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBTa2lwU2VsZiwgT3B0aW9uYWwsIENoYW5nZURldGVjdG9yUmVmLCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgUmVuZGVyZXIyLCBJbnB1dCwgVmlld0VuY2Fwc3VsYXRpb24sIFZpZXdDaGlsZCwgZm9yd2FyZFJlZiwgTmdab25lIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZSc7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuaW1wb3J0IHsgTGlzdEJveERpcmVjdGl2ZSB9IGZyb20gJy4vbGlzdC1ib3guZGlyZWN0aXZlJztcbmltcG9ydCB7IFZhbHVlUGFpciB9IGZyb20gJy4vdmFsdWUtcGFpcic7XG5cbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4uL2phdmEvdmVjdG9yJztcbmltcG9ydCB7IEZhdXhDb21ib0VsZW1lbnQgfSBmcm9tICcuL2ZhdXgtY29tYm8tZWxlbWVudCc7XG5pbXBvcnQgeyBWaWV3Q29tcG9uZW50IH0gZnJvbSAnLi4vdmlldy92aWV3LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBCc0Ryb3Bkb3duRGlyZWN0aXZlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcCc7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5kZWNsYXJlIHZhciAkOiBhbnk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4vKipcbiAqIENsYXNzIGZvciBjb21ibyBib3ggY29tcG9uZW50XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Z0LWNvbWJvLWJveCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb21iby1ib3guY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9jb21iby1ib3guY29tcG9uZW50LmNzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogQmFzZUNvbXBvbmVudCxcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpID0+IENvbWJvQm94Q29tcG9uZW50KVxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBDb21ib0JveENvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBAT3V0cHV0KCkgb25Db21tYW5kID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBDb250ZW50Q2hpbGQoTGlzdEJveERpcmVjdGl2ZSlcbiAgbGlzdEJveDogTGlzdEJveERpcmVjdGl2ZTtcbiAgQFZpZXdDaGlsZCgnaW5wdXQnKSBpbnB1dEVsZW1lbnQ6IEVsZW1lbnRSZWY7XG5cbiAgQFZpZXdDaGlsZChcImRyb3Bkb3duXCIsIHsgcmVhZDogQnNEcm9wZG93bkRpcmVjdGl2ZSB9KSBkcm9wZG93bjogQnNEcm9wZG93bkRpcmVjdGl2ZTtcblxuICBob3ZlcmVkSXRlbTogbnVtYmVyO1xuXG4gIGhvdmVyZWRTdHlsZSA9IHtcbiAgICAnY29sb3InOiAnIzAwMDBjZCcsXG4gICAgJ2JhY2tncm91bmQtY29sb3InOiAnI2ZmOWMwMCdcbiAgfTtcblxuICBkZWZhdWx0U3R5bGUgPSB7XG4gICAgJ2NvbG9yJzogJyMzMzMzMzMnLFxuICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogJyNmZmZmZmYnXG4gIH07XG5cbiAgZHJvcGRvd25FbGVtZW50SWQgPSBgZHJvcGRvd24tJHt0aGlzLmlkfWA7XG5cbiAgQElucHV0KCkgc2V0IGxpc3RJdGVtcyhpdGVtczogQXJyYXk8VmFsdWVQYWlyPikge1xuICAgIHRoaXMuX2xpc3RJdGVtcyA9IGl0ZW1zO1xuXG4gICAgaWYgKHRoaXMuX2xpc3RJdGVtcyAhPSBudWxsKSB7XG4gICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSBfLmZpbmQodGhpcy5fbGlzdEl0ZW1zLCAoaXRlbTogVmFsdWVQYWlyKSA9PiBpdGVtLnNlbGVjdGVkID09PSB0cnVlKTtcblxuICAgICAgaWYgKHNlbGVjdGVkSXRlbSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0SXRlbShzZWxlY3RlZEl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpc0Ryb3B1cCA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBBY2Nlc3NvciBtZXRob2QgZm9yIFtbX2xpc3RJdGVtc11dIHByb3BlcnR5XG4gICAqL1xuICBnZXQgbGlzdEl0ZW1zKCkge1xuICAgIHJldHVybiB0aGlzLl9saXN0SXRlbXM7XG4gIH1cblxuICBwcml2YXRlIF9saXN0SXRlbXM6IEFycmF5PFZhbHVlUGFpcj47XG4gIHByaXZhdGUgaXNEcm9wZG93bk9wZW4gPSBmYWxzZTtcbiAgc2VsZWN0ZWRJdGVtOiBWYWx1ZVBhaXI7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGRyb3Bkb3duTWVudVN0eWxlOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge307XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGhhc0lucHV0Rm9jdXM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAvKipcbiAgICogQWNjZXNzb3IgbWV0aG9kIGZvciBbW3NlbGVjdGVkSXRlbS50ZXh0XV0gcHJvcGVydHlcbiAgICovXG4gIGdldCBzZWxlY3RlZEl0ZW1UZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtID8gdGhpcy5zZWxlY3RlZEl0ZW0udGV4dCA6ICcnO1xuICB9XG5cbiAgcHJpdmF0ZSBwYXJlbnRTY3JvbGxIYW5sZGVyOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHBhcmVudFNjcm9sbGVyOiBIVE1MRWxlbWVudDtcblxuLy8gVjNSMS1VVC1OU0QtNjQzIMOkwr/CrsOmwq3CoyBTVEFSVFxuICBwcml2YXRlIGlzRmlyc3RLZXlEb3duOiBib29sZWFuID0gdHJ1ZTtcbi8vIFYzUjEtVVQtTlNELTY0MyDDpMK/wq7DpsKtwqMgRU5EXG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBwYXJlbnQgc2VlIFtbQmFzZUNvbXBvbmVudF1dXG4gICAqIEBwYXJhbSBzZXNzaW9uU2VydmljZSBzZWUgW1tCYXNlQ29tcG9uZW50XV1cbiAgICogQHBhcmFtIGVsZW1lbnRSZWYgc2VlIFtbQmFzZUNvbXBvbmVudF1dXG4gICAqIEBwYXJhbSBjZCBDaGFuZ2VEZXRlY3RvciByZWZlcmVuY2UgcHJvdmlkZWQgYnkgQW5ndWxhciB0byBjb250cm9sIGNoYW5nZSBkZXRlY3Rpb25cbiAgICogQHBhcmFtIHJlbmRlcmVyIHNlZSBbW0Jhc2VDb21wb25lbnRdXVxuICAgKi9cbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LCBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLCByZW5kZXJlcjogUmVuZGVyZXIyLCBwcml2YXRlIG5nWm9uZTogTmdab25lKSB7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuXG4gICAgdGhpcy5wYXJlbnRTY3JvbGxIYW5sZGVyID0gKCkgPT4ge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmICh0aGlzLmRyb3Bkb3duICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5kcm9wZG93bi5oaWRlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGlmICh0aGlzLnBhcmVudFNjcm9sbEhhbmxkZXIgIT0gbnVsbCAmJiB0aGlzLnBhcmVudFNjcm9sbGVyICE9IG51bGwpIHtcbiAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgdGhpcy5wYXJlbnRTY3JvbGxlci5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMucGFyZW50U2Nyb2xsSGFubGRlcik7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnBhcmVudFNjcm9sbEhhbmxkZXIgPSBudWxsO1xuICAgIHRoaXMucGFyZW50U2Nyb2xsZXIgPSBudWxsO1xuICAgIGlmKHRoaXMuZHJvcGRvd24gJiYgdGhpcy5kcm9wZG93bi5pc09wZW4pIHtcbiAgICAgIHRoaXMuZHJvcGRvd24uaGlkZSgpO1xuICAgIH1cbiAgICB0aGlzLmRyb3Bkb3duID0gbnVsbDtcblxuICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBjb21wb25lbnQgYW5kIHNldCBjc3Mgc3R5ZSBhdHRyaWJ1dGUgZm9yIGRyb3Bkb3duIGVsZW1lbnRcbiAgICovXG4gIG5nT25Jbml0KCkge1xuICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICB0aGlzLmRyb3Bkb3duRWxlbWVudElkID0gYGRyb3Bkb3duLSR7dGhpcy5pZH1gO1xuXG4gICAgLy8gRW5zdXJlIGNvbnRyb2xXaWR0aCBpcyBleGlzdHMgYW5kIGlzIGEgbnVtYmVyXG4gICAgaWYgKHBhcnNlSW50KHRoaXMuY29udHJvbFdpZHRoLCAxMCkpIHtcbiAgICAgIHRoaXMuZHJvcGRvd25NZW51U3R5bGVbJ21pbi13aWR0aCddID0gdGhpcy5jb250cm9sV2lkdGggKyAncHggIWltcG9ydGFudCc7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuYWxpZ25Ib3Jpem9udGFsKSB7XG4gICAgICB0aGlzLmFsaWduSG9yaXpvbnRhbCA9IHRoaXMuYWxpZ25Ib3Jpem9udGFsO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0IHVwIGxpc3QgaXRlbXMgYW5kIHNldCB2YWx1ZS90ZXh0IG9uIHRoZW0uIFNldHMgc2VsZWN0ZWQgaXRlbVxuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuXG4gICAgaWYgKHRoaXMubGlzdEJveCAhPSBudWxsICYmIHRoaXMubGlzdEJveC5saXN0SXRlbXMgIT0gbnVsbCkge1xuICAgICAgdGhpcy5fbGlzdEl0ZW1zID0gW107XG5cbiAgICAgIHRoaXMubGlzdEJveC5saXN0SXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBsZXQgdGV4dCA9IGl0ZW0udGV4dCB8fCAnJyxcbiAgICAgICAgICB2YWx1ZSA9IGl0ZW0udmFsdWUgfHwgJyc7XG4gICAgICAgIHRoaXMuX2xpc3RJdGVtcy5wdXNoKHtcbiAgICAgICAgICB0ZXh0OiB0ZXh0ID8gdGV4dCA6IHZhbHVlLFxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSA/IHZhbHVlIDogdGV4dCxcbiAgICAgICAgICBzZWxlY3RlZDogaXRlbS5zZWxlY3RlZCA9PT0gdHJ1ZSB8fCBpdGVtLnNlbGVjdGVkID09PSBcInRydWVcIiB8fCBpdGVtLmlzQ2hlY2tlZCA9PT0gdHJ1ZSB8fCBpdGVtLmlzQ2hlY2tlZCA9PT0gXCJ0cnVlXCJcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy9zZWxlY3RkIGZpcnN0IGl0ZW0gdGhhdCBpcyBzZWxlY3RlZFxuICAgICAgY29uc3Qgc2VsZWN0ZWRJdGVtID0gXy5maW5kKHRoaXMuX2xpc3RJdGVtcywgKGl0ZW06IFZhbHVlUGFpcikgPT4gaXRlbS5zZWxlY3RlZCA9PT0gdHJ1ZSk7XG5cbiAgICAgIGlmIChzZWxlY3RlZEl0ZW0gIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdEl0ZW0oc2VsZWN0ZWRJdGVtKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmxvYWREYXRhRnJvbURlZigpO1xuXG4gICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICB0aGlzLnN1YnNjcmliZVRvUGFyZW50U2Nyb2xsZXIoKTtcblxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgY29tYm9ib3ggbGlzdCB1c2luZyBhcnJheSBvZiB2YWx1ZXNcbiAgICogQHBhcmFtIHZhbHVlcyBBcnJheSBvZiBbW1ZhbHVlUGFpcnNdXSB0byBzZXQgY29tYm9ib3ggb3B0aW9ucy5cbiAgICovXG4gIGluaXRpYWxpemVDb21ib2JveFZhbHVlcyh2YWx1ZXM6IEFycmF5PFZhbHVlUGFpcj4pIHtcbiAgICBpZiAodmFsdWVzICE9IG51bGwpIHtcbiAgICAgIHRoaXMuX2xpc3RJdGVtcyA9IF8ubWFwKHZhbHVlcywgKGl0ZW0pID0+IHtcbiAgICAgICAgaXRlbS50ZXh0ID0gaXRlbS50ZXh0IHx8ICcnO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGV4dDogaXRlbS50ZXh0LFxuICAgICAgICAgIHZhbHVlOiBpdGVtLnZhbHVlLFxuICAgICAgICAgIHNlbGVjdGVkOiBpdGVtLnNlbGVjdGVkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvL3NlbGVjdGQgZmlyc3QgaXRlbSB0aGF0IGlzIHNlbGVjdGVkXG4gICAgICBjb25zdCBzZWxlY3RlZEl0ZW0gPSBfLmZpbmQodGhpcy5fbGlzdEl0ZW1zLCAoaXRlbTogVmFsdWVQYWlyKSA9PiBpdGVtLnNlbGVjdGVkID09PSB0cnVlKTtcblxuICAgICAgaWYgKHNlbGVjdGVkSXRlbSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0SXRlbShzZWxlY3RlZEl0ZW0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0SXRlbSh0aGlzLl9saXN0SXRlbXNbMF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saXN0SXRlbXMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvY3VzZXMgYW5kIHNlbGVjdHMgaXRlbSB0aGF0IGlzIGNsaWNrZWRcbiAgICogQHBhcmFtIGl0ZW0gSXRlbSB0byBmb2N1cyBhbmQgc2VsZWN0XG4gICAqIEBwYXJhbSBldmVudCBNb3VzZSBjbGljayBldmVudCBvbiBpdGVtXG4gICAqIEBldmVudCBvbkNvbW1hbmRcbiAgICovXG4gIHNlbGVjdEl0ZW0oaXRlbTogVmFsdWVQYWlyLCBldmVudDogTW91c2VFdmVudCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB0aGlzLnNldFNlbGVjdEl0ZW0oaXRlbSk7XG4gICAgaWYgKHRoaXMuZW1pdEludGVybmFsT25Db21tYW5kKCkgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLm9uQ29tbWFuZC5lbWl0KCk7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFNldHMgc2VsZWN0ZWQgaXRlbSB0aGF0IG1hdGNoZXMgaXRlbSBbW1ZhbHVlUGFpcl1dIHBhcmFtZXRlclxuICAgKiBAcGFyYW0gaXRlbSBJdGVtIHRvIHNldCBhcyBzZWxlY3RlZFxuICAgKiBAcGFyYW0gZm9yY2VDZCBGb3JjZSBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAqL1xuICBzZXRTZWxlY3RJdGVtKGl0ZW06IFZhbHVlUGFpciwgZm9yY2VDZDogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgdGhpcy5zZWxlY3RlZEl0ZW0gPSBpdGVtO1xuXG4gICAgaWYgKGZvcmNlQ2QgPT09IHRydWUpIHtcbiAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuXG4gICAgLy9ub3RpZnkgaW50ZXJuYWwgY2hhbmdlcyAoZm9yIGludGVybmFsIHVzZSBvbmx5KVxuICAgIHRoaXMuX25vdGlmeUludGVybmFsQ2hhbmdlQ2IoKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXRzIHNlbGVjdGVkIGl0ZW0gYmFzZWQgb24gdmFsdWVcbiAgICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIHNldFxuICAgKi9cbiAgc2V0U2VsZWN0VmFsdWUodmFsdWU6IHN0cmluZyB8IG51bWJlcikge1xuICAgIGlmICh0aGlzLl9saXN0SXRlbXMgIT0gbnVsbCkge1xuICAgICAgY29uc3QgdGVtcCA9IF8uZmluZCh0aGlzLl9saXN0SXRlbXMsIChpdGVtOiBWYWx1ZVBhaXIpID0+IGl0ZW0udmFsdWUgPT0gdmFsdWUgfHwgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT09IFwiXCIgJiYgdmFsdWUgPT09IGl0ZW0udGV4dCkpO1xuXG4gICAgICBpZiAodGVtcCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0SXRlbSh0ZW1wKTtcbiAgICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgbW91c2UgY2xpY2sgb24gaW5wdXRcbiAgICogQHBhcmFtIGV2ZW50IE1vdXNlIGNsaWNrIGV2ZW50IG9uIGlucHV0IGVsZW1lbnQuXG4gICAqL1xuICBvbklucHV0Q2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQsIGRyb3Bkb3duOiBCc0Ryb3Bkb3duRGlyZWN0aXZlKSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5ob3ZlcmVkU3R5bGUgPSB7XG4gICAgICAnY29sb3InOiAnIzAwMDBjZCcsXG4gICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcjZmY5YzAwJ1xuICAgIH07XG4gICAgZHJvcGRvd24udG9nZ2xlKHRydWUpO1xuIFxuICAgIGlmIChwYXJzZUludCh0aGlzLmNvbnRyb2xXaWR0aENvbWJvQm94LCAxMCkpIHtcbiAgICAgIHRoaXMuZHJvcGRvd25NZW51U3R5bGVbJ3dpZHRoJ10gPSAocGFyc2VJbnQodGhpcy5jb250cm9sV2lkdGhDb21ib0JveCkpICsgJ3B4JztcbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuZHJvcGRvd25NZW51U3R5bGVbJ3dpZHRoJ10gPSAocGFyc2VJbnQodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2hpbGRyZW5bMF0uY2xpZW50V2lkdGgpICsgMjApICsgJ3B4JztcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBvbktleURvd24oZTogS2V5Ym9hcmRFdmVudCwgZHJvcGRvd246IEJzRHJvcGRvd25EaXJlY3RpdmUpIHtcbiAgICBpZiAoIXRoaXMuaXNEcm9wZG93bk9wZW4gJiYgKGUua2V5Q29kZSA9PT0gMzggfHwgZS5rZXlDb2RlID09PSA0MCkpIHsgLy8gMzggPSBVUCBhcnJvdywgNDAgPSBET1dOIGFycm93XG4gICAgICB0aGlzLmhvdmVyZWRTdHlsZSA9IHRoaXMuZGVmYXVsdFN0eWxlO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZHJvcGRvd24udG9nZ2xlKHRydWUpO1xuLy8gVjNSMS1VVC1OU0QtNjQzIMOkwr/CrsOmwq3CoyBTVEFSVFxuICAgICAgLy8gw6jCqMKtw6XCrsKaw6PCgcKZw6PCgsKLw6PCg8KXw6PCg8Krw6PCg8KAw6PCgsKmw6PCg8Kzw6PCgcKuw6PCgsKkw6PCg8Kzw6PCg8KHw6PCg8KDw6PCgsKvw6PCgsK5XG4gICAgICBsZXQgaWR4OiBudW1iZXIgPSAwO1xuICAgICAgLy8gw6PCg8KIw6PCgsKww6PCg8Krw6PCgcKMw6nClsKJw6PCgcKYw6PCgsKJw6PCgsKMw6PCgcKmw6PCgcKEw6PCgsKLw6fCisK2w6bChcKLw6PCgcKnw6PCgsKtw6PCg8K8w6PCg8Kcw6PCg8K8w6PCg8KJw6PCgcKuVVDDo8KAwoFET1dOw6PCgcKMw6bCisK8w6TCuMKLw6PCgcKVw6PCgsKMw6PCgcKfw6XCoMK0w6XCkMKIXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCkge1xuICAgICAgICAvLyBVUMOjwoHCrsOlwqDCtMOlwpDCiMOjwoDCgcOjwoPCl8OjwoPCq8OjwoPCgMOjwoLCpsOjwoPCs8OjwoHCrsOmwpzCgMOnwrXCgsOjwoHCq8OnwqfCu8OlwovClcOjwoHCl8OjwoHCpsOjwoHCl8OjwoHCvsOjwoHChsOjwoHCn8OjwoLCgcOjwoDCgcOmwpzCgMOlwr7CjMOjwoHCrsOowqbCgcOnwrTCoMOjwoLCksOowqjCrcOlwq7CmsOjwoHCqMOjwoHCmcOjwoLCi1xuICAgICAgICBpZHggPSB0aGlzLl9saXN0SXRlbXMubGVuZ3RoIC0gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERPV07Do8KBwq7DpcKgwrTDpcKQwojDo8KAwoHDpsKcwoDDpcKIwp3Do8KBwq7DqMKmwoHDp8K0wqDDo8KCwpLDqMKowq3DpcKuwprDo8KBwqjDo8KBwpnDo8KCwotcbiAgICAgICAgaWR4ID0gMDtcbiAgICAgIH1cbiAgICAgIC8vIDpob3ZlcsOnworCtsOmwoXCi8OjwoHCrsOjwoLCpMOjwoPCs8OjwoPCh8OjwoPCg8OjwoLCr8OjwoLCucOjwoLCksOmwpvCtMOmwpbCsFxuICAgICAgdGhpcy5ob3ZlcmVkSXRlbSA9IGlkeDtcbiAgICAgIC8vIMOjwoPCl8OjwoPCq8OjwoPCgMOjwoLCpsOjwoPCs8OjwoLCksOowqjCrcOlwq7CmlxuICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuX2xpc3RJdGVtc1tpZHhdLCBudWxsKTtcbiAgICAgIC8vIMOjwoPClcOjwoPCqcOjwoLCsMOjwoLCksOmwpvCtMOmwpbCsFxuICAgICAgdGhpcy5pc0ZpcnN0S2V5RG93biA9IGZhbHNlO1xuXG4gICAgfSBlbHNlIGlmICh0aGlzLmlzRHJvcGRvd25PcGVuICYmIChlLmtleUNvZGUgPT09IDM4IHx8IGUua2V5Q29kZSA9PT0gNDApKSB7IC8vIDM4ID0gVVAgYXJyb3csIDQwID0gRE9XTiBhcnJvd1xuICAgICAgLy8gw6PCg8KIw6PCgsKww6PCg8Krw6PCgcKMw6nClsKLw6PCgcKEw6PCgcKmw6PCgcKEw6PCgsKLw6fCisK2w6bChcKLw6PCgcKLw6PCgcKkw6PCgsKtw6PCg8K8w6PCg8Kcw6PCg8K8w6PCg8KJw6PCgcKuVVDDo8KAwoFET1dOw6PCgcKMw6bCisK8w6TCuMKLw6PCgcKVw6PCgsKMw6PCgcKfw6XCoMK0w6XCkMKIXG4gICAgICB0aGlzLmhvdmVyZWRTdHlsZSA9IHRoaXMuZGVmYXVsdFN0eWxlO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAvLyDDqMKowq3DpcKuwprDo8KBwpnDo8KCwovDo8KDwpfDo8KDwqvDo8KDwoDDo8KCwqbDo8KDwrPDo8KBwq7Do8KCwqTDo8KDwrPDo8KDwofDo8KDwoPDo8KCwq/Do8KCwrlcbiAgICAgIGxldCBpZHg6IG51bWJlciA9IDA7XG4gICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCkgeyAvLyAzOCA9IFVQIGFycm93XG4gICAgICAgIGlmICh0aGlzLmlzRmlyc3RLZXlEb3duIHx8IHRoaXMuaG92ZXJlZEl0ZW0gPT09IDApIHtcbiAgICAgICAgICAvLyDDo8KDwojDo8KCwrDDo8KDwqvDo8KBwozDqcKWwovDo8KBwovDo8KCwozDo8KBwp/Dp8KKwrbDpsKFwovDo8KBwqfDo8KAwoHDpcKIwp3Do8KCwoHDo8KBwqbDo8KCwq3Do8KDwrzDo8KBwozDpsKKwrzDpMK4wovDo8KBwpXDo8KCwozDo8KBwp/DpcKgwrTDpcKQwohcbiAgICAgICAgICAvLyA6aG92ZXLDp8KKwrbDpsKFwovDo8KBwq7Do8KDwpfDo8KDwqvDo8KDwoDDo8KCwqbDo8KDwrPDqMKmwoHDp8K0wqDDo8KBwozDpMK4woDDp8KVwqrDpMK4worDo8KBwq7DpcKgwrTDpcKQwohcbiAgICAgICAgICAvLyBVUMOjwoHCr8OmwpzCgMOlwr7CjMOjwoHCrsOowqbCgcOnwrTCoMOjwoLCksOowqjCrcOlwq7CmsOjwoHCmcOjwoLCi1xuICAgICAgICAgIGlkeCA9IHRoaXMuX2xpc3RJdGVtcy5sZW5ndGggLSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIMOkwrjCisOowqjCmMOkwrvCpcOlwqTCllxuICAgICAgICAgIC8vIDpob3ZlcsOnworCtsOmwoXCi8OjwoHCrsOowqbCgcOnwrTCoMOjwoHCrsOvwrzCkcOjwoHCpMOkwrjCisOjwoLCksOowqjCrcOlwq7CmlxuICAgICAgICAgIGlkeCA9IHRoaXMuaG92ZXJlZEl0ZW0gLSAxO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyA0MCA9IERPV04gYXJyb3dcbiAgICAgICAgaWYgKHRoaXMuaXNGaXJzdEtleURvd24gfHwgdGhpcy5ob3ZlcmVkSXRlbSA9PT0gKHRoaXMuX2xpc3RJdGVtcy5sZW5ndGggLSAxKSkge1xuICAgICAgICAgIC8vIMOjwoPCiMOjwoLCsMOjwoPCq8OjwoHCjMOpwpbCi8OjwoHCi8OjwoLCjMOjwoHCn8OnworCtsOmwoXCi8OjwoHCp8OjwoDCgcOlwojCncOjwoLCgcOjwoHCpsOjwoLCrcOjwoPCvMOjwoHCjMOmworCvMOkwrjCi8OjwoHClcOjwoLCjMOjwoHCn8OlwqDCtMOlwpDCiFxuICAgICAgICAgIC8vIDpob3ZlcsOnworCtsOmwoXCi8OjwoHCrsOjwoPCl8OjwoPCq8OjwoPCgMOjwoLCpsOjwoPCs8OowqbCgcOnwrTCoMOjwoHCjMOkwrjCgMOnwpXCqsOkwrjCi8OjwoHCrsOlwqDCtMOlwpDCiFxuICAgICAgICAgIC8vIMOlwojCncOjwoLCgcOjwoHCrsOowqbCgcOnwrTCoMOjwoLCksOowqjCrcOlwq7CmlxuICAgICAgICAgIGlkeCA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gw6TCuMKKw6jCqMKYw6TCu8Klw6XCpMKWXG4gICAgICAgICAgLy8gOmhvdmVyw6fCisK2w6bChcKLw6PCgcKuw6jCpsKBw6fCtMKgw6PCgcKuw6/CvMKRw6PCgcKkw6TCuMKLw6PCgsKSw6jCqMKtw6XCrsKaXG4gICAgICAgICAgaWR4ID0gdGhpcy5ob3ZlcmVkSXRlbSArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIDpob3ZlcsOnworCtsOmwoXCi8OjwoHCrsOjwoLCpMOjwoPCs8OjwoPCh8OjwoPCg8OjwoLCr8OjwoLCucOjwoLCksOmwpvCtMOmwpbCsFxuICAgICAgdGhpcy5ob3ZlcmVkSXRlbSA9IGlkeDtcbiAgICAgIC8vIMOjwoPCl8OjwoPCq8OjwoPCgMOjwoLCpsOjwoPCs8OjwoLCksOowqjCrcOlwq7CmlxuICAgICAgdGhpcy5zZWxlY3RJdGVtKHRoaXMuX2xpc3RJdGVtc1tpZHhdLCBudWxsKTtcbiAgICAgIC8vIMOjwoPClcOjwoPCqcOjwoLCsMOjwoLCksOmwpvCtMOmwpbCsFxuICAgICAgdGhpcy5pc0ZpcnN0S2V5RG93biA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuLy8gVjNSMS1VVC1OU0QtNjQzIMOkwr/CrsOmwq3CoyBFTkRcbiAgfVxuXG4gIGFkanVzdFB1bGxkb3duV2lkdGgoKSB7XG4gICAgdGhpcy5ob3ZlcmVkU3R5bGUgPSB7XG4gICAgICAnY29sb3InOiAnIzAwMDBjZCcsXG4gICAgICAnYmFja2dyb3VuZC1jb2xvcic6ICcjZmY5YzAwJ1xuICAgIH07XG4gICAgaWYgKHBhcnNlSW50KHRoaXMuY29udHJvbFdpZHRoQ29tYm9Cb3gsIDEwKSkge1xuICAgICAgdGhpcy5kcm9wZG93bk1lbnVTdHlsZVsnd2lkdGgnXSA9IChwYXJzZUludCh0aGlzLmNvbnRyb2xXaWR0aENvbWJvQm94KSkgKyAncHgnO1xuICAgIH1lbHNle1xuICAgICAgdGhpcy5kcm9wZG93bk1lbnVTdHlsZVsnd2lkdGgnXSA9IChwYXJzZUludCh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jbGllbnRXaWR0aCkgKyAyMCkgKyAncHgnO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHRvZ2dsZVN0YXR1cygpIHtcbiAgICBpZiAoIXRoaXMuaXNEcm9wZG93bk9wZW4pIHtcbiAgICAgIGxldCBpZCA9IF8uZ2V0KHRoaXMuZ2V0UGFyZW50U2Nyb2xsVmlldygpLCBcImlkXCIpO1xuICAgICAgbGV0IF90aGlzID0gdGhpcztcbiAgICAgICQoYCMke2lkfWApLm9uKCdzY3JvbGwgbW91c2V3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKF90aGlzLmRyb3Bkb3duICE9IG51bGwpIHtcbiAgICAgICAgICBfdGhpcy5kcm9wZG93bi5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHBhcmVudFZpZXc6IFZpZXdDb21wb25lbnQgPSB0aGlzLmdldFBhcmVudFZpZXcoKSBhcyBWaWV3Q29tcG9uZW50O1xuICAgICAgaWYgKHBhcmVudFZpZXcgIT0gbnVsbCAmJiBwYXJlbnRWaWV3LmRpYWxvZyAhPSBudWxsICYmIHBhcmVudFZpZXcuZGlhbG9nLm1vZGFsQ29udGVudCAmJiBwYXJlbnRWaWV3LmRpYWxvZy5tb2RhbENvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgcGFyZW50UGFuZWwgPSBwYXJlbnRWaWV3LmRpYWxvZyAmJiBwYXJlbnRWaWV3LmRpYWxvZy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudDtcbiAgICAgICAgbGV0IGNvbWJvQm94ID0gdGhpcy5pbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBsZXQgcGFyZW50UG9zID0gcGFyZW50UGFuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgbGV0IGNoaWxkcmVuUG9zID0gY29tYm9Cb3guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgbGV0IGRpc3RhbmNlVG9Cb3R0b20gPSBwYXJlbnRQb3MuYm90dG9tIC0gY2hpbGRyZW5Qb3MuYm90dG9tO1xuICAgICAgICBsZXQgZGlzdGFuY2VUb1RvcCA9IGNoaWxkcmVuUG9zLnRvcCAtIHBhcmVudFBvcy50b3A7XG4gICAgICAgIGxldCBoZWlnaHRPZkJveCA9IHRoaXMuX2xpc3RJdGVtcyA/IE1hdGgubWluKDE4ICogdGhpcy5fbGlzdEl0ZW1zLmxlbmd0aCwgMjAwKSA6IDIwMDtcbiAgICAgICAgaWYgKGRpc3RhbmNlVG9Cb3R0b20gPCAyMDApIHtcbiAgICAgICAgICBpZiAoZGlzdGFuY2VUb1RvcCA+IDIwMCkge1xuICAgICAgICAgICAgJChcIi5kcm9wZG93bi1tZW51XCIpLnBhcmVudCgpLmF0dHIoXCJjbGFzc1wiLCBcImRyb3B1cFwiKVxuICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VUb1RvcCA+IGRpc3RhbmNlVG9Cb3R0b20pIHtcbiAgICAgICAgICAgICQoXCIuZHJvcGRvd24tbWVudVwiKS5wYXJlbnQoKS5hdHRyKFwiY2xhc3NcIiwgXCJkcm9wdXBcIilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChcIi5kcm9wZG93bi1tZW51XCIpLnBhcmVudCgpLmF0dHIoXCJjbGFzc1wiLCBcImRyb3Bkb3duXCIpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICQoXCIuZHJvcGRvd24tbWVudVwiKS5wYXJlbnQoKS5hdHRyKFwiY2xhc3NcIiwgXCJkcm9wZG93blwiKVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcmVudFZpZXcgIT0gbnVsbCkge1xuICAgICAgICBsZXQgZGlhbG9nID0gJChgIyR7cGFyZW50Vmlld1tcIm1haW5TY3JlZW5JZFwiXX1gKTtcbiAgICAgICAgaWYgKGRpYWxvZyAhPSBudWxsICYmIGRpYWxvZy5jaGlsZHJlbigpICYmIGRpYWxvZy5jaGlsZHJlbigpWzBdICYmIGRpYWxvZy5jaGlsZHJlbigpWzBdICE9IG51bGwpIHtcbiAgICAgICAgICBsZXQgY29tYm9Cb3ggPSB0aGlzLmlucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgbGV0IHBhcmVudFBvcyA9IGRpYWxvZy5jaGlsZHJlbigpWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgbGV0IGNoaWxkcmVuUG9zID0gY29tYm9Cb3guZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICBsZXQgZGlzdGFuY2VUb0JvdHRvbSA9IHBhcmVudFBvcy5ib3R0b20gLSBjaGlsZHJlblBvcy5ib3R0b207XG4gICAgICAgICAgbGV0IGRpc3RhbmNlVG9Ub3AgPSBjaGlsZHJlblBvcy50b3AgLSBwYXJlbnRQb3MudG9wO1xuICAgICAgICAgIGxldCBoZWlnaHRPZkJveCA9IHRoaXMuX2xpc3RJdGVtcyA/IE1hdGgubWluKDE4ICogdGhpcy5fbGlzdEl0ZW1zLmxlbmd0aCwgMjAwKSA6IDIwMDtcbiAgICAgICAgICBpZiAoZGlzdGFuY2VUb0JvdHRvbSA8IDIwMCkge1xuICAgICAgICAgICAgaWYgKGRpc3RhbmNlVG9Ub3AgPiAyMDApIHtcbiAgICAgICAgICAgICAgJChcIi5kcm9wZG93bi1tZW51XCIpLnBhcmVudCgpLmF0dHIoXCJjbGFzc1wiLCBcImRyb3B1cFwiKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaXN0YW5jZVRvVG9wID4gZGlzdGFuY2VUb0JvdHRvbSkge1xuICAgICAgICAgICAgICAkKFwiLmRyb3Bkb3duLW1lbnVcIikucGFyZW50KCkuYXR0cihcImNsYXNzXCIsIFwiZHJvcHVwXCIpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAkKFwiLmRyb3Bkb3duLW1lbnVcIikucGFyZW50KCkuYXR0cihcImNsYXNzXCIsIFwiZHJvcGRvd25cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChcIi5kcm9wZG93bi1tZW51XCIpLnBhcmVudCgpLmF0dHIoXCJjbGFzc1wiLCBcImRyb3Bkb3duXCIpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpZCA9IF8uZ2V0KHRoaXMuZ2V0UGFyZW50U2Nyb2xsVmlldygpLCBcImlkXCIpO1xuICAgICAgJChgIyR7aWR9YCkub2ZmKCdzY3JvbGwgbW91c2V3aGVlbCcpO1xuLy8gVjNSMS1VVC1OU0QtNjQzIMOkwr/CrsOmwq3CoyBTVEFSVFxuICAgICAgLy8gw6PCg8KIw6PCgsKww6PCg8Krw6PCgcKMw6nClsKJw6PCgcKYw6PCgsKJw6PCgsKMw6PCgcKfw6PCgsK/w6PCgsKkw6PCg8Kfw6PCg8Kzw6PCgsKww6PCgcKnw6PCg8KVw6PCg8Kpw6PCgsKww6PCgsKSw6bCiMK7w6PCgcKZXG4gICAgICB0aGlzLmlzRmlyc3RLZXlEb3duID0gdHJ1ZTtcbi8vIFYzUjEtVVQtTlNELTY0MyDDpMK/wq7DpsKtwqMgRU5EXG4gICAgICB0aGlzLmRyb3Bkb3duLmhpZGUoKTtcbiAgICB9XG4gICAgdGhpcy5pc0Ryb3Bkb3duT3BlbiA9ICF0aGlzLmlzRHJvcGRvd25PcGVuO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNlbGVjdGVkIGNvbWJvYm94IG9wdGlvbiB0byAndmFsJyBwYXJhbWV0ZXIuXG4gICAqIEBwYXJhbSB2YWwgVmFsdWUgdG8gc2V0LlxuICAgKi9cbiAgc2V0VmFsdWUodmFsOiBhbnkpIHtcbiAgICB0aGlzLnNldFNlbGVjdFZhbHVlKHZhbCk7XG4gICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZWxlY3RlZCBjb21ib2JveCBvcHRpb24gdGhhdCBtYXRjaGVzICd0ZXh0JyBwYXJhbWV0ZXIuXG4gICAqIEBwYXJhbSB0ZXh0IFRleHQgb2Ygb3B0aW9uIHRvIG1hcmsgYXMgc2VsZWN0ZWQuXG4gICAqL1xuICBzZXRUZXh0KHRleHQ6IHN0cmluZykge1xuICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0SXRlbShudWxsKTtcbiAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLl9saXN0SXRlbXMgIT0gbnVsbCkge1xuICAgICAgY29uc3QgdGVtcCA9IF8uZmluZCh0aGlzLl9saXN0SXRlbXMsIChpdGVtOiBWYWx1ZVBhaXIpID0+IGl0ZW0udGV4dCA9PSB0ZXh0KTtcblxuICAgICAgaWYgKHRlbXAgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNldFNlbGVjdEl0ZW0odGVtcCk7XG4gICAgICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHNlbGVjdGVkIGl0ZW0gdmFsdWUuXG4gICAqIEByZXR1cm5zIFZhbHVlIG9mIHRoZSBzZWxlY3RlZCBpdGVtIGluIHRoZSBjb21ib2JveC5cbiAgICovXG4gIGdldFZhbHVlKCk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtID8gdGhpcy5zZWxlY3RlZEl0ZW0udmFsdWUgOiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHRleHQgb2YgdGhlIHNlbGVjdGVkIGl0ZW0uXG4gICAqIEByZXR1cm5zIFN0cmluZyB2YWx1ZSBvZiBzZWxlY3RlZCBpdGVtIHRleHQuXG4gICAqL1xuICBnZXRUZXh0KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRJdGVtID8gdGhpcy5zZWxlY3RlZEl0ZW0udGV4dCA6IFwiXCI7XG4gIH1cblxuICAvKipcbiAgICogRm9jdXNlcyB0aGUgbmF0aXZlIGlucHV0IGVsZW1lbnRcbiAgICovXG4gIHNldEZvY3VzKCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGJhY2tncm91bmQgY29sb3Igb2YgdGhlIGlucHV0IGVsZW1lbnQuXG4gICAqIEBwYXJhbSBiZ0NvbG9yIEEgQ1NTIGNvbG9yIHN0cmluZyB2YWx1ZS4gU2hvdWxkIGJlIGhleGFkZWNpbWFsIG9yIHZhbGlkIGNvbG9yIG5hbWUuXG4gICAqL1xuICBzZXRCZ0NvbG9yKGJnQ29sb3I6IHN0cmluZykge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYmdDb2xvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kcyBhIGxpc3QgaXRlbSBieSB0ZXh0LlxuICAgKiBAcGFyYW0gdGV4dCBJdGVtIHRleHQgdG8gc2VhcmNoIGZvclxuICAgKiBAcmV0dXJucyBbW1ZhbHVlUGFpcl1dIGluIFtbX2xpc3RJdGVtc11dIHRoYXQgbWF0Y2hlcyB0ZXh0XG4gICAqL1xuICBmaW5kSXRlbUJ5VGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gXy5maW5kKHRoaXMuX2xpc3RJdGVtcywgKGl0ZW06IFZhbHVlUGFpcikgPT4gaXRlbS50ZXh0ID09IHRleHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIGxpc3QgaXRlbXMgdGhhdCBhcmUgY2hpbGRyZW4gb2YgdGhlIGNvbWJvYm94IGNvbXBvbmVudC5cbiAgICogQHJldHVybnMgQ29sbGVjdGlvbiBvZiBsaXN0IGl0ZW1zLlxuICAgKi9cbiAgZ2V0Q2hpbGRyZW4oKTogVmVjdG9yPGFueT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IG5ldyBWZWN0b3I8YW55PigpO1xuXG4gICAgaWYgKHRoaXMuX2xpc3RJdGVtcyAhPSBudWxsKSB7XG4gICAgICBfLmZvckVhY2godGhpcy5fbGlzdEl0ZW1zLCAoaXRlbSkgPT4ge1xuICAgICAgICByZXN1bHQuYWRkKG5ldyBGYXV4Q29tYm9FbGVtZW50KHRoaXMsIGl0ZW0pKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogT3V0cHV0cyBKU09OIG9iamVjdCB0aGF0IGRlc2NyaWJlcyBjb21wb25lbnRcbiAgICogQHJldHVybnMgT2JqZWN0XG4gICAqL1xuICB0b0pzb24oKSB7XG4gICAgY29uc3QganNvbjogYW55ID0gc3VwZXIudG9Kc29uKCk7XG4gICAganNvbi52YWx1ZSA9IHRoaXMuZ2V0VmFsdWUoKTtcblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgc3RyaW5nIG5hbWUgb2YgdGhlIGNvbXBvbmVudFxuICAgKiBAcmV0dXJucyBTdHJpbmdcbiAgICovXG4gIGdldExvY2FsTmFtZSgpIHtcbiAgICByZXR1cm4gXCJjb21ib0JveFwiO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgc3RyaW5nIHRhZyBuYW1lIG9mIGNvbXBvbmVudFxuICAgKi9cbiAgcHJvdGVjdGVkIGdldE54VGFnTmFtZSgpIHtcbiAgICByZXR1cm4gXCJjb21ib0JveFwiO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEByZXR1cm5zIFtbQ2hhbmdlRGV0ZWN0b3JdXSBmb3IgdGhlIGNvbXBvbmVudFxuICAgKi9cbiAgcHJvdGVjdGVkIGdldENoYW5nZURldGVjdG9yKCkge1xuICAgIHJldHVybiB0aGlzLmNkO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFNldHMgY29tYm9ib3ggdmFsdWVzIGJhc2VkIG9uIGRlZmluaXRpb24gbWFwXG4gICAqL1xuICBwcml2YXRlIGxvYWREYXRhRnJvbURlZigpIHtcbiAgICBsZXQgZGVmSWQ6IHN0cmluZyA9IHRoaXMuZ2V0SWQoKTtcblxuICAgIGlmICh0aGlzLmVkaXRvciAhPSBudWxsICYmIHRoaXMuZWRpdG9yLmxlbmd0aCA+IDApIHtcbiAgICAgIGRlZklkID0gdGhpcy5lZGl0b3Iuc3Vic3RyaW5nKDEpO1xuICAgIH1cblxuICAgIGNvbnN0IGRlZiA9IHRoaXMuZ2V0U2Vzc2lvbigpLmdldERlZihkZWZJZCk7XG5cbiAgICBpZiAoZGVmICE9IG51bGwgJiYgZGVmLnZhbHVlTGlzdCAhPSBudWxsKSB7XG4gICAgICBjb25zdCBhdHRyaWJ1dGUgPSBkZWYuYXR0cmlidXRlO1xuXG4gICAgICB0aGlzLmluaXRpYWxpemVDb21ib2JveFZhbHVlcyhfLm1hcChkZWYudmFsdWVMaXN0LCAoaXRlbSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHZhbHVlOiBpdGVtW1widmFsdWVcIl0sXG4gICAgICAgICAgdGV4dDogaXRlbVtcIm5hbWVcIl0sXG4gICAgICAgICAgc2VsZWN0ZWQ6IGl0ZW1bXCJzZWxlY3RGbGdcIl0gPT09IFwidHJ1ZVwiIHx8IGl0ZW1bXCJzZWxlY3RGbGdcIl0gPT09IHRydWVcbiAgICAgICAgfVxuICAgICAgfSkpO1xuXG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZUZyb21EZWYoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBmb2N1cyBmcm9tIGlucHV0IGVsZW1lbnQgYW5kIHNldHMgdW5mb2N1cyBiYWNrZ3JvdW5kXG4gICAqIEBldmVudCBPbkJlZm9yZUFjdGl2ZUxvc3RcbiAgICovXG4gIGlucHV0Rm9jdXNPdXQoKSB7XG4gICAgaWYgKCF0aGlzLmhhc0lucHV0Rm9jdXMpIHJldHVybjsvL09uIHRoZSBJRSwgcHJldmVudCB0byBmaXJlIGZvY3Vzb3V0IGV2ZW50IHdpdGhvdXQgZm9jdXNpbiBldmVudC4odGhpcyBvY2N1cnMgd2hlbiBlcnJvci1kaWFsb2cgaXMgc2hvd2VkLilpc3N1ZSMxNDMzTkcoMilcbiAgICBpZiAodGhpcy5pbnB1dEVsZW1lbnQubmF0aXZlRWxlbWVudC5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuaW5wdXRFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpIHJldHVybjsvL3ByZXZlbnQgZm9jdXNsb3N0IHdoZW5ldmVyIGFjdGl2ZSBwcm9jZXNzIGlzIGNoYW5nZWQuXG4gICAgdGhpcy5zZXRCZ0NvbG9yKCcnKTtcbiAgICB0aGlzLm9uQmVmb3JlQWN0aXZlTG9zdC5lbWl0KCk7XG4gICAgdGhpcy5oYXNJbnB1dEZvY3VzID0gZmFsc2U7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBsZXQgJGFjdGl2ZSA9ICQoXCI6Zm9jdXNcIik7XG4gICAgICBpZigkYWN0aXZlLmxlbmd0aCA+IDAgJiYgISRhY3RpdmUuaXMoXCJib2R5XCIpICYmICRhY3RpdmUuY2xvc2VzdChcIi52dC1jb21iby1ib3gsW3Z0LWFycm93LW5hdmlnYXRhYmxlLWNvbnRhaW5lcl1cIikubGVuZ3RoID09IDApIHtcbiAgICAgICAgaWYodGhpcy5kcm9wZG93biAmJiB0aGlzLmRyb3Bkb3duLmlzT3Blbikge1xuICAgICAgICAgIHRoaXMuZHJvcGRvd24uaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTApO1xuICB9XG5cbiAgLyoqXG4gICAqIGlmIHRoZSBpbnRlcnZhbCBiZXR3ZWVuIGZvY3VzaW4gYW5kIGZvY3Vzb3V0IGV2ZW50IGlzIGxlc3MgdGhhbiAyMDBtcywgZG9uJ3QgZmlyZSBmb2N1c2luLlxuICAgKi9cbiAgaW5wdXRGb2N1c0luKCkge1xuICAgIHRoaXMuaGFzSW5wdXRGb2N1cyA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogRGVsZWdhdGUgbWV0aG9kIHdyYXBwZXIgZm9yIG5hdGl2ZSBicm93c2VyIHByZXZlbnREZWZhdWx0XG4gICAqIEBwYXJhbSBldmVudCBFdmVudCBvYmplY3RcbiAgICovXG4gIHByZXZlbnREZWZhdWx0KGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLmlucHV0RWxlbWVudC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XG4gIH1cblxuICBwcml2YXRlIHN1YnNjcmliZVRvUGFyZW50U2Nyb2xsZXIoKSB7XG4gICAgY29uc3Qgc2Nyb2xsUGFyZW50ID0gJCh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCkuc2Nyb2xsUGFyZW50KCk7XG5cbiAgICBpZiAoc2Nyb2xsUGFyZW50ICE9IG51bGwgJiYgc2Nyb2xsUGFyZW50WzBdIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgIHRoaXMucGFyZW50U2Nyb2xsZXIgPSBzY3JvbGxQYXJlbnRbMF07XG5cbiAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgdGhpcy5wYXJlbnRTY3JvbGxlci5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMucGFyZW50U2Nyb2xsSGFubGRlcik7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgTmdab25lLCBPbkRlc3Ryb3ksIFJlbmRlcmVyMiwgSG9zdExpc3RlbmVyLCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5kZWNsYXJlIHZhciAkOiBhbnk7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1t2dC1hcnJvdy1uYXZpZ2F0YWJsZS1pdGVtXScsXG59KVxuZXhwb3J0IGNsYXNzIEFycm93TmF2aWdhdGFibGVJdGVtRGlyZWN0aXZlIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgQE91dHB1dCgpIHZ0QXJyb3dPbk1vdXNlRW50ZXI6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcbiAgQE91dHB1dCgpIHZ0QXJyb3dPbk1vdXNlTGVhdmU6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICBwYXJlbnQ6IGFueTtcbiAganE6IGFueTtcblxuICBASG9zdExpc3RlbmVyKFwiYmx1clwiKVxuICBoYW5kbGVPbkJsdXIoKSB7XG4gICAgdGhpcy5ibHVyKCk7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKFwiZm9jdXNcIilcbiAgaGFuZGxlT25Gb2N1cygpIHtcbiAgICBpZiAodGhpcy5wYXJlbnQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5wYXJlbnQuYWN0aXZlSXRlbSA9IHRoaXM7XG4gICAgfVxuICB9XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIGVsZW1lbnQ6IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSB6b25lOiBOZ1pvbmUsXG4gICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyXG4gICkge1xuICAgIHRoaXMuanEgPSAkKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50KTtcblxuICAgIHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LCBcInRhYmluZGV4XCIsIFwiLTFcIik7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLmpxID0gbnVsbDtcbiAgICB0aGlzLmVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuem9uZSA9IG51bGw7XG4gIH1cblxuICBmb2N1cygpIHtcbiAgICB0aGlzLnpvbmUucnVuKCgpPT57XG4gICAgICB0aGlzLmpxLm1vdXNlb3ZlcigpO1xuICAgICAgdGhpcy5qcS5mb2N1cygpO1xuICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJtb3VzZS1ob3ZlclwiKTtcbiAgICB9KTtcbiAgfVxuXG4gIGJsdXIoKSB7XG4gICAgdGhpcy56b25lLnJ1bigoKT0+e1xuICAgICAgdGhpcy5qcS5tb3VzZW91dCgpO1xuICAgICAgdGhpcy5qcS5ibHVyKCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNsYXNzKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LCBcIm1vdXNlLWhvdmVyXCIpO1xuICAgIH0pO1xuICB9XG5cbiAgc2VsZWN0KCkge1xuICAgICh0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xpY2soKTtcbiAgfVxuXG4gIGhvdmVyKCkge1xuICAgIHRoaXMuem9uZS5ydW4oKCk9PntcbiAgICAgIC8vKHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChcIm1vdXNlZW50ZXJcIikpO1xuICAgICAgdGhpcy52dEFycm93T25Nb3VzZUVudGVyLmVtaXQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGxlYXZlKCkge1xuICAgIHRoaXMuem9uZS5ydW4oKCk9PntcbiAgICAgIHRoaXMudnRBcnJvd09uTW91c2VMZWF2ZS5lbWl0KCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgQ29udGVudENoaWxkcmVuLCBRdWVyeUxpc3QsIE5nWm9uZSwgRWxlbWVudFJlZiwgT25EZXN0cm95LCBPdXRwdXQsIEV2ZW50RW1pdHRlciwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFycm93TmF2aWdhdGFibGVJdGVtRGlyZWN0aXZlIH0gZnJvbSAnLi9hcnJvdy1uYXZpZ2F0YWJsZS1pdGVtLmRpcmVjdGl2ZSc7XG5cbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbdnQtYXJyb3ctbmF2aWdhdGFibGUtY29udGFpbmVyXSdcbn0pXG4vKipcbiAqIFVzYWdlLlxuICogPHVsIHZ0LWFycm93LW5hdmlnYXRhYmxlLWNvbnRhaW5lciAuLi4+XG4gKiAgPGxpIHZ0LWFycm93LW5hdmlnYXRhYmxlLWl0ZW0gLi4uPlxuICogIDxsaSB2dC1hcnJvdy1uYXZpZ2F0YWJsZS1pdGVtIC4uLj5cbiAqIDwvdWw+XG4gKi9cbmV4cG9ydCBjbGFzcyBBcnJvd05hdmlnYXRhYmxlQ29udGFpbmVyRGlyZWN0aXZlIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgQElucHV0KCkgYWN0aXZlUGFyZW50OiBIVE1MRWxlbWVudDtcbiAgQE91dHB1dCgpIG9uSXRlbUhvdmVyOiBFdmVudEVtaXR0ZXI8QXJyb3dOYXZpZ2F0YWJsZUl0ZW1EaXJlY3RpdmU+ID0gbmV3IEV2ZW50RW1pdHRlcjxBcnJvd05hdmlnYXRhYmxlSXRlbURpcmVjdGl2ZT4oKTtcbiAgQE91dHB1dCgpIG9uVGFiOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihBcnJvd05hdmlnYXRhYmxlSXRlbURpcmVjdGl2ZSlcbiAgc2V0IG5hdmlnYXRhYmxlSXRlbXNRdWVyeShpdGVtczogUXVlcnlMaXN0PEFycm93TmF2aWdhdGFibGVJdGVtRGlyZWN0aXZlPikge1xuICAgIGlmIChpdGVtcyA9PSBudWxsKSB7XG4gICAgICB0aGlzLm5hdmlnYXRhYmxlSXRlbXMgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5hdmlnYXRhYmxlSXRlbXMgPSBpdGVtcy50b0FycmF5KCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBrZXlkb3duSGFuZGxlcjogKGV2ZW50OiBLZXlib2FyZEV2ZW50KT0+dm9pZDtcblxuICBwcml2YXRlIGFjdGl2ZUl0ZW06IEFycm93TmF2aWdhdGFibGVJdGVtRGlyZWN0aXZlO1xuXG4gIHByaXZhdGUgbmF2aWdhdGFibGVJdGVtczogQXJyYXk8QXJyb3dOYXZpZ2F0YWJsZUl0ZW1EaXJlY3RpdmU+O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgem9uZTogTmdab25lLCBwcml2YXRlIGVsZW1lbnQ6IEVsZW1lbnRSZWYpIHtcbiAgICB0aGlzLmtleWRvd25IYW5kbGVyID0gKGV2ZW50KT0+dGhpcy5oYW5kbGVLZXlkb3duKGV2ZW50KTtcbiAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PntcbiAgICAgIChkb2N1bWVudCkuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5rZXlkb3duSGFuZGxlcik7XG4gICAgfSk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLm5hdmlnYXRhYmxlSXRlbXMgPSBudWxsO1xuICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e1xuICAgICAgKGRvY3VtZW50KS5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmtleWRvd25IYW5kbGVyKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5rZXlkb3duSGFuZGxlciA9IG51bGw7XG4gICAgdGhpcy5uYXZpZ2F0YWJsZUl0ZW1zID0gbnVsbDtcbiAgICB0aGlzLmFjdGl2ZUl0ZW0gPSBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVLZXlkb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50IHx8IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuYWN0aXZlUGFyZW50IHx8IHRoaXMuaXNBY3RpdmVFbGVtZW50RGlyZWN0Q2hpbGRyZW4oKSkge1xuICAgICAgLy9jaGVjayBmb3IgYXJyb3cga2V5IGFuZCBkbyBzdHVmZlxuICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM4IHx8IGV2ZW50LmtleSA9PT0gXCJBcnJvd1VwXCIpIHtcbiAgICAgICAgdGhpcy5tb3ZlVXAoKTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gNDAgfHwgZXZlbnQua2V5ID09PSBcIkFycm93RG93XCIpIHtcbiAgICAgICAgdGhpcy5tb3ZlRG93bigpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgZXZlbnQua2V5Q29kZSA9PT0gMTMgfHwgZXZlbnQua2V5ID09PSBcIkVudGVyXCIgfHxcbiAgICAgICAgZXZlbnQua2V5Q29kZSA9PT0gMzIgfHwgZXZlbnQua2V5ID09PSBcIlNwYWNlXCJcbiAgICAgICkge1xuICAgICAgICB0aGlzLnNlbGVjdCgpO1xuICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSAzOSB8fCBldmVudC5rZXkgPT09IFwiQXJyb3dSaWdodFwiKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUl0ZW0gIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuYWN0aXZlSXRlbS5ob3ZlcigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IDM3IHx8IGV2ZW50LmtleSA9PT0gXCJBcnJvd0xlZnRcIikge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmVJdGVtICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0ubGVhdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSA5IHx8IGV2ZW50LmtleSA9PT0gXCJUYWJcIikge1xuICAgICAgICB0aGlzLm9uVGFiLmVtaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIG1vdmVVcCgpIHtcbiAgICAvL2NhbiBvbmx5IGdvIHVwIGlmIHRoZXJlIGFyZSBhbnkgaXRlbXMgYWJvdmVcbiAgICBpZiAodGhpcy5oYXNJdGVtcygpKSB7XG4gICAgICBsZXQgaWR4ID0gMDtcblxuICAgICAgaWYgKHRoaXMuYWN0aXZlSXRlbSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlSXRlbS5ibHVyKCk7XG4gICAgICAgIGlkeCA9IF8uZmluZEluZGV4KHRoaXMubmF2aWdhdGFibGVJdGVtcywgKGl0ZW0pPT5pdGVtID09PSB0aGlzLmFjdGl2ZUl0ZW0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQWN0aXZlRWxlbWVudERpcmVjdENoaWxkcmVuKCkpIHtcbiAgICAgICAgaWR4ID0gXy5maW5kSW5kZXgodGhpcy5uYXZpZ2F0YWJsZUl0ZW1zLCAoaXRlbSk9PiBpdGVtLmVsZW1lbnQubmF0aXZlRWxlbWVudCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgdGhpcy5uYXZpZ2F0YWJsZUl0ZW1zW2lkeF0uYmx1cigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpZHggPCB0aGlzLm5hdmlnYXRhYmxlSXRlbXMubGVuZ3RoICYmIGlkeCA+IDApIHtcbiAgICAgICAgdGhpcy5hY3RpdmVJdGVtID0gdGhpcy5uYXZpZ2F0YWJsZUl0ZW1zW2lkeCAtIDFdO1xuICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0uZm9jdXMoKTtcbiAgICAgICAgdGhpcy5vbkl0ZW1Ib3Zlci5lbWl0KHRoaXMuYWN0aXZlSXRlbSk7XG4gICAgICB9IGVsc2UgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSB0aGlzLm5hdmlnYXRhYmxlSXRlbXNbdGhpcy5uYXZpZ2F0YWJsZUl0ZW1zLmxlbmd0aCAtIDFdO1xuICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0uZm9jdXMoKTtcbiAgICAgICAgdGhpcy5vbkl0ZW1Ib3Zlci5lbWl0KHRoaXMuYWN0aXZlSXRlbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBtb3ZlRG93bigpIHtcbiAgICBpZiAodGhpcy5oYXNJdGVtcygpKSB7XG4gICAgICBsZXQgaWR4ID0gLTE7XG5cbiAgICAgIGlmICh0aGlzLmFjdGl2ZUl0ZW0gIT0gbnVsbCkge1xuICAgICAgICBpZHggPSBfLmZpbmRJbmRleCh0aGlzLm5hdmlnYXRhYmxlSXRlbXMsIChpdGVtKT0+aXRlbSA9PT0gdGhpcy5hY3RpdmVJdGVtKTtcblxuICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0uYmx1cigpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQWN0aXZlRWxlbWVudERpcmVjdENoaWxkcmVuKCkpIHtcbiAgICAgICAgaWR4ID0gXy5maW5kSW5kZXgodGhpcy5uYXZpZ2F0YWJsZUl0ZW1zLCAoaXRlbSk9PiBpdGVtLmVsZW1lbnQubmF0aXZlRWxlbWVudCA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpZHggPCB0aGlzLm5hdmlnYXRhYmxlSXRlbXMubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSB0aGlzLm5hdmlnYXRhYmxlSXRlbXNbaWR4ICsgMV07XG4gICAgICAgIHRoaXMuYWN0aXZlSXRlbS5mb2N1cygpO1xuICAgICAgICB0aGlzLm9uSXRlbUhvdmVyLmVtaXQodGhpcy5hY3RpdmVJdGVtKTtcbiAgICAgIH0gZWxzZSBpZiAoaWR4ID09IHRoaXMubmF2aWdhdGFibGVJdGVtcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlSXRlbSA9IHRoaXMubmF2aWdhdGFibGVJdGVtc1swXTtcbiAgICAgICAgdGhpcy5hY3RpdmVJdGVtLmZvY3VzKCk7XG4gICAgICAgIHRoaXMub25JdGVtSG92ZXIuZW1pdCh0aGlzLmFjdGl2ZUl0ZW0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2VsZWN0KCkge1xuICAgIGlmICh0aGlzLmFjdGl2ZUl0ZW0gIT0gbnVsbCkge1xuICAgICAgdGhpcy5hY3RpdmVJdGVtLnNlbGVjdCgpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaGFzSXRlbXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubmF2aWdhdGFibGVJdGVtcyAhPSBudWxsICYmIHRoaXMubmF2aWdhdGFibGVJdGVtcy5sZW5ndGggPiAwO1xuICB9XG5cbiAgcHJpdmF0ZSBpc0FjdGl2ZUVsZW1lbnREaXJlY3RDaGlsZHJlbigpIHtcbiAgICBsZXQgcmV0VmFsOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPSBudWxsICYmIHRoaXMubmF2aWdhdGFibGVJdGVtcyAhPSBudWxsICYmIHRoaXMubmF2aWdhdGFibGVJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXRWYWwgPSBfLmZpbmRJbmRleCh0aGlzLm5hdmlnYXRhYmxlSXRlbXMsIChpdGVtKT0+aXRlbS5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQgPT09IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpID49IDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldFZhbDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBBcnJvd05hdmlnYXRhYmxlQ29udGFpbmVyRGlyZWN0aXZlIH0gZnJvbSAnLi9hcnJvdy1uYXZpZ2F0YWJsZS1jb250YWluZXIuZGlyZWN0aXZlJztcbmltcG9ydCB7IEFycm93TmF2aWdhdGFibGVJdGVtRGlyZWN0aXZlIH0gZnJvbSAnLi9hcnJvdy1uYXZpZ2F0YWJsZS1pdGVtLmRpcmVjdGl2ZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgQXJyb3dOYXZpZ2F0YWJsZUl0ZW1EaXJlY3RpdmUsXG4gICAgQXJyb3dOYXZpZ2F0YWJsZUNvbnRhaW5lckRpcmVjdGl2ZVxuICBdLFxuICBleHBvcnRzOiBbXG4gICAgQXJyb3dOYXZpZ2F0YWJsZUl0ZW1EaXJlY3RpdmUsXG4gICAgQXJyb3dOYXZpZ2F0YWJsZUNvbnRhaW5lckRpcmVjdGl2ZVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIEtleWJvYXJkTW9kdWxlIHsgfVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBDb21ib0JveENvbXBvbmVudCB9IGZyb20gJy4vY29tYm8tYm94LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBMaXN0Qm94RGlyZWN0aXZlIH0gZnJvbSAnLi9saXN0LWJveC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTGlzdEl0ZW1EaXJlY3RpdmUgfSBmcm9tICcuL2xpc3QtaXRlbS5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgQnNEcm9wZG93bk1vZHVsZSB9IGZyb20gJ25neC1ib290c3RyYXAnO1xuaW1wb3J0IHsgS2V5Ym9hcmRNb2R1bGUgfSBmcm9tICcuLi9rZXlib2FyZC9rZXlib2FyZC5tb2R1bGUnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIEJzRHJvcGRvd25Nb2R1bGUuZm9yUm9vdCgpLFxuICAgIEtleWJvYXJkTW9kdWxlXG4gIF0sXG4gIGRlY2xhcmF0aW9uczogW0NvbWJvQm94Q29tcG9uZW50LCBMaXN0Qm94RGlyZWN0aXZlLCBMaXN0SXRlbURpcmVjdGl2ZV0sXG4gIGV4cG9ydHM6IFtcbiAgICBDb21ib0JveENvbXBvbmVudCxcbiAgICBMaXN0Qm94RGlyZWN0aXZlLFxuICAgIExpc3RJdGVtRGlyZWN0aXZlLFxuICAgIEJzRHJvcGRvd25Nb2R1bGUsXG4gICAgS2V5Ym9hcmRNb2R1bGVcbiAgXSxcbiAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgQ29tYm9Cb3hDb21wb25lbnRcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBDb21ib0JveE1vZHVsZSB7IH1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgRWxlbWVudFJlZiwgSW5wdXQsIFJlbmRlcmVyMiwgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95LCBIb3N0LCBDb250ZW50Q2hpbGQsIE5nWm9uZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZSc7XG5pbXBvcnQgeyBUYWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL3RhYmxlL3RhYmxlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBVaURvY3VtZW50IH0gZnJvbSAnLi4vYmFzZS91aS1kb2N1bWVudCc7XG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5cbmludGVyZmFjZSBQb3NpdGlvbiB7XG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyXG59XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1t2dERyYWdnYWJsZV0nLFxuICBob3N0OiB7XG4gICAgLy8gJyhkcmFnc3RhcnQpJzogJ29uRHJhZ1N0YXJ0KCRldmVudCknLFxuICAgIC8vICcoZHJhZ2VuZCknOiAnb25EcmFnRW5kKCRldmVudCknLFxuICAgIC8vICcoZHJhZyknOiAnb25EcmFnKCRldmVudCknLFxuICAgICcoY2xpY2spJzogJ29uQ2xpY2soJGV2ZW50KSdcbiAgfVxufSlcbmV4cG9ydCBjbGFzcyBEcmFnZ2FibGVEaXJlY3RpdmUgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xuICBwdWJsaWMgcG9zaXRpb25BdHRyVmFsdWVzOiBBcnJheTxzdHJpbmc+ID0gWydhYnNvbHV0ZScsICdmaXhlZCcsICdyZWxhdGl2ZSddO1xuICBASW5wdXQoKSB2dERyYWdnYWJsZTogYm9vbGVhbjtcbiAgQElucHV0KFwibW9kYWxcIikgbW9kYWw6IGJvb2xlYW47XG4gIEBJbnB1dCgpIGlzVmlldzogYm9vbGVhbiA9IHRydWU7XG5cbiAgcHJpdmF0ZSB2aWV3SWQ6IHN0cmluZztcbiAgcHJpdmF0ZSB0YWJsZUlkOiBzdHJpbmc7IC8vw6PCg8Kqw6PCgsK1w6PCgsKkw6PCgsK6w6bCmcKCw6PCgcKrw6bCk8KNw6TCvcKcw6PCgcKZw6PCgsKLw6PCg8KGw6PCg8K8w6PCg8KWw6PCg8Krw6PCgsK/w6PCgsKww6PCgcKuSURcblxuICBwcml2YXRlIHBhcmVudEVsZW1lbnQ6YW55O1xuXG4gIEBJbnB1dCgpIHRpdGxlOiBzdHJpbmc7XG5cbiAgc2NyZWVuSW5kZXg6IG51bWJlcjtcblxuICAgIC8qKiBASW5wdXQgKi8gQElucHV0KCkgY2FuRHJhZzogYm9vbGVhbiA9IHRydWU7IC8vdGhpcyBpcyBkdW1uIGJ1dCB3b3JrIGFyb3VuZCBmb3Igbm93IChmb3IgbWFpbiBtZGkgd2luZG93IHdoZXJlIHdlIGRvbid0IHdhbnQgdG8gZHJhZylcbiAgQENvbnRlbnRDaGlsZCgnZHJhZ2dhYmxlUGFuZWwnLCB7IHJlYWQ6IEVsZW1lbnRSZWYgfSkgZHJhZ2dhYmxlUGFuZWw6IEVsZW1lbnRSZWY7XG4gIEBDb250ZW50Q2hpbGQoJ215TW9kYWwnLCB7IHJlYWQ6IEVsZW1lbnRSZWYgfSkgcGFyZW50UGFuZWw6IEVsZW1lbnRSZWY7XG5cbiAgbW91c2VEb3duSGFuZGxlcjogKGV2ZW50KSA9PiB2b2lkO1xuICBtb3VzZU1vdmVIYW5kbGVyOiAoZXZlbnQpID0+IHZvaWQ7XG4gIG1vdXNlVXBIYW5kbGVyOiAoZXZlbnQpID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBjYW5UcmFja01vdXNlTW92ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBwcml2YXRlIG1vdXNlUG9zaXRpb246IFBvc2l0aW9uID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgIHB1YmxpYyBuZ1pvbmU6IE5nWm9uZSxcbiAgICBwcml2YXRlIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSkge1xuICAgICAgdGhpcy5tb3VzZURvd25IYW5kbGVyID0gKGV2ZW50KSA9PiB0aGlzLm9uTW91c2VEb3duSGFuZGxlcihldmVudCk7XG4gICAgICB0aGlzLm1vdXNlTW92ZUhhbmRsZXIgPSBfLnRocm90dGxlKChldmVudCkgPT4gdGhpcy5vbk1vdXNlTW92ZUhhbmRsZXIoZXZlbnQpLDc1KTtcbiAgICAgIHRoaXMubW91c2VVcEhhbmRsZXIgPSAoZXZlbnQpID0+IHRoaXMub25Nb3VzZVVwSGFuZGxlcihldmVudCk7XG4gIH1cblxuICBwdWJsaWMgYWRkRHJhZ0xpc3RlbmVycygpIHtcbiAgICBsZXQgZHJhZ0VsZW1lbnQ6IEhUTUxFbGVtZW50ID0gdGhpcy5nZXREcmFnRWxlbWVudCgpO1xuXG4gICAgaWYgKGRyYWdFbGVtZW50KSB7XG4gICAgICB0aGlzLm5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgZHJhZ0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5tb3VzZURvd25IYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5tb3VzZVVwSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgICAgZHJhZ0VsZW1lbnQgPSBudWxsO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbW92ZURyYWdMaXN0ZW5lcnMoKSB7XG4gICAgbGV0IGRyYWdFbGVtZW50OiBIVE1MRWxlbWVudCA9IHRoaXMuZ2V0RHJhZ0VsZW1lbnQoKTtcblxuICAgIGlmIChkcmFnRWxlbWVudCkge1xuICAgICAgICBkcmFnRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bkhhbmRsZXIsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIsIHRydWUpOyAvLyDDpcK/wrXDo8KBwq7Do8KBwp/Do8KCwoHDp8K9wq7Do8KBwoTDo8KBwqbDo8KBworDo8KBwo9cbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMubW91c2VVcEhhbmRsZXIsIHRydWUpO1xuICAgICAgICBkcmFnRWxlbWVudCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmFkZERyYWdMaXN0ZW5lcnMoKTtcbiAgICBpZih0aGlzLmlzVmlldyl7XG4gICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSB0aGlzLnBhcmVudFBhbmVsLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuICAgIGVsc2V7XG4gICAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSB0aGlzLnBhcmVudFBhbmVsLm5hdGl2ZUVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7Ly9nZXQgZGl2KCdtb2RhbC1kaWFsb2cnKVxuICAgIH1cbiAgICBpZiAodGhpcy5jYW5EcmFnICYmIHRoaXMucGFyZW50RWxlbWVudCAhPSBudWxsKSB7XG4gICAgICAvLyBjb25zdCBib3VuZCA9IHRoaXMuZ2V0Qm91bmQoKHRoaXMucGFyZW50UGFuZWwubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZmlyc3RDaGlsZCBhcyBIVE1MRWxlbWVudCk7XG4gICAgICAvLyBjb25zb2xlLmVycm9yKGJvdW5kKTtcbiAgICAgIC8vdGhpcy5wYXJlbnRQYW5lbC5uYXRpdmVFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgLy90aGlzLmFwcGx5VHJhbnNsYXRlKGJvdW5kLngsIGJvdW5kLnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNhbkRyYWcgPSBmYWxzZTtcbiAgICB9XG5cbiAgfVxuXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLnJlbW92ZURyYWdMaXN0ZW5lcnMoKTtcblxuICAgIGRlbGV0ZSB0aGlzLnJlbmRlcmVyO1xuICAgIGRlbGV0ZSB0aGlzLm5nWm9uZTtcbiAgICBkZWxldGUgdGhpcy5kcmFnZ2FibGVQYW5lbDtcbiAgICBkZWxldGUgdGhpcy5tb3VzZURvd25IYW5kbGVyO1xuICAgIGRlbGV0ZSB0aGlzLm1vdXNlTW92ZUhhbmRsZXI7XG4gICAgZGVsZXRlIHRoaXMubW91c2VVcEhhbmRsZXI7XG4gICAgZGVsZXRlIHRoaXMucGFyZW50UGFuZWw7XG4gIH1cblxuICBvbk1vdXNlRG93bkhhbmRsZXIoZXZlbnQ6IGFueSkge1xuICAgIGxldCBkcmFnRWxlbWVudDogSFRNTEVsZW1lbnQgPSB0aGlzLmdldERyYWdFbGVtZW50KCk7XG5cbiAgICBpZiAoZHJhZ0VsZW1lbnQpIHtcbiAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIsIHRydWUpO1xuICAgICAgICAgIGRyYWdFbGVtZW50ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLm1vdXNlUG9zaXRpb24gPSB7XG4gICAgICB4OiBldmVudC5wYWdlWCxcbiAgICAgIHk6IGV2ZW50LnBhZ2VZXG4gICAgfTtcblxuICAgIGlmICh0aGlzLmNhbkRyYWcpIHtcbiAgICAgIGlmKHRoaXMuaXNWaWV3KXsvL2ZvciBtYWluIGRpYWxvZ1xuICAgICAgICBjb25zdCBib3VuZCA9IHRoaXMuZ2V0Qm91bmQodGhpcy5wYXJlbnRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnBhcmVudEVsZW1lbnQsIFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnBhcmVudEVsZW1lbnQsIFwibWFyZ2luXCIsIFwiMFwiKTtcbiAgICAgICAgdGhpcy5hcHBseVRyYW5zbGF0ZShib3VuZC54LCBib3VuZC55KTtcbiAgICAgICAgdGhpcy5tb3ZlV2luZG93VG9Ub3AoKTtcbiAgICAgICAgdGhpcy5jYW5UcmFja01vdXNlTW92ZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBlbHNley8vZm9yIGVycm9yL2luZm8gZGlhbG9nXG4gICAgICAgIGNvbnN0IGJvdW5kID0gdGhpcy5nZXRCb3VuZCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLnBhcmVudEVsZW1lbnQub2Zmc2V0V2lkdGggKyAncHgnO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMucGFyZW50RWxlbWVudCwgXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMucGFyZW50RWxlbWVudCwgXCJtYXJnaW5cIiwgXCIwXCIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMucGFyZW50RWxlbWVudCwnaGVpZ2h0JywgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnBhcmVudEVsZW1lbnQsJ3dpZHRoJywgd2lkdGgpO1xuICAgICAgICB0aGlzLmFwcGx5VHJhbnNsYXRlKGJvdW5kLngsIGJvdW5kLnkpO1xuICAgICAgICB0aGlzLmNhblRyYWNrTW91c2VNb3ZlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBvbk1vdXNlTW92ZUhhbmRsZXIoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAodGhpcy5jYW5EcmFnICYmIHRoaXMuY2FuVHJhY2tNb3VzZU1vdmUpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRNb3VzZVBvc2l0aW9uOiBQb3NpdGlvbiA9IHtcbiAgICAgICAgeDogZXZlbnQucGFnZVgsXG4gICAgICAgIHk6IGV2ZW50LnBhZ2VZXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGRpZmZYID0gY3VycmVudE1vdXNlUG9zaXRpb24ueCAtIHRoaXMubW91c2VQb3NpdGlvbi54O1xuICAgICAgY29uc3QgZGlmZlkgPSBjdXJyZW50TW91c2VQb3NpdGlvbi55IC0gdGhpcy5tb3VzZVBvc2l0aW9uLnk7XG5cbiAgICAgIGNvbnN0IHBhcmVudEJvdW5kID0gdGhpcy5nZXRCb3VuZCh0aGlzLnBhcmVudEVsZW1lbnQpO1xuXG4gICAgICBjb25zdCBuZXdYID0gcGFyZW50Qm91bmQueCArIGRpZmZYO1xuICAgICAgY29uc3QgbmV3WSA9IHBhcmVudEJvdW5kLnkgKyBkaWZmWTtcbiAgICAgIHRoaXMuYXBwbHlUcmFuc2xhdGUobmV3WCwgbmV3WSk7XG4gICAgICB0aGlzLm1vdXNlUG9zaXRpb24gPSBjdXJyZW50TW91c2VQb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICBvbk1vdXNlVXBIYW5kbGVyKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgZHJhZ0VsZW1lbnQ6IEhUTUxFbGVtZW50ID0gdGhpcy5nZXREcmFnRWxlbWVudCgpO1xuXG4gICAgaWYgKGRyYWdFbGVtZW50KSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMubW91c2VNb3ZlSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIGRyYWdFbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jYW5EcmFnICYmIHRoaXMuY2FuVHJhY2tNb3VzZU1vdmUpIHtcbiAgICAgIHRoaXMuY2FuVHJhY2tNb3VzZU1vdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgfVxuXG4gIG9uQ2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAodGhpcy5jYW5EcmFnKSB7XG4gICAgICBpZih0aGlzLmlzVmlldykgdGhpcy5tb3ZlV2luZG93VG9Ub3AoKTtcbiAgICB9XG4gIH1cblxuICBhcHBseVRyYW5zbGF0ZSh4OiBudW1iZXIsIHk6IG51bWJlcikge1xuICAgIGlmICh5ID4gMCkge1xuICAgICAgdGhpcy5uZ1pvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICBsZXQgdG9wOiBudW1iZXIgPSAwO1xuICAgICAgICAvLyBsZXQgbGVmdDogbnVtYmVyID0gMDtcblxuICAgICAgICAvLyBUaGlzIGlzIGhlaWdodCBvZiBhcHAgaGVhZGVyXG4gICAgICAgIGxldCB0b3BNYXggPSA4MjtcblxuICAgICAgICBpZih0aGlzLmlzVmlldykge1xuICAgICAgICAgIHRvcCA9IE1hdGgubWF4KHksIHRvcE1heCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9wID0gTWF0aC5tYXgoeSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zZXNzaW9uU2VydmljZS5kaWFsb2dNYXhUb3BQb3NpdGlvbiA+IDAgJiYgdG9wID4gdGhpcy5zZXNzaW9uU2VydmljZS5kaWFsb2dNYXhUb3BQb3NpdGlvbikge1xuICAgICAgICAgIHRvcCA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuZGlhbG9nTWF4VG9wUG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICAvLyMxNTg3OiBpbiB0aGUgYXMtaXMsIHRoZXJlIGlzIG5vIGxpbWl0IHRvIHdoZXJlIHlvdSBjYW4gZHJhZyB0aGUgd2luZG93IHRvIHRoZSBsZWZ0L3JpZ2h0XG4gICAgICAgIC8vbGVmdCA9IE1hdGgubWF4KHgsIDApO1xuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5wYXJlbnRFbGVtZW50LCAndG9wJywgdG9wICsgJ3B4Jyk7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5wYXJlbnRFbGVtZW50LCAnbGVmdCcsIHggKyAncHgnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG1vdmVXaW5kb3dUb1RvcCgpIHtcbiAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldE1jb0NvbnRhaW5lcigpLnJlU3RhY2tWaWV3KHRoaXMudmlld0lkLCB0aGlzLnNjcmVlbkluZGV4KTtcbiAgfVxuXG4gIHNldFZpZXdJZChpZDogc3RyaW5nKSB7XG4gICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgIHRoaXMudmlld0lkID0gaWQ7XG4gICAgfVxuICB9XG5cbiAgc2V0VGFibGVJZChpZDogc3RyaW5nKSB7XG4gICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgIHRoaXMudGFibGVJZCA9IGlkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0RHJhZ0VsZW1lbnQoKTogSFRNTEVsZW1lbnQge1xuICAgIGlmICh0aGlzLnZ0RHJhZ2dhYmxlID09PSB0cnVlICYmIHRoaXMuZHJhZ2dhYmxlUGFuZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLmRyYWdnYWJsZVBhbmVsLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBwcml2YXRlIGdldEJvdW5kKGVsOiBIVE1MRWxlbWVudCk6IFBvc2l0aW9uIHtcbiAgICBjb25zdCBib3VuZCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGFzIERPTVJlY3Q7XG5cbiAgICByZXR1cm4ge1xuICAgICAgeDogYm91bmQueCB8fCBib3VuZC5sZWZ0LFxuICAgICAgeTogYm91bmQueSB8fCBib3VuZC50b3BcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUsIFZpZXdDb250YWluZXJSZWYsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgVHlwZSwgQ29tcG9uZW50UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgVmlld0NvbXBvbmVudCB9IGZyb20gJy4vdmlldy5jb21wb25lbnQnO1xuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZSc7XG5cbi8qKlxuICogQ2xhc3MgZm9yIG1hbmFnaW5nIGR5bmFtaWMgdmlld3NcbiAqL1xuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgRHluYW1pY1BhZ2VzU2VydmljZSB7XG4gIHByaXZhdGUgdmlld0NvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZjtcbiAgcHJpdmF0ZSBkeW5hbWljVmlld3NNYXA6IEFycmF5PENvbXBvbmVudFJlZjxWaWV3Q29tcG9uZW50Pj4gPSBbXTtcbiAgc3RhdGljIG9uQ3JlYXRlVmlld0Nsb3NlcjogKHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSwgdmlld1R5cGU6IFR5cGU8Vmlld0NvbXBvbmVudD4sIHJvdXRlSWQ6IHN0cmluZykgPT4gdm9pZCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFxuICAgKiBAcGFyYW0gdmlld0ZhY3RvcnkgXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIHZpZXdGYWN0b3J5OiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgcHJpdmF0ZSBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2VcbiAgKSB7IH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0IHRoZSBbW3ZpZXdDb250YWluZXJdXSBwcm9wZXJ0eSB0byByZWZlcmVuY2UgYSBbW1ZpZXdDb250YWluZXJdXVxuICAgKiBAcGFyYW0gdmlld0NvbnRhaW5lciBcbiAgICovXG4gIHJlZ2lzdGVyVmlld0NvbnRhaW5lcih2aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmKSB7XG4gICAgdGhpcy52aWV3Q29udGFpbmVyID0gdmlld0NvbnRhaW5lcjtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgW1tWaWV3Q29tcG9uZW50XV0gaW5zdGFuY2VcbiAgICogQHBhcmFtIHZpZXdUeXBlIFxuICAgKiBAcGFyYW0gcm91dGVJZCBcbiAgICovXG4gIGNyZWF0ZUR5bmFtaWNWaWV3KHZpZXdUeXBlOiBUeXBlPFZpZXdDb21wb25lbnQ+LCByb3V0ZUlkOiBzdHJpbmcgPSBudWxsKTogUHJvbWlzZTxWaWV3Q29tcG9uZW50PiB7XG4gICAgLy8gRm9yIHN1cHByZXNzIHdhcm5pbmcgKENpcmN1bGFyIGRlcGVuZGVuY3kpLCBpdCBpcyBub3QgYWJsZSB0byBjYWxsIFZpZXdDb21wb25lbnQncyBtZXRob2QgZGlyZWN0bHkgaGVyZS5cbiAgICBpZihEeW5hbWljUGFnZXNTZXJ2aWNlLm9uQ3JlYXRlVmlld0Nsb3Nlcikge1xuICAgICAgRHluYW1pY1BhZ2VzU2VydmljZS5vbkNyZWF0ZVZpZXdDbG9zZXIodGhpcy5zZXNzaW9uU2VydmljZSwgdmlld1R5cGUsIHJvdXRlSWQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnNlc3Npb25TZXJ2aWNlLmdldE1lc3NhZ2luZ1NlcnZpY2UoKSAhPSBudWxsKSB7XG4gICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldE1lc3NhZ2luZ1NlcnZpY2UoKS5zZXRGcmVlemVQdXNoU2VydmljZSh0cnVlKTtcbiAgICB9XG5cbiAgICBjb25zdCB2aWV3ID0gdGhpcy52aWV3Q29udGFpbmVyLmNyZWF0ZUNvbXBvbmVudCh0aGlzLnZpZXdGYWN0b3J5LnJlc29sdmVDb21wb25lbnRGYWN0b3J5KHZpZXdUeXBlKSk7XG4gICAgdGhpcy5keW5hbWljVmlld3NNYXAucHVzaCh2aWV3KTtcbiAgICB2aWV3Lmluc3RhbmNlLmlzRHluYW1pY1BhZ2UgPSB0cnVlO1xuXG4gICAgdmlldy5jaGFuZ2VEZXRlY3RvclJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPFZpZXdDb21wb25lbnQ+KChyLCBqKT0+e1xuICAgICAgLy9oYXMgcm91dGUgaWQ/XG4gICAgICBpZiAocm91dGVJZCAhPSBudWxsICYmIHJvdXRlSWQgIT09IFwiXCIpIHtcbiAgICAgICAgdmlldy5pbnN0YW5jZVtcInJvdXRlSWRcIl0gPSByb3V0ZUlkO1xuICAgICAgfVxuXG4gICAgICBpZiAodmlldy5pbnN0YW5jZS52aWV3SXNJbml0aWFsaXplZCA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uU2VydmljZS5nZXRNZXNzYWdpbmdTZXJ2aWNlKCkgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0TWVzc2FnaW5nU2VydmljZSgpLnNldEZyZWV6ZVB1c2hTZXJ2aWNlKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHIodmlldy5pbnN0YW5jZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBzdWIgPSB2aWV3Lmluc3RhbmNlLnZpZXdJbml0aWFsaXplZC5zdWJzY3JpYmUoKCk9PntcbiAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAodGhpcy5zZXNzaW9uU2VydmljZS5nZXRNZXNzYWdpbmdTZXJ2aWNlKCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZS5nZXRNZXNzYWdpbmdTZXJ2aWNlKCkuc2V0RnJlZXplUHVzaFNlcnZpY2UoZmFsc2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHIodmlldy5pbnN0YW5jZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIERlc3Ryb3kgW1tWaWV3Q29tcG9uZW50XV0gaW5zdGFuY2UgcmVmZXJlbmNlXG4gICAqIEBwYXJhbSB2aWV3VG9SZW1vdmUgXG4gICAqIEBwYXJhbSBpbW1lZGlhdGVcbiAgICovXG4gIHJlbW92ZVZpZXcodmlld1RvUmVtb3ZlOiBWaWV3Q29tcG9uZW50LCBpbW1lZGlhdGU6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBkZWFkVmlldyA9IF8uZmluZCh0aGlzLmR5bmFtaWNWaWV3c01hcCwgKHZpZXc6IENvbXBvbmVudFJlZjxWaWV3Q29tcG9uZW50Pik9PntcbiAgICAgIHJldHVybiB2aWV3Lmluc3RhbmNlLnVuaXF1ZUlkID09IHZpZXdUb1JlbW92ZS51bmlxdWVJZDtcbiAgICB9KTtcblxuICAgIHRoaXMuZHluYW1pY1ZpZXdzTWFwID0gXy5maWx0ZXIodGhpcy5keW5hbWljVmlld3NNYXAsICh2aWV3OiBDb21wb25lbnRSZWY8Vmlld0NvbXBvbmVudD4pPT57XG4gICAgICByZXR1cm4gdmlldy5pbnN0YW5jZS51bmlxdWVJZCAhPSB2aWV3VG9SZW1vdmUudW5pcXVlSWQ7XG4gICAgfSk7XG5cbiAgICBpZiAodmlld1RvUmVtb3ZlLmlzRGVzdHJveWVkICE9PSB0cnVlICYmIGRlYWRWaWV3ICE9IG51bGwpIHtcbiAgICAgIGlmKGltbWVkaWF0ZSkge1xuICAgICAgICBkZWFkVmlldy5kZXN0cm95KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBkZWFkVmlldy5kZXN0cm95KCk7XG4gICAgICAgIH0sIDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgYXBwSW5qZWN0b3IgfSBmcm9tIFwiLi4vc2Vzc2lvbi9hcHAtaW5qZWN0b3JcIjtcbmltcG9ydCB7IE1jb0NvbnRhaW5lclNlcnZpY2UgfSBmcm9tIFwiLi4vbWNvLWNvbnRhaW5lci9tY28tY29udGFpbmVyLnNlcnZpY2VcIjtcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXR0cmlidXRlc0VudW0gfSBmcm9tIFwiLi9hdHRyaWJ1dGVzLmVudW1cIjtcbmltcG9ydCB7IE1lbnVJdGVtQ29tcG9uZW50IH0gZnJvbSBcIi4uL3BvcHVwLW1lbnUvbWVudS1pdGVtL21lbnUtaXRlbS5jb21wb25lbnRcIjtcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gXCIuL2xvZ2dlclwiO1xuaW1wb3J0IHsgQ29tYm9Cb3hDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tYm8tYm94L2NvbWJvLWJveC5jb21wb25lbnRcIjtcbmltcG9ydCB7IFZhbHVlUGFpciB9IGZyb20gXCIuLi9jb21iby1ib3gvdmFsdWUtcGFpclwiO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVTZXJ2aWNlIH0gZnJvbSBcIi4uL3BvcHVwLW1lbnUvY29udGV4dC1tZW51LnNlcnZpY2VcIjtcbmltcG9ydCB7IE1lbnVJdGVtQnVpbGRlciB9IGZyb20gXCIuLi9wb3B1cC1tZW51L21lbnUtaXRlbS1idWlsZGVyXCI7XG5pbXBvcnQgeyBOZ1pvbmUgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuXG4vKipcbiAqIERvY3VtZW50IG9iamVjdCBjbGFzcyB0byBhY2Nlc3MgdmlydHVhbCBET01cbiAqL1xuXG4vLyBAZHluYW1pYyAtLSB0aGlzIGxpbmUgY29tbWVudCBpcyBuZWNlc3NhcnkgdG8gcHJldmVudCBwYWNrYWdyIGVycm9yXG5leHBvcnQgY2xhc3MgVWlEb2N1bWVudCB7XG4gIHN0YXRpYyBtZW51SXRlbUVsZW1lbnRNYXA6IE1hcDxzdHJpbmcsIE1lbnVJdGVtQ29tcG9uZW50PiA9IG51bGw7XG5cbiAgLyoqXG4gICAqIEdldCBbW01lbnVJdGVtQ29tcG9uZW50XV0gYnkgaWQga2V5IGluIFtbbWVudUl0ZW1FbGVtZW50TWFwXV1cbiAgICogQHBhcmFtIGlkXG4gICAqL1xuICBzdGF0aWMgZ2V0TWVudUNvbXBvbmVudChpZDogc3RyaW5nKTogYW55IHtcbiAgICBpZiAodGhpcy5tZW51SXRlbUVsZW1lbnRNYXAgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMubWVudUl0ZW1FbGVtZW50TWFwLmdldChpZCk7XG4gIH1cblxuICAvKipcbiAgICogQWxpYXMgZm9yIFtbZmluZEVsZW1lbnRCeUlkXV1cbiAgICogQHBhcmFtIGlkXG4gICAqL1xuICBzdGF0aWMgZ2V0RWxlbWVudEJ5SWQoaWQ6IHN0cmluZykge1xuICAgIHJldHVybiBVaURvY3VtZW50LmZpbmRFbGVtZW50QnlJZChpZCk7XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIGZvciBhbmQgcmV0dXJuIGEgY29tcG9uZW50IGJ5IGlkXG4gICAqIEBwYXJhbSBpZCBWaWV3Q29tcG9uZW50IGlkXG4gICAqL1xuICBzdGF0aWMgZmluZEVsZW1lbnRCeUlkKGlkOiBzdHJpbmcpOiBCYXNlQ29tcG9uZW50IHtcbiAgICBpZiAoaWQgPT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgICAvL1dBUk5JTkc6IFdlIGNhbid0IGNhY2hlIGhlcmUgYXMgd2UgZG9uJ3QgaWQgaGVyZSBpcyBOT1QgdW5pcXVlISFcbiAgICBsZXQgY29tcDogQmFzZUNvbXBvbmVudCA9IG51bGw7XG5cbiAgICBpZiAoIWFwcEluamVjdG9yKCkpIHJldHVybjtcbiAgICBjb25zdCBtY29Db250YWluZXI6IE1jb0NvbnRhaW5lclNlcnZpY2UgPSBhcHBJbmplY3RvcigpLmdldChNY29Db250YWluZXJTZXJ2aWNlKTtcblxuICAgIGlmIChtY29Db250YWluZXIgIT0gbnVsbCkge1xuICAgICAgY29tcCA9IG1jb0NvbnRhaW5lci5nZXRWaWV3QnlJZChpZCk7XG5cbiAgICAgIGlmIChjb21wID09IG51bGwgJiYgbWNvQ29udGFpbmVyLmFjdGl2ZVZpZXcoKSAhPSBudWxsKSB7XG4gICAgICAgIGNvbXAgPSBtY29Db250YWluZXIuYWN0aXZlVmlldygpLmZpbmRFbGVtZW50QnlJZChpZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21wID09IG51bGwpIHtcbiAgICAgICAgY29tcCA9IHRoaXMuZ2V0TWVudUNvbXBvbmVudChpZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjb21wID09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgdmlld3MgPSBtY29Db250YWluZXIuZ2V0Vmlld3MoKTtcblxuICAgICAgICBmb3IgKGxldCB2aWV3IG9mIHZpZXdzKSB7XG4gICAgICAgICAgaWYgKHZpZXcuaWQgPT09IGlkKSB7XG4gICAgICAgICAgICBjb21wID0gdmlldztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcCA9IHZpZXcuZmluZEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29tcCAhPSBudWxsKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy9vdXIgY29tcG9uZW50IGlzIGluIGEgc3Vidmlldz9cbiAgICAgIGlmIChjb21wID09IG51bGwgJiYgbWNvQ29udGFpbmVyLmdldEFjdGlvbkZvcndhcmRIYW5kbGVyTWFwKCkgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBhY3Rpb25Gb3J3YXJkSXQgPSBtY29Db250YWluZXIuZ2V0QWN0aW9uRm9yd2FyZEhhbmRsZXJNYXAoKS52YWx1ZXMoKTtcbiAgICAgICAgbGV0IGZvcndhcmRJdFJlc3VsdCA9IGFjdGlvbkZvcndhcmRJdC5uZXh0KCk7XG5cbiAgICAgICAgd2hpbGUoZm9yd2FyZEl0UmVzdWx0LmRvbmUgIT09IHRydWUpIHtcbiAgICAgICAgICBjb21wID0gZm9yd2FyZEl0UmVzdWx0LnZhbHVlLmZpbmRFbGVtZW50QnlJZChpZCk7XG5cbiAgICAgICAgICBpZiAoY29tcCAhPSBudWxsKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3J3YXJkSXRSZXN1bHQgPSBhY3Rpb25Gb3J3YXJkSXQubmV4dCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbXAgPSB0aGlzLmdldE1lbnVDb21wb25lbnQoaWQpO1xuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vV0FSTklORyEhISEhISEhISEhISEhISEhISEhISEhXG4gICAgLy9NZW51SXRlbT8/Pz8gZm9yIHNwZWNpYWwgY2FzZSB3aGVyZSByaWdodCBjbGljayBldmVudCBvZiBpbm5lciBjb21wIG9mIHRhYmxlIGNvbHVtblxuICAgIC8vaXMgdHJpZ2dlciBiZWZvcmUgcm93IGNvbnRleHQgbWVudSBpcyB0cmlnZ2VyIChyb3cgY29udGV4dCBtZW51IGRpc3BsYXkgcG9wdXAgbWVudSlcbiAgICAvL3RoaXMgc3BlY2lhbCBjb21wb25lbnQgaXMgTWVudUl0ZW1CdWlsZGVyIHNvIGl0IG9ubHkgc3VwcG9ydCBzZXRBdHRyaWJ1dGVcbiAgICBpZiAoY29tcCA9PSBudWxsKSB7XG4gICAgICBjb25zdCBtY29Db250YWluZXI6IE1jb0NvbnRhaW5lclNlcnZpY2UgPSBhcHBJbmplY3RvcigpLmdldChNY29Db250YWluZXJTZXJ2aWNlKTtcblxuICAgICAgaWYgKG1jb0NvbnRhaW5lciAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVZpZXcgPSBtY29Db250YWluZXIuYWN0aXZlVmlldygpO1xuXG4gICAgICAgIGlmIChhY3RpdmVWaWV3ICE9IG51bGwgJiYgYWN0aXZlVmlldy5oYXNQb3B1cE1lbnUoKSkge1xuICAgICAgICAgIGNvbnN0IGNvbnRleHRNZW51U2VydmljZSA9IGFwcEluamVjdG9yKCkuZ2V0KENvbnRleHRNZW51U2VydmljZSk7XG5cbiAgICAgICAgICBpZiAoY29udGV4dE1lbnVTZXJ2aWNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcHVwTWVudUl0ZW1zID0gY29udGV4dE1lbnVTZXJ2aWNlLmdldENvbnRleHRNZW51SXRlbXMoYWN0aXZlVmlldy5nZXRGaXJzdFBvcHVwTWVudUlkKCkpO1xuXG4gICAgICAgICAgICBpZiAocG9wdXBNZW51SXRlbXMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBjb25zdCBtZW51SXRlbSA9IHBvcHVwTWVudUl0ZW1zLmZpbmQoaXRlbT0+e1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLmlkID09PSBpZDtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgaWYgKG1lbnVJdGVtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL2Zha2UgY29tcG9uZW50LCBzcGVjaWZpY2FsbHkgZm9yIG1lbnVcbiAgICAgICAgICAgICAgICBjb21wID0gTWVudUl0ZW1CdWlsZGVyLmZyb21NZW51SXRlbShtZW51SXRlbSkgYXMgYW55O1xuXG4gICAgICAgICAgICAgICAgY29udGV4dE1lbnVTZXJ2aWNlLl90cmFja01lbnVJdGVtQnVpbGRlckZvck1lbVJlbGVhc2UoY29tcCBhcyBhbnkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEpTT04gcmVwcmVzZW50YXRpb24gb2YgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIE9iamVjdCBKU09OIG1ldGFkYXRhIGZvciB0aGlzIGNvbXBvbmVudFxuICAgKi9cbiAgc3RhdGljIHRvSnNvbigpOiB7fSB7XG4gICAgY29uc3Qgdmlld3MgPSBhcHBJbmplY3RvcigpLmdldChNY29Db250YWluZXJTZXJ2aWNlKS5nZXRWaWV3cygpO1xuICAgIGNvbnN0IGpzb24gPSB7fTtcblxuICAgIGZvciAobGV0IHZpZXcgb2Ygdmlld3MpIHtcbiAgICAgIGpzb25bdmlldy5nZXRJZCgpXSA9IHZpZXcudG9Kc29uKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICAvKipcbiAgICogU2V0IGF0dHJpYnV0ZSB3aXRoIHZhbHVlIG9uIGNvbXBvbmVudCBieSBpZFxuICAgKiBAcGFyYW0gaWQgQ29tcG9uZW50IGlkXG4gICAqIEBwYXJhbSBhdHRyaWJ1dGVOYW1lIE5hbWUgb2YgYXR0cmlidXRlIHRvIHNldFxuICAgKiBAcGFyYW0gdmFsdWUgVmFsdWUgb2YgYXR0cmlidXRlIHRvIHNldFxuICAgKi9cbiAgc3RhdGljIHNldEVsZW1lbnRBdHRyaWJ1dGUoaWQ6IHN0cmluZywgYXR0cmlidXRlTmFtZTogc3RyaW5nIHwgQXR0cmlidXRlc0VudW0sIHZhbHVlOiBhbnkpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICBpZiAoZWxlbWVudCAhPSBudWxsKSB7XG4gICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIExvZ2dlci53YXJuKGBVbmFibGUgdG8gc2V0IGF0dHJpYnV0ZSB0byBlbGVtZW50IGlkOiAke2lkfSwgZG9lc24ndCBleGlzdHNgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBhbiBhdHRyaWJ1dGUgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2UgcmV0dXJuIG51bGxcbiAgICogQHBhcmFtIGlkIENvbXBvbmVudCBpZFxuICAgKiBAcGFyYW0gYXR0cmlidXRlTmFtZSBOYW1lIG9mIGF0dHJpYnV0ZSB2YWx1ZSB0byBnZXRcbiAgICovXG4gIHN0YXRpYyBnZXRFbGVtZW50QXR0cmlidXRlKGlkOiBzdHJpbmcsIGF0dHJpYnV0ZU5hbWU6IHN0cmluZyB8IEF0dHJpYnV0ZXNFbnVtKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuXG4gICAgaWYgKGVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBMb2dnZXIud2FybihgVW5hYmxlIHRvIGdldCBhdHRyaWJ1dGUgdG8gZWxlbWVudCBpZDogJHtpZH0sIGRvZXNuJ3QgZXhpc3RzYCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgW1tNZW51SXRlbUNvbXBvbmVudF1dIHRvIGludGVybmFsIFtbbWVudUl0ZW1FbGVtZW50TWFwXV1cbiAgICogQHBhcmFtIGlkIEtleSB0byB1c2UgaW4gbWFwIGZvciBtZW51IGl0ZW0gYmVpbmcgYWRkZWRcbiAgICogQHBhcmFtIG1lbnVJdGVtRWxlbWVudCBDb21wb25lbnQgdG8gYWRkIHRvIG1hcFxuICAgKi9cbiAgc3RhdGljIHJlZ2lzdGVyTWVudUl0ZW1FbGVtZW50KGlkOiBzdHJpbmcsIG1lbnVJdGVtRWxlbWVudDogTWVudUl0ZW1Db21wb25lbnQpIHtcbiAgICBpZiAodGhpcy5tZW51SXRlbUVsZW1lbnRNYXAgPT0gbnVsbCkge1xuICAgICAgdGhpcy5tZW51SXRlbUVsZW1lbnRNYXAgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgdGhpcy5tZW51SXRlbUVsZW1lbnRNYXAuc2V0KGlkLCBtZW51SXRlbUVsZW1lbnQpO1xuXG4gICAgLy90cmFjayBtZW51IGl0ZW0gZm9yIHNlbmRpbmcgdG8gc2VydmVyXG4gICAgaWYgKG1lbnVJdGVtRWxlbWVudC5pdGVtICE9IG51bGwgJiYgbWVudUl0ZW1FbGVtZW50Lml0ZW0ucGFyZW50U2NyZWVuSWQgIT0gbnVsbCkge1xuICAgICAgY29uc3QgbWNvQ29udGFpbmVyOiBNY29Db250YWluZXJTZXJ2aWNlID0gYXBwSW5qZWN0b3IoKS5nZXQoTWNvQ29udGFpbmVyU2VydmljZSk7XG5cbiAgICAgIGlmIChtY29Db250YWluZXIgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBhY3RpdmVWaWV3ID0gbWNvQ29udGFpbmVyLmdldFZpZXdCeUlkKG1lbnVJdGVtRWxlbWVudC5pdGVtLnBhcmVudFNjcmVlbklkKTtcblxuICAgICAgICBpZiAoYWN0aXZlVmlldyAhPSBudWxsKSB7XG4gICAgICAgICAgYWN0aXZlVmlldy50cmFja0luYWN0aXZlTWVudUl0ZW0obWVudUl0ZW1FbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgW1tNZW51SXRlbUNvbXBvbmVudF1dIGZyb20gaW50ZXJuYWwgW1ttZW51SXRlbUVsZW1lbnRNYXBdXVxuICAgKiBAcGFyYW0gaWQgS2V5IG9mIG1lbnUgaXRlbSB0byByZW1vdmUgZnJvbSBtYXBcbiAgICovXG4gIHN0YXRpYyB1bnJlZ2lzdGVyTWVudUl0ZW1FbGVtZW50KGlkOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5tZW51SXRlbUVsZW1lbnRNYXAgIT0gbnVsbCkge1xuICAgICAgdGhpcy5tZW51SXRlbUVsZW1lbnRNYXAuZGVsZXRlKGlkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBbW0NvbWJvYm94Q29tcG9uZW50XV0gdmFsdWVzXG4gICAqIEBwYXJhbSBpZCBDb21ib2JveCBjb21wb25lbnQgaWRcbiAgICogQHBhcmFtIHZhbHVlcyBJbml0aWFsIHZhbHVlcyB0byBzZXQgb24gY29tYm9ib3ggY29tcG9uZW50XG4gICAqL1xuICBzdGF0aWMgaW5pdGlhbGl6ZUNvbWJvQm94VmFsdWVzKGlkOiBzdHJpbmcsIHZhbHVlczogQXJyYXk8VmFsdWVQYWlyPikge1xuICAgIGNvbnN0IGNvbXA6IENvbWJvQm94Q29tcG9uZW50ID0gdGhpcy5maW5kRWxlbWVudEJ5SWQoaWQpIGFzIGFueTtcblxuICAgIGlmIChjb21wICE9IG51bGwpIHtcbiAgICAgIGNvbXAuaW5pdGlhbGl6ZUNvbWJvYm94VmFsdWVzKHZhbHVlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihcIlVuYWJsZSB0byBpbml0aWFsaWUgY29tYm86IFwiICsgaWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBGb2N1cyB0aGUgcGFyZW50IHRhYiBvZiB0aGlzIFtbZWxlbWVudElkXV1cbiAgICogQHBhcmFtIGVsZW1lbnRJZCB0aGUgZWxlbWVudCBpZCB3aGVyZSB3ZSB3YW50IGl0cyBwYXJlbnQgdGFiIHRvIGJlIGZvY3VzZWRcbiAgICovXG4gIHN0YXRpYyBmb2N1c1BhcmVudFRhYihlbGVtZW50SWQ6IHN0cmluZykge1xuICAgIGlmIChlbGVtZW50SWQgIT0gbnVsbCkge1xuICAgICAgY29uc3QgY29tcCA9IHRoaXMuZmluZEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG5cbiAgICAgIGlmIChjb21wICE9IG51bGwgJiYgdHlwZW9mIGNvbXBbXCJmb2N1c1BhcmVudFRhYlwiXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbXBbXCJmb2N1c1BhcmVudFRhYlwiXSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29tcCAhPSBudWxsKSB7XG4gICAgICAgIGFwcEluamVjdG9yKCkuZ2V0KE5nWm9uZSkucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PntcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICBjb21wLnNldEZvY3VzKCk7XG4gICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIElucHV0LFxuICBPbkluaXQsXG4gIEVsZW1lbnRSZWYsXG4gIFZpZXdDaGlsZCxcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgSW5qZWN0LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIFNraXBTZWxmLFxuICBPcHRpb25hbCxcbiAgVmlld0NvbnRhaW5lclJlZixcbiAgVGVtcGxhdGVSZWYsXG4gIENvbnRlbnRDaGlsZCxcbiAgUmVuZGVyZXIyLFxuICBPdXRwdXQsXG4gIEV2ZW50RW1pdHRlcixcbiAgTmdab25lXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZSc7XG5pbXBvcnQgeyBJbml0aWFsUG9zaXRpb24gfSBmcm9tICcuLi9iYXNlL2luaXRpYWwtcG9zaXRpb24nO1xuaW1wb3J0IHsgRHJhZ2dhYmxlRGlyZWN0aXZlIH0gZnJvbSAnLi9kcmFnZ2FibGUuZGlyZWN0aXZlJztcbmltcG9ydCB7IER5bmFtaWNQYWdlc1NlcnZpY2UgfSBmcm9tICcuLi92aWV3L2R5bmFtaWMtcGFnZXMuc2VydmljZSc7XG5pbXBvcnQgeyBUYWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL3RhYmxlL3RhYmxlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBVaURvY3VtZW50IH0gZnJvbSAnLi4vYmFzZS91aS1kb2N1bWVudCc7XG5cbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuLy90aGlzIHN0dXBpZCB0aGluZyBpcyBuZWVkZWQgYi9jIG5nLXBhY2thZ3IgaXMgY29tcGxhaW5lZCBhYm91dCBuYW1lc3BhY2VcbmltcG9ydCAqIGFzIHRhYmJhYmxlRlJvbGx1cCBmcm9tIFwidGFiYmFibGVcIjtcbmltcG9ydCB7IEphdmFVdGlscyB9IGZyb20gJy4uL2phdmEvamF2YS11dGlscyc7XG5cbmNvbnN0IHRhYmJhYmxlID0gdGFiYmFibGVGUm9sbHVwO1xuXG5kZWNsYXJlIHZhciAkOiBhbnk7XG5cbi8qXG4gKiBNb2RhbCBtYXJrdXAgcGxhY2VtZW50LlxuICogQWx3YXlzIHRyeSB0byBwbGFjZSBhIG1vZGFsJ3MgSFRNTCBjb2RlIGluIGEgdG9wLWxldmVsIHBvc2l0aW9uIGluIHlvdXIgZG9jdW1lbnQgdG9cbiAqIGF2b2lkIG90aGVyIGNvbXBvbmVudHMgYWZmZWN0aW5nIHRoZSBtb2RhbCdzIGFwcGVhcmFuY2UgYW5kL29yIGZ1bmN0aW9uYWxpdHkuXG4qL1xuXG4vKipcbiAqIENsYXNzIGZvciBkaWFsb2cgY29tcG9uZW50XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Z0LWRpYWxvZycsXG4gIHRlbXBsYXRlVXJsOiAnLi9kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9kaWFsb2cuY29tcG9uZW50LmNzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBEaWFsb2dDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcbiAgQFZpZXdDaGlsZCgnbW9kYWxCb2R5JykgYm9keTogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZChcIm1vZGFsRGlhbG9nXCIpIG1vZGFsRGlhbG9nOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKFwibW9kYWxDb250ZW50XCIpIG1vZGFsQ29udGVudDogRWxlbWVudFJlZjtcblxuICBASW5wdXQoKSB0aXRsZTogU3RyaW5nO1xuICBASW5wdXQoKSBkcmFnZ2FibGU6IGJvb2xlYW4gPSB0cnVlOyAvL2RlZmF1bHQgdG8gdHJ1ZVxuICBASW5wdXQoKSBpbml0aWFsUG9zaXRpb246IEluaXRpYWxQb3NpdGlvbjtcblxuICAvL21vZGFsIGlzIGRlZmF1bHQgdG8gZmFsc2UsIHdoZW4gdHJ1ZSwgaXQgaXMgYmxvY2tpbmdcbiAgQElucHV0KClcbiAgc2V0IG1vZGFsKG1vZGFsOiBzdHJpbmcgfCBib29sZWFuKSB7XG4gICAgdGhpcy5fbW9kYWwgPSBtb2RhbDtcblxuICAgIHRoaXMudXBkYXRlTW9kYWxEaWFsb2dTdHlsZSgpO1xuICB9XG5cbiAgZ2V0IG1vZGFsKCkge1xuICAgIHJldHVybiB0aGlzLl9tb2RhbDtcbiAgfVxuXG4gIHByaXZhdGUgX21vZGFsOiBzdHJpbmcgfCBib29sZWFuID0gXCJmYWxzZVwiO1xuXG4gIEBJbnB1dCgpIHNldCBjZW50ZXJlZChib286IGJvb2xlYW4gfCBzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIGJvbyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2NlbnRlciA9IGJvbyA9PT0gJ3RydWUnID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9jZW50ZXIgPSBib287XG4gICAgfVxuICB9XG5cbiAgLy9hbGlhc1xuICBASW5wdXQoKSBzZXQgd2luZG93VGl0bGUodGl0bGU6IHN0cmluZykge1xuICAgIHRoaXMudGl0bGUgPSB0aXRsZTtcbiAgfVxuXG4gIF9jZW50ZXI6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgbW9kYWxTaXplOiBzdHJpbmcgPSAnbGFyZ2UnO1xuXG4gIEBJbnB1dCgpIHJlc2l6ZWFibGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBAT3V0cHV0KCkgb25DbG9zaW5nOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgQFZpZXdDaGlsZCgnbXlNb2RhbCcsIHtyZWFkOiBFbGVtZW50UmVmfSkgbW9kYWxFbGVtZW50OiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCd2aWV3Q29udGFpbmVyJywge3JlYWQ6IFZpZXdDb250YWluZXJSZWZ9KSB2aWV3Q29udGFpbmVyOiBWaWV3Q29udGFpbmVyUmVmO1xuICBAVmlld0NoaWxkKCdkcmFnZ2FibGVQYW5lbCcsIHtyZWFkOiBWaWV3Q29udGFpbmVyUmVmfSkgZHJhZ2dhYmxlUGFuZWw6IFZpZXdDb250YWluZXJSZWY7XG4gIEBWaWV3Q2hpbGQoRHJhZ2dhYmxlRGlyZWN0aXZlKSBkcmFnZ2FibGVEaXJlY3RpdmU6IERyYWdnYWJsZURpcmVjdGl2ZTtcblxuICBtb2RhbFdpZHRoOiBudW1iZXIgfCBzdHJpbmcgPSAnMTAwJSc7XG4gIG1vZGFsSGVpZ2h0OiBudW1iZXIgfCBzdHJpbmcgPSAnMTAwJSc7XG4gIG1vZGFsQm9keUhlaWdodDogbnVtYmVyIHwgc3RyaW5nID0gJzEwMCUnO1xuICBpc01heGltaXplOiBib29sZWFuID0gZmFsc2U7XG4gIGlzVW5NYXhpbWl6ZTogYm9vbGVhbiA9IGZhbHNlO1xuICBjb250ZW50V2lkdGg6IHN0cmluZztcbiAgY29udGVudEhlaWdodDogc3RyaW5nO1xuXG4gIHN0YXRpYyByZWFkb25seSBVTk1BWElNSVpFX0hFR0hUOiBzdHJpbmcgPVwiMjBweFwiO1xuXG4gIC8vIMOnwpTCu8Opwp3CosOjwoPCqsOjwoLCtcOjwoLCpMOjwoLCusOlwq/CvsOlwr/CnCBTdGFydFxuICBASW5wdXQoKSByZXNpemVEaWFsb2c6IGJvb2xlYW4gPSBmYWxzZTtcbiAgbW9kYWxCb2R5TWluSGVpZ2h0OiBzdHJpbmcgPSBudWxsO1xuICBtb2RhbEJvZHlEaXZIZWlnaHQ6IHN0cmluZyA9IG51bGw7XG4gIG1vZGFsQm9keURpdldpZHRoOiBzdHJpbmcgPSBudWxsO1xuICBtb2RhbEJvZHlQZXJjZW50SGVpZ2h0OiBzdHJpbmcgPSBudWxsO1xuICAvLyDDp8KUwrvDqcKdwqLDo8KDwqrDo8KCwrXDo8KCwqTDo8KCwrrDpcKvwr7DpcK/wpwgRW5kXG4gIHJlc2l6ZUZsZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIG1vZGFsT3JpZ2luYWxMZWZ0OiBudW1iZXIgPSAwO1xuICBtb2RhbE9yaWdpbmFsVG9wOiBudW1iZXIgPSAwO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGJzTW9kYWxDbGFzcyA9IFtcInZ0LWRpYWxvZ1wiLCBcIm1vZGFsXCIsIFwiZmFkZVwiLCBcImluXCJdO1xuXG4gIHByaXZhdGUgdmlld1JvdXRlVXJsOiBzdHJpbmcgPSAnJztcblxuICBwcml2YXRlIHZpZXdJZDogc3RyaW5nO1xuICBASW5wdXQoKSB0YWJsZUlkOiBzdHJpbmc7IC8vw6PCg8Kqw6PCgsK1w6PCgsKkw6PCgsK6w6bCmcKCw6PCgcKrw6bCk8KNw6TCvcKcw6PCgcKZw6PCgsKLw6XCr8K+w6jCscKhw6PCgcKow6PCgcKqw6PCgsKLw6PCg8KGw6PCg8K8w6PCg8KWw6PCg8Krw6PCgsK/w6PCgsKww6PCgcKuSURcblxuICBzY3JlZW5JbmRleDogbnVtYmVyO1xuXG4gIC8vc29waGlhIDE4MDM6IHRyYWNrIGRpc2FibGVkIGVsZW1lbnQgdGhhdCBoYXMgZXJyb3IgYmFja2dyb3VuZFxuICBfZGlzYWJsZWRFcnJvckVsZW1lbnRJZDogQXJyYXk8c3RyaW5nPjtcbiAgX2NhblRyYWNrRm9jdXNMb3N0T25FcnJvckRpc2FibGVkOiBib29sZWFuO1xuXG4gIC8vdGFiIGN5Y2xpbmdcbiAgcHJpdmF0ZSBfdGFiYmFibGVzOiBBcnJheTxIVE1MRWxlbWVudD47XG4gIHByaXZhdGUgd2FzQ2xpY2tPdXRzaWRlOiBib29sZWFuO1xuICBwcml2YXRlIGRvY0NsaWNrSGFuZGxlcjogKGV2ZW50OiBNb3VzZUV2ZW50KT0+dm9pZDtcbiAgcHJpdmF0ZSBtb2RhbEZvY3VzT3V0SGFuZGxlcjogKGV2ZW50OiBGb2N1c0V2ZW50KT0+dm9pZDtcbiAgcHJpdmF0ZSBrZXlkb3duSGFuZGxlcjogKGV2ZW50OiBLZXlib2FyZEV2ZW50KT0+dm9pZDtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHNlc3Npb25TZXJ2aWNlIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gZWxlbWVudFJlZiBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGNkIFtbQ2hhbmdlRGV0ZWN0b3JSZWZdXSB0byBpbmplY3RcbiAgICogQHBhcmFtIHJlbmRlcmVyIHNlZSBbW0Jhc2VDb21wb25lbnRdXVxuICAgKiBAcGFyYW0gZHluYW1pY1BhZ2VTZXJ2aWNlIFtbRHluYW1pY1BhZ2VTZXJ2aWNlXV0gaW5zdGFuY2UgdG8gaW5qZWN0XG4gICAqIEBwYXJhbSB6b25lIEFuZ3VsYXIgem9uZVxuICAgKi9cbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LCBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLCByZW5kZXJlcjogUmVuZGVyZXIyLCBwcml2YXRlIGR5bmFtaWNQYWdlU2VydmljZTogRHluYW1pY1BhZ2VzU2VydmljZSwgcHJpdmF0ZSB6b25lOiBOZ1pvbmUpIHtcbiAgICBzdXBlcihwYXJlbnQsIHNlc3Npb25TZXJ2aWNlLCBlbGVtZW50UmVmLCByZW5kZXJlcik7XG5cbiAgICB0aGlzLmRvY0NsaWNrSGFuZGxlciA9IChldmVudDogTW91c2VFdmVudCk9PntcbiAgICAgIHRoaXMuaGFuZGxlRG9jQ2xpY2tFdmVudChldmVudCk7XG4gICAgfTtcblxuICAgIHRoaXMubW9kYWxGb2N1c091dEhhbmRsZXIgPSAoZXZlbnQ6IEZvY3VzRXZlbnQpPT57XG4gICAgICB0aGlzLmNoZWNrRm9jdXNPdXQoZXZlbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLmtleWRvd25IYW5kbGVyID0gKGV2ZW50OiBLZXlib2FyZEV2ZW50KT0+e1xuICAgICAgdGhpcy5jaGVja0tleShldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBbW3ZpZXdSb3V0ZVVybF1dIHByb3BlcnR5XG4gICAqIEBwYXJhbSB2aWV3Um91dGVVcmxcbiAgICovXG4gIHNldFZpZXdSb3V0ZVVybCh2aWV3Um91dGVVcmw6IHN0cmluZykge1xuICAgIHRoaXMudmlld1JvdXRlVXJsID0gdmlld1JvdXRlVXJsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBkcmFnZ2FibGUgZGlyZWN0aXZlIGlkIGFuZCBbW2lkXV1cbiAgICovXG4gIHJlc2V0SWQoKSB7XG4gICAgdGhpcy51cGRhdGVEcmFnZ2FibGVEaXJlY3RpdmVJZCgpO1xuICAgIHN1cGVyLnJlc2V0SWQoKTtcblxuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIMOkwrjCgMOowqbCp8OnwpTCu8Opwp3CosOjwoLCksOjwoPChsOjwoPCs8OjwoPCl8OjwoPCrMOjwoPCvMOjwoPCiMOjwoLCksOowqHCqMOnwqTCusOjwoHCl8OjwoHCpsOjwoHChMOjwoLCi8OnwpTCu8Opwp3CosOjwoHCp8OmwqjCqsOjwoLCucOjwoLCr8OjwoPCrcOjwoPCvMOjwoPCq8OjwoHCjMOjwoHCp8OjwoHCpsOjwoHCl8OjwoHCvsOjwoHChsOkwrrCi8OowrHCocOjwoLCksOlwpvCnsOpwoHCv8OjwoHCmcOjwoLCi8OjwoHCn8OjwoLCgcOjwoHCrsOjwoPCocOjwoLCvcOjwoPCg8OjwoPCiVxuICAgKiDDpcKIwp3DpcKbwp7Do8KDwqrDo8KCwrXDo8KCwqTDo8KCwrrDo8KBwpnDo8KCwotcbiAgICovXG4gIGRpYWxvZ1Jlc2l6ZSgpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmICh0aGlzLnJlc2l6ZUZsZyA9PT0gZmFsc2UpIHtcbiAgICAgIC8vdGhpcy5yZXNpemVFeGVjdXRlKCk7XG4gICAgICB0aGlzLnJlc2l6ZUZsZyA9IHRydWU7XG4gICAgICB0aGlzLnNldERpc2FibGVkRGlhbG9nV2lkdGgoKTtcbiAgICB9XG4gIH1cblxuICAgIC8qKlxuICAgKiDDpMK4woDDqMKmwqfDp8KUwrvDqcKdwqLDo8KCwpLDo8KDwobDo8KDwrPDo8KDwpfDo8KDwqzDo8KDwrzDo8KDwojDo8KCwpLDqMKhwqjDp8KkwrrDo8KBwpfDo8KBwqbDo8KBwoTDo8KCwovDp8KUwrvDqcKdwqLDo8KBwqfDpsKowqrDo8KCwrnDo8KCwq/Do8KDwq3Do8KDwrzDo8KDwqvDo8KBwozDo8KBwqfDo8KBwqbDo8KBwpfDo8KBwr7Do8KBwobDpMK6wovDqMKxwqHDo8KCwpLDpcKbwp7DqcKBwr/Do8KBwpnDo8KCwovDo8KBwp/Do8KCwoHDo8KBwq7Do8KDwqHDo8KCwr3Do8KDwoPDo8KDwolcbiAgICogw6PCg8Kqw6PCgsK1w6PCgsKkw6PCgsK6w6PCgsKSw6jCocKMw6PCgcKGXG4gICAqL1xuICByZXNpemVFeGVjdXRlKCkge1xuICAgIGNvbnN0IGJvdW5kOiBET01SZWN0ID0gKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZmlyc3RDaGlsZC5sYXN0RWxlbWVudENoaWxkIGFzIEhUTUxFbGVtZW50KS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSBhcyBET01SZWN0O1xuICAgIGNvbnN0IG5ld1ggPSBib3VuZC5yaWdodCAtIGJvdW5kLmxlZnQgKyAyMDtcbiAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50LmZpcnN0Q2hpbGQubGFzdEVsZW1lbnRDaGlsZCwgJ3dpZHRoJywgbmV3WCArICdweCcpO1xuICAgIH0pO1xuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEluaXQgbGlmZWN5Y2xlLiBTZXRzIFtbdmlld0lkXV1cbiAgICovXG4gIG5nT25Jbml0KCkge1xuICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICB0aGlzLnZpZXdJZCA9IHRoaXMuaWQ7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRGVzdHJveSBsaWZlY3ljbGUuIENsZWFucyB1cCByZWZlcmVuY2VzXG4gICAqL1xuICBuZ09uRGVzdHJveSgpIHtcbiAgICBzdXBlci5uZ09uRGVzdHJveSgpO1xuXG4gICAgdGhpcy5tb2RhbERpYWxvZyA9IG51bGw7XG4gICAgdGhpcy5tb2RhbENvbnRlbnQgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMudmlld0NvbnRhaW5lciAhPSBudWxsKSB7XG4gICAgICB0aGlzLnZpZXdDb250YWluZXIuY2xlYXIoKTtcbiAgICAgIHRoaXMudmlld0NvbnRhaW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZHJhZ2dhYmxlUGFuZWwgIT0gbnVsbCkge1xuICAgICAgdGhpcy5kcmFnZ2FibGVQYW5lbC5jbGVhcigpO1xuICAgICAgdGhpcy5kcmFnZ2FibGVQYW5lbCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZG9jQ2xpY2tIYW5kbGVyICE9IG51bGwpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5kb2NDbGlja0hhbmRsZXIpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1vZGFsRm9jdXNPdXRIYW5kbGVyICE9IG51bGwpIHtcbiAgICAgICh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZm9jdXNvdXRcIiwgdGhpcy5tb2RhbEZvY3VzT3V0SGFuZGxlciwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMua2V5ZG93bkhhbmRsZXIpIHtcbiAgICAgICh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmtleWRvd25IYW5kbGVyLCB0cnVlKTtcbiAgICB9XG5cbiAgICB0aGlzLmRvY0NsaWNrSGFuZGxlciA9IG51bGw7XG4gICAgdGhpcy5tb2RhbEZvY3VzT3V0SGFuZGxlciA9IG51bGw7XG4gICAgdGhpcy5rZXlkb3duSGFuZGxlciA9IG51bGw7XG5cbiAgICB0aGlzLmRyYWdnYWJsZURpcmVjdGl2ZSA9IG51bGw7XG4gICAgdGhpcy5tb2RhbEVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMuX3RhYmJhYmxlcyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZS4gU2V0cyBpbml0aWFsIGRpYWxvZyBoZWlnaHQvd2lkdGggYW5kIHBvc2l0aW9uaW5nXG4gICAqL1xuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgc3VwZXIubmdBZnRlclZpZXdJbml0KCk7XG5cbiAgICAvL2FkZCA4MHB4IGZvciBncmlkIHBhZGRpbmdcbiAgICB0aGlzLm1vZGFsV2lkdGggPSBwYXJzZUludCh0aGlzLmNvbnRyb2xXaWR0aCkgKyA4MDtcbiAgICB0aGlzLm1vZGFsSGVpZ2h0ID0gcGFyc2VJbnQodGhpcy5jb250cm9sSGVpZ2h0KSArIDgwO1xuXG4gICAgLy8gw6fClMK7w6nCncKiw6PCg8Kqw6PCgsK1w6PCgsKkw6PCgsK6w6XCr8K+w6XCv8KcIFN0YXJ0XG4gICAgaWYgKHRoaXMucmVzaXplRGlhbG9nKSB7XG4gICAgICB0aGlzLm1vZGFsQm9keVBlcmNlbnRIZWlnaHQgPSBcImNhbGMoMTAwJSAtIDI1cHgpXCI7IC8vbW9kYWwtaGVhZGVyw6XCiMKGw6PCgsKSw6XCicKKw6PCgcKjw6PCgcKmw6jCqMKtw6XCrsKaXG4gICAgICB0aGlzLm1vZGFsQm9keURpdkhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgdGhpcy5tb2RhbEJvZHlEaXZXaWR0aCA9IFwiMTAwJVwiO1xuICAgICAgdGhpcy5tb2RhbEJvZHlNaW5IZWlnaHQgPSBcImF1dG9cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tb2RhbEJvZHlIZWlnaHQgPSBwYXJzZUludCh0aGlzLmNvbnRyb2xIZWlnaHQpIC0gMjU7IC8vbW9kYWwtaGVhZGVyw6XCiMKGw6PCgsKSw6XCicKKw6PCgcKjw6PCgcKmw6jCqMKtw6XCrsKaXG4gICAgfVxuICAgIC8vIMOnwpTCu8Opwp3CosOjwoPCqsOjwoLCtcOjwoLCpMOjwoLCusOlwq/CvsOlwr/CnCBFbmRcblxuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuXG4gICAgaWYgKHRoaXMubW9kYWwgIT09IFwidHJ1ZVwiICYmIHRoaXMubW9kYWwgIT09IHRydWUpIHtcbiAgICAgIHRoaXMuc2V0TW9kYWxMZXNzUG9zaXRpb24oKTtcbiAgICAgIHRoaXMuYnNNb2RhbENsYXNzLnB1c2goXCJtb2RhbGVzc1wiKTtcbiAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL2Rpc2FibGUgYnV0dG9uc1xuICAgICAgJChcIi5oZWFkZXJcIikuYWRkQ2xhc3MoXCJoZWFkZXItZGlzYWJsZWRcIik7XG4gICAgICAkKFwiLmZvb3RlclwiKS5hZGRDbGFzcyhcImZvb3Rlci1kaXNhYmxlZFwiKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEluaXRpYWxQb3NpdGlvbih0aGlzLmluaXRpYWxQb3NpdGlvbik7XG4gICAgdGhpcy51cGRhdGVEcmFnZ2FibGVEaXJlY3RpdmVJZCgpO1xuXG4gICAgdGhpcy5zZXREaXNhYmxlZERpYWxvZ1dpZHRoKCk7XG4gICAgLy8gaWYodGhpcy5yZXNpemVEaWFsb2cpeyDDpMK4woDDpsKZwoLDp8KawoTDo8KBwqvDo8KCwrPDo8KDwqHDo8KDwrPDo8KDwojDo8KCwqLDo8KCwqbDo8KDwohcbiAgICAgICQodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCkucmVzaXphYmxlKHtcbiAgICAgICAgaGFuZGxlczogJ24sIGUsIHMsIHcsIG5lLCBzZSwgc3csIG53JyxcbiAgICAgICAgbWluV2lkdGg6IDE1MCxcbiAgICAgICAgbWluSGVpZ2h0OiAyMCxcbiAgICAgICAgcmVzaXplOiAoZXZlbnQsIHVpKT0+e1xuICAgICAgICAgIC8vdG9ww6XCoMK0w6bCicKAw6XCiMK2w6nCmcKQw6jCqMKtw6XCrsKaXG4gICAgICAgICAgaWYgKHVpLnBvc2l0aW9uLnRvcCA8PSA4Mil7XG4gICAgICAgICAgICB1aS5wb3NpdGlvbi50b3AgPSA4MjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdWkuZWxlbWVudC5jc3MoXCJtaW4taGVpZ2h0XCIsIFwiXCIpO1xuICAgICAgICAgIHVpLmVsZW1lbnQuY3NzKFwibWluLXdpZHRoXCIsIFwiXCIpO1xuXG4gICAgICAgICAgJCh0aGlzLm1vZGFsRGlhbG9nLm5hdGl2ZUVsZW1lbnQpLmNzcyhcImhlaWdodFwiLCB1aS5zaXplLmhlaWdodCk7XG4gICAgICAgICAgJCh0aGlzLm1vZGFsRGlhbG9nLm5hdGl2ZUVsZW1lbnQpLmNzcyhcIndpZHRoXCIsIHVpLnNpemUud2lkdGgpO1xuXG4gICAgICAgICAgJCh0aGlzLm1vZGFsQ29udGVudC5uYXRpdmVFbGVtZW50KS5jc3MoXCJoZWlnaHRcIiwgdWkuc2l6ZS5oZWlnaHQpO1xuICAgICAgICAgICQodGhpcy5tb2RhbENvbnRlbnQubmF0aXZlRWxlbWVudCkuY3NzKFwid2lkdGhcIiwgdWkuc2l6ZS53aWR0aCk7XG5cbiAgICAgICAgICAkKHRoaXMuYm9keS5uYXRpdmVFbGVtZW50KS5jc3MoXCJtaW4taGVpZ2h0XCIsIFwiY2FsYygxMDAlIC0gMjVweClcIik7XG5cbiAgICAgICAgICBpZiAodGhpcy50YWJsZUlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlOiBUYWJsZUNvbXBvbmVudCA9IFVpRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy50YWJsZUlkKSBhcyBUYWJsZUNvbXBvbmVudDtcbiAgICAgICAgICAgIGlmICh0YWJsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgIHRhYmxlLnRhYmxlUmVzaXplKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgICQodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCkub24oIFwicmVzaXplc3RvcFwiLCAoKT0+IHtcbiAgICAgICAgdGhpcy5zZXREaXNhYmxlZERpYWxvZ1dpZHRoKCk7XG4gICAgICB9KTtcbiAgICAvLyB9XG5cbiAgICB0aGlzLl90YWJiYWJsZXM9IHRhYmJhYmxlKHRoaXMuYm9keS5uYXRpdmVFbGVtZW50KTtcblxuICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmRvY0NsaWNrSGFuZGxlcik7XG4gICAgICAodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3Vzb3V0XCIsIHRoaXMubW9kYWxGb2N1c091dEhhbmRsZXIsIHRydWUpO1xuICAgICAgKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMua2V5ZG93bkhhbmRsZXIsIHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFNldCB0aGUgd2lkdGggb2YgZGlzYWJsZWQtZGlhbG9nIHdpdGggdGhlIHdpZHRoIG9mIHRoZSBtb2RhbC1jb250ZW50XG4gICAqL1xuICBwcml2YXRlIHNldERpc2FibGVkRGlhbG9nV2lkdGgoKXtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudDtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRpc2FibGVkLWRpYWxvZycpLCd3aWR0aCcsIGVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRlbnQnKS5vZmZzZXRXaWR0aCsncHgnKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmRpc2FibGVkLWRpYWxvZycpLCdoZWlnaHQnLCBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jb250ZW50Jykub2Zmc2V0SGVpZ2h0KydweCcpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFNldHMgdGhlIFtbZHJhZ2dhYmxlRGlyZWN0aXZlXV0gdmlldyBpZCB0byB0aGUgZGlhbG9nIGluc3RhbmNlIFtbaWRdXVxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVEcmFnZ2FibGVEaXJlY3RpdmVJZCgpIHtcbiAgICBpZiAodGhpcy5kcmFnZ2FibGVEaXJlY3RpdmUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5kcmFnZ2FibGVEaXJlY3RpdmUuc2V0Vmlld0lkKHRoaXMuaWQpO1xuICAgICAgdGhpcy5kcmFnZ2FibGVEaXJlY3RpdmUuc2V0VGFibGVJZCh0aGlzLnRhYmxlSWQpO1xuICAgICAgdGhpcy5kcmFnZ2FibGVEaXJlY3RpdmUuc2NyZWVuSW5kZXggPSB0aGlzLnNjcmVlbkluZGV4O1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgcG9zaXRpb24gb2Ygd2luZG93IGNvbXBvbmVudFxuICAgKi9cbiAgcHJpdmF0ZSBzZXRNb2RhbExlc3NQb3NpdGlvbigpIHtcbiAgICBjb25zdCBib3VuZDogRE9NUmVjdCA9ICh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50LmZpcnN0Q2hpbGQgYXMgSFRNTEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGFzIERPTVJlY3Q7XG4gICAgY29uc3QgbGVmdCA9IChib3VuZC54IHx8IGJvdW5kLmxlZnQpICsgXCJweFwiO1xuICAgIGNvbnN0IHRvcCA9IChNYXRoLm1heChib3VuZC55IHx8IGJvdW5kLnRvcCwgMTIwKSkgKyBcInB4XCI7XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwibGVmdFwiLCBsZWZ0KTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwidG9wXCIsIHRvcCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBuYXRpdmUgSFRNTCBlbGVtZW50IG9mIHRoaXMgZGlhbG9nXG4gICAqIEByZXR1cm5zIERPTSBlbGVtZW50XG4gICAqL1xuICBnZXRFbGVtZW50KCk6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgb24gY2xvc2UgYnV0dG9uLiBDbG9zZXMgdGhlIHdpbmRvd1xuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHBhcmFtIGltbWVkaWF0ZVxuICAgKi9cbiAgY2xvc2UoZXZlbnQ6IE1vdXNlRXZlbnQgPSBudWxsLCBpbW1lZGlhdGU6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIC8vIHRoaXMuYnNNb2RhbENsYXNzID0gW1widnQtZGlhbG9nXCIsIFwibW9kYWxcIiwgXCJmYWRlXCIsIFwib3V0XCJdO1xuXG4gICAgLy90aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcblxuICAgIGlmIChldmVudCAhPSBudWxsKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tb2RhbCA9PT0gXCJ0cnVlXCIgfHwgdGhpcy5tb2RhbCA9PT0gdHJ1ZSkge1xuICAgICAgJChcIi5oZWFkZXJcIikucmVtb3ZlQ2xhc3MoXCJoZWFkZXItZGlzYWJsZWRcIik7XG4gICAgICAkKFwiLmZvb3RlclwiKS5yZW1vdmVDbGFzcyhcImZvb3Rlci1kaXNhYmxlZFwiKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5nZXRQYXJlbnQoKSAhPSBudWxsICYmIHRoaXMuZ2V0UGFyZW50KCkuaXNWaWV3KCkgJiYgdGhpcy5nZXRQYXJlbnQoKS5pc0R5bmFtaWNWaWV3KCkpIHtcbiAgICAgIHRoaXMuZHluYW1pY1BhZ2VTZXJ2aWNlLnJlbW92ZVZpZXcodGhpcy5nZXRQYXJlbnQoKSBhcyBhbnksIGltbWVkaWF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmdldFNlc3Npb24oKSAhPSBudWxsICYmIHRoaXMuZ2V0U2Vzc2lvbigpLmdldFJvdXRlTmF2aWdhdG9yU2VydmljZSgpICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5nZXRTZXNzaW9uKCkuZ2V0Um91dGVOYXZpZ2F0b3JTZXJ2aWNlKCkuZGVzdHJveVJvdXRlKHRoaXMudmlld1JvdXRlVXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gY2hhbmdlIHJvdXRlLCBzZXNzaW9uIG9yIHJvdXRlIG5hdmlnYXRpb24gc2VydmljZSBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0IFtbZGlzYWJsZWRdXSBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcGFyYW0gYm9vIFZhbHVlIGZvciBkaXNhYmxlZCBwcm9wZXJ0eVxuICAgKi9cbiAgc2V0RGlzYWJsZWQoYm9vOiBib29sZWFuKXtcbiAgICB0aGlzLmRpc2FibGVkID0gYm9vO1xuICAgICQodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCkucmVzaXphYmxlKCBcIm9wdGlvblwiLCBcImRpc2FibGVkXCIsIGJvbyApOy8vRG9uJ3QgcmVtb3ZlIHRoaXMuIFRoaXMgbWFrZXMgZGlzYWJsZWQtZGlhbG9nIG5vdCB0byBiZSByZXNpemFibGUuXG4gICAgJCh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jb250ZW50JykpLmRpc2FibGVkID0gYm9vOy8vSSBhbSBub3Qgc3VyZSB3aHkgdGhpcyBpcyBuZWVkZWQuXG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGlhbG9ncyAnei1pbmRleCcgQ1NTIHByb3BlcnR5XG4gICAqIEBwYXJhbSBuZXdaSW5kZXhcbiAgICovXG4gIHVwZGF0ZVpJbmRleChuZXdaSW5kZXg6IG51bWJlcikge1xuICAgIGlmICh0aGlzLm1vZGFsRWxlbWVudCAhPSBudWxsICYmIHRoaXMucmVuZGVyZXIgIT0gbnVsbCkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50LCBcInotaW5kZXhcIiwgbmV3WkluZGV4KTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEluYWN0aXZlRGlhbG9nU3R5bGUoKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgaW5hY3RpdmUgd2luZG93IHN0eWxlIGlmIHRoaXMgZGlhbG9nIGlzIG5vdCB0aGUgY3VycmVudCBhY3RpdmUgZGlhbG9nXG4gICAqL1xuICBzZXRJbmFjdGl2ZURpYWxvZ1N0eWxlKCkge1xuICAgIGNvbnN0IGluYWN0aXZlRGlhbG9nQ2xhc3MgPSAnaW5hY3RpdmUtZGlhbG9nJztcblxuICAgIC8vIEFwcGx5IGluYWN0aXZlIGRpYWxvZyBjbGFzcyB3aGVuIG90aGVyIHdpbmRvdyBpcyBmb2N1c2VkXG4gICAgaWYgKFxuICAgICAgdGhpcy5nZXRTZXNzaW9uKCkuZ2V0TWNvQ29udGFpbmVyKCkuYWN0aXZlVmlldygpID09IG51bGwgfHxcbiAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldE1jb0NvbnRhaW5lcigpLmFjdGl2ZVZpZXcoKS5pZCAhPSB0aGlzLnZpZXdJZFxuICAgICkge1xuICAgICAgdGhpcy5ic01vZGFsQ2xhc3MucHVzaChpbmFjdGl2ZURpYWxvZ0NsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5ic01vZGFsQ2xhc3MgPSBfLmZpbHRlcih0aGlzLmJzTW9kYWxDbGFzcywgKGMpPT4ge1xuICAgICAgICByZXR1cm4gYyAhPT0gaW5hY3RpdmVEaWFsb2dDbGFzcztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vd2UgdXNlZCBPblB1c2ggYW5kIGNoYW5nZSBkZXRlY3RvciBvbmx5IGtub3cgdGhhdCBpdCBuZWVkcyB0byBkbyBzb21ldGhpbmcgaWZcbiAgICAvL291ciBzdHlsZSBhcnJheSBpcyBpbW11dGFibGUsIHNvIHdlIG5lZWQgdG8gdGVsbCBpdCB0aGF0IGNoYW5nZXMgaGFwcGVuLlxuICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0IHBvc2l0aW9uIG9mIHRoaXMgZGlhbG9nIHdoZW4gaXQgaXMgZmlyc3Qgb3BlbmVkXG4gICAqIEBwYXJhbSBwb3NpdGlvbiBXaW5kb3cgcG9zaXRpb25cbiAgICovXG4gIHNldEluaXRpYWxQb3NpdGlvbihwb3NpdGlvbjogSW5pdGlhbFBvc2l0aW9uKSB7XG4gICAgaWYgKHBvc2l0aW9uICE9IG51bGwpIHtcbiAgICAgIGlmIChwb3NpdGlvbi5sZWZ0ID49IDApIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50LCBcImxlZnRcIiwgcG9zaXRpb24ubGVmdCArIFwicHhcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwibGVmdFwiLCBcImF1dG9cIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChwb3NpdGlvbi5yaWdodCA+PSAwKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJyaWdodFwiLCBwb3NpdGlvbi5yaWdodCArIFwicHhcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChwb3NpdGlvbi50b3AgPj0gMCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwidG9wXCIsIHBvc2l0aW9uLnRvcCArIFwicHhcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwidG9wXCIsIFwiYXV0b1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBvc2l0aW9uLmJvdHRvbSA+PSAwKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJib3R0b21cIiwgcG9zaXRpb24uYm90dG9tICsgXCJweFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJib3R0b21cIiwgXCJhdXRvXCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGhlYWRlciBoZWlnaHQgYW5kIGZvb3RlciBoZWlnaHRcbiAgICBjb25zdCBhcHBIZWFkZXIgPSAkKFwiLmhlYWRlclwiKVswXTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIC8vYXBwSGVhZGVyIGNhbiBiZSBudWxsIChpbiB1bml0IHRlc3QsIGV0YylcbiAgICBpZiAoYXBwSGVhZGVyKSB7XG4gICAgICBsZXQgaGVhZGVySCA9IGFwcEhlYWRlci5jbGllbnRIZWlnaHQgKyBhcHBIZWFkZXIub2Zmc2V0VG9wO1xuICAgICAgLy8gaW5pdCBwb3NpdGlvblxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50LCBcInRvcFwiLCBoZWFkZXJIICsgXCJweFwiKTtcbiAgICAgIGlmICgocG9zaXRpb24gIT0gbnVsbCkpIHtcbiAgICAgICAgaWYgKCAhKHBvc2l0aW9uLmxlZnQgPiAwKSAgKSB7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50LCBcImxlZnRcIiwgXCIwXCIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwibGVmdFwiLCBcIjBcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIElmICdjZW50ZXJlZCcgaW5wdXQgaXMgdHJ1ZSwgb3ZlcnJpZGUgaW5pdGlhbFBvc2l0aW9uIGFuZCBtb2RhbExlc3NQb3NpdGlvblxuICAgICAgaWYgKHRoaXMuX2NlbnRlcikge1xuICAgICAgICBsZXQgbW9kZWxIID0gJCh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50KS5oZWlnaHQoKTtcbiAgICAgICAgbGV0IGZvb3RlckggPSAkKFwiLmZvb3RlclwiKVswXS5jbGllbnRIZWlnaHQ7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJ0b3BcIiwgYGNhbGMoKCgxMDB2aCAtICR7aGVhZGVySH1weCAtICR7Zm9vdGVySH1weCAtICR7bW9kZWxIfXB4KSAvIDIpICsgJHtoZWFkZXJIfXB4KWApO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwibGVmdFwiLCBcImNhbGMoKDEwMHZ3IC8gMikgLSBcIiArICgkKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLndpZHRoKCkgLyAyKSArIFwicHhcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNsb3NlIGV2ZW50XG4gICAqIEBldmVudCBPbkNsb3NpbmdcbiAgICovXG4gIGhhbmRsZU9uQ2xvc2luZygpIHtcbiAgICB0aGlzLm9uQ2xvc2luZy5lbWl0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBOZXhhd2ViIHRhZyBuYW1lIG9mIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0TnhUYWdOYW1lKCkge1xuICAgIHJldHVybiBcImRpYWxvZ1wiO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGRpYWxvZyBzdGF0ZVxuICAgKi9cbiAgdG9Kc29uKCk6IHt9IHtcbiAgICBjb25zdCBqc29uOiBhbnkgPSBzdXBlci50b0pzb24oKTtcbiAgICB0aGlzLnNldEpzb24oanNvbiwgXCJ0aXRsZVwiLCB0aGlzLnRpdGxlKTtcbiAgICB0aGlzLnNldEpzb24oanNvbiwgXCJtb2RhbFwiLCB0aGlzLm1vZGFsKTtcbiAgICB0aGlzLnNldEpzb24oanNvbiwgXCJjZW50ZXJlZFwiLCB0aGlzLl9jZW50ZXIpO1xuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgd2hldGhlciBvciBub3QgdGhpcyBkaWFsb2cgaXMgYSBjb250YWluZXJcbiAgICogQHJldHVybnMgQm9vbGVhblxuICAgKi9cbiAgcHJvdGVjdGVkIGlzQ29udGFpbmVyKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgb3Igbm90IHRoaXMgaXMgYSBkaWFsb2cuIEltcGxlbWVudGF0aW9uIG9mIEJhc2VDb21wb25lbnQgbWV0aG9kXG4gICAqIEByZXR1cm5zIEJvb2xlYW5cbiAgICovXG4gIHByb3RlY3RlZCBpc0RpYWxvZygpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBHZXQgdGhlIFtbY2RdXSAoQ2hhbmdlRGV0ZWN0b3JSZWYpIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIENoYW5nZURldGVjdG9yUmVmXG4gICAqL1xuICBnZXRDaGFuZ2VEZXRlY3RvcigpIHtcbiAgICByZXR1cm4gdGhpcy5jZDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBtaW5pbWl6ZSBidXR0b24gY2xpY2suIE1pbmltaXplcyBkaWFsb2dcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBtaW5pbWl6ZShldmVudDogTW91c2VFdmVudCkge1xuICAgIGlmIChldmVudCAhPSBudWxsKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgaWYoKEphdmFVdGlscy5wYXJzZUJvb2xlYW4odGhpcy5tb2RhbCkpKXtcbiAgICAgIGlmICghdGhpcy5pc1VuTWF4aW1pemUpe1xuICAgICAgICBsZXQgbWluSGVpZ2h0TG9jID0gRGlhbG9nQ29tcG9uZW50LlVOTUFYSU1JWkVfSEVHSFQ7XG4gICAgICAgIHRoaXMuaXNVbk1heGltaXplID10cnVlO1xuICAgICAgICBpZiAodGhpcy5pc01heGltaXplKSB7XG4gICAgICAgICAgJCh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50KS5jc3MoXCJ0b3BcIiwgYCR7dGhpcy5tb2RhbE9yaWdpbmFsVG9wfXB4YCk7XG4gICAgICAgICAgJCh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50KS5jc3MoXCJsZWZ0XCIsIGAke3RoaXMubW9kYWxPcmlnaW5hbExlZnR9cHhgKTtcbiAgICAgICAgICB0aGlzLmlzTWF4aW1pemUgPWZhbHNlO1xuICAgICAgICB9ICAgICAgICBcbiAgICAgICAgJCh0aGlzLmJvZHkubmF0aXZlRWxlbWVudCkuY3NzKFwibWluLWhlaWdodFwiLCBcIlwiKTtcbiAgICAgICAgJCh0aGlzLmJvZHkubmF0aXZlRWxlbWVudCkuY3NzKFwiaGVpZ2h0XCIsIG1pbkhlaWdodExvYyk7XG4gICAgICAgICQodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCkuY3NzKFwibWluLWhlaWdodFwiLCBcIlwiKTtcbiAgICAgICAgJCh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50KS5jc3MoXCJoZWlnaHRcIiwgbWluSGVpZ2h0TG9jKTtcbiAgICAgICAgJCh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1jb250ZW50JykpLmNzcyhcImhlaWdodFwiLCBtaW5IZWlnaHRMb2MpO1xuICAgICAgICB0aGlzLmJzTW9kYWxDbGFzcyA9IFtcInZ0LWRpYWxvZ1wiLCBcIm1vZGFsXCIsIFwiZmFkZVwiLCBcImluXCIsIFwidW5tYXhpbWl6ZVwiXTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmlzVW5NYXhpbWl6ZSA9ZmFsc2U7XG4gICAgICAgIGxldCBtaW5IZWlnaHRMb2MgPSQodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtZGlhbG9nJykpLmNzcyhcImhlaWdodFwiKTtcbiAgICAgICAgJCh0aGlzLmJvZHkubmF0aXZlRWxlbWVudCkuY3NzKFwibWluLWhlaWdodFwiLCBcImNhbGMoMTAwJSAtIDI1cHhcIik7XG4gICAgICAgICQodGhpcy5ib2R5Lm5hdGl2ZUVsZW1lbnQpLmNzcyhcImhlaWdodFwiLCBcImF1dG9cIik7XG4gICAgICAgICQodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCkuY3NzKFwibWluLWhlaWdodFwiLCBtaW5IZWlnaHRMb2MpO1xuICAgICAgICAkKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmNzcyhcImhlaWdodFwiLCBtaW5IZWlnaHRMb2MpO1xuICAgICAgICAkKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRlbnQnKSkuY3NzKFwiaGVpZ2h0XCIsIG1pbkhlaWdodExvYyk7XG4gICAgICAgIHRoaXMuYnNNb2RhbENsYXNzID0gW1widnQtZGlhbG9nXCIsIFwibW9kYWxcIiwgXCJmYWRlXCIsIFwiaW5cIiwgXCJ1bm1heGltaXplXCJdOyAgICAgICBcbiAgICAgIH1cbiAgICB9ZWxzZXtcbiAgICAgIHRoaXMuaXNVbk1heGltaXplID1mYWxzZTtcbiAgICAgIHRoaXMuYnNNb2RhbENsYXNzID0gW1widnQtZGlhbG9nXCIsIFwibW9kYWxcIiwgXCJmYWRlXCIsIFwib3V0XCIsIFwibWluaW1pemVcIl07XG4gICAgICB0aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5taW5pbWl6ZVZpZXcodGhpcy52aWV3SWQpO1xuICAgIH1cbiAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBtYXhpbWl6ZSBidXR0b24gY2xpY2suIE1heGltaXplcyBkaWFsb2dcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBtYXhpbWl6ZShldmVudDogTW91c2VFdmVudCkge1xuICAgIFxuICAgIGlmIChldmVudCAhPSBudWxsKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc01heGltaXplKSB7XG4gICAgICB0aGlzLmJzTW9kYWxDbGFzcyA9IFtcInZ0LWRpYWxvZ1wiLCBcIm1vZGFsXCIsIFwiZmFkZVwiLCBcImluXCJdO1xuICAgICAgJCh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50KS5jc3MoXCJ0b3BcIiwgYCR7dGhpcy5tb2RhbE9yaWdpbmFsVG9wfXB4YCk7XG4gICAgICAkKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmNzcyhcImxlZnRcIiwgYCR7dGhpcy5tb2RhbE9yaWdpbmFsTGVmdH1weGApO1xuICAgICAgdGhpcy5pc01heGltaXplID0gZmFsc2U7XG4gICAgICBpZihKYXZhVXRpbHMucGFyc2VCb29sZWFuKHRoaXMubW9kYWwpICYmICAkKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvbnRlbnQnKSlbMF0uc3R5bGUuaGVpZ2h0ID09PSBEaWFsb2dDb21wb25lbnQuVU5NQVhJTUlaRV9IRUdIVCl7XG4gICAgICAgIHRoaXMuYnNNb2RhbENsYXNzID0gW1widnQtZGlhbG9nXCIsIFwibW9kYWxcIiwgXCJmYWRlXCIsIFwiaW5cIiwgXCJ1bm1heGltaXplXCJdO1xuICAgICAgICB0aGlzLmlzVW5NYXhpbWl6ZSA9dHJ1ZTtcbiAgICAgIH1lbHNle1xuICAgICAgICB0aGlzLmlzVW5NYXhpbWl6ZSA9ZmFsc2U7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAkKHRoaXMuYm9keS5uYXRpdmVFbGVtZW50KS5jc3MoXCJtaW4taGVpZ2h0XCIsIFwiY2FsYygxMDAlIC0gMjVweClcIik7XG4gICAgICAkKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQpLmNzcyhcImhlaWdodFwiLCBcImF1dG9cIik7XG4gICAgICB0aGlzLm1vZGFsT3JpZ2luYWxMZWZ0ID0gKHRoaXMubW9kYWxFbGVtZW50Lm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICB0aGlzLm1vZGFsT3JpZ2luYWxUb3AgPSAodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgJCh0aGlzLm1vZGFsRWxlbWVudC5uYXRpdmVFbGVtZW50KS5jc3MoXCJsZWZ0XCIsIGAke3RoaXMubW9kYWxPcmlnaW5hbExlZnR9cHhgKTtcbiAgICAgICQodGhpcy5tb2RhbEVsZW1lbnQubmF0aXZlRWxlbWVudCkuY3NzKFwidG9wXCIsIGAke3RoaXMubW9kYWxPcmlnaW5hbFRvcH1weGApO1xuICAgICAgdGhpcy5ic01vZGFsQ2xhc3MgPSBbXCJ2dC1kaWFsb2dcIiwgXCJtb2RhbFwiLCBcImZhZGVcIiwgXCJpblwiLCBcIm1heGltaXplXCJdO1xuICAgICAgdGhpcy5pc01heGltaXplID0gdHJ1ZTtcbiAgICAgIHRoaXMuaXNVbk1heGltaXplID1mYWxzZTtcbiAgICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgICBcbiAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy50YWJsZUlkICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IHRhYmxlOiBUYWJsZUNvbXBvbmVudCA9IFVpRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy50YWJsZUlkKSBhcyBUYWJsZUNvbXBvbmVudDtcbiAgICAgIGlmICh0YWJsZSAhPSBudWxsKSB7XG4gICAgICAgIHRhYmxlLnRhYmxlUmVzaXplKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldE1jb0NvbnRhaW5lcigpLnNob3dWaWV3KHRoaXMudmlld0lkKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTaG93IHRoZSB2aWV3IGFmdGVyIGl0IGhhcyBiZWVuIGhpZGRlbiB2aWEgbWluaW1pemVkXG4gICAqL1xuICBzaG93VmlldygpIHtcbiAgICBpZih0aGlzLmRpc2FibGVkKSByZXR1cm47XG4gICAgaWYgKHRoaXMuaXNNYXhpbWl6ZSkge1xuICAgICAgdGhpcy5ic01vZGFsQ2xhc3MgPSBbXCJ2dC1kaWFsb2dcIiwgXCJtb2RhbFwiLCBcImZhZGVcIiwgXCJpblwiLCBcIm1heGltaXplXCJdO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJzTW9kYWxDbGFzcyA9IFtcInZ0LWRpYWxvZ1wiLCBcIm1vZGFsXCIsIFwiZmFkZVwiLCBcImluXCJdO1xuICAgIH1cblxuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldE1jb0NvbnRhaW5lcigpLnNob3dWaWV3KHRoaXMudmlld0lkLCB0aGlzLnNjcmVlbkluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBtb3VzZWRvd24gZXZlbnQuIFJlc2V0cyBkaWFsb2cgdmlldyBzdGFja1xuICAgKi9cbiAgaGFuZGxlTW91c2VEb3duKCkge1xuICAgIC8vbWFrZSB0aGlzIHNjcmVlbiB0b3AgbW9zdC5cbiAgICB0aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5yZVN0YWNrVmlldyh0aGlzLnZpZXdJZCwgdGhpcy5zY3JlZW5JbmRleCk7XG4gIH1cbiAgLyoqXG4gICAqIFN0b3AgcHJvcGFnYXRpb24gb24gZGlzYWJsZWQgZGlhbG9nXG4gICAqL1xuICBvbkNsaWNrRGlzYWJsZUNvbnRlbnQoZXZlbnQpe1xuICAgIGlmKHRoaXMuZGlzYWJsZWQpIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG4gIC8qKlxuICAgKiBTdG9wIHByb3BhZ2F0aW9uIG9uIG1vZGFsIGRpYWxvZ1xuICAgKi9cbiAgb25DbGlja0JhY2tkcm9wKGV2ZW50KXtcbiAgICBpZih0aGlzLm1vZGFsID09IHRydWUgfHwgdGhpcy5tb2RhbCA9PSAndHJ1ZScpIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVNb2RhbERpYWxvZ1N0eWxlKCkge1xuICAgIGlmICh0aGlzLnJlbmRlcmVyICE9IG51bGwgJiYgdGhpcy5lbGVtZW50UmVmICE9IG51bGwpIHtcbiAgICAgIGlmICh0aGlzLm1vZGFsID09PSB0cnVlIHx8IHRoaXMubW9kYWwgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuYWRkQ2xhc3ModGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIFwibW9kYWxcIik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIFwiZGlzcGxheVwiLCBcImlubGluZS1ibG9ja1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQ2xhc3ModGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIFwibW9kYWxcIik7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlU3R5bGUodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIFwiZGlzcGxheVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNoZWNrRm9jdXNPdXQoZXZlbnQ6IEZvY3VzRXZlbnQpIHtcbiAgICBpZiAoKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0IGFzIEhUTUxFbGVtZW50KSkge1xuICAgICAgdGhpcy5nZXRTZXNzaW9uKCkuX3dpbmRvd0xvc3RGb2N1cyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLl93aW5kb3dMb3N0Rm9jdXMgIT09IHRydWUgJiZcbiAgICAgIHRoaXMuX3RhYmJhYmxlcyAmJlxuICAgICAgdGhpcy5fdGFiYmFibGVzLmxlbmd0aCA+IDAgJiZcbiAgICAgIHRoaXMud2FzQ2xpY2tPdXRzaWRlICE9PSB0cnVlICYmXG4gICAgICAhKCh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY29udGFpbnMoZXZlbnQucmVsYXRlZFRhcmdldCBhcyBIVE1MRWxlbWVudCkpXG4gICAgICAmJiB0aGlzLmRpc2FibGVkICE9PSB0cnVlXG4gICAgKSB7XG5cbiAgICAgIGlmIChcbiAgICAgICAgZXZlbnQucmVsYXRlZFRhcmdldCA9PSBudWxsIHx8XG4gICAgICAgIChcbiAgICAgICAgICAhKGV2ZW50LnJlbGF0ZWRUYXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5jb250YWlucyhcImRyb3Bkb3duLWl0ZW1cIikgJiZcbiAgICAgICAgICAhKGV2ZW50LnJlbGF0ZWRUYXJnZXQgYXMgSFRNTEVsZW1lbnQpLmNsYXNzTGlzdC5jb250YWlucyhcIm1lbnVJdGVtXCIpXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5fdGFiYmFibGVzWzBdLmZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5nZXRTZXNzaW9uKCkuX3dpbmRvd0xvc3RGb2N1cyA9IGZhbHNlO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEb2NDbGlja0V2ZW50KGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy53YXNDbGlja091dHNpZGUgPSBmYWxzZTtcblxuICAgIGlmIChcbiAgICAgICEoKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5jb250YWlucyhldmVudC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpKVxuICAgICkge1xuICAgICAgdGhpcy53YXNDbGlja091dHNpZGUgPSB0cnVlO1xuICAgIH1cblxuICAgIGxldCBfbGVmdERpc2FibGVkRXJyb0VsZW1lbnRJZCA9IFtdO1xuICAgIC8vaWYgZGlzYWJsZWQgZWxlbWVudFxuICAgIGlmICh0aGlzLl9jYW5UcmFja0ZvY3VzTG9zdE9uRXJyb3JEaXNhYmxlZCA9PT0gdHJ1ZSkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLl9kaXNhYmxlZEVycm9yRWxlbWVudElkICE9IG51bGwgJiZcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRFcnJvckVsZW1lbnRJZC5sZW5ndGggPiAwXG4gICAgICApIHtcblxuICAgICAgICBmb3IgKGxldCBlbElkIG9mIHRoaXMuX2Rpc2FibGVkRXJyb3JFbGVtZW50SWQpIHtcbiAgICAgICAgICBjb25zdCBkaXNhYmxlZEVsID0gVWlEb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbElkKTtcbiAgICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkaXNhYmxlZEVsLmdldEVsZW1lbnQoKS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xuICAgICAgICAgIGlmIChkaXNhYmxlZEVsICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmKGV2ZW50LnRhcmdldCAhPSBpbnB1dEVsZW1lbnQpXG4gICAgICAgICAgICAgIGRpc2FibGVkRWwuc2V0QmdDb2xvcihcIlwiKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgX2xlZnREaXNhYmxlZEVycm9FbGVtZW50SWQucHVzaChlbElkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmKF9sZWZ0RGlzYWJsZWRFcnJvRWxlbWVudElkLmxlbmd0aCA9PSAwKXtcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRFcnJvckVsZW1lbnRJZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NhblRyYWNrRm9jdXNMb3N0T25FcnJvckRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbHNle1xuICAgICAgICB0aGlzLl9kaXNhYmxlZEVycm9yRWxlbWVudElkID0gX2xlZnREaXNhYmxlZEVycm9FbGVtZW50SWQ7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY2hlY2tLZXkoZXZlbnQpe1xuICAgIGlmICh0aGlzLmRpc2FibGVkID09PSB0cnVlKXtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICB0cmFja0ZvY3VzTG9zdE9uRXJyb3JEaXNhYmxlZCgpIHtcbiAgICB0aGlzLl9jYW5UcmFja0ZvY3VzTG9zdE9uRXJyb3JEaXNhYmxlZCA9IHRydWU7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgRGlhbG9nQ29tcG9uZW50IH0gZnJvbSAnLi9kaWFsb2cuY29tcG9uZW50JztcbmltcG9ydCB7IE1vZGFsTW9kdWxlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcCc7XG5pbXBvcnQgeyBEcmFnZ2FibGVEaXJlY3RpdmUgfSBmcm9tICcuL2RyYWdnYWJsZS5kaXJlY3RpdmUnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIE1vZGFsTW9kdWxlLmZvclJvb3QoKVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBEaWFsb2dDb21wb25lbnQsXG4gICAgRHJhZ2dhYmxlRGlyZWN0aXZlXG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBEaWFsb2dDb21wb25lbnQsXG4gICAgRHJhZ2dhYmxlRGlyZWN0aXZlLFxuICAgIE1vZGFsTW9kdWxlXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgRGlhbG9nTW9kdWxlIHsgfVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBJbnB1dCwgRWxlbWVudFJlZiwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1t2dEdyaWRDb2x1bW5dJ1xufSlcbmV4cG9ydCBjbGFzcyBHcmlkQ29sdW1uRGlyZWN0aXZlIGltcGxlbWVudHMgT25Jbml0IHtcbiAgLy8gQ29sdW1uU3BhbiBvZiBlbGVtZW50XG4gIEBJbnB1dCgpIHZ0R3JpZENvbHVtbjogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0IGxpZmVjeWNsZS4gU2V0IGdyaWQgY29sdW1uIGNzcyBjbGFzc1xuICAgKi9cbiAgbmdPbkluaXQoKSB7XG4gICAgbGV0IGNzc0NsYXNzID0gdGhpcy52dEdyaWRDb2x1bW4gPyBgY29sLXNtLSR7dGhpcy52dEdyaWRDb2x1bW59YCA6ICdjb2wtc20nO1xuICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzKTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgRWxlbWVudFJlZiwgSW5wdXQsIFJlbmRlcmVyMiwgZm9yd2FyZFJlZiwgT3B0aW9uYWwsIFNraXBTZWxmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbi5zZXJ2aWNlJztcblxuLyoqXG4gKiBDbGFzcyBmb3IgSG9yaXpvbnRhbCBsaW5lIChIUikgY29tcG9uZW50XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Z0LWhvcml6b250YWwtc2VwYXJhdG9yJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2hvcml6b250YWwtc2VwYXJhdG9yLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vaG9yaXpvbnRhbC1zZXBhcmF0b3IuY29tcG9uZW50LmNzcyddLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlQ29tcG9uZW50LFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCk9Pkhvcml6b250YWxTZXBhcmF0b3JDb21wb25lbnQpXG4gICAgfVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIEhvcml6b250YWxTZXBhcmF0b3JDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgYm9yZGVyQ29sb3I6IHN0cmluZztcblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSBwYXJlbnQgc2VlIFtbQmFzZUNvbXBvbmVudF1dXG4gICAqIEBwYXJhbSBzZXNzaW9uU2VydmljZSBzZWUgW1tCYXNlQ29tcG9uZW50XV1cbiAgICogQHBhcmFtIGVsZW1lbnRSZWYgc2VlIFtbQmFzZUNvbXBvbmVudF1dXG4gICAqIEBwYXJhbSByZW5kZXJlciBzZWUgW1tCYXNlQ29tcG9uZW50XV1cbiAgICovXG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHBhcmVudDogQmFzZUNvbXBvbmVudCwgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlLCBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCByZW5kZXJlcjogUmVuZGVyZXIyKSB7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXQgbGlmZWN5Y2xlIG1ldGhvZFxuICAgKi9cbiAgbmdPbkluaXQoKSB7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEpTT04gcmVwcmVzZW50YXRpb24gZm9yIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICB0b0pzb24oKSB7XG4gICAgY29uc3QganNvbjogYW55ID0gc3VwZXIudG9Kc29uKCk7XG4gICAgdGhpcy5zZXRKc29uKGpzb24sIFwiYm9yZGVyQ29sb3JcIiwgdGhpcy5ib3JkZXJDb2xvcik7XG5cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEhvcml6b250YWxTZXBhcmF0b3JDb21wb25lbnQgfSBmcm9tICcuL2hvcml6b250YWwtc2VwYXJhdG9yLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbSG9yaXpvbnRhbFNlcGFyYXRvckNvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtIb3Jpem9udGFsU2VwYXJhdG9yQ29tcG9uZW50XVxufSlcbmV4cG9ydCBjbGFzcyBIb3Jpem9udGFsU2VwYXJhdG9yTW9kdWxlIHsgfVxuIiwiZXhwb3J0IGNsYXNzIEludGVnZXIge1xuICBzdGF0aWMgdG9TdHJpbmcobnVtOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbnVtICsgJyc7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIG1vbWVudEltcG9ydGVkIGZyb20gJ21vbWVudCc7XG5cbmNvbnN0IG1vbWVudCA9IG1vbWVudEltcG9ydGVkO1xuXG4vKipcbiAqIEphdmEgRGF0ZUZvcm1hdFxuICovXG5leHBvcnQgY2xhc3MgRGF0ZUZvcm1hdCB7XG4gICAgc3RhdGljIHJlYWRvbmx5IFNIT1JUOiBzdHJpbmcgPSAnTS9EL1lZJztcbiAgICBzdGF0aWMgcmVhZG9ubHkgTUVESVVNOiBzdHJpbmcgPSAnTU1NIEQsIFlZWVknO1xuICAgIHN0YXRpYyByZWFkb25seSBMT05HOiBzdHJpbmcgPSAnTU1NTSBELCBZWVlZJztcblxuICAgIHByaXZhdGUgY2FsZW5kYXI6IG1vbWVudEltcG9ydGVkLk1vbWVudDtcblxuICAgIHN0YXRpYyBnZXREYXRlSW5zdGFuY2UocGF0dGVybjogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZUZvcm1hdChwYXR0ZXJuKTtcbiAgICB9XG5cbiAgICAvL2lmIG5vdCBsZW5pZW50IGFuZCBkYXRlIGlzIGludmFsaWQgYWZ0ZXIgYmVpbmcgcGFyc2VkLCB3ZSB0aHJvdyBlcnJvclxuICAgIHByaXZhdGUgaXNMZW5pZW50OiBib29sZWFuID0gdHJ1ZTtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtYXRQYXR0ZXJuOiBzdHJpbmcgPSBudWxsKSB7XG4gICAgfVxuXG4gICAgc3RhdGljIGphdmFUb01vbWVudERhdGVGb3JtYXQoZm06IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IHMgPSBmbS5yZXBsYWNlKC95L2csICdZJyk7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UoL2QvZywgJ0QnKTtcbiAgICAgICAgLy90aGUgYWJvdmUgaXMgbmVlZGVkIGIvYyBuZy1wYWNrYWdyIGlzIGJlaW5nIGEgYioqKlxuICAgICAgICAvL2l0IGRvZXNuJ3QgbGlrZSByZXR1cm4gZm0ucmVwbGFjZSgveS9nLCAnWScpLnJlcGxhY2UoL2QvZywgJ0QnKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbm93KCk6IG1vbWVudEltcG9ydGVkLk1vbWVudCB7XG4gICAgICByZXR1cm4gbW9tZW50KCk7XG4gICAgfVxuXG4gICAgZm9ybWF0KGRhdGU6IERhdGUgfCBtb21lbnRJbXBvcnRlZC5Nb21lbnQpOiBzdHJpbmcge1xuICAgICAgICBpZiAoZGF0ZSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChkYXRlID09PSB1bmRlZmluZWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFBhdHRlcm4gPT0gbnVsbCA/IG1vbWVudChkYXRlKS5mb3JtYXQoKTogbW9tZW50KGRhdGUpLmZvcm1hdCh0aGlzLmZvcm1hdFBhdHRlcm4pO1xuICAgIH1cblxuICAgIHBhcnNlKGRhdGVTdHJpbmc6IHN0cmluZyk6IG1vbWVudEltcG9ydGVkLk1vbWVudCB7XG4gICAgICAgIGxldCBtb21lbnREYXRlOiBtb21lbnRJbXBvcnRlZC5Nb21lbnQgPSB0aGlzLmZvcm1hdFBhdHRlcm4gPyBtb21lbnQoZGF0ZVN0cmluZywgdGhpcy5mb3JtYXRQYXR0ZXJuKSA6IG1vbWVudChkYXRlU3RyaW5nKTtcblxuICAgICAgICBpZiAodGhpcy5pc0xlbmllbnQgPT09IGZhbHNlICYmIG1vbWVudERhdGUuaXNWYWxpZCgpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gcGFyc2UgZGF0ZSBzdHJpbmc6ICR7ZGF0ZVN0cmluZ30sIHVzaW5nIGZvcm1hdDogJHt0aGlzLmZvcm1hdFBhdHRlcm59YCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGVuZGFyID0gbW9tZW50RGF0ZTtcblxuICAgICAgICByZXR1cm4gbW9tZW50RGF0ZTtcbiAgICB9XG5cbiAgICBzZXRMZW5pZW50KGxlbmllbnQ6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc0xlbmllbnQgPSBsZW5pZW50O1xuICAgIH1cblxuICAgIHNldENhbGVuZGFyKGRhdGU6IERhdGUgfCBtb21lbnRJbXBvcnRlZC5Nb21lbnQpIHtcbiAgICAgIHRoaXMuY2FsZW5kYXIgPSBtb21lbnQoZGF0ZSk7XG4gICAgfVxuXG4gICAgZ2V0Q2FsZW5kYXIoKTogbW9tZW50SW1wb3J0ZWQuTW9tZW50IHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGVuZGFyO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgRWxlbWVudFJlZiwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIFNraXBTZWxmLCBPcHRpb25hbCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIEV2ZW50RW1pdHRlciwgT3V0cHV0LCBSZW5kZXJlcjIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2Vzc2lvbi9zZXNzaW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgQWxpZ25Ib3Jpem9udGFsIH0gZnJvbSAnLi4vYmFzZS9zdHlsZS1saXRlcmFscyc7XG5cbi8qKlxuICogQ2xhc3MgZm9yIGxhYmVsIGNvbXBvbmVudC4gUmVuZGVycyB0ZXh0XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Z0LWxhYmVsLHZ0LWNlbGwnLFxuICB0ZW1wbGF0ZVVybDogJy4vbGFiZWwuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9sYWJlbC5jb21wb25lbnQuY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlQ29tcG9uZW50LFxuICAgICAgdXNlRXhpc3Rpbmc6IExhYmVsQ29tcG9uZW50XG4gICAgfVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIExhYmVsQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIGFsaWduSG9yaXpvbnRhbDogQWxpZ25Ib3Jpem9udGFsO1xuICBASW5wdXQoKSBzZXQgdG9vbHRpcCh0b29sdGlwOiBzdHJpbmcpIHtcbiAgICBpZiAodG9vbHRpcCA9PSBudWxsIHx8IHRvb2x0aXAgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHRoaXMuX3Rvb2x0aXAgPSBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl90b29sdGlwID0gdG9vbHRpcDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWNjZXNzb3IgbWV0aG9kIGZvciBpbnRlcm5hbCBbW190b290aXBdXSBwcm9wZXJ0eVxuICAgKi9cbiAgZ2V0IHRvb2x0aXAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Rvb2x0aXA7XG4gIH1cblxuICBwcml2YXRlIF90b29sdGlwOiBzdHJpbmcgPSAnJztcblxuICBAT3V0cHV0KCkgb25Db21tYW5kID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50IFNlZSBbW0Jhc2VDb21wb25lbnRdXVxuICAgKiBAcGFyYW0gc2Vzc2lvblNlcnZpY2Ugc2VlIFtbQmFzZUNvbXBvbmVudF1dXG4gICAqIEBwYXJhbSBlbGVtZW50UmVmIHNlZSBbW0Jhc2VDb21wb25lbnRdXVxuICAgKiBAcGFyYW0gY2QgQ2hhbmdlIGRldGVjdG9yIHJlZlxuICAgKiBAcGFyYW0gcmVuZGVyZXIgc2VlIFtbQmFzZUNvbXBvbmVudF1dXG4gICAqL1xuICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBAU2tpcFNlbGYoKSBwYXJlbnQ6IEJhc2VDb21wb25lbnQsIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHtcblx0XHRzdXBlcihwYXJlbnQsIHNlc3Npb25TZXJ2aWNlLCBlbGVtZW50UmVmLCByZW5kZXJlcik7XG5cdH1cblxuICAvKipcbiAgICogSW5pdCBsaWZlY3ljbGUgbWV0aG9kLiBSdW5zIHdoZW4gY29tcG9uZW50IGlzIGNyZWF0ZWRcbiAgICovXG4gIG5nT25Jbml0KCkge1xuICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICBpZih0aGlzLmNvbnRyb2xXaWR0aCkge1xuICAgICAgdGhpcy5jb250cm9sV2lkdGggPSB0aGlzLmNvbnRyb2xXaWR0aCArICdweCc7XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXJnaW5SaWdodCkge1xuICAgICAgdGhpcy5tYXJnaW5SaWdodCA9IHRoaXMubWFyZ2luUmlnaHQgKyAncHgnO1xuICAgIH1cblxuICAgIGlmKHRoaXMubWFyZ2luTGVmdCkge1xuICAgICAgdGhpcy5tYXJnaW5MZWZ0ID0gdGhpcy5tYXJnaW5MZWZ0ICsgJ3B4JztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZSBtZXRob2QuIFJ1bnMgYWZ0ZXIgY29tcG9uZW50IHZpZXcgaXMgY3JlYXRlZFxuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuXG4gICAgaWYgKHRoaXMuY29udHJvbEhlaWdodCAhPSBudWxsICYmIHRoaXMuY29udHJvbEhlaWdodCAhPT0gXCJcIikge1xuICAgICAgdGhpcy5zdHlsZXNbXCJoZWlnaHRcIl0gPSB0aGlzLmNvbnRyb2xIZWlnaHQgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVGcm9tRGVmKCk7XG5cbiAgICAvL2ZpeCBleHByZXNzaW9uIGhhcyBjaGFuZ2VkIGJsYWggYmxhaCBibGFoXG4gICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEpTT04gcmVwcmVzZW50YXRpb24gb2YgY29tcG9uZW50XG4gICAqL1xuICB0b0pzb24oKToge30ge1xuICAgIGNvbnN0IGpzb246IGFueSA9IHN1cGVyLnRvSnNvbigpO1xuICAgIHRoaXMuc2V0SnNvbihqc29uLCBcImFsaWduSG9yaXpvbnRhbFwiLCB0aGlzLmFsaWduSG9yaXpvbnRhbCk7XG5cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdmFsdWUgb2YgW1t0b29sdGlwXV0gcHJvcGVydHlcbiAgICogQHBhcmFtIHRvb2x0aXBcbiAgICovXG4gIHNldFRvb2x0aXAodG9vbHRpcDogc3RyaW5nKSB7XG4gICAgdGhpcy50b29sdGlwID0gdG9vbHRpcDtcbiAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlZG93biBldmVudC4gQ2FsbCBwYXJlbnQgY2xhc3MgW1toYW5kbGVNb3VzZURvd25dXVxuICAgKiBAcGFyYW0gZSBNb3VzZSBjbGljayBldmVudFxuICAgKi9cbiAgb25Nb3VzZURvd24oZTogTW91c2VFdmVudCkge1xuICAgIHRoaXMuaGFuZGxlTW91c2VEb3duKGUpXG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgZXZlbnQuXG4gICAqIEBldmVudCBPbkNvbW1hbmRcbiAgICovXG4gIGhhbmRsZU9uQ2xpY2soKSB7XG4gICAgaWYgKHRoaXMuZW1pdEludGVybmFsT25Db21tYW5kKCkgPT09IGZhbHNlKSB7XG4gICAgICB0aGlzLm9uQ29tbWFuZC5lbWl0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2YWx1ZSBvZiBbW2NkXV0gKENoYW5nZURldGVjdG9yUmVmKSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBUaGUgY29tcG9uZW50J3MgY2hhbmdlIGRldGVjdG9yXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0Q2hhbmdlRGV0ZWN0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2Q7XG4gIH1cblxuICAvKipcbiAgICogR2V0IE5leGFXZWIgdGFnIG5hbWVcbiAgICogQHJldHVybnMgTmFtZSBvZiB0YWdcbiAgICovXG4gIHByb3RlY3RlZCBnZXROeFRhZ05hbWUoKSB7XG4gICAgcmV0dXJuIFwibGFiZWxcIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgdGV4dCBpcyBhbGwgc3BhY2UgY2hhcmFjdGVyc1xuICAgKiBAcmV0dXJucyBJZiB0ZXh0IGlzIGp1c3Qgc3BhY2UgY2hhcmFjdGVycyBUUlVFLCBvdGhlcndpc2UgRkFMU0VcbiAgICovXG4gIGdldCBzcGFjZVRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dCAmJiB0aGlzLnRleHQubGVuZ3RoID4gMCAmJiB0aGlzLnRleHQudHJpbSgpLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgW1t2aXNpYmxlXV0gcHJvcGVydHkgdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB2YWx1ZSBUb2dnbGUgdmlzaWJpbGl0eVxuICAgKi9cbiAgc2V0VmlzaWJsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMudmlzaWJsZSA9IHZhbHVlO1xuICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ3NzQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgdGhpcy5nZXRFbGVtZW50KCkucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRDc3NDbGFzcygnaGlkZGVuJyk7XG4gICAgICB0aGlzLmdldEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTGFiZWxDb21wb25lbnQgfSBmcm9tICcuL2xhYmVsLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBCYXNlTW9kdWxlIH0gZnJvbSAnLi4vYmFzZS9iYXNlLm1vZHVsZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG5cdFx0QmFzZU1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtMYWJlbENvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtMYWJlbENvbXBvbmVudF0sXG4gIGVudHJ5Q29tcG9uZW50czogW1xuICAgIExhYmVsQ29tcG9uZW50XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgTGFiZWxNb2R1bGUgeyB9XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE9wdGlvbmFsLCBTa2lwU2VsZiwgRWxlbWVudFJlZiwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIGZvcndhcmRSZWYsIFZpZXdDb250YWluZXJSZWYsIENvbnRlbnRDaGlsZHJlbiwgUXVlcnlMaXN0LCBDaGFuZ2VEZXRlY3RvclJlZiwgUmVuZGVyZXIyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbi5zZXJ2aWNlJztcbmltcG9ydCB7IEJvcmRlclBvc2l0aW9uLCBMYXlvdXQgfSBmcm9tICcuLi9iYXNlL3N0eWxlLWxpdGVyYWxzJztcbmltcG9ydCB7IEF0dHJpYnV0ZXNFbnVtIH0gZnJvbSAnLi4vYmFzZS9hdHRyaWJ1dGVzLmVudW0nO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Z0LXBhbmVsJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BhbmVsLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcGFuZWwuY29tcG9uZW50LmNzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogQmFzZUNvbXBvbmVudCxcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpPT5QYW5lbENvbXBvbmVudClcbiAgICB9XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgUGFuZWxDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgbGF5b3V0OiBMYXlvdXQ7XG4gIEBJbnB1dCgpIGNhcHRpb246IFN0cmluZztcbiAgQElucHV0KCkgZXZlbmx5U3BhY2U6IGJvb2xlYW47IC8vVE9ETyBub3Qgc3VyZSB3aGF0IHRoaXMgaXMgZm9yXG4gIC8qKlxuICAgKiBGb3IgZXNjYXBpbmcgdW5uZWVkZWQgcm93ICYgZmx1aWQgY29udGFpbmVyLiBUaGlzIGlzIGEgdHJpa2N5IG9wdGlvbi5cbiAgICogQWxtb3N0IGNhc2UsIGZsdWlkIGNvbnRhaW5lciBpcyBub3QgbmVlZGVkLiBpdCdzIHRvbyBsYXRlLi4uXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn1cbiAgICovXG4gIEBJbnB1dCgpIG5vR3V0dGVyOiBib29sZWFuID0gZmFsc2U7XG4gICAgLyoqXG4gICAqIEZvciBlc2NhcGluZyBmbHVpZCBjb250YWluZXIuIFRoaXMgaXMgYSB0cmlrY3kgb3B0aW9uLlxuICAgKiBzaG91bGQgYmUgdmFsaWRhdGVkIGJ5IGAobGF5b3V0ICE9PSAnZ3JpZCcpYCAuIGl0J3MgdG9vIGxhdGUuLi5cbiAgICogQHByb3BlcnR5IHtib29sZWFufVxuICAgKi9cbiAgQElucHV0KCkgbm9HcmlkOiBib29sZWFuID0gZmFsc2U7XG4gIC8vY2hpbGRyZW4gbGlzdCB0byBrZWVwIGluZGV4ZXNcbiAgQENvbnRlbnRDaGlsZHJlbihCYXNlQ29tcG9uZW50KSBzZXQgY2hpbGRyZW5MaXN0KGNoaWxkcmVuOiBRdWVyeUxpc3Q8QmFzZUNvbXBvbmVudD4pIHtcbiAgICB0aGlzLnJlc2V0Q2hpbGRJbmRleGVzKGNoaWxkcmVuLmZpbHRlcihjaGlsZD0+Y2hpbGQgIT09IHRoaXMpKTtcbiAgfVxuXG4gIHBhbmVsQ2xhc3NlczogQXJyYXk8c3RyaW5nPiA9IFsndnQtcGFuZWwnXTtcbiAgcGFuZWxTdHlsZXM6IHtbbmFtZTogc3RyaW5nXTogc3RyaW5nfSA9IHt9O1xuXG4gIC8vIMOnwpTCu8Opwp3CosOjwoPCqsOjwoLCtcOjwoLCpMOjwoLCusOlwq/CvsOlwr/CnCBTdGFydFxuICBASW5wdXQoKSByZXNpemVDb21wb25lbnQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCkgcmVzaXplTWFyZ2luVG9wOiBzdHJpbmcgPSBudWxsO1xuICByZXNpemVIZWlnaHQ6IHN0cmluZyA9IG51bGw7XG4gIGRpdkhlaWdodDogc3RyaW5nID0gbnVsbDtcbiAgLy8gw6fClMK7w6nCncKiw6PCg8Kqw6PCgsK1w6PCgsKkw6PCgsK6w6XCr8K+w6XCv8KcIEVuZFxuXG4gIC8vIMOnwpTCu8Opwp3CosOjwoHCrsOjwoPCrMOjwoLCpMOjwoLCosOjwoLCpsOjwoPCiMOlwpvCusOlwq7CmsOlwozClsOlwq/CvsOlwr/CnCBTdGFydFxuICBASW5wdXQoKSBjb250ZW50RGlzcGxheVdpZHRoOiBzdHJpbmcgPSBudWxsO1xuICAvLyDDp8KUwrvDqcKdwqLDo8KBwq7Do8KDwqzDo8KCwqTDo8KCwqLDo8KCwqbDo8KDwojDpcKbwrrDpcKuwprDpcKMwpbDpcKvwr7DpcK/wpwgRW5kXG5cbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LCBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLCByZW5kZXJlcjogUmVuZGVyZXIyKSB7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXQgbGlmZWN5Y2xlLiBTZXQgZGltZW5zaW9ucyBhbmQgY3NzIHN0eWxlc1xuICAgKi9cbiAgbmdPbkluaXQoKSB7XG4gICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgIGlmICh0aGlzLmNzc0NsYXNzICE9IG51bGwpIHtcbiAgICAgIHRoaXMuY3NzQ2xhc3Muc3BsaXQoJyAnKS5mb3JFYWNoKGNzcz0+dGhpcy5wYW5lbENsYXNzZXMucHVzaChjc3MpKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb250YWluZXJMYXlvdXQgPT09IHRydWUgJiYgIXRoaXMubm9HcmlkICYmICF0aGlzLm5vR3V0dGVyKSB7XG4gICAgICB0aGlzLnBhbmVsQ2xhc3Nlcy5wdXNoKCdjb250YWluZXItZmx1aWQnKTtcbiAgICB9XG5cbiAgICAvKmlmICghdGhpcy5ib3JkZXJDb2xvcikge1xuICAgICAgdGhpcy5ib3JkZXJDb2xvciA9ICd0cmFuc3BhcmVudCc7XG4gICAgfSovXG5cbiAgICBpZiAodGhpcy5ib3JkZXJXaWR0aCkge1xuICAgICAgdGhpcy5ib3JkZXJXaWR0aCA9IHRoaXMuYm9yZGVyV2lkdGggKyAncHgnO1xuICAgICAgdGhpcy5ib3JkZXJTdHlsZSA9ICdzb2xpZCc7XG5cbiAgICAgICBpZih0aGlzLmJvcmRlckNvbG9yID09IG51bGwpe1xuICAgICAgICAgdGhpcy5ib3JkZXJDb2xvciA9ICcjZmZmZmZmJztcbiAgICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbnRyb2xIZWlnaHQgPT0gbnVsbCkge1xuICAgICAgdGhpcy5jb250cm9sSGVpZ2h0ID0gJzEwMCUnO1xuICAgIH1cblxuICAgIHRoaXMuc2V0VmlzaWJsZSh0aGlzLnZpc2libGUpO1xuXG4gICAgLy8gw6fClMK7w6nCncKiw6PCg8Kqw6PCgsK1w6PCgsKkw6PCgsK6w6XCr8K+w6XCv8KcIFN0YXJ0XG4gICAgaWYgKHRoaXMucmVzaXplQ29tcG9uZW50KSB7XG4gICAgICB0aGlzLnJlc2l6ZUhlaWdodCA9IFwiY2FsYygxMDAlIC0gXCIgKyB0aGlzLnJlc2l6ZU1hcmdpblRvcCArIFwicHgpXCI7XG4gICAgICB0aGlzLmRpdkhlaWdodCA9IFwiMTAwJVwiO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm1hcmdpbkxlZnQpIHtcbiAgICAgIHRoaXMubWFyZ2luTGVmdCA9IHRoaXMubWFyZ2luTGVmdCArICdweCc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFmdGVyIHZpZXcgaW5pdCBsaWZlY3ljbGUuIFNldCBkaW1lbnNpb25zIGFuZCB0cmlnZ2VyIGNoYW5nZSBkZXRlY3Rpb25cbiAgICovXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBzdXBlci5uZ0FmdGVyVmlld0luaXQoKTtcblxuICAgIHRoaXMuaW5pdFdpZHRoSGVpZ2h0U3R5bGUoKTtcblxuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBjaGlsZHJlbkxpc3QgVXBkYXRlIGxpc3Qgb2YgY2hpbGRyZW4gaWRzXG4gICAqL1xuICBwcml2YXRlIHJlc2V0Q2hpbGRJbmRleGVzKGNoaWxkcmVuTGlzdDogQXJyYXk8QmFzZUNvbXBvbmVudD4pIHtcbiAgICBpZiAoY2hpbGRyZW5MaXN0ICE9IG51bGwgJiYgY2hpbGRyZW5MaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgIGlmICh0aGlzLl9jaGlsZHJlbkluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuX2NoaWxkcmVuSW5kZXggPSBfLnVuaXEoXy5jb25jYXQoY2hpbGRyZW5MaXN0Lm1hcChjaGlsZD0+Y2hpbGQuZ2V0SWQoKSksIHRoaXMuX2NoaWxkcmVuSW5kZXgpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IGRpbWVuc2lvbnMgb2YgcGFuZWwgYmFzZWQgb24gW1tjb250cm9sSGVpZ2h0XV0gYW5kIFtbY29udHJvbFdpZHRoXV0gcHJvcGVydGllc1xuICAgKiBAcGFyYW0gaGVpZ2h0U3R5bGVOYW1lXG4gICAqIEBwYXJhbSB3aWR0aFN0eWxlTmFtZVxuICAgKi9cbiAgcHJvdGVjdGVkIGluaXRXaWR0aEhlaWdodFN0eWxlKGhlaWdodFN0eWxlTmFtZTogc3RyaW5nID0gJ2hlaWdodCcsIHdpZHRoU3R5bGVOYW1lOiBzdHJpbmcgPSAnbWF4LXdpZHRoJykge1xuICAgIGlmICh0aGlzLmNvbnRyb2xIZWlnaHQgIT0gbnVsbCAmJiB0aGlzLmNvbnRyb2xIZWlnaHQgIT0gXCJcIiAmJiBwYXJzZUludCh0aGlzLmNvbnRyb2xIZWlnaHQpID4gMCkge1xuICAgICAgdGhpcy5wYW5lbFN0eWxlc1tcImhlaWdodFwiXSA9IHBhcnNlSW50KHRoaXMuY29udHJvbEhlaWdodCkgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29udHJvbFdpZHRoICE9IG51bGwgJiYgdGhpcy5jb250cm9sV2lkdGggIT0gXCJcIiAmJiBwYXJzZUludCh0aGlzLmNvbnRyb2xXaWR0aCkgPiAwKSB7XG4gICAgICB0aGlzLnBhbmVsU3R5bGVzW3dpZHRoU3R5bGVOYW1lXSA9IHBhcnNlSW50KHRoaXMuY29udHJvbFdpZHRoKSArIFwicHhcIjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbZGlzYWJsZWRdXSBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcGFyYW0gYm9vIFRvZ2dsZSBkaXNhYmxlZFxuICAgKi9cbiAgc2V0RGlzYWJsZWQoYm9vOiBib29sZWFuKXtcbiAgICB0aGlzLmRpc2FibGVkID0gYm9vO1xuICAgIHRoaXMuZ2V0Q2hpbGRyZW4oKS50b0FycmF5KCkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKEF0dHJpYnV0ZXNFbnVtLkRJU0FCTEVELCBib28pO1xuICAgIH0pXG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbdmlzaWJsZV1dIHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSBib28gVG9nZ2xlIHZpc2liaWxpdHlcbiAgICovXG4gIHNldFZpc2libGUoYm9vOiBib29sZWFuKSB7XG4gICAgdGhpcy52aXNpYmxlID0gYm9vO1xuICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ3NzQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgdGhpcy5nZXRFbGVtZW50KCkucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRDc3NDbGFzcygnaGlkZGVuJyk7XG4gICAgICB0aGlzLmdldEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgW1tjYXB0aW9uXV0gcHJvcGVydHkgZXhpc3RzIGFuZCBpcyBzZXRcbiAgICogQHJldHVybnMgVHJ1ZSBpZiBjYXB0aW9uIGV4aXN0cyBhbmQgaGFzIGNvbnRlbnQsIG90aGVyd2lzZSBmYWxzZVxuICAgKi9cbiAgZ2V0IGhhc0NhcHRpb24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuY2FwdGlvbiAhPSBudWxsICYmIHRoaXMuY2FwdGlvbi5sZW5ndGggPiAwO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIFtbbGF5b3V0XV0gcHJvcGVydHkgZXhpc3RzXG4gICAqIEByZXR1cm5zIFRydWUgaWYgbGF5b3V0IGV4aXN0cywgb3RoZXJ3aXNlIGZhbHNlXG4gICAqL1xuICBnZXQgY29udGFpbmVyTGF5b3V0KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmxheW91dCAhPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgW1tjZF1dIChDaGFuZ2VEZXRlY3RvclJlZikgcHJvcGVydHlcbiAgICogQHJldHVybnMgQ2hhbmdlIGRldGVjdG9yIGZvciB0aGlzIHBhbmVsXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0Q2hhbmdlRGV0ZWN0b3IoKTogQ2hhbmdlRGV0ZWN0b3JSZWYge1xuICAgIHJldHVybiB0aGlzLmNkO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9uZW50IGlzIGEgY29udGFpbmVyXG4gICAqIEByZXR1cm5zIFRydWUgc2luY2UgcGFuZWxzIGFyZSBhbHdheXMgY29udGFpbmVyc1xuICAgKi9cbiAgcHJvdGVjdGVkIGlzQ29udGFpbmVyKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldE54VGFnTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcInBhbmVsXCI7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL3BhbmVsLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBHcmlkQ29sdW1uRGlyZWN0aXZlIH0gZnJvbSAnLi9ncmlkLWNvbHVtbi5kaXJlY3RpdmUnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlXG4gIF0sXG4gIGRlY2xhcmF0aW9uczogW1xuICAgIEdyaWRDb2x1bW5EaXJlY3RpdmUsXG4gICAgUGFuZWxDb21wb25lbnRcbiAgXSxcbiAgZXhwb3J0czogW1xuICAgIEdyaWRDb2x1bW5EaXJlY3RpdmUsXG4gICAgUGFuZWxDb21wb25lbnRcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBMYXlvdXRNb2R1bGUgeyB9XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBFbGVtZW50UmVmLCBTa2lwU2VsZiwgT3B0aW9uYWwsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgUmVuZGVyZXIyLCBmb3J3YXJkUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbi5zZXJ2aWNlJztcblxuLyoqXG4gKiBDbGFzcyBmb3IgYSBsaW5rIGNvbXBvbmVudFxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd2dC1saW5rJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2xpbmsuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9saW5rLmNvbXBvbmVudC5jc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogW1xuICAgIHtcbiAgICAgIHByb3ZpZGU6IEJhc2VDb21wb25lbnQsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKT0+TGlua0NvbXBvbmVudClcbiAgICB9XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgTGlua0NvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKSBpZE5hbWU6IHN0cmluZztcbiAgQE91dHB1dCgpIG9uQ29tbWFuZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHNlc3Npb25TZXJ2aWNlIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gZWxlbWVudFJlZiBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGNkIENoYW5nZSBkZXRlY3RvciByZWZlcmVuY2UgZm9yIHRoaXMgY29tcG9uZW50XG4gICAqIEBwYXJhbSByZW5kZXJlciBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHBhcmVudDogQmFzZUNvbXBvbmVudCwgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlLCBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwcml2YXRlIGNkOiBDaGFuZ2VEZXRlY3RvclJlZiwgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuICAgIHN1cGVyKHBhcmVudCwgc2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWYsIHJlbmRlcmVyKTtcbiAgfVxuXG4gIC8qIMOjwoLCq8OjwoPCrMOjwoPCs8OjwoPCgMOjwoPCvMOjwoPCnMOjwoLCv8OjwoPCs8OmwrTCu8OmwoDCpy/DqcKdwp7DpsK0wrvDpsKAwqfDo8KBwq7DqMKJwrLDpsKMwofDpcKuwpogKi9cbiAgX2Rpc2FibGVkOmJvb2xlYW47XG4gIGdldCBkaXNhYmxlZCgpe3JldHVybiB0aGlzLl9kaXNhYmxlZDsgfVxuICBASW5wdXQoJ2Rpc2FibGVkJylcbiAgc2V0IGRpc2FibGVkKHZhbHVlKXtcbiAgICB0aGlzLm9wYWNpdHkgPSB2YWx1ZSA/ICcwLjMnOicxLjAnO1xuICAgIHRoaXMuX2Rpc2FibGVkID0gdmFsdWU7XG4gIH1cbiAgQElucHV0KCdpbm5lcmh0bWwnKSBpbm5lcmh0bWw6IHN0cmluZztcblxuICAvKipcbiAgICogSW5pdCBsaWZlY3ljbGUuIENhbGxzIHBhcmVudCBpbml0IG1ldGhvZFxuICAgKi9cbiAgbmdPbkluaXQoKSB7XG4gICAgc3VwZXIubmdPbkluaXQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBjbGljayBldmVudC4gRG9lcyBub3QgZW1pdCBldmVudCBpZiB0aGUgcGFuZWwgaXMgZGlzYWJsZWRcbiAgICogQGV2ZW50IE9uQ29tbWFuZFxuICAgKi9cbiAgb25DbGljaygpIHtcbiAgICBpZiAoIXRoaXMuZGlzYWJsZWQpXG4gICAgICB0aGlzLm9uQ29tbWFuZC5lbWl0KCk7XG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3Iga2V5ZG93biBldmVudC4gRXhlY3V0ZSBjbGljayBoYW5kbGVyIGlmIGl0J3MgdGhlIGVudGVyIGtleVxuICAgKiBAcGFyYW0gZSBLZXlib2FyZCBFdmVudFxuICAgKi9cbiAgb25LZXlVcChlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgLy8gaWYgRU5URVIga2V5XG4gICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcbiAgICAgIHRoaXMub25DbGljaygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIHBhbmVsXG4gICAqL1xuICB0b0pzb24oKToge30ge1xuICAgIGNvbnN0IGpzb246IGFueSA9IHN1cGVyLnRvSnNvbigpO1xuXG4gICAgaWYgKGpzb25bXCJjdXN0b21BdHRyaWJ1dGVzXCJdID09IG51bGwpIHtcbiAgICAgIGpzb25bXCJjdXN0b21BdHRyaWJ1dGVzXCJdID0ge307XG4gICAgfVxuXG4gICAgdGhpcy5zZXRKc29uKGpzb25bXCJjdXN0b21BdHRyaWJ1dGVzXCJdLCBcImlkTmFtZVwiLCB0aGlzLmlkTmFtZSk7XG5cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFtbY2RdXSAoQ2hhbmdlRGV0ZWN0b3IpIHByb3BlcnR5XG4gICAqIEByZXR1cm5zIFZhbHVlIG9mIFtbY2RdXSBwcm9wZXJ0eVxuICAgKi9cbiAgcHJvdGVjdGVkIGdldENoYW5nZURldGVjdG9yKCk6IENoYW5nZURldGVjdG9yUmVmIHtcbiAgICByZXR1cm4gdGhpcy5jZDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBMaW5rQ29tcG9uZW50IH0gZnJvbSAnLi9saW5rLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbTGlua0NvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtMaW5rQ29tcG9uZW50XVxufSlcbmV4cG9ydCBjbGFzcyBMaW5rTW9kdWxlIHsgfVxuIiwiZXhwb3J0IGNsYXNzIExvbmcge1xuICBzdGF0aWMgdG9TdHJpbmcobnVtOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiBudW0gKyAnJztcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgbW9tZW50SW1wb3J0ZWQgZnJvbSAnbW9tZW50LXRpbWV6b25lJztcblxuLy8gTmVlZCB0byBkbyB0aGlzIHRvIHByZXZlbnQgcGFja2FnciBuYW1lc3BhY2UgZXJyb3Jcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9uZy1wYWNrYWdyL25nLXBhY2thZ3IvaXNzdWVzLzIxN1xuY29uc3QgbW9tZW50ID0gbW9tZW50SW1wb3J0ZWQ7XG5cbi8qKlxuICogU2ltcGxlIHV0aWwgdG8gcGFyc2UgbW9tZW50IGludG8gcHJvcGVyIHpvbmUgKGlmIG5lZWRlZClcbiAqL1xuLy8gQGR5bmFtaWMgLS0gdGhpcyBsaW5lIGNvbW1lbnQgaXMgbmVjZXNzYXJ5IHRvIHByZXZlbnQgcGFja2FnciBlcnJvclxuZXhwb3J0IGNsYXNzIE1vbWVudFV0aWxzIHtcbiAgc3RhdGljIHRpbWVab25lOiBzdHJpbmc7XG5cbiAgc3RhdGljIG1vbWVudChkYXRlU3RyaW5nOiBzdHJpbmcsIGZvcm1hdD86IHN0cmluZyk6IG1vbWVudEltcG9ydGVkLk1vbWVudCB7XG4gICAgaWYgKGZvcm1hdCAhPSBudWxsICYmIGZvcm1hdCAhPSAnJykge1xuICAgICAgaWYgKE1vbWVudFV0aWxzLnRpbWVab25lICE9IG51bGwgJiYgTW9tZW50VXRpbHMudGltZVpvbmUgIT0gJycpIHtcbiAgICAgICAgcmV0dXJuIG1vbWVudC50eihkYXRlU3RyaW5nLCBmb3JtYXQsIE1vbWVudFV0aWxzLnRpbWVab25lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1vbWVudChkYXRlU3RyaW5nLCBmb3JtYXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoTW9tZW50VXRpbHMudGltZVpvbmUgIT0gbnVsbCAmJiBNb21lbnRVdGlscy50aW1lWm9uZSAhPSAnJykge1xuICAgICAgICByZXR1cm4gbW9tZW50LnR6KGRhdGVTdHJpbmcsIE1vbWVudFV0aWxzLnRpbWVab25lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1vbWVudChkYXRlU3RyaW5nKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIEFmdGVyVmlld0luaXQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IER5bmFtaWNFbGVtZW50IH0gZnJvbSBcIi4vZHluYW1pYy1lbGVtZW50XCI7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IEFwcFV0aWxzIH0gZnJvbSBcIi4uL2Jhc2UvYXBwLXV0aWxzXCI7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzRW51bSB9IGZyb20gXCIuLi9iYXNlL2F0dHJpYnV0ZXMuZW51bVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5cbi8qKlxuICogRHluYW1pY0NvbXBvbmVudCBjbGFzcy4gUmVuZGVycyBjb21wb25lbnRzIGF0IHJ1bnRpbWUgYnkgZGVmaW5pdGlvblxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogXCJ2dC1keW5hbWljLWNvbXBvbmVudFwiLFxuICAgIHRlbXBsYXRlVXJsOiBcIi4vZHluYW1pYy5jb21wb25lbnQuaHRtbFwiLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoXG59KVxuZXhwb3J0IGNsYXNzIER5bmFtaWNDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0IHtcbiAgICAvKipcbiAgICAgKiBEZWZpbml0aW9uIG9mIGNvbXBvbmVudCB0byByZW5kZXJcbiAgICAgKi9cbiAgICBASW5wdXQoKSBlbGVtZW50RGVmOiBEeW5hbWljRWxlbWVudDtcbiAgICBAVmlld0NoaWxkKFwibXlDb21wb25lbnRcIiwgeyByZWFkOiBCYXNlQ29tcG9uZW50IH0pIG15Q29tcG9uZW50OiBCYXNlQ29tcG9uZW50O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFmdGVyIGluaXQgbGlmZWN5Y2xlLlxuICAgICAqL1xuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy5jbGVhbkNsYXNzKCk7XG5cbiAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgZWxlbWVudCBpcyB2aXNpYmxlXG4gICAgICogQHJldHVybnMgVmFsdWUgb2YgW1tEeW5hbWljRWxlbWVudF1dIHZpc2libGUgcHJvcGVydHkuXG4gICAgICovXG4gICAgaXNWaXNpYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50RGVmLnZpc2libGUgIT09IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBjb21wb25lbnQgSUQgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2UgZ2VuZXJhdGUgYSB1bmlxdWUgaWRcbiAgICAgKiBAcmV0dXJucyBDb21wb25lbnQncyBpZCB2YWx1ZVxuICAgICAqL1xuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50RGVmLmlkID09IG51bGwgPyBCYXNlQ29tcG9uZW50LmdlbmVyYXRlVW5pcXVlSWQoKSA6IHRoaXMuZWxlbWVudERlZi5pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZvciBPbkNvbW1hbmQgZXZlbnQuIENhbGwgcnVudGltZSBjb21wb25lbnQncyBvbkNvbW1hbmQgaGFuZGxlclxuICAgICAqL1xuICAgIGhhbmRsZU9uQ29tbWFuZCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmVsZW1lbnREZWYub25Db21tYW5kID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudERlZi5vbkNvbW1hbmQodGhpcy5teUNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZvciBPbkNvbnRleHRNZW51IChpLmUuIHJpZ2h0IGNsaWNrLCBjdHJsIGNsaWNrKSBldmVudC4gQ2FsbCBydW50aW1lIGNvbXBvbmVudCdzIG9uQ29udGV4dE1lbnUgSGFuZGxlclxuICAgICAqL1xuICAgIGhhbmRsZU9uQ29udGV4dE1lbnUoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5lbGVtZW50RGVmLm9uQ29udGV4dE1lbnUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50RGVmLm9uQ29udGV4dE1lbnUodGhpcy5teUNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgcnVudGltZSBjb21wb25lbnQncyAnZW5hYmxlZCcgcHJvcGVydHkgdmFsdWUgYmFzZWQgb24gY3NzQ2xhc3MgYW5kIGNhbGwgcGFyZW50IGNsYXNzIGNsZWFuQ3NzIG1ldGhvZFxuICAgICAqL1xuICAgIGNsZWFuQ2xhc3MoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnREZWYuY3NzQ2xhc3MgIT0gbnVsbCAmJiB0aGlzLmVsZW1lbnREZWYuY3NzQ2xhc3MgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgQXBwVXRpbHMuYXR0cmlidXRlT3ZlcnJpZGVDbGFzcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cnMgPSBBcHBVdGlscy5hdHRyaWJ1dGVPdmVycmlkZUNsYXNzKHRoaXMuZWxlbWVudERlZi5jc3NDbGFzcyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGF0dHJzLCAodmFsKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCAhPSBudWxsICYmIHZhbC5hdHRyaWJ1dGVOYW1lID09PSBBdHRyaWJ1dGVzRW51bS5FTkFCTEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50RGVmLmVuYWJsZWQgPSB2YWwudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50RGVmLmNzc0NsYXNzID0gQmFzZUNvbXBvbmVudC5jbGVhbkNzcyh0aGlzLmVsZW1lbnREZWYuY3NzQ2xhc3MpO1xuICAgICAgICB9XG4gICAgfVxufSIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIENoYW5nZURldGVjdG9yUmVmLCBBZnRlclZpZXdJbml0ICwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIFNraXBTZWxmLCBPcHRpb25hbCwgVmlld0NoaWxkLCBmb3J3YXJkUmVmLCBSZW5kZXJlcjJ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZSc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzRW51bSB9IGZyb20gJy4uL2Jhc2UvYXR0cmlidXRlcy5lbnVtJ1xuXG5kZWNsYXJlIHZhciAkIDogYW55O1xuXG4vKipcbiAqIENsYXNzIGZvciB0ZXh0IGZpZWxkIGNvbXBvbmVudFxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd2dC10ZXh0LWZpZWxkJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RleHQtZmllbGQuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90ZXh0LWZpZWxkLmNvbXBvbmVudC5jc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogW1xuICAgIHtcbiAgICAgIHByb3ZpZGU6IEJhc2VDb21wb25lbnQsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKT0+VGV4dEZpZWxkQ29tcG9uZW50KVxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBUZXh0RmllbGRDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcbiAgc3RhdGljIHJlYWRvbmx5IE1BWF9MRU5HVEg6IG51bWJlciA9IDk5OTk7IC8vc2hvdWxkIGJlIDUyMy4uLmJ1dCA5OTk5IHNob3VsZCBiZSBnb29kIGVub3VnaFxuXG4gIC8qKlxuICAgKiBJbnB1dCBlbGVtZW50J3MgdmFsdWVcbiAgICovXG4gIEBJbnB1dCgpIHZhbHVlOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRleHQgZmllbGQgaXMgZWRpdGFibGVcbiAgICovXG4gIEBJbnB1dCgpIGVkaXRhYmxlOiBib29sZWFuIHwgc3RyaW5nID0gdHJ1ZTtcblxuICAvKipcbiAgICogTWF4IGlucHV0IGFsbG93ZWQgZm9yIGNoYXJhY3RlcnNcbiAgICovXG4gIEBJbnB1dCgpIHNldCBtYXhMZW5ndGgobWF4OiBudW1iZXIpIHtcbiAgICB0aGlzLl9tYXhMZW5ndGggPSBtYXg7XG4gIH1cblxuICAvKipcbiAgICogSFRNTCBpbnB1dCBlbGVtZW50IHR5cGUgYXR0cmlidXRlLiBEZWZhdWx0cyB0byAndGV4dCdcbiAgICovXG4gIEBJbnB1dCgpIHR5cGU6IHN0cmluZyA9ICd0ZXh0JztcblxuICBAT3V0cHV0KCkgb25UZXh0Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25FZGl0ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgb25Nb3VzZVVwID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIGdldCBtYXhMZW5ndGgoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5fbWF4TGVuZ3RoID4gMCA/IHRoaXMuX21heExlbmd0aCA6IFRleHRGaWVsZENvbXBvbmVudC5NQVhfTEVOR1RIO1xuICB9XG5cbiAgcHJpdmF0ZSBfbWF4TGVuZ3RoOiBudW1iZXIgPSBUZXh0RmllbGRDb21wb25lbnQuTUFYX0xFTkdUSDtcbiAgcHJpdmF0ZSBfdGV4dEJlZm9yZUZvY3VzSW46c3RyaW5nOy8vZm9yIG9uRWRpdCgpXG4gIHByaXZhdGUgX3RleHRQcmV2aW91c0tleUlucHV0OnN0cmluZzsvL2ZvciBvblRleHRDaGFuZ2UoKVxuICBAVmlld0NoaWxkKCdpbnB1dCcpIGlucHV0OiBFbGVtZW50UmVmO1xuXG4gIHN0eWxlVmFyOiB7W2tleTogc3RyaW5nXTogc3RyaW5nfSA9IHt9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50IHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gc2Vzc2lvblNlcnZpY2Ugc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBlbGVtZW50UmVmIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gY2QgQ2hhbmdlIGRldGVjdG9yIGZvciB0aGlzIGNvbXBvbmVudFxuICAgKiBAcGFyYW0gcmVuZGVyZXIgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBAU2tpcFNlbGYoKSBwYXJlbnQ6IEJhc2VDb21wb25lbnQsIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHtcbiAgICBzdXBlcihwYXJlbnQsIHNlc3Npb25TZXJ2aWNlLCBlbGVtZW50UmVmLCByZW5kZXJlcik7XG5cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0IGxpZmVjeWNsZS4gU2V0IGRpbWVuc2lvbnMgYW5kIHN0eWxlIHByb3BlcnRpZXNcbiAgICovXG4gIG5nT25Jbml0KCkge1xuICAgIHN1cGVyLm5nT25Jbml0KCk7XG4gICAgaWYgKHRoaXMuZGlzYWJsZWQgJiYgdGhpcy5mb250Q29sb3JEaXNhYmxlZCkge1xuICAgICAgdGhpcy5zdHlsZVZhcltcImNvbG9yXCJdID0gdGhpcy5mb250Q29sb3JEaXNhYmxlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zdHlsZVZhcltcImNvbG9yXCJdID0gdGhpcy5mb250Q29sb3IgfHwgJ2luaGVyaXQnO1xuICAgIH1cbiAgICAvLyB0aGlzLnN0eWxlVmFyW1wibWFyZ2luLWxlZnRcIl0gPSBcIjFweFwiO1xuICAgIHRoaXMuc3R5bGVWYXJbXCJtYXJnaW4tcmlnaHRcIl0gPSBcIjVweFwiO1xuXG4gICAgLy8gdGhpcy5zdHlsZXNbXCJtYXJnaW4tbGVmdFwiXSA9IFwiMXB4XCI7XG4gICAgdGhpcy5zdHlsZXNbXCJtYXJnaW4tcmlnaHRcIl0gPSBcIjVweFwiO1xuXG4gICAgaWYodGhpcy5jb250cm9sV2lkdGgpe1xuICAgICAgdGhpcy5jb250cm9sV2lkdGggPSB0aGlzLmNvbnRyb2xXaWR0aCArICdweCc7XG4gICAgfVxuXG4gICAgaWYodGhpcy5jb250cm9sSGVpZ2h0KXtcbiAgICAgIHRoaXMuY29udHJvbEhlaWdodCA9IHRoaXMuY29udHJvbEhlaWdodCArICdweCc7XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXJnaW5MZWZ0KXtcbiAgICAgIHRoaXMubWFyZ2luTGVmdCA9IHRoaXMubWFyZ2luTGVmdCArICdweCc7XG4gICAgfVxuXG4gICAgaWYodGhpcy5tYXJnaW5Ub3Ape1xuICAgICAgdGhpcy5tYXJnaW5Ub3AgPSB0aGlzLm1hcmdpblRvcCArICdweCc7XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZS4gU2V0IGRpbWVuc2lvbnMsIGZvY3VzIHRleHQgZmllbGRcbiAgICovXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBzdXBlci5uZ0FmdGVyVmlld0luaXQoKTtcblxuICAgIHRoaXMuaW5pdFdpZHRoSGVpZ2h0U3R5bGUoKTtcblxuICAgIHRoaXMuc2V0QXR0cmlidXRlRnJvbURlZigpO1xuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuXG4gICAgaWYgKHRoaXMuZm9jdXNPbkFjdGl2YXRpb24pIHtcbiAgICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnR5cGUgPT09ICdkYXRlJykge1xuICAgICAgLy8gUmVtb3ZlIG5hdGl2ZSBkYXRlcGlja2VyIGNvbnRyb2xzIGFwcGxpZWQgYnkgQ2hyb21lXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudCwgJ3R5cGUnLCAndGV4dCcpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBibHVyICh1bmZvY3VzKSBldmVudFxuICAgKiBAcGFyYW0gZSBJbnB1dCBibHVyIGV2ZW50XG4gICAqL1xuICBvbkJsdXIoZSwgdmFsdWUpIHtcbiAgICBpZighZG9jdW1lbnQuaGFzRm9jdXMoKSAmJiAkKFwiOmZvY3VzXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnRleHQgPSB2YWx1ZTsvL3doZW4gdGhlIGxhc3QgY2hhciBpcyBaZW5rYWt1IGFuZCB0aGUgdXNlciBkb2Vzbid0IHByZXNzICdFbnRlcicsIHRoaXMgaXMgbmVlZGVkLlxuICAgIGlmKHRoaXMudGV4dCAhPSB0aGlzLl90ZXh0QmVmb3JlRm9jdXNJbilcbiAgICAgIHRoaXMub25FZGl0LmVtaXQoKTtcbiAgICAvLyBDaGVja3MgZm9yIG51bWVyaWMgZGF0ZSBlbnRyeSB3aXRob3V0IHNsYXNoZXM6IGUuZyAyMDE5MDEwNFxuXG4gICAgLy8gSWYgdGhlIHVzZXIgZW50ZXJzIG51bWJlcnMgd2l0aG91dCBzbGFzaGVzIGF1dG8gZm9ybWF0IGFzIGRhdGVcbiAgICBpZiAodGhpcy50eXBlPT09J2RhdGUnICYmIC9eXFxkezh9JC9tLnRlc3QodGhpcy50ZXh0KSkge1xuICAgICAgbGV0IGZvcm1hdHRlZERhdGVTdHJpbmcgPSBbdGhpcy50ZXh0LnN1YnN0cigwLDQpLCB0aGlzLnRleHQuc3Vic3RyKDQsMiksIHRoaXMudGV4dC5zdWJzdHIoNiwyKV0uam9pbignLycpO1xuICAgICAgdGhpcy50ZXh0ID0gZm9ybWF0dGVkRGF0ZVN0cmluZztcbiAgICB9XG5cbiAgICB0aGlzLnZhbGlkYXRlRmllbGQoZSk7XG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgZm9jdXMgZXZlbnRcbiAgICogQHBhcmFtIGUgSW5wdXQgZm9jdXMgZXZlbnRcbiAgICovXG4gIG9uRm9jdXMoZSkge1xuICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5zZWxlY3Rpb25TdGFydCA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgdGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LnNlbGVjdGlvbkVuZCA9IHRoaXMudGV4dC5sZW5ndGg7XG5cbiAgICBpZighdGhpcy5jdXN0b21BdHRyaWJ1dGVzKVxuICAgICAgcmV0dXJuO1xuICAgIGxldCBmb3JtYXROYW1lOnN0cmluZz0gdGhpcy5jdXN0b21BdHRyaWJ1dGVzWydmb3JtYXQnXTtcbiAgICBpZiAoZm9ybWF0TmFtZSAmJiBmb3JtYXROYW1lLmluZGV4T2YoXCJhZGRfY29tbWFcIikgPj0gMCkge1xuICAgICAgbGV0IHR4dE1vdW50ID0gdGhpcy50ZXh0LnJlcGxhY2UoLywvZyxcIlwiKVxuICAgICAgdGhpcy50ZXh0ID0gdHh0TW91bnQ7XG4gICAgfVxuICAgIHRoaXMuX3RleHRCZWZvcmVGb2N1c0luID0gdGhpcy50ZXh0O1xuICAgIHRoaXMuX3RleHRQcmV2aW91c0tleUlucHV0ID0gdGhpcy50ZXh0O1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRleHQgaW5wdXRcbiAgICogRW1pdCBvblRleHRDaGFuZ2UgYi9jIHVzZXIga2VlcCB0eXBpbmcgKGlucHV0IHN0aWxsIGhhcyBmb2N1cylcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAZXZlbnQgb25UZXh0Q2hhbmdlXG4gICAqL1xuICBvbklucHV0KGV2ZW50OiBLZXlib2FyZEV2ZW50LCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgaWYoZXZlbnQua2V5Q29kZSA9PSA4IHx8IGV2ZW50LmtleUNvZGUgPT0gNDYpLy9CYWNrc3BhY2UgfHwgRGVsZXRlXG4gICAge1xuICAgICAgbGV0IHBvcyA9IHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5zZWxlY3Rpb25TdGFydDtcbiAgICAgIHRoaXMudGV4dCA9IHZhbHVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5zZWxlY3Rpb25TdGFydCA9IHBvcztcbiAgICAgICAgdGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LnNlbGVjdGlvbkVuZCA9IHBvcztcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZih0aGlzLl90ZXh0UHJldmlvdXNLZXlJbnB1dCAhPSB0aGlzLnRleHQpXG4gICAgICB0aGlzLm9uVGV4dENoYW5nZS5lbWl0KCk7XG4gICAgdGhpcy5fdGV4dFByZXZpb3VzS2V5SW5wdXQgPSB0aGlzLnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogRm9jdXMgdGhlIGlucHV0IGVsZW1lbnRcbiAgICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHNldEZvY3VzKCl7XG4gICAgdGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGJhY2tncm91bmQgY29sb3IgQ1NTIGZvciB0aGUgdGV4dCBpbnB1dFxuICAgKiBAcGFyYW0gYmdDb2xvciBDU1MgY29sb3Igc3RyaW5nIHZhbHVlIGZvciBiYWNrZ3JvdW5kXG4gICAqL1xuICBzZXRCZ0NvbG9yKGJnQ29sb3I6IHN0cmluZylcbiAge1xuICAgIHRoaXMuaW5wdXQubmF0aXZlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiZ0NvbG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW19tYXhMZW5ndGhdXSBwcm9wZXJ0eSB2YWx1ZVxuICAgKi9cbiAgZ2V0TWF4TGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9tYXhMZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbX21heExlbmd0aF1dIHByb3BlcnR5IHZhbHVlXG4gICAqIEBwYXJhbSBtYXggTWF4aW11bSBsZW5ndGggb2YgY2hhcmFjdGVyIGlucHV0XG4gICAqL1xuICBzZXRNYXhMZW5ndGgobWF4OiBudW1iZXIgfCBzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIG1heCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgdGhpcy5fbWF4TGVuZ3RoID0gbWF4O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9tYXhMZW5ndGggPSBwYXJzZUludChtYXgpO1xuICAgIH1cblxuICAgIHRoaXMuY2QubWFya0ZvckNoZWNrKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IEpTT04gcmVwcmVzZW50YXRpb24gZm9yIHRoaXMgdGV4dC1maWVsZFxuICAgKi9cbiAgdG9Kc29uKCk6IHt9IHtcbiAgICBjb25zdCBqc29uOiBhbnkgPSBzdXBlci50b0pzb24oKTtcbiAgICB0aGlzLnNldEpzb24oanNvbiwgXCJlZGl0YWJsZVwiLCB0aGlzLmVkaXRhYmxlKTtcblxuICAgIGlmICh0aGlzLnZhbHVlICE9IG51bGwpIHtcbiAgICAgIHRoaXMuc2V0SnNvbihqc29uLCBcInZhbHVlXCIsIHRoaXMudmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBjb21wb25lbnQgbmFtZVxuICAgKi9cbiAgZ2V0TG9jYWxOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwidGV4dEZpZWxkXCI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB0ZXh0IGNvbnRlbnQgdmFsdWUgb2YgdGhlIGlucHV0IGVsZW1lbnRcbiAgICovXG4gIGdldFZhbHVlKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0VGV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIG1vdXNldXBcbiAgICogQGV2ZW50IE9uTW91c2VVcFxuICAgKi9cbiAgaGFuZGxlTW91c2VVcCgpIHtcbiAgICB0aGlzLm9uTW91c2VVcC5lbWl0KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgU3RyaW5nIFRhZyBuYW1lXG4gICAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBwcm90ZWN0ZWQgZ2V0TnhUYWdOYW1lKCkge1xuICAgIHJldHVybiBcInRleHRGaWVsZFwiO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgW1tjZF1dIChDaGFuZ2VEZXRlY3RvcikgcHJvcGVydHlcbiAgICogQHJldHVybnMgQ2hhbmdlIGRldGVjdG9yXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0Q2hhbmdlRGV0ZWN0b3IoKTogQ2hhbmdlRGV0ZWN0b3JSZWYge1xuICAgIHJldHVybiB0aGlzLmNkO1xuICB9XG5cbiAgLy9hbmd1bGFyIGRvZXNuJ3QgbGlrZSBhY2Nlc3NpbmcgcHJpdmF0ZS9wdWJsaWMgbWV0aG9kXG4gIF9ub3RpZnlJbnRlcm5hbENoYW5nZUNiKCkge1xuICAgIHN1cGVyLl9ub3RpZnlJbnRlcm5hbENoYW5nZUNiKCk7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0IGFsbCB0ZXh0XG4gICAqL1xuICBzZWxlY3RUZXh0KCl7XG4gICAgdGhpcy5pbnB1dC5uYXRpdmVFbGVtZW50LnNlbGVjdCgpO1xuICB9XG4gIC8qKlxuICAgKiBTZXQgW1t2aXNpYmxlXV0gcHJvcGVydHkgdmFsdWVcbiAgICogQG92ZXJyaWRlXG4gICAqIEBwYXJhbSB2YWx1ZSBUb2dnbGUgdmlzaWJpbGl0eVxuICAgKi9cbiAgc2V0VmlzaWJsZSh2YWx1ZTogYm9vbGVhbikge1xuICAgIHRoaXMudmlzaWJsZSA9IHZhbHVlO1xuICAgIGlmICh0aGlzLnZpc2libGUpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ3NzQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgdGhpcy5nZXRFbGVtZW50KCkucmVtb3ZlQXR0cmlidXRlKCdoaWRkZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRDc3NDbGFzcygnaGlkZGVuJyk7XG4gICAgICB0aGlzLmdldEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgVGV4dEZpZWxkQ29tcG9uZW50IH0gZnJvbSAnLi90ZXh0LWZpZWxkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBGb3Jtc01vZHVsZSxcbiAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtUZXh0RmllbGRDb21wb25lbnRdLFxuICBleHBvcnRzOiBbXG4gICAgVGV4dEZpZWxkQ29tcG9uZW50LFxuICAgIEZvcm1zTW9kdWxlLFxuICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gIF0sXG4gIGVudHJ5Q29tcG9uZW50czogW1xuICAgIFRleHRGaWVsZENvbXBvbmVudFxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFRleHRGaWVsZE1vZHVsZSB7IH1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgRHluYW1pY0NvbXBvbmVudCB9IGZyb20gJy4vZHluYW1pYy5jb21wb25lbnQnO1xuaW1wb3J0IHsgQnV0dG9uTW9kdWxlIH0gZnJvbSAnLi4vYnV0dG9uL2J1dHRvbi5tb2R1bGUnO1xuaW1wb3J0IHsgVGV4dEZpZWxkTW9kdWxlIH0gZnJvbSAnLi4vdGV4dC1maWVsZC90ZXh0LWZpZWxkLm1vZHVsZSc7XG5pbXBvcnQgeyBMYXlvdXRNb2R1bGUgfSBmcm9tICcuLi9sYXlvdXQvbGF5b3V0Lm1vZHVsZSc7XG5pbXBvcnQgeyBMYWJlbE1vZHVsZSB9IGZyb20gJy4uL2xhYmVsL2xhYmVsLm1vZHVsZSc7XG5pbXBvcnQgeyBIb3Jpem9udGFsU2VwYXJhdG9yTW9kdWxlIH0gZnJvbSAnLi4vaG9yaXpvbnRhbC1zZXBhcmF0b3IvaG9yaXpvbnRhbC1zZXBhcmF0b3IubW9kdWxlJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBCdXR0b25Nb2R1bGUsXG4gICAgTGFiZWxNb2R1bGUsXG4gICAgVGV4dEZpZWxkTW9kdWxlLFxuICAgIExheW91dE1vZHVsZSxcbiAgICBIb3Jpem9udGFsU2VwYXJhdG9yTW9kdWxlXG4gIF0sXG4gIGRlY2xhcmF0aW9uczogW1xuICAgIER5bmFtaWNDb21wb25lbnRcbiAgXSxcbiAgZXhwb3J0czogW1xuICAgIER5bmFtaWNDb21wb25lbnQsXG4gICAgQnV0dG9uTW9kdWxlLFxuICAgIExhYmVsTW9kdWxlLFxuICAgIFRleHRGaWVsZE1vZHVsZSxcbiAgICBMYXlvdXRNb2R1bGUsXG4gICAgSG9yaXpvbnRhbFNlcGFyYXRvck1vZHVsZVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIER5bmFtaWNNb2R1bGUgeyB9XG4iLCJpbXBvcnQgeyBEeW5hbWljRWxlbWVudCB9IGZyb20gXCIuL2R5bmFtaWMtZWxlbWVudFwiO1xuXG5leHBvcnQgY2xhc3MgRHluYW1pY0VsZW1lbnRCdWlsZGVyIHtcbiAgICBwcml2YXRlIGR5bmFtaWNFbGVtZW50OiBEeW5hbWljRWxlbWVudDtcbiAgICBwcml2YXRlIGRyb3BTaGFkb3dDb2xvcjogc3RyaW5nO1xuICAgIHByaXZhdGUgZHJvcFNoYWRvd09mZnNldDogc3RyaW5nO1xuXG4gICAgc3RhdGljIGNyZWF0ZUxhYmVsRWxlbWVudCh3aGl0ZVNwYWNlV3JhcDogYm9vbGVhbiA9IGZhbHNlLCBwYWRkaW5nOiBzdHJpbmcgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVsID0gbmV3IER5bmFtaWNFbGVtZW50QnVpbGRlcigpO1xuICAgICAgICBlbC5keW5hbWljRWxlbWVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwibGFiZWxcIlxuICAgICAgICB9O1xuXG4gICAgICAgIGVsLmluaXRTdHlsZSgpO1xuXG4gICAgICAgIGlmICh3aGl0ZVNwYWNlV3JhcCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgZWwuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wid2hpdGUtc3BhY2VcIl0gPSBcIm5vd3JhcFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhZGRpbmcgIT0gbnVsbCAmJiBwYWRkaW5nICE9PSAnJykge1xuICAgICAgICAgICAgZWwuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wicGFkZGluZ1wiXSA9IHBhZGRpbmc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWw7XG4gICAgfVxuXG4gICAgdG9EeW5hbWljRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHluYW1pY0VsZW1lbnQ7XG4gICAgfVxuXG4gICAgc2V0SWQoaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LmlkID0gaWQ7XG4gICAgfVxuXG4gICAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC50ZXh0ID0gdGV4dDtcbiAgICB9XG5cbiAgICBzZXRUZXh0Mih0ZXh0OiBzdHJpbmcpIHtcbiAgICAgICAgLy9ub3Qgc3VyZSB3aGF0IHRoaXMgaXMsIGZvciBub3csIGN1c3RvbSBhdHRyaWJ1dGVcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJ0ZXh0MlwiLCB0ZXh0KTtcbiAgICB9XG5cbiAgICBzZXRWYWx1ZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBzZXRUb29sdGlwKHRvb2x0aXA6IHN0cmluZykge1xuICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LnRvb2x0aXAgPSB0b29sdGlwO1xuICAgIH1cblxuICAgIHNldFZpc2libGUodmlzaWJsZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LnZpc2libGUgPSB2aXNpYmxlO1xuICAgIH1cblxuICAgIHNldEVuYWJsZWQoZW5hYmxlZDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LmVuYWJsZWQgPSBlbmFibGVkO1xuICAgIH1cblxuICAgIHNldFBvcHVwKHBvcHVwTWVudUlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC5wb3B1cE1lbnVJZCA9IHBvcHVwTWVudUlkO1xuICAgIH1cblxuICAgIHNldEJnQ29sb3IoYmdDb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wiYmFja2dyb3VuZC1jb2xvclwiXSA9IHRoaXMuY2hlY2tDdXN0b21Db2xvcihiZ0NvbG9yKTtcbiAgICB9XG5cbiAgICBhZGRDc3NDbGFzcyhjc3NDbGFzczogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIGlmICh0aGlzLmR5bmFtaWNFbGVtZW50LmNzc0NsYXNzID09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LmNzc0NsYXNzID0gY3NzQ2xhc3M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LmNzc0NsYXNzID0gdGhpcy5keW5hbWljRWxlbWVudC5jc3NDbGFzcyArIFwiIFwiICsgY3NzQ2xhc3M7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRCb3JkZXJDb2xvcihib3JkZXJDb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wiYm9yZGVyLWNvbG9yXCJdID0gdGhpcy5jaGVja0N1c3RvbUNvbG9yKGJvcmRlckNvbG9yKTtcbiAgICAgICAgdGhpcy5pbml0Qm9yZGVyU3R5bGUoKTtcbiAgICB9XG5cbiAgICBzZXRCb3JkZXJXaWR0aChib3JkZXJXaWR0aDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wiYm9yZGVyLXdpZHRoXCJdID0gdGhpcy5jb252ZXJ0U3R5bGVVbml0KGJvcmRlcldpZHRoKTtcbiAgICAgICAgdGhpcy5pbml0Qm9yZGVyU3R5bGUoKTtcbiAgICB9XG5cbiAgICBzZXRCb3JkZXJTdHlsZShib3JkZXJTdHlsZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wiYm9yZGVyLXN0eWxlXCJdID0gYm9yZGVyU3R5bGU7XG4gICAgfVxuXG4gICAgc2V0SGVpZ2h0KGhlaWdodDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wiaGVpZ2h0XCJdID0gaGVpZ2h0ICsgXCJweFwiO1xuICAgIH1cblxuICAgIHNldFdpZHRoKHdpZHRoOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5pbml0U3R5bGUoKTtcbiAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC5zdHlsZXNbXCJ3aWR0aFwiXSA9IHdpZHRoICsgXCJweFwiO1xuICAgIH1cblxuICAgIHNldFgoeDogc3RyaW5nIHwgbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wicG9zaXRpb25cIl0gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wibGVmdFwiXSA9IHggKyBcInB4XCI7XG4gICAgfVxuXG4gICAgc2V0WSh5OiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5pbml0U3R5bGUoKTtcbiAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC5zdHlsZXNbXCJwb3NpdGlvblwiXSA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC5zdHlsZXNbXCJ0b3BcIl0gPSB5ICsgXCJweFwiO1xuICAgIH1cblxuICAgIHNldFooejogc3RyaW5nIHwgc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wiei1pbmRleFwiXSA9IHogO1xuICAgIH1cblxuXG4gICAgc2V0Rm9udEJvbGQoYm9vOiBzdHJpbmcgfCBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG5cbiAgICAgICAgaWYgKGJvbyA9PT0gXCJ0cnVlXCIgfHwgYm9vID09PSB0cnVlKSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LnN0eWxlc1tcImZvbnQtd2VpZ2h0XCJdID0gXCJib2xkXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LnN0eWxlc1tcImZvbnQtd2VpZ2h0XCJdID0gXCJub3JtYWxcIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEZvbnRTaXplKHNpemU6IHN0cmluZyB8IG51bWJlcikge1xuICAgICAgICB0aGlzLmluaXRTdHlsZSgpO1xuICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LnN0eWxlc1tcImZvbnQtc2l6ZVwiXSA9IHNpemUgKyBcInB4XCI7XG4gICAgfVxuXG4gICAgc2V0Rm9udENvbG9yKGNvbG9yOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5pbml0U3R5bGUoKTtcbiAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC5zdHlsZXNbXCJjb2xvclwiXSA9IHRoaXMuY2hlY2tDdXN0b21Db2xvcihjb2xvcik7XG4gICAgfVxuXG4gICAgc2V0TWFyZ2luKG1hcmdpbjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wibWFyZ2luXCJdID0gdGhpcy5jb252ZXJ0U3R5bGVVbml0KG1hcmdpbik7XG4gICAgfVxuXG4gICAgc2V0QWxpZ25WZXJ0aWNhbChhbGlnbjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG5cbiAgICAgICAgaWYgKGFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgICAgICBhbGlnbiA9IFwibWlkZGxlXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LnN0eWxlc1tcInZlcnRpY2FsLWFsaWduXCJdID0gYWxpZ247XG4gICAgfVxuXG4gICAgc2V0QWxpZ25Ib3Jpem9udGFsKGFsaWduOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5pbml0U3R5bGUoKTtcbiAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC5zdHlsZXNbXCJ0ZXh0LWFsaWduXCJdID0gYWxpZ247XG4gICAgfVxuXG4gICAgc2V0Qm9yZGVyQ29ybmVyKGJvcmRlckNvcm5lcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuaW5pdFN0eWxlKCk7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wiYm9yZGVyLXJhZGl1c1wiXSA9IHRoaXMuY29udmVydFN0eWxlVW5pdChib3JkZXJDb3JuZXIpO1xuICAgIH1cblxuICAgIHNldERyb3BTaGFkb3dDb2xvcihkcm9wU2hhZG93Q29sb3I6IHN0cmluZykge1xuICAgICAgICB0aGlzLmRyb3BTaGFkb3dDb2xvciA9IHRoaXMuY2hlY2tDdXN0b21Db2xvcihkcm9wU2hhZG93Q29sb3IpO1xuICAgICAgICB0aGlzLnNldEJveFNoYWRvdygpO1xuICAgIH1cblxuICAgIHNldERyb3BTaGFkb3dPZmZzZXQoZHJvcFNoYWRvd09mZnNldDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZHJvcFNoYWRvd09mZnNldCA9IGRyb3BTaGFkb3dPZmZzZXQ7XG4gICAgICAgIHRoaXMuc2V0Qm94U2hhZG93KCk7XG4gICAgfVxuXG4gICAgc2V0T25Db250ZXh0TWVudShmbjogKHRoaXNBcmc/OiBhbnkpPT52b2lkKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQub25Db250ZXh0TWVudSA9IGZuO1xuICAgIH1cblxuICAgIHNldE9uQ29tbWFuZChmbjogKHRoaXNBcmc/OiBhbnkpPT52b2lkKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQub25Db21tYW5kID0gZm47XG4gICAgfVxuXG4gICAgc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuZHluYW1pY0VsZW1lbnQuY3VzdG9tQXR0cmlidXRlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LmN1c3RvbUF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuY3VzdG9tQXR0cmlidXRlc1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldFJpY2hUZXh0KHN0cjogc3RyaW5nIHwgYm9vbGVhbikge1xuICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LnJpY2hUZXh0ID0gc3RyID09PSB0cnVlIHx8IHN0ciA9PT0gXCJ0cnVlXCI7XG4gICAgfVxuXG4gICAgYXBwZW5kQ2hpbGQoY2hpbGQ6IER5bmFtaWNFbGVtZW50QnVpbGRlcikge1xuICAgICAgICBpZiAodGhpcy5keW5hbWljRWxlbWVudC5jaGlsZHJlbiA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmR5bmFtaWNFbGVtZW50LmNoaWxkcmVuID0gW2NoaWxkLmR5bmFtaWNFbGVtZW50XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuY2hpbGRyZW4ucHVzaChjaGlsZC5keW5hbWljRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRTdHlsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzID0ge307XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRCb3JkZXJTdHlsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZHluYW1pY0VsZW1lbnQuc3R5bGVzW1wiYm9yZGVyLXN0eWxlXCJdID09IG51bGwgfHwgdGhpcy5keW5hbWljRWxlbWVudC5zdHlsZXNbXCJib3JkZXItc3R5bGVcIl0gPT0gXCJcIikge1xuICAgICAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC5zdHlsZXNbXCJib3JkZXItc3R5bGVcIl0gPSBcInNvbGlkXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNvbnZlcnRTdHlsZVVuaXQodW5pdDogc3RyaW5nKSB7XG4gICAgICAgIGlmICh1bml0ICE9IG51bGwgJiYgdW5pdC5pbmRleE9mKFwiLFwiKSA+IDApIHtcbiAgICAgICAgICAgIHVuaXQgPSB1bml0LnNwbGl0KFwiLFwiKS5tYXAobT0+bSArIFwicHhcIikuam9pbihcIiBcIik7XG4gICAgICAgIH0gZWxzZSBpZiAodW5pdCAhPSBudWxsICYmIHVuaXQgIT09IFwiXCIpIHtcbiAgICAgICAgICAgIHVuaXQgPSB1bml0ICsgXCJweFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHVuaXQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRCb3hTaGFkb3coKSB7XG4gICAgICAgIGlmICh0aGlzLmRyb3BTaGFkb3dDb2xvciAhPSBudWxsICYmIHRoaXMuZHJvcFNoYWRvd09mZnNldCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRTdHlsZSgpO1xuICAgICAgICAgICAgdGhpcy5keW5hbWljRWxlbWVudC5zdHlsZXNbXCJib3gtc2hhZG93XCJdID0gYCR7dGhpcy5kcm9wU2hhZG93T2Zmc2V0fXB4ICR7dGhpcy5kcm9wU2hhZG93T2Zmc2V0fXB4ICR7dGhpcy5kcm9wU2hhZG93T2Zmc2V0fXB4ICR7dGhpcy5kcm9wU2hhZG93Q29sb3J9YDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tDdXN0b21Db2xvcihjb2xvcjogc3RyaW5nKSB7XG4gICAgICAgIGlmIChjb2xvciAhPSBudWxsICYmIGNvbG9yLmluZGV4T2YoXCIjXCIpID09PSAwICYmIGNvbG9yLmxlbmd0aCA+IDcpIHtcbiAgICAgICAgICAgIGNvbG9yID0gXCJ2YXIoXCIgKyBjb2xvci5yZXBsYWNlKFwiI1wiLCBcIi0tXCIpICsgXCIpXCI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIFNraXBTZWxmLCBPcHRpb25hbCwgQ2hhbmdlRGV0ZWN0b3JSZWYsIFJlbmRlcmVyMiwgZm9yd2FyZFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZSc7XG5pbXBvcnQgeyBlbGVtZW50IH0gZnJvbSAncHJvdHJhY3Rvcic7XG5pbXBvcnQgeyBVaURvY3VtZW50IH0gZnJvbSAnLi4vYmFzZS91aS1kb2N1bWVudCc7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHJhZGlvIGJ1dHRvbiBpbnB1dCBjb250cm9sXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Z0LXJhZGlvLWJ1dHRvbicsXG4gIHRlbXBsYXRlVXJsOiAnLi9yYWRpby1idXR0b24uY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9yYWRpby1idXR0b24uY29tcG9uZW50LmNzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogQmFzZUNvbXBvbmVudCxcbiAgICAgIHVzZUV4aXN0aW5nOiBmb3J3YXJkUmVmKCgpPT5SYWRpb0J1dHRvbkNvbXBvbmVudClcbiAgICB9XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgUmFkaW9CdXR0b25Db21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgZ3JvdXA6IHN0cmluZztcbiAgQElucHV0KCkgaWROYW1lOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHZhbHVlOiBhbnk7XG4gIEBJbnB1dCgpIHNldCBpc0NoZWNrZWQoYm9vOiBib29sZWFuKSB7XG4gICAgdGhpcy5jaGVja2VkID0gYm9vO1xuICB9XG5cbiAgQElucHV0KCkgY2hlY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgX2ludGVybmFsQ2hhbmdlVHJhY2tpbmc6IGJvb2xlYW47XG5cbiAgQE91dHB1dCgpIG9uQ29tbWFuZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAvKipcbiAgICogXG4gICAqIEBwYXJhbSBwYXJlbnQgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBzZXNzaW9uU2VydmljZSBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGVsZW1lbnRSZWYgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBjZCBDaGFuZ2UgZGV0ZWN0b3IgZm9yIHRoaXMgcGFuZWxcbiAgICogQHBhcmFtIHJlbmRlcmVyIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LCBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmLCByZW5kZXJlcjogUmVuZGVyZXIyKSB7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXQgbGlmZWN5Y2xlLiBDYWxsIHBhcmVudCBpbml0IG1ldGhvZC5cbiAgICovXG4gIG5nT25Jbml0KCkge1xuICAgIHN1cGVyLm5nT25Jbml0KCk7XG5cbiAgICBpZiAodGhpcy5pZE5hbWUgIT0gbnVsbCkge1xuICAgICAgdGhpcy5zZXRDdXN0b21BdHRyaWJ1dGUoJ2lkTmFtZScsIHRoaXMuaWROYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZS4gU2V0IHRoZSByYWRpb2J1dHRvbiBncm91cCBhbmQgYXR0cmlidXRlcy5cbiAgICogQ2FsbHMgcGFyZW50IG5nQWZ0ZXJWaWV3SW50aSBtZXRob2RcbiAgICovXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBzdXBlci5uZ0FmdGVyVmlld0luaXQoKTtcblxuICAgIGlmICh0aGlzLmdldFBhcmVudCgpICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZ2V0UGFyZW50KCkuYWRkUmFkaW9CdXR0b25Hcm91cCh0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZUZyb21EZWYoKTtcbiAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgICB0aGlzLl9pbnRlcm5hbENoYW5nZVRyYWNraW5nID0gdGhpcy5jaGVja2VkO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNoYW5nZSBldmVudFxuICAgKiBAZXZlbnQgT25Db21tYW5kXG4gICAqL1xuICBvbkNoYW5nZSgpIHtcbiAgICB0aGlzLm9uQ29tbWFuZC5lbWl0KCk7XG4gIH1cblxuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgZXZlbnQuIFVwZGF0ZXMgcmFkaW8gYnV0dG9uIHN0YXRlXG4gICAqIEBwYXJhbSBldmVudCBNb3VzZSBjbGljayBldmVudFxuICAgKi9cbiAgb25DbGljayhldmVudDogTW91c2VFdmVudCkge1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIFxuICAgIGxldCBmaXJlT25DaGFuZ2UgPSBmYWxzZTtcblxuICAgIC8vc2F2ZSBjdXJyZW50IHZhbHVlIGJlZm9yZSByZXNldFxuICAgIGNvbnN0IHRlbXBDaGVjayA9IHRoaXMuY2hlY2tlZDtcblxuICAgIHRoaXMucmVzZXRHcm91cFJhZGlvcygpO1xuXG4gICAgLy9yZXNldCBjdXJyZW50IHZhbHVlIGJhY2sgZm9yIG9uQ2hhbmdlXG4gICAgdGhpcy5faW50ZXJuYWxDaGFuZ2VUcmFja2luZyA9IHRlbXBDaGVjaztcblxuICAgIC8vcmVnaXN0ZXIgY2xpY2sgZm9yIG1jb1xuICAgIHRoaXMuY2hlY2tlZCA9IHRydWU7XG4gICAgdGhpcy5oYW5kbGVDbGljayhldmVudCk7XG5cbiAgICBpZiAodGhpcy5faW50ZXJuYWxDaGFuZ2VUcmFja2luZyAhPT0gdGhpcy5jaGVja2VkKSB7XG4gICAgICB0aGlzLm9uQ2hhbmdlKCk7XG4gICAgICB0aGlzLl9pbnRlcm5hbENoYW5nZVRyYWNraW5nID0gdGhpcy5jaGVja2VkO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBtb3VzZWRvd24gZXZlbnRcbiAgICogQHBhcmFtIGUgTW91c2VEb3duIGV2ZW50XG4gICAqL1xuICBvbk1vdXNlRG93bihlOiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5oYW5kbGVNb3VzZURvd24oZSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb21wb25lbnQgbmFtZVxuICAgKi9cbiAgZ2V0TG9jYWxOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIFwicmFkaW9CdXR0b25cIjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFtbdmFsdWVdXSBwcm9wZXJ0eVxuICAgKi9cbiAgZ2V0VmFsdWUoKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIFtbY2hlY2tlZF1dIHByb3BlcnR5XG4gICAqL1xuICBnZXRDaGVja2VkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNoZWNrZWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdmFsdWUgZm9yIFtbY2hlY2tlZF1dIHByb3BlcnR5IGFuZCB1cGRhdGVkIFtbX2ludGVybmFsQ2hhbmdlVHJhY2tpbmddXSB2YWx1ZVxuICAgKiBAcGFyYW0gc2hvdWxkQ2hlY2tlZCBUb2dnbGUgY2hlY2tlZFxuICAgKi9cbiAgc2V0Q2hlY2tlZChzaG91bGRDaGVja2VkOiBib29sZWFuIHwgc3RyaW5nLCBza2lwSW50ZXJuYWxDaGFuZ2U6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIGlmIChzaG91bGRDaGVja2VkID09PSB0cnVlKSB7XG4gICAgICB0aGlzLnJlc2V0R3JvdXBSYWRpb3MoKTtcbiAgICB9XG5cbiAgICB0aGlzLmNoZWNrZWQgPSBzaG91bGRDaGVja2VkID09PSB0cnVlIHx8IHNob3VsZENoZWNrZWQgPT09ICd0cnVlJztcbiAgICB0aGlzLl9pbnRlcm5hbENoYW5nZVRyYWNraW5nID0gdGhpcy5jaGVja2VkO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG5cbiAgICAvL25vdGlmeSBpbnRlcm5hbCBjaGFuZ2VzIChmb3IgaW50ZXJuYWwgdXNlIG9ubHkpXG4gICAgaWYgKHNraXBJbnRlcm5hbENoYW5nZSAhPT0gdHJ1ZSkge1xuICAgICAgdGhpcy5fbm90aWZ5SW50ZXJuYWxDaGFuZ2VDYigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayB0aGUgcmFkaW8gYnV0dG9uIG9mIHRoZSBwYXJlbnQgZ3JvdXAgdGhhdCBtYXRjaGVzIFtbdmFsdWVdXVxuICAgKiBAcGFyYW0gdmFsdWUgXG4gICAqL1xuICBzZXRTZWxlY3RlZCh2YWx1ZTogYW55KSB7XG4gICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBcInRydWVcIikge1xuICAgICAgdGhpcy5zZXRDaGVja2VkKHRydWUpO1xuICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gdGhpcy52YWx1ZSkge1xuICAgICAgdGhpcy5zZXRDaGVja2VkKHRydWUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLmdldFBhcmVudCgpICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGdyb3VwID0gdGhpcy5nZXRQYXJlbnQoKS5nZXRSYWRpb0J1dHRvbkdyb3VwKHRoaXMuZ3JvdXApO1xuXG4gICAgICBpZiAoZ3JvdXAgIT0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCByYWRpbyBvZiBncm91cCkge1xuICAgICAgICAgIGlmIChyYWRpby5nZXRWYWx1ZSgpID09IHZhbHVlKSB7XG4gICAgICAgICAgICByYWRpby5zZXRDaGVja2VkKHRydWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgcmFkaW9idXR0b24gY29tcG9uZW50XG4gICAqIEByZXR1cm5zIEpTT05cbiAgICovXG4gIHRvSnNvbigpOiB7fSB7XG4gICAgY29uc3QganNvbiA9IHN1cGVyLnRvSnNvbigpO1xuXG4gICAganNvbltcImdyb3VwXCJdID0gdGhpcy5ncm91cDtcbiAgICBqc29uW1wic2VsZWN0ZWRcIl0gPSB0aGlzLmNoZWNrZWQgPT09IHRydWUgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgTmV4YVdlYiB0YWcgbmFtZVxuICAgKiBAcmV0dXJuIFRhZyBuYW1lXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0TnhUYWdOYW1lKCkge1xuICAgIHJldHVybiBcInJhZGlvQnV0dG9uXCI7XG4gIH1cblxuICAvKipcbiAgICogVW5jaGVjayBhbGwgcmFkaW8gYnV0dG9ucyBpbiB0aGUgcmFkaW8gYnV0dG9uJ3MgZ3JvdXBcbiAgICovXG4gIHByaXZhdGUgcmVzZXRHcm91cFJhZGlvcygpIHtcbiAgICBjb25zdCBncm91cCA9IHRoaXMuZ2V0UGFyZW50KCkuZ2V0UmFkaW9CdXR0b25Hcm91cCh0aGlzLmdyb3VwKTtcblxuICAgIGlmIChncm91cCAhPSBudWxsKSB7XG4gICAgICBmb3IgKGxldCByYWRpbyBvZiBncm91cCkge1xuICAgICAgICByYWRpby5zZXRDaGVja2VkKGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbY2RdXSAoQ2hhbmdlRGV0ZWN0b3IpIG9mIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0Q2hhbmdlRGV0ZWN0b3IoKTogQ2hhbmdlRGV0ZWN0b3JSZWYge1xuICAgIHJldHVybiB0aGlzLmNkO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgY29tcG9uZW50IGlzIGEgcmFkaW9idXR0b25cbiAgICogQHJldHVybnMgVHJ1ZVxuICAgKi9cbiAgcHJvdGVjdGVkIGlzUmFkaW9CdXR0b24oKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgUmFkaW9CdXR0b25Db21wb25lbnQgfSBmcm9tICcuL3JhZGlvLWJ1dHRvbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbUmFkaW9CdXR0b25Db21wb25lbnRdLFxuICBleHBvcnRzOiBbXG4gICAgUmFkaW9CdXR0b25Db21wb25lbnQsXG4gICAgRm9ybXNNb2R1bGUsXG4gICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgXSxcbiAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgUmFkaW9CdXR0b25Db21wb25lbnRcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBSYWRpb0J1dHRvbk1vZHVsZSB7IH1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgU2tpcFNlbGYsIE9wdGlvbmFsLCBmb3J3YXJkUmVmLCBSZW5kZXJlcjIsIENoYW5nZURldGVjdG9yUmVmLCBJbnB1dCwgVmlld0NoaWxkLCBOZ1pvbmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2Vzc2lvbi9zZXNzaW9uLnNlcnZpY2UnO1xuXG4vKipcbiAqIENsYXNzIGZvciBzY3JvbGwgcGFuZSBjb21wb25lbnRcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndnQtc2Nyb2xsLXBhbmUnLFxuICB0ZW1wbGF0ZVVybDogJy4vc2Nyb2xsLXBhbmUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9zY3JvbGwtcGFuZS5jb21wb25lbnQuY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlQ29tcG9uZW50LFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCk9PlNjcm9sbFBhbmVDb21wb25lbnQpXG4gICAgfVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFNjcm9sbFBhbmVDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAvL8OmwozCh8Olwq7CmsOjwoHClcOjwoLCjMOjwoHCn8OlwojChsOjwoHCoMOjwoHCkcOlwpvCusOlwq7CmsOpwoPCqMOlwojChsOjwoHCqMOjwoHCl8OjwoHCpsOpwpnCpMOjwoHCjcOjwoDCgcOjwoHCncOjwoLCjMOkwrvCpcOlwqTClsOjwoLCksOlwo/Cr8OlwqTCicOpwqDCmMOlwp/Cn8OjwoHCqMOjwoHCmcOjwoLCi1xuICBASW5wdXQoKSByZXNpemVIZWlnaHQ6IHN0cmluZztcbiAgQElucHV0KCkgc2tpcFNjcm9sbEFkanVzdG1lbnQ6IGJvb2xlYW47XG5cbiAgQFZpZXdDaGlsZCgnc2Nyb2xsRGl2Jykgc2Nyb2xsRGl2RWxlbWVudDogRWxlbWVudFJlZjtcblxuICBwcml2YXRlIF9zY3JvbGxlckhhbmRsZXI6IChldmVudCk9PnZvaWQ7XG5cbiAgcHJpdmF0ZSBfc2Nyb2xsVmVydGljYWxQb3MgPSAwO1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHNlc3Npb25TZXJ2aWNlIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gZWxlbWVudFJlZiBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHJlbmRlcmVyIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gY2QgQ2hhbmdlIGRldGVjdG9yIGZvciB0aGlzIGNvbXBvbmVudCBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LFxuICAgIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSxcbiAgICBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHJlbmRlcmVyOiBSZW5kZXJlcjIsXG4gICAgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgcHJpdmF0ZSB6b25lOiBOZ1pvbmVcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuXG4gICAgdGhpcy5fc2Nyb2xsZXJIYW5kbGVyID0gKGV2ZW50KT0+e1xuICAgICAgdGhpcy5oYW5kbGVPblNjcm9sbChldmVudCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBbW2NkXV0gKENoYW5nZSBkZXRlY3RvcikgcHJvcGVydHkgdmFsdWVcbiAgICogQHJldHVybnMgQ2hhbmdlIGRldGVjdG9yIHJlZmVyZW5jZVxuICAgKi9cbiAgZ2V0Q2hhbmdlRGV0ZWN0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2Q7XG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZS4gU2V0IGRpbWVuc2lvbnMgYW5kIHRyaWdnZXIgY2hhbmdlIGRldGVjdGlvblxuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuICAgIGlmICh0aGlzLmNvbnRyb2xIZWlnaHQgPT0gbnVsbCkge1xuICAgICAgdGhpcy5jb250cm9sSGVpZ2h0ID0gJzEwMCUnO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb250cm9sSGVpZ2h0ICE9IG51bGwgJiYgdGhpcy5jb250cm9sSGVpZ2h0ICE9PSBcIlwiKSB7XG4gICAgICB0aGlzLnN0eWxlc1tcImhlaWdodFwiXSA9IHRoaXMuY29udHJvbEhlaWdodCArIFwicHhcIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb250cm9sV2lkdGggIT0gbnVsbCAmJiB0aGlzLmNvbnRyb2xXaWR0aCAhPT0gXCJcIikge1xuICAgICAgdGhpcy5zdHlsZXNbXCJtYXgtd2lkdGhcIl0gPSB0aGlzLmNvbnRyb2xXaWR0aCArIFwicHhcIjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5tYXhIZWlnaHQgIT0gbnVsbCAmJiB0aGlzLm1heEhlaWdodCAhPT0gXCJcIikge1xuICAgICAgdGhpcy5zdHlsZXNbXCJtYXgtaGVpZ2h0XCJdID0gdGhpcy5tYXhIZWlnaHQgKyBcInB4XCI7XG4gICAgfVxuICAgIGlmICh0aGlzLnJlc2l6ZUhlaWdodCAhPSBudWxsICYmIHRoaXMucmVzaXplSGVpZ2h0ICE9PSBcIlwiKSB7XG4gICAgICB0aGlzLnN0eWxlc1tcImhlaWdodFwiXSA9IFwiY2FsYygxMDAlIC0gXCIgKyB0aGlzLnJlc2l6ZUhlaWdodCArIFwicHgpXCI7XG4gICAgfVxuXG4gICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57XG4gICAgICAvL2ZvciBodHRwczovL2dpdGh1Yi5jb20vd2VhdmVpby9uZ25zb3BoaWEvaXNzdWVzLzEzOTIsIHRyYWNrIHBvc2l0aW9uIG9mIHNjcm9sbCBwYW5lXG4gICAgICAvL3NvIGl0IGNhbiBiZSByZXNldCBiYWNrIHdoZW4gdXNlciBzd2l0Y2hpbmcgdGFic1xuICAgICAgaWYgKHRoaXMuc2tpcFNjcm9sbEFkanVzdG1lbnQgIT09IHRydWUpIHtcbiAgICAgICAgKHRoaXMuc2Nyb2xsRGl2RWxlbWVudC5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuX3Njcm9sbGVySGFuZGxlciwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgfVxuXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XG5cbiAgICAodGhpcy5zY3JvbGxEaXZFbGVtZW50Lm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5fc2Nyb2xsZXJIYW5kbGVyLCB0cnVlKTtcbiAgICB0aGlzLl9zY3JvbGxlckhhbmRsZXIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbCBldmVudCBvZiBkaXZcbiAgICovXG4gIHByaXZhdGUgaGFuZGxlT25TY3JvbGwoZXZlbnQpIHtcbiAgICB0aGlzLl9zY3JvbGxWZXJ0aWNhbFBvcyA9IGV2ZW50LnNyY0VsZW1lbnQuc2Nyb2xsVG9wO1xuICB9XG5cbiAgcmVzZXRTY3JvbGxUb3BUb1ByZXZpb3VzUG9zaXRpb24oKSB7XG4gICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57XG4gICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgIGlmKHRoaXMuc2Nyb2xsRGl2RWxlbWVudC5uYXRpdmVFbGVtZW50LnNjcm9sbFRvcCAhPSB0aGlzLl9zY3JvbGxWZXJ0aWNhbFBvcykge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsRGl2RWxlbWVudC5uYXRpdmVFbGVtZW50LnNjcm9sbFRvcCA9IHRoaXMuX3Njcm9sbFZlcnRpY2FsUG9zO1xuICAgICAgICB9XG4gICAgICB9LCAzMDApO1xuICAgIH0pO1xuICB9XG5cbiAgcmVzZXRTY3JvbGxUb3BQb3NpdGlvbigpIHtcbiAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PntcbiAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgdGhpcy5fc2Nyb2xsVmVydGljYWxQb3MgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbERpdkVsZW1lbnQubmF0aXZlRWxlbWVudC5zY3JvbGxUb3AgPSB0aGlzLl9zY3JvbGxWZXJ0aWNhbFBvcztcbiAgICAgIH0sIDMwMCk7XG4gICAgfSk7XG4gIH1cblxuICBpc1Njcm9sbFZpZXcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpc1Njcm9sbFBhbmUoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgU2Nyb2xsUGFuZUNvbXBvbmVudCB9IGZyb20gJy4vc2Nyb2xsLXBhbmUuY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtTY3JvbGxQYW5lQ29tcG9uZW50XSxcbiAgZXhwb3J0czogW1xuICAgIFNjcm9sbFBhbmVDb21wb25lbnRcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBTY3JvbGxQYW5lTW9kdWxlIHsgfVxuIiwiaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdCdWlsZGVyIHtcbiAgcHJpdmF0ZSBfaW50ZXJuYWxTdHJpbmc6IHN0cmluZyA9IFwiXCI7XG5cbiAgY29uc3RydWN0b3IoaW5pdGlhbD86IHN0cmluZykge1xuICAgIGlmIChpbml0aWFsICE9IG51bGwpIHtcbiAgICAgIHRoaXMuYXBwZW5kKGluaXRpYWwpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGVuZChzdHI6IHN0cmluZyB8IFN0cmluZ0J1aWxkZXIpIHtcbiAgICBpZiAoc3RyIGluc3RhbmNlb2YgU3RyaW5nQnVpbGRlcikge1xuICAgICAgdGhpcy5faW50ZXJuYWxTdHJpbmcgPSB0aGlzLl9pbnRlcm5hbFN0cmluZyArIHN0ci50b1N0cmluZygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbFN0cmluZyA9IHRoaXMuX2ludGVybmFsU3RyaW5nICsgc3RyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLl9pbnRlcm5hbFN0cmluZztcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2ludGVybmFsU3RyaW5nID0gXCJcIjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICB9XG5cbiAgaW5kZXhPZihzdHI6IHN0cmluZyk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVybmFsU3RyaW5nLmluZGV4T2Yoc3RyKTtcbiAgfVxuXG4gIHN1YnN0cmluZyhzdGFydElkeDogbnVtYmVyLCBlbmRJZHg/OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChlbmRJZHggIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFsU3RyaW5nLnN1YnN0cmluZyhzdGFydElkeCwgZW5kSWR4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxTdHJpbmcuc3Vic3RyaW5nKHN0YXJ0SWR4KTtcbiAgfVxuXG4gIHJlcGxhY2Uoc3RhcnRJZHg6IG51bWJlciwgZW5kSWRleDogbnVtYmVyLCByZXBsYWNlU3RyOiBzdHJpbmcpOiBTdHJpbmdCdWlsZGVyIHtcbiAgICBjb25zdCBiID0gdGhpcy5faW50ZXJuYWxTdHJpbmcuc3Vic3RyaW5nKDAsIHN0YXJ0SWR4KTtcbiAgICBjb25zdCBlID0gdGhpcy5faW50ZXJuYWxTdHJpbmcuc3Vic3RyaW5nKGVuZElkZXgpO1xuXG4gICAgdGhpcy5faW50ZXJuYWxTdHJpbmcgPSBiICsgcmVwbGFjZVN0ciArIGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2ludGVybmFsU3RyaW5nLmxlbmd0aDtcbiAgfVxuXG4gIGNoYXJBdChpOiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmIChpIDwgdGhpcy5faW50ZXJuYWxTdHJpbmcubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxTdHJpbmcuY2hhckF0KGkpO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgc2V0Q2hhckF0KGlkeDogbnVtYmVyLCB2YWw6IG51bWJlciB8IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICh0eXBlb2YgdmFsID09PSBcIm51bWJlclwiKSB7XG4gICAgICB0aGlzLmluc2VydChpZHgsIFN0cmluZy5mcm9tQ2hhckNvZGUodmFsKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5zZXJ0KGlkeCwgdmFsKTtcbiAgICB9XG4gIH1cblxuICBkZWxldGVDaGFyQXQoaTogbnVtYmVyKTogU3RyaW5nQnVpbGRlciB7XG4gICAgdGhpcy5yZXBsYWNlKGksIGksICcnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGluc2VydChpbmRleDogbnVtYmVyLCBzdHI6IHN0cmluZyk6IFN0cmluZ0J1aWxkZXIge1xuICAgIGlmIChpbmRleCA8PSB0aGlzLl9pbnRlcm5hbFN0cmluZy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX2ludGVybmFsU3RyaW5nID0gdGhpcy5faW50ZXJuYWxTdHJpbmcuc3Vic3RyaW5nKDAsIGluZGV4IC0gMSkgKyBzdHIgKyB0aGlzLl9pbnRlcm5hbFN0cmluZy5zdWJzdHJpbmcoaW5kZXgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgbGFzdEluZGV4T2YoY2hyOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5faW50ZXJuYWxTdHJpbmcgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIF8ubGFzdEluZGV4T2YodGhpcy5faW50ZXJuYWxTdHJpbmcsIGNocik7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIFRlbXBsYXRlUmVmLCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqIFRoaXMgZGlyZWN0aXZlIHNlcnZlIGFzIGEgdGVtcGxhdGUgZm9yIHJlbmRlcmluZyB0YWJsZSBjZWxsLlxuICovXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ1t2dC10YWJsZS1jZWxsXSdcbn0pXG5leHBvcnQgY2xhc3MgVGFibGVDZWxsRGlyZWN0aXZlIHtcbiAgICBASW5wdXQoKSBvbkNvbnRleHRNZW51Q2I6IChwYXJlbnRWaWV3OiBhbnkpPT52b2lkO1xuXG4gICAgLyoqXG4gICAgICogSG9yaXpvbnRhbCBhbGlnbm1lbnQgKGNlbnRlciwgbGVmdCwgcmlnaHQpXG4gICAgICovXG4gICAgQElucHV0KCkgYWxpZ25Ib3Jpem9udGFsOiBzdHJpbmc7XG4gICAgXG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHRlbXBsYXRlIFRlbXBsYXRlIG9uIGhvdyB0byByZW5kZXIgdGhlIGNlbGwsIHdlIHdpbGwgZm9yd2FyZCByb3csIGNvbHVtbiwgZXRjIHRvIHRoZSB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pikge1xuXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBUZW1wbGF0ZVJlZiwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKiBUaGlzIHRlbXBsYXRlIGlzIHVzZWQgdG8gcmVuZGVyIGhlYWRlciBpZiBhIGN1c3RvbWVyIHJlbmRlcmluZyBpcyBuZWVkZWQsIGJ5IGRlZmF1bHQsIGhlYWRlciBjYW4gYmUgcGFzc2VkIGluXG4gKiB0byB0aGUgVGFibGVDb2x1bW5EaXJlY3RpdmUgYXMgYSBzdHJpbmdcbiAqL1xuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbdnQtdGFibGUtaGVhZGVyXSdcbn0pXG5leHBvcnQgY2xhc3MgVGFibGVIZWFkZXJEaXJlY3RpdmUge1xuICAgIEBJbnB1dCgpIGlkOiBzdHJpbmc7XG4gICAgQElucHV0KCkgYXV0b1dyYXA6IGJvb2xlYW4gfCBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHRlbXBsYXRlIFRlbXBsYXRlIG9uIGhvdyB0byByZW5kZXIgdGhlIGhlYWRlciwgd2Ugd2lsbCBmb3J3YXJkIHJvdywgY29sdW1uLCBldGMgdG8gdGhlIHRlbXBsYXRlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHVibGljIHRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+KSB7XG4gICAgICAgIFxuICAgIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICd2dC1oZWFkZXInXG59KVxuZXhwb3J0IGNsYXNzIEhlYWRlckRpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIHRleHQ6IHN0cmluZztcbiAgQElucHV0KCkgY3NzQ2xhc3M6IHN0cmluZztcbiAgQElucHV0KCkgY29udHJvbEhlaWdodDogc3RyaW5nO1xuICBASW5wdXQoKSBjb250cm9sV2lkdGg6IHN0cmluZztcbiAgQElucHV0KCkgaGVhZGVySGVpZ2h0OiBzdHJpbmc7XG4gIEBJbnB1dCgpIGF1dG9XcmFwOiBib29sZWFuIHwgc3RyaW5nO1xuICBASW5wdXQoKSBpZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKCkgeyB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKHRoaXMuaWQgPT0gbnVsbCkge1xuICAgICAgdGhpcy5pZCA9IEJhc2VDb21wb25lbnQuZ2VuZXJhdGVVbmlxdWVJZChcImhlYWRlclwiKTtcbiAgICB9XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBJbnB1dCwgVGVtcGxhdGVSZWYsIENvbnRlbnRDaGlsZCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFRhYmxlQ2VsbERpcmVjdGl2ZSB9IGZyb20gJy4vdGFibGUtY2VsbC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgVGFibGVIZWFkZXJEaXJlY3RpdmUgfSBmcm9tICcuL3RhYmxlLWhlYWRlci5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgSGVhZGVyRGlyZWN0aXZlIH0gZnJvbSAnLi9oZWFkZXIuZGlyZWN0aXZlJztcbmltcG9ydCB7IENlbGxEZWZpbml0aW9uIH0gZnJvbSAnLi9jZWxsLWRlZmluaXRpb24nO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQXR0cmlidXRlc0VudW0gfSBmcm9tICcuLi9iYXNlL2F0dHJpYnV0ZXMuZW51bSc7XG5pbXBvcnQgeyBKYXZhVXRpbHMgfSBmcm9tICcuLi9qYXZhL2phdmEtdXRpbHMnO1xuXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ3Z0LXRhYmxlLWNvbHVtbidcbn0pXG5leHBvcnQgY2xhc3MgVGFibGVDb2x1bW5EaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIC8vVE9ET1xuICAgIEBJbnB1dCgpIGxvY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLy9UT0RPXG4gICAgQElucHV0KCkgZW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBASW5wdXQoKSBzb3J0YWJsZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBASW5wdXQoKSBpc0NoZWNrZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEhvcml6b250YWwgYWxpZ25tZW50IChjZW50ZXIsIGxlZnQsIHJpZ2h0KVxuICAgICAqL1xuICAgIEBJbnB1dCgpIGFsaWduSG9yaXpvbnRhbDogc3RyaW5nO1xuXG4gICAgQElucHV0KCkgaWQ6IHN0cmluZztcblxuICAgIC8vY2VsbCB0ZW1wbGF0ZVxuICAgIEBDb250ZW50Q2hpbGQoVGFibGVDZWxsRGlyZWN0aXZlLCB7cmVhZDogVGFibGVDZWxsRGlyZWN0aXZlfSlcbiAgICBjZWxsVGVtcGxhdGU6IFRhYmxlQ2VsbERpcmVjdGl2ZTtcblxuICAgIC8vaGVhZGVyIHRlbXBsYXRlIGlmIHdlIHdhbnQgdG8gcmVuZGVyIHRoZSBoZWFkZXIgZGlmZmVyZW50bHkgKGkuZS4gY2hlY2tib3gsIGV0YylcbiAgICBAQ29udGVudENoaWxkKFRhYmxlSGVhZGVyRGlyZWN0aXZlLCB7cmVhZDogVGVtcGxhdGVSZWZ9KVxuICAgIGhlYWRlclRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgLy9oZWFkZXIgdGFnP1xuICAgIEBDb250ZW50Q2hpbGQoSGVhZGVyRGlyZWN0aXZlKSBoZWFkZXJEaXJlY3RpdmU6IEhlYWRlckRpcmVjdGl2ZTtcblxuICAgIC8vZGVmYXVsdCwgdXNlIHRoZSB7aGVhZGVyfSBhcyB0aGUgaGVhZGVyIGZvciB0aGUgY2VsbFxuICAgIEBJbnB1dCgpIHNldCBoZWFkZXIgKGhlYWRlcjogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2hlYWRlciA9IGhlYWRlcjtcbiAgICB9XG5cbiAgICBnZXQgaGVhZGVyKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmhlYWRlckRpcmVjdGl2ZSA/IHRoaXMuaGVhZGVyRGlyZWN0aXZlLnRleHQgOiB0aGlzLl9oZWFkZXI7XG4gICAgfVxuXG4gICAgQElucHV0KCkgYXV0b1dyYXA6IGJvb2xlYW47XG5cbiAgICBfaGVhZGVyOiBzdHJpbmc7XG5cbiAgICBzb3J0RGlyZWN0aW9uOiBzdHJpbmc7XG5cbiAgICBvcmlnaW5hbENvbHVtbkluZGV4OiBudW1iZXI7XG5cbiAgICBASW5wdXQoKSBjb250cm9sV2lkdGg6IHN0cmluZyB8IG51bWJlcjtcbiAgICBASW5wdXQoKSBjb250cm9sSGVpZ2h0OiBzdHJpbmcgfCBudW1iZXI7XG5cbiAgICBASW5wdXQoKSBjZWxsSGVpZ2h0OiBzdHJpbmcgfCBudW1iZXI7XG5cbiAgICBASW5wdXQoKSBoZWFkZXJIZWlnaHQ6IHN0cmluZyB8IG51bWJlcjtcblxuICAgIEBJbnB1dCgpIHNldCB2aXNpYmxlKHZpczogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl92aXNpYmxlID0gdmlzO1xuXG4gICAgICAgIGlmICh0aGlzLl92aXNpYmxlID09PSB0cnVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdHlsZXMpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbXCJkaXNwbGF5XCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZXNbXCJkaXNwbGF5XCJdID0gXCJub25lXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGVzID0ge1xuICAgICAgICAgICAgICAgICAgICBcImRpc3BsYXlcIjogXCJub25lXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgdmlzaWJsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2libGU7XG4gICAgfVxuXG4gICAgX3Zpc2libGU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgQElucHV0KCkgY3VzdG9tQXR0cmlidXRlczoge1tuYW1lOiBzdHJpbmddOiBhbnl9O1xuXG4gICAgc3R5bGVzOiB7W25hbWU6IHN0cmluZ106IHN0cmluZ307XG5cbiAgICBnZXQgaXNIZWFkZXJUZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhZGVyVGVtcGxhdGUgPT09IG51bGwgfHwgdGhpcy5oZWFkZXJUZW1wbGF0ZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERvbid0IHRyYWNrIHRoaXMgY29sdW1uICh0aGF0IGlzLCB1c2UgZm9yIGRpc3BsYXkgb25seSkuXG4gICAgICovXG4gICAgQElucHV0KCkgc2tpcFRyYWNraW5nOiBib29sZWFuO1xuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICBpZiAodGhpcy5oZWFkZXJEaXJlY3RpdmUgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmhlYWRlciA9IHRoaXMuaGVhZGVyRGlyZWN0aXZlLnRleHQ7XG5cbiAgICAgICAgaWYgKHRoaXMuYXV0b1dyYXAgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5hdXRvV3JhcCA9IHRoaXMuaGVhZGVyRGlyZWN0aXZlLmF1dG9XcmFwID09PSB0cnVlIHx8IHRoaXMuaGVhZGVyRGlyZWN0aXZlLmF1dG9XcmFwID09PSBcInRydWVcIlxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlkID09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmlkID0gQmFzZUNvbXBvbmVudC5nZW5lcmF0ZVVuaXF1ZUlkKFwiY29sdW1uXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5oZWFkZXJIZWlnaHQgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmhlYWRlckhlaWdodCA9IHRoaXMuaGVhZGVySGVpZ2h0O1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwibnVtYmVyXCIgJiYgbmFtZSA9PT0gQXR0cmlidXRlc0VudW0uVklTSUJMRSkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gSmF2YVV0aWxzLnBhcnNlQm9vbGVhbih2YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXN0b21BdHRyaWJ1dGVzID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbUF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jdXN0b21BdHRyaWJ1dGVzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuYW1lID09PSBcIm51bWJlclwiICYmIG5hbWUgPT09IEF0dHJpYnV0ZXNFbnVtLlZJU0lCTEUpIHJldHVybiB0aGlzLnZpc2libGUgYXMgYW55O1xuICAgICAgICBpZiAodHlwZW9mIG5hbWUgPT09IFwibnVtYmVyXCIgJiYgbmFtZSA9PT0gQXR0cmlidXRlc0VudW0uSUQpIHJldHVybiB0aGlzLmlkO1xuXG4gICAgICAgIGxldCByZXRWYWwgPSB0aGlzLmN1c3RvbUF0dHJpYnV0ZXMgIT0gbnVsbCA/IHRoaXMuY3VzdG9tQXR0cmlidXRlc1tuYW1lXSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHR5cGVvZiByZXRWYWwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICByZXRWYWwgPSByZXRWYWwgKyBcIlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldFZhbDtcbiAgICB9XG5cbiAgICBzZXRWaXNpYmxlKHZpczogYm9vbGVhbikge1xuICAgICAgdGhpcy52aXNpYmxlID0gdmlzO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBUYWJsZVNlbGVjdGlvbkV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIHJvd3M6IEFycmF5PGFueT5cbiAgICApe31cbn0iLCJpbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFJlbmRlcmVyMiB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gXCIuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZVwiO1xuaW1wb3J0IHsgQ2xpZW50RXZlbnQgfSBmcm9tIFwiLi4vZXZlbnQtaGFuZGxlci9jbGllbnQtZXZlbnRcIjtcbmltcG9ydCB7IEFwcFV0aWxzIH0gZnJvbSBcIi4uL2Jhc2UvYXBwLXV0aWxzXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IExhYmVsQ29tcG9uZW50IH0gZnJvbSBcIi4uL2xhYmVsL2xhYmVsLmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQXR0cmlidXRlQ2hhbmdlTGlzdGVuZXIgfSBmcm9tIFwiLi4vYmFzZS9hdHRyaWJ1dGUtY2hhbmdlLWxpc3RlbmVyXCI7XG5pbXBvcnQgeyBBdHRyaWJ1dGVDaGFuZ2VFdmVudCB9IGZyb20gXCIuLi9iYXNlL2F0dHJpYnV0ZS1jaGFuZ2UtZXZlbnRcIjtcbmRlY2xhcmUgdmFyIGpRdWVyeTogYW55O1xuXG5leHBvcnQgY2xhc3MgSFRNTEVsZW1lbnRXcmFwcGVyIGltcGxlbWVudHMgQXR0cmlidXRlQ2hhbmdlTGlzdGVuZXIge1xuICAvLyBhdHRyaWJ1dGVzOiBNYXA8c3RyaW5nLCBzdHJpbmc+O1xuICAvLyB0ZXh0OiBhbnk7XG4gIC8vIGRyYWdnYWJsZTogc3RyaW5nO1xuICAvLyBjc3NDbGFzczogc3RyaW5nO1xuICAvLyBvbkRvdWJsZUNsaWNrOiBzdHJpbmc7XG4gIC8vIG9uQ29udGV4dE1lbnU6IHN0cmluZztcbiAgLy8gb25Nb3VzZURvd246IHN0cmluZztcbiAgLy8gcG9wdXBOYW1lOiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSBwYXJlbnQ6IEhUTUxFbGVtZW50V3JhcHBlcjtcbiAgcHJpdmF0ZSBsb2NhbE5hbWU6IHN0cmluZztcbiAgcGFyZW50VGFibGVJZDogc3RyaW5nO1xuICBwYXJlbnRTY3JlZW5JZDogc3RyaW5nO1xuICBwYXJlbnRUYWJsZTogYW55O1xuXG4gIF91bmlxdWVJZDogc3RyaW5nO1xuICBodG1sRWxlbWVudDogSFRNTEVsZW1lbnQ7XG4gIGNvbXBvbmVudDogQmFzZUNvbXBvbmVudDtcblxuICAvL2ZvciBub25lIGR5bmFtaWMgc3R1ZlxuICBjaGlsZE5vZGVzOiBBcnJheTxIVE1MRWxlbWVudFdyYXBwZXI+ID0gW107XG5cbiAgLy9mb3IgdHJlZSB0YWJsZVxuICBkeW5hbWljQ2hpbGROb2RlczogQXJyYXk8SFRNTEVsZW1lbnRXcmFwcGVyPjtcblxuICBvbkNvbnRleHRIYW5kbGVyOiAoZXZlbnQpID0+IGFueTtcbiAgb25Nb3VzZURvd25IYW5kbGVyOiAoZXZlbnQpID0+IGFueTtcbiAgb25Eb3VibGVDbGlja0hhbmRsZXI6IChldmVudCkgPT4gYW55O1xuXG4gIC8vaW5kaWNhdGUgdGhhdCBjb21wb25lbnQgY3JlYXRlIGR5bmFtaWNhbGx5ICh2aWEgY3JlYXRlRWxlbWVudClcbiAgcHJpdmF0ZSBfZHluYW1pY0NvbXBvbmVudDogYm9vbGVhbjtcblxuICBwb3B1cE5hbWU6IHN0cmluZztcbiAgY29udGV4dE1lbnVBY3Rpb246IHN0cmluZyB8ICgoYW55KSA9PiBhbnkpO1xuICBtb3VzZURvd25BY3Rpb246IHN0cmluZyB8ICgoKSA9PiBhbnkpO1xuICBkb3VibGVDbGlja0FjdGlvbjogc3RyaW5nIHwgKCgpID0+IGFueSk7XG4gIHJvd051bWJlcjogbnVtYmVyO1xuICBleHBhbmRlZDogc3RyaW5nO1xuXG4gIHByaXZhdGUgY2hpbGRSb3dzOiBBcnJheTxIVE1MRWxlbWVudFdyYXBwZXI+O1xuXG4gIGdldCBpZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRJZCgpO1xuICB9XG4gIHByaXZhdGUgY3VzdG9tQXR0cmlidXRlczoge1tuYW1lOiBzdHJpbmddOiBhbnl9ID0gbnVsbDtcbiAgcHJpdmF0ZSBhdHRyaWJ1dGVzTmFtZTogQXJyYXk8c3RyaW5nPjtcblxuICBwcml2YXRlIGZhdXhFbGVtZW50QXR0cmlidXRlczogTWFwPHN0cmluZywgc3RyaW5nPjtcblxuICBwcml2YXRlIGRyYWdnYWJsZUFwcGxpZWQ6IGJvb2xlYW47XG5cbiAgY3VzdG9tRGF0YTogYW55O1xuXG4gIHN0YXRpYyBjcmVhdGVWaXJ0dWFsRWxlbWVudCh0eXBlOiBzdHJpbmcpOiBIVE1MRWxlbWVudFdyYXBwZXIge1xuICAgIHJldHVybiBuZXcgSFRNTEVsZW1lbnRXcmFwcGVyKG51bGwsIHR5cGUsIG51bGwsIHRydWUpO1xuICB9XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLCB0eXBlOiBzdHJpbmcsIHByaXZhdGUgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlLCB2aXJ0dWFsOiBib29sZWFuID0gZmFsc2UsIGRvY0ZyYWdtZW50OiBEb2N1bWVudEZyYWdtZW50ID0gbnVsbCkge1xuICAgIHRoaXMuX3VuaXF1ZUlkID0gQmFzZUNvbXBvbmVudC5nZW5lcmF0ZVVuaXF1ZUlkKHR5cGUpO1xuXG4gICAgdGhpcy5sb2NhbE5hbWUgPSB0eXBlO1xuXG4gICAgaWYgKHR5cGUgPT09IFwicm93XCIgJiYgdmlydHVhbCAhPT0gdHJ1ZSkge1xuICAgICAgdGhpcy5odG1sRWxlbWVudCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudChcInRyXCIpO1xuICAgICAgdGhpcy5fZHluYW1pY0NvbXBvbmVudCA9IHRydWU7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImNlbGxcIiAmJiB2aXJ0dWFsICE9PSB0cnVlKSB7XG4gICAgICB0aGlzLmh0bWxFbGVtZW50ID0gdGhpcy5yZW5kZXJlci5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICB0aGlzLl9keW5hbWljQ29tcG9uZW50ID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibGFiZWxcIiB8fCB0eXBlID09PSBcIm1lbnVJdGVtXCIgfHwgdmlydHVhbCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMgPSBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpO1xuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLl91bmlxdWVJZCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2R5bmFtaWNDb21wb25lbnQgPT09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLmh0bWxFbGVtZW50IGluc3RhbmNlb2YgSFRNTFRhYmxlUm93RWxlbWVudCkge1xuICAgICAgICB0aGlzLmh0bWxFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtdHQtaWRcIiwgdGhpcy5fdW5pcXVlSWQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm9uQ29udGV4dEhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2xpZW50RXZlbnQgPSBuZXcgQ2xpZW50RXZlbnQodGhpcywgZXZlbnQpO1xuXG4gICAgICAgIGlmIChBcHBVdGlscy5jdXN0b21pemVDbGllbnRFdmVudCAhPSBudWxsKSB7XG4gICAgICAgICAgQXBwVXRpbHMuY3VzdG9taXplQ2xpZW50RXZlbnQodGhpcywgY2xpZW50RXZlbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGFyZW50U2NyZWVuSWQgIT0gbnVsbCkge1xuICAgICAgICAgIGNsaWVudEV2ZW50LnNldFBhcmFtZXRlcihcInNjcmVlbklkXCIsIHRoaXMucGFyZW50U2NyZWVuSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXNzaW9uU2VydmljZS5nZXRFdmVudEhhbmRsZXIoKS5zZXRDbGllbnRFdmVudChjbGllbnRFdmVudCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbnRleHRNZW51QWN0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgdGhpcy5pbnZva2VNY29BY3Rpb24odGhpcy5jb250ZXh0TWVudUFjdGlvbik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMuY29udGV4dE1lbnVBY3Rpb24gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHRoaXMuY29udGV4dE1lbnVBY3Rpb24uYXBwbHkodGhpcywgW3RoaXNdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hvd1BvcHVwTWVudShldmVudCk7XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmh0bWxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2ZW50KSA9PiB0aGlzLm9uTW91c2VEb3duSGFuZGxlcihldmVudCksIHRydWUpO1xuICAgICAgdGhpcy5odG1sRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgKGV2ZW50KSA9PiB0aGlzLm9uRG91YmxlQ2xpY2tIYW5kbGVyKGV2ZW50KSwgdHJ1ZSk7XG5cbiAgICAgIHRoaXMub25Nb3VzZURvd25IYW5kbGVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIHRoaXMuaGFuZGxlT25Nb3VzZURvd24oZXZlbnQpO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5vbkRvdWJsZUNsaWNrSGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgICB0aGlzLmhhbmRsZURvdWJsZUNsaWNrKGV2ZW50KTtcbiAgICAgIH07XG4gICAgfVxuICB9XG5cbiAgZGVzdHJveShza2lwRGVzdHJveUNoaWxkOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICBpZiAodGhpcy5fZHluYW1pY0NvbXBvbmVudCA9PT0gdHJ1ZSAmJiB0aGlzLmh0bWxFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuaHRtbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIHRoaXMub25Db250ZXh0SGFuZGxlciwgdHJ1ZSk7XG4gICAgICB0aGlzLmh0bWxFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5vbk1vdXNlRG93bkhhbmRsZXIsIHRydWUpO1xuICAgICAgdGhpcy5odG1sRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGJsY2xpY2tcIiwgdGhpcy5vbkRvdWJsZUNsaWNrSGFuZGxlciwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2hpbGROb2RlcyAhPSBudWxsICYmIHNraXBEZXN0cm95Q2hpbGQgIT09IHRydWUpIHtcbiAgICAgIGxldCBzdGFjayA9IHRoaXMuY2hpbGROb2RlcztcblxuICAgICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHN0YWNrLnBvcCgpO1xuXG4gICAgICAgIGlmIChub2RlLmNoaWxkTm9kZXMgIT0gbnVsbCkge1xuICAgICAgICAgIHN0YWNrID0gc3RhY2suY29uY2F0KG5vZGUuY2hpbGROb2Rlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZHluYW1pY0NoaWxkTm9kZXMgIT0gbnVsbCAmJiBza2lwRGVzdHJveUNoaWxkICE9PSB0cnVlKSB7XG4gICAgICBsZXQgc3RhY2sgPSB0aGlzLmR5bmFtaWNDaGlsZE5vZGVzO1xuXG4gICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKG5vZGUuZHluYW1pY0NoaWxkTm9kZXMgIT0gbnVsbCkge1xuICAgICAgICAgIHN0YWNrID0gc3RhY2suY29uY2F0KG5vZGUuZHluYW1pY0NoaWxkTm9kZXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgbm9kZS5kZXN0cm95KHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLmNoaWxkUm93cyAhPSBudWxsICYmIHNraXBEZXN0cm95Q2hpbGQgIT09IHRydWUpIHtcbiAgICAgIGxldCBzdGFjayA9IHRoaXMuY2hpbGRSb3dzO1xuXG4gICAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBub2RlID0gc3RhY2sucG9wKCk7XG5cbiAgICAgICAgaWYgKG5vZGUuY2hpbGRSb3dzICE9IG51bGwpIHtcbiAgICAgICAgICBzdGFjayA9IHN0YWNrLmNvbmNhdChub2RlLmNoaWxkUm93cyk7XG4gICAgICAgIH1cblxuICAgICAgICBub2RlLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnJlbW92ZUF0dHJpYnV0ZUNoYW5nZUxpc3RlbmVyKHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuaHRtbEVsZW1lbnQgPSBudWxsO1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICB0aGlzLl91bmlxdWVJZCA9IG51bGw7XG4gICAgdGhpcy5jb21wb25lbnQgPSBudWxsO1xuICAgIHRoaXMuY2hpbGROb2RlcyA9IG51bGw7XG4gICAgdGhpcy5hdHRyaWJ1dGVzTmFtZSA9IG51bGw7XG4gICAgdGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMgPSBudWxsO1xuICAgIHRoaXMuY2hpbGRSb3dzID0gbnVsbDtcbiAgfVxuXG4gIHNldFRleHQodGV4dDogYW55KSB7XG4gICAgaWYgKHRoaXMuX2R5bmFtaWNDb21wb25lbnQgPT09IHRydWUpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5odG1sRWxlbWVudCwgXCJpbm5lckhUTUxcIiwgdGV4dCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5zZXRUZXh0KHRleHQpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgdGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMuc2V0KFwidGV4dFwiLCB0ZXh0KTtcbiAgICB9XG4gIH1cblxuICBzZXRGb250U2l6ZShzaXplOiBhbnkpIHtcbiAgICBpZiAodGhpcy5fZHluYW1pY0NvbXBvbmVudCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmh0bWxFbGVtZW50LCBcImZvbnQtc2l6ZVwiLCBzaXplICsgXCJweFwiKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LnNldEZvbnRTaXplKHNpemUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgdGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMuc2V0KFwiZm9udFNpemVcIiwgc2l6ZSk7XG4gICAgfVxuICB9XG5cbiAgc2V0Rm9udEJvbGQoYm9sZDogYW55KSB7XG4gICAgaWYgKHRoaXMuX2R5bmFtaWNDb21wb25lbnQgPT09IHRydWUpIHtcbiAgICAgIGlmIChib2xkID09PSBcInRydWVcIiB8fCBib2xkID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5odG1sRWxlbWVudCwgXCJmb250LXdlaWdodFwiLCBcImJvbGRcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMuaHRtbEVsZW1lbnQsIFwiZm9udC13ZWlnaHRcIiwgXCJub3JtYWxcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5zZXRGb250Qm9sZChib2xkKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmF1eEVsZW1lbnRBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZmF1eEVsZW1lbnRBdHRyaWJ1dGVzLnNldChcImZvbnRCb2xkXCIsIGJvbGQpO1xuICAgIH1cbiAgfVxuXG4gIHNldENsYXNzKGNzczogc3RyaW5nKSB7XG4gICAgaWYgKGNzcyAhPSBudWxsICYmIGNzcy5pbmRleE9mKFwiLlwiKSA+PSAwKSB7XG4gICAgICBjb25zdCB0ZW1wID0gY3NzLnNwbGl0KFwiXFwuXCIpO1xuXG4gICAgICBsZXQgY3NzQ2xhc3MgPSB0ZW1wLmpvaW4oXCItXCIpO1xuXG4gICAgICBpZiAodGVtcFswXSA9PT0gXCJcIikge1xuICAgICAgICBjc3MgPSBjc3NDbGFzcy5zdWJzdHJpbmcoMSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmh0bWxFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuaHRtbEVsZW1lbnQsIFwiY2xhc3NcIiwgY3NzKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuY29tcG9uZW50LmFkZENzc0NsYXNzKGNzcyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmZhdXhFbGVtZW50QXR0cmlidXRlcyAhPSBudWxsKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGNzcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydCBhIGNoaWxkIHJvdyBhdCBzcGVjaWZpYyBsb2NhdGlvblxuICAgKiBAcGFyYW0gaWR4XG4gICAqIEBwYXJhbSBjaGlsZFxuICAgKi9cbiAgaW5zZXJ0Q2hpbGRSb3dBdChpZHg6IG51bWJlciwgY2hpbGQ6IEhUTUxFbGVtZW50V3JhcHBlcikge1xuICAgIGlmIChjaGlsZC5odG1sRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxUYWJsZVJvd0VsZW1lbnQgIT09IHRydWUgJiYgdGhpcy5fZHluYW1pY0NvbXBvbmVudCA9PT0gdHJ1ZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnNlcnRpb24sIG9ubHkgSFRNTFRhYmxlUm93RWxlbWVudCBpcyBhbGxvd2VkXCIpO1xuICAgIH1cblxuICAgIGlmIChpZHggPiAwICYmICh0aGlzLmNoaWxkUm93cyA9PSBudWxsIHx8IHRoaXMuY2hpbGRSb3dzLmxlbmd0aCA8PSBpZHgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gaW5zZXJ0IGNoaWxkIHJvdyBhdCB0aGlzIHNwZWNpZmljIGxvY2F0aW9uIChpbmRleCBvdmVyZmxvdylcIik7XG4gICAgfSBlbHNlIGlmIChpZHggPj0gMCAmJiAodGhpcy5jaGlsZFJvd3MgIT0gbnVsbCAmJiB0aGlzLmNoaWxkUm93cy5sZW5ndGggPiBpZHgpKSB7XG4gICAgICAvL3RyYWNrIGNoaWxkIHJvd3Mgc28gd2UgY2FuIHVzZWQgaW5zZXJ0Q2hpbGRSb3dBdFxuICAgICAgaWYgKHRoaXMuY2hpbGRSb3dzID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jaGlsZFJvd3MgPSBbXTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucGFyZW50VGFibGUudXNlRG9jRnJhZ21lbnQgPT09IHRydWUpIHtcbiAgICAgICAgKHRoaXMucGFyZW50VGFibGUuX2JvZHlGcmFnbWVudCBhcyBEb2N1bWVudEZyYWdtZW50KS5pbnNlcnRCZWZvcmUoY2hpbGQuaHRtbEVsZW1lbnQsIHRoaXMuY2hpbGRSb3dzW2lkeF0uaHRtbEVsZW1lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5pbnNlcnRCZWZvcmUodGhpcy5wYXJlbnRUYWJsZS50YWJsZUJvZHkubmF0aXZlRWxlbWVudCwgY2hpbGQuaHRtbEVsZW1lbnQsIHRoaXMuY2hpbGRSb3dzW2lkeF0uaHRtbEVsZW1lbnQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNoaWxkUm93cy5zcGxpY2UoaWR4LCAwLCBjaGlsZCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUoY2hpbGQuaHRtbEVsZW1lbnQsIFwiZGF0YS10dC1wYXJlbnQtaWRcIiwgdGhpcy5fdW5pcXVlSWQpO1xuXG4gICAgY2hpbGQucGFyZW50ID0gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmQgYSBjaGlsZCB0byB0aGlzIGVsZW1lbnQuIElmIHRoaXMgaXMgYSByb3cgYW5kIHdlIGFwcGVuZCBhIHJvdywgc2V0IHtAIGFwcGVuZFRvVGFibGV9IHRvIHRydWVcbiAgICogd2lsbCBhbHNvIGFwcGVuZCB0aGUgYWN0dWFsIHRhYmxlIHJvdyAodHIpIHRvIHRoZSB0YWJsZS5cbiAgICpcbiAgICogQHBhcmFtIGNoaWxkIGNoaWxkIHRvIGJlIGFwcGVuZGVkXG4gICAqIEBwYXJhbSBhcHBlbmRUb1RhYmxlXG4gICAqL1xuICBhcHBlbmRDaGlsZChjaGlsZDogSFRNTEVsZW1lbnRXcmFwcGVyLCBhcHBlbmRUb1RhYmxlSWZSb3c6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIGlmICh0aGlzLl9keW5hbWljQ29tcG9uZW50ID09PSB0cnVlKSB7XG4gICAgICBpZiAoY2hpbGQuaHRtbEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGFibGVSb3dFbGVtZW50KSB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKGNoaWxkLmh0bWxFbGVtZW50LCBcImRhdGEtdHQtcGFyZW50LWlkXCIsIHRoaXMuX3VuaXF1ZUlkKTtcblxuICAgICAgICBpZiAoYXBwZW5kVG9UYWJsZUlmUm93ID09PSB0cnVlKSB7XG4gICAgICAgICAgaWYgKHRoaXMucGFyZW50VGFibGUudXNlRG9jRnJhZ21lbnQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICh0aGlzLnBhcmVudFRhYmxlLl9ib2R5RnJhZ21lbnQgYXMgRG9jdW1lbnRGcmFnbWVudCkuYXBwZW5kQ2hpbGQoY2hpbGQuaHRtbEVsZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMucGFyZW50VGFibGUudGFibGVCb2R5Lm5hdGl2ZUVsZW1lbnQsIGNoaWxkLmh0bWxFbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvL3RyYWNrIGNoaWxkIHJvd3Mgc28gd2UgY2FuIHVzZWQgaW5zZXJ0Q2hpbGRSb3dBdFxuICAgICAgICBpZiAodGhpcy5jaGlsZFJvd3MgPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuY2hpbGRSb3dzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoaWxkUm93cy5wdXNoKGNoaWxkKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hpbGQuaHRtbEVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGFibGVDZWxsRWxlbWVudCkge1xuICAgICAgICB0aGlzLnJlbmRlcmVyLmFwcGVuZENoaWxkKHRoaXMuaHRtbEVsZW1lbnQsIGNoaWxkLmh0bWxFbGVtZW50KTtcblxuICAgICAgICBpZiAodGhpcy5keW5hbWljQ2hpbGROb2RlcyA9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5keW5hbWljQ2hpbGROb2RlcyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5keW5hbWljQ2hpbGROb2Rlcy5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jaGlsZE5vZGVzLnB1c2goY2hpbGQpO1xuICAgIH1cblxuICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG4gIH1cblxuICBhcHBlbmRDdXN0b21BdHRyaWJ1dGVzKGN1c3Q6IHsgW25hbWU6IHN0cmluZ106IHN0cmluZyB9KSB7XG4gICAgaWYgKGN1c3QgIT0gbnVsbCkge1xuICAgICAgY29uc3Qga2V5cyA9IF8ua2V5cyhjdXN0KTtcblxuICAgICAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoa2V5LCBjdXN0W2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vTlNEIHdpbGwgb3ZlcnJpZGUgdGhpcywgYWRkZWQgdG8gZml4IGVycm9yXG4gIC8vIHNldEN1c3RvbUF0dHJpYnV0ZShuYW1lOiBzdHJpbmcsIHZhbHVlOiBzdHJpbmcpIHtcbiAgLy8gICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gIC8vIH1cblxuICBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogc3RyaW5nKSB7XG4gICAgaWYobmFtZSA9PT0gJ3NlbGVjdGVkJyAmJiB0aGlzLmxvY2FsTmFtZSA9PSAncm93Jyl7XG4gICAgICBpZih0aGlzLnBhcmVudFRhYmxlICE9IG51bGwpe1xuICAgICAgICBpZih2YWx1ZSA9PSAndHJ1ZScpXG4gICAgICAgICAgdGhpcy5wYXJlbnRUYWJsZS5zZWxlY3RSb3codGhpcywgdHJ1ZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aGlzLnBhcmVudFRhYmxlLnNlbGVjdFJvdyh0aGlzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMucGFyZW50VGFibGUubWFya0ZvckNoZWNrKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYW1lID09PSBcImV4cGFuZGVkXCIpIHtcbiAgICAgIHRoaXMuZXhwYW5kTm9kZSh2YWx1ZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbXBvbmVudCAhPSBudWxsKSB7XG4gICAgICB0aGlzLmNvbXBvbmVudC5zZXRBdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy50cmFja0F0dHJpYnV0ZU5hbWUobmFtZSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmh0bWxFbGVtZW50ICE9IG51bGwpIHtcbiAgICAgIGlmIChuYW1lID09PSBcImlzTG9ja2VkQ29sdW1uXCIpIHtcbiAgICAgICAgaWYgKHRoaXMuZmF1eEVsZW1lbnRBdHRyaWJ1dGVzID09IG51bGwpIHtcbiAgICAgICAgICB0aGlzLmZhdXhFbGVtZW50QXR0cmlidXRlcyA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZhdXhFbGVtZW50QXR0cmlidXRlcy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUodGhpcy5odG1sRWxlbWVudCwgbmFtZSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRyYWNrQXR0cmlidXRlTmFtZShuYW1lKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZmF1eEVsZW1lbnRBdHRyaWJ1dGVzICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZmF1eEVsZW1lbnRBdHRyaWJ1dGVzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLnRyYWNrQXR0cmlidXRlTmFtZShuYW1lKTtcbiAgICB9XG4gIH1cblxuICBnZXRBdHRyaWJ1dGUobmFtZTogYW55LCBza2lwUXVlcnlET01JZk5vdEV4aXN0czogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgaWYgKG5hbWUgPT09IFwiZXhwYW5kZWRcIikge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwYW5kZWQgPT09IFwidHJ1ZVwiID8gXCJ0cnVlXCIgOiBcImZhbHNlXCI7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5nZXRBdHRyaWJ1dGUobmFtZSwgc2tpcFF1ZXJ5RE9NSWZOb3RFeGlzdHMpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5odG1sRWxlbWVudCAhPSBudWxsICYmIHNraXBRdWVyeURPTUlmTm90RXhpc3RzICE9PSB0cnVlKSB7XG4gICAgICBpZiAobmFtZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgbGV0IHRleHQgPSB0aGlzLmh0bWxFbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcblxuICAgICAgICBpZiAodGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgdGV4dCA9IHRoaXMuaHRtbEVsZW1lbnQuaW5uZXJUZXh0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRleHQgPT0gbnVsbCB8fCB0ZXh0ID09PSBcIlwiKSB7XG4gICAgICAgICAgdGV4dCA9ICh0aGlzLmh0bWxFbGVtZW50IGFzIEhUTUxUYWJsZUNlbGxFbGVtZW50KS50ZXh0Q29udGVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2YgdGV4dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRleHQgPSB0ZXh0LnRyaW0oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcImlzTG9ja2VkQ29sdW1uXCIgJiYgdGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMuZ2V0KG5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChuYW1lID09PSBcImlzTG9ja2VkQ29sdW1uXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiZmFsc2VcIjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXMuaHRtbEVsZW1lbnQuZ2V0QXR0cmlidXRlKG5hbWUpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5mYXV4RWxlbWVudEF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXMuZmF1eEVsZW1lbnRBdHRyaWJ1dGVzLmdldChuYW1lKTtcbiAgICB9XG4gIH1cblxuICBnZXRUZXh0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEF0dHJpYnV0ZShcInRleHRcIik7XG4gIH1cblxuICBnZXRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgfVxuXG4gIHNldERyYWdnYWJsZShkcmFnZ2FibGU6IHN0cmluZykge1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsIGRyYWdnYWJsZSk7XG5cbiAgICBpZiAoZHJhZ2dhYmxlID09IFwidHJ1ZVwiKSB7XG4gICAgICB0aGlzLmFwcGx5RHJhZ2dhYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgZ2V0RXhwYW5kZWQoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJleHBhbmRlZFwiKTtcbiAgfVxuXG4gIHNldEV4cGFuZGVkKHN0cjogc3RyaW5nKSB7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJleHBhbmRlZFwiLCBzdHIpO1xuICB9XG5cbiAgc2V0T25Db250ZXh0TWVudShhY3Rpb246IHN0cmluZyB8ICgoKSA9PiBhbnkpKSB7XG4gICAgaWYgKHRoaXMuaHRtbEVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5jb250ZXh0TWVudUFjdGlvbiA9IGFjdGlvbjtcbiAgICAgIHRoaXMuaHRtbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIChldmVudCkgPT4gdGhpcy5vbkNvbnRleHRIYW5kbGVyKGV2ZW50KSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgc2V0T25Nb3VzZURvd24oYWN0aW9uOiBzdHJpbmcgfCAoKCkgPT4gYW55KSkge1xuICAgIHRoaXMubW91c2VEb3duQWN0aW9uID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0T25Eb3VibGVDbGljayhhY3Rpb246IHN0cmluZyB8ICgoKSA9PiBhbnkpKSB7XG4gICAgdGhpcy5kb3VibGVDbGlja0FjdGlvbiA9IGFjdGlvbjtcbiAgfVxuXG4gIHNldFBvcHVwKHBvcHVwTmFtZTogc3RyaW5nKSB7XG4gICAgdGhpcy5wb3B1cE5hbWUgPSBwb3B1cE5hbWUucmVwbGFjZShcIiNcIiwgXCJcIik7XG4gIH1cblxuICBnZXRQYXJlbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICB9XG5cbiAgZ2V0TG9jYWxOYW1lKCkge1xuICAgIHJldHVybiB0aGlzLmxvY2FsTmFtZTtcbiAgfVxuXG4gIHNldExvY2FsZU5hbWUobG9jYWxOYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLmxvY2FsTmFtZSA9IGxvY2FsTmFtZTtcbiAgfVxuXG4gIGdldENoaWxkcmVuKCkge1xuICAgIGxldCBjaGlsZHJlbjogQXJyYXk8SFRNTEVsZW1lbnRXcmFwcGVyPiA9IHRoaXMuY2hpbGROb2RlcztcblxuICAgIGlmICgoY2hpbGRyZW4gPT0gbnVsbCB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDApICYmICh0aGlzLmR5bmFtaWNDaGlsZE5vZGVzICE9IG51bGwpKSB7XG4gICAgICBjaGlsZHJlbiA9IHRoaXMuZHluYW1pY0NoaWxkTm9kZXM7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdGhpcy5nZXRMb2NhbE5hbWUoKSA9PT0gXCJyb3dcIiAmJlxuICAgICAgY2hpbGRyZW4gIT0gbnVsbCAmJlxuICAgICAgdGhpcy5wYXJlbnRUYWJsZSAhPSBudWxsICYmXG4gICAgICB0aGlzLnBhcmVudFRhYmxlLmdldExvY2FsTmFtZSgpID09PSBcInRhYmxlXCIgJiZcbiAgICAgIHRoaXMucGFyZW50VGFibGUuY29sdW1uc0hhc0JlZW5Td2FwcGVkID09PSB0cnVlXG4gICAgKSB7XG4gICAgICBjaGlsZHJlbiA9IF8ub3JkZXJCeShjaGlsZHJlbiwgKGNoaWxkOiBIVE1MRWxlbWVudFdyYXBwZXIpPT4ge1xuICAgICAgICByZXR1cm4gY2hpbGRbXCJvcmlnaW5hbENvbHVtbkluZGV4XCJdO1xuICAgICAgfSkgYXMgYW55O1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZHJlbjtcbiAgfVxuXG4gIGdldENoaWxkQ291bnQoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jaGlsZE5vZGVzICE9IG51bGwgPyB0aGlzLmNoaWxkTm9kZXMubGVuZ3RoIDogMDtcbiAgfVxuXG4gIGdldENoaWxkQXQoaWR4OiBudW1iZXIpOiBIVE1MRWxlbWVudFdyYXBwZXIge1xuICAgIHJldHVybiB0aGlzLmdldENoaWxkQ291bnQoKSA+IGlkeCA/IHRoaXMuY2hpbGROb2Rlc1tpZHhdIDogbnVsbDtcbiAgfVxuXG4gIHNldENvbXBvbmVudChjb21wb25lbnQ6IEJhc2VDb21wb25lbnQsIGZyb21WaXJ0dWFsVGFibGU6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIHRoaXMuY29tcG9uZW50LnBhcmVudFRhYmxlUm93ID0gdGhpcy5wYXJlbnQ7XG5cbiAgICBpZiAoY29tcG9uZW50ICE9IG51bGwgJiYgZnJvbVZpcnR1YWxUYWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgY29tcG9uZW50LmFkZEF0dHJpYnV0ZUNoYW5nZUxpc3RlbmVyKHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgaW52b2tlTWNvQWN0aW9uKGFjdGlvbjogc3RyaW5nIHwgKCgpID0+IGFueSkpIHtcbiAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBhY3Rpb24oKTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbi5pbmRleE9mKFwibWNvOi8vXCIpID09PSAwKSB7XG4gICAgICBjb25zdCBtY29OYW1lID0gYWN0aW9uLnN1YnN0cmluZyg2LCBhY3Rpb24uaW5kZXhPZihcIi5cIikpO1xuICAgICAgY29uc3QgbWV0aG9kTmFtZSA9IGFjdGlvbi5zdWJzdHJpbmcoYWN0aW9uLmluZGV4T2YoXCIuXCIpICsgMSwgYWN0aW9uLmluZGV4T2YoXCIoXCIpKTtcbiAgICAgIGNvbnN0IGFyZyA9IGFjdGlvbi5zdWJzdHJpbmcoYWN0aW9uLmluZGV4T2YoXCIoXCIpICsgMSwgYWN0aW9uLmluZGV4T2YoXCIpXCIpKTtcblxuICAgICAgaWYgKGFyZyAhPSBudWxsICYmIGFyZy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IG1jbyA9IHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0TWNvQ29udGFpbmVyKCkuZ2V0TWNvKG1jb05hbWUpO1xuXG4gICAgICAgIGlmIChtY28gIT0gbnVsbCkge1xuICAgICAgICAgIGlmIChhcmcgPT09IFwidGhpc1wiKSB7XG4gICAgICAgICAgICBtY29bbWV0aG9kTmFtZV0uYXBwbHkobWNvLCBbdGhpc10pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtY29bbWV0aG9kTmFtZV0uYXBwbHkobWNvLCBbYXJnXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gZXhlY3V0ZSBNQ08gYWN0aW9uLCBtY28gbm90IGZvdW5kOiBcIiArIG1jb05hbWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBtY28gPSB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldE1jb0NvbnRhaW5lcigpLmdldE1jbyhtY29OYW1lKTtcblxuICAgICAgICBpZiAobWNvICE9IG51bGwpIHtcbiAgICAgICAgICBtY29bbWV0aG9kTmFtZV0uYXBwbHkobWNvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGV4ZWN1dGUgTUNPIGFjdGlvbiwgbWNvIG5vdCBmb3VuZDogXCIgKyBtY29OYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGdldENvbXBvbmVudCgpOiBCYXNlQ29tcG9uZW50IHtcbiAgICByZXR1cm4gdGhpcy5jb21wb25lbnQ7XG4gIH1cblxuICBwcml2YXRlIHNob3dQb3B1cE1lbnUoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLnNldE1vdXNlUG9zaXRpb24oZXZlbnQpO1xuXG4gICAgaWYgKHRoaXMucG9wdXBOYW1lICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGNvbnRleHRNZW51ID0gdGhpcy5zZXNzaW9uU2VydmljZS5zaG93Q29udGV4dE1lbnUodGhpcy5wb3B1cE5hbWUpO1xuXG4gICAgICBpZiAoY29udGV4dE1lbnUgPT09IHRydWUpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgLy8gY29udGV4dE1lbnUuc2hvdyh0aGlzLmh0bWxFbGVtZW50KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBjbGllbnRFdmVudCA9IG5ldyBDbGllbnRFdmVudCh0aGlzLCBldmVudCk7XG5cbiAgICBpZiAoQXBwVXRpbHMuY3VzdG9taXplQ2xpZW50RXZlbnQgIT0gbnVsbCkge1xuICAgICAgQXBwVXRpbHMuY3VzdG9taXplQ2xpZW50RXZlbnQodGhpcywgY2xpZW50RXZlbnQpO1xuICAgIH1cblxuICAgIGNsaWVudEV2ZW50LnNldFBhcmFtZXRlcihcInNjcmVlbklkXCIsIHRoaXMucGFyZW50U2NyZWVuSWQpO1xuXG4gICAgdGhpcy5zZXNzaW9uU2VydmljZS5nZXRFdmVudEhhbmRsZXIoKS5zZXRDbGllbnRFdmVudChjbGllbnRFdmVudCk7XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZU9uTW91c2VEb3duKGV2ZW50KSB7XG4gICAgaWYodGhpcy5wYXJlbnRUYWJsZSAhPSBudWxsKXtcbiAgICAgIGxldCB0YWJsZSA9IHRoaXMucGFyZW50VGFibGUuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50O1xuICAgICAgbGV0IHRkczogTm9kZUxpc3QgPSB0YWJsZS5xdWVyeVNlbGVjdG9yQWxsKCd0ZCcpO1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAodGRzW2ldIGFzIGFueSkuc3R5bGUuY29sb3IgPSAnJztcbiAgICAgIH1cblxuICAgICAgdGRzID0gdGhpcy5odG1sRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0ZCcpO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgKHRkc1tpXSBhcyBhbnkpLnN0eWxlLmNvbG9yID0gJ2JsdWUnO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1vdXNlRG93bkFjdGlvbiAhPSBudWxsKSB7XG4gICAgICBjb25zdCBjbGllbnRFdmVudCA9IG5ldyBDbGllbnRFdmVudCh0aGlzLCBldmVudCk7XG5cbiAgICAgIGlmIChBcHBVdGlscy5jdXN0b21pemVDbGllbnRFdmVudCAhPSBudWxsKSB7XG4gICAgICAgIEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50KHRoaXMsIGNsaWVudEV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucGFyZW50U2NyZWVuSWQgIT0gbnVsbCkge1xuICAgICAgICBjbGllbnRFdmVudC5zZXRQYXJhbWV0ZXIoXCJzY3JlZW5JZFwiLCB0aGlzLnBhcmVudFNjcmVlbklkKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZXNzaW9uU2VydmljZS5nZXRFdmVudEhhbmRsZXIoKS5zZXRDbGllbnRFdmVudChjbGllbnRFdmVudCk7XG5cbiAgICAgIHRoaXMuaW52b2tlTWNvQWN0aW9uKHRoaXMubW91c2VEb3duQWN0aW9uKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZURvdWJsZUNsaWNrKGV2ZW50KSB7XG4gICAgY29uc3QgY2xpZW50RXZlbnQgPSBuZXcgQ2xpZW50RXZlbnQodGhpcywgZXZlbnQpO1xuXG4gICAgaWYgKEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50ICE9IG51bGwpIHtcbiAgICAgIEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50KHRoaXMsIGNsaWVudEV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXJlbnRTY3JlZW5JZCAhPSBudWxsKSB7XG4gICAgICBjbGllbnRFdmVudC5zZXRQYXJhbWV0ZXIoXCJzY3JlZW5JZFwiLCB0aGlzLnBhcmVudFNjcmVlbklkKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldEV2ZW50SGFuZGxlcigpLnNldENsaWVudEV2ZW50KGNsaWVudEV2ZW50KTtcblxuICAgIGlmICh0aGlzLmRvdWJsZUNsaWNrQWN0aW9uICE9IG51bGwpIHtcbiAgICAgIHRoaXMuaW52b2tlTWNvQWN0aW9uKHRoaXMuZG91YmxlQ2xpY2tBY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGV4cGFuZE5vZGUoaXNFeHBhbmRlZDogYm9vbGVhbiB8IHN0cmluZywganVzdFVwZGF0ZUF0dHJpYnV0ZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgdGhpcy5leHBhbmRlZCA9IHR5cGVvZiBpc0V4cGFuZGVkID09PSBcInN0cmluZ1wiID8gaXNFeHBhbmRlZCA6IGlzRXhwYW5kZWQgKyAnJztcblxuICAgIGlmIChqdXN0VXBkYXRlQXR0cmlidXRlICE9PSB0cnVlICYmIHRoaXMucGFyZW50VGFibGVJZCAhPSBudWxsICYmIHRoaXMucGFyZW50VGFibGVJZCAhPT0gXCJcIikge1xuICAgICAgY29uc3QganEgPSBqUXVlcnkoYCMke3RoaXMucGFyZW50VGFibGVJZH0gLmpxLXRyZWUtdGFibGVgKTtcblxuICAgICAgaWYgKGpxICE9IG51bGwpIHtcbiAgICAgICAgbGV0IG5vZGVJZDogc3RyaW5nID0gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXR0LWlkXCIpO1xuXG4gICAgICAgIGlmIChub2RlSWQgIT0gbnVsbCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoaXNFeHBhbmRlZCA9PT0gXCJ0cnVlXCIgfHwgaXNFeHBhbmRlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBqcS50cmVldGFibGUoXCJleHBhbmROb2RlXCIsIG5vZGVJZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBqcS50cmVldGFibGUoXCJjb2xsYXBzZU5vZGVcIiwgbm9kZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIGV4cGFuZCBub2RlIGR1ZSB0byBlcnJvclwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gZXhwYW5kIG5vZGUsIHRyZWUgdGFibGUgaXMgbnVsbFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHRyYWNrQXR0cmlidXRlTmFtZShuYW1lOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5hdHRyaWJ1dGVzTmFtZSA9PSBudWxsKSB7XG4gICAgICB0aGlzLmF0dHJpYnV0ZXNOYW1lID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5hdHRyaWJ1dGVzTmFtZS5wdXNoKG5hbWUpO1xuICB9XG5cbiAgdG9Kc29uKCk6IHt9IHtcbiAgICBsZXQgcmV0VmFsID0ge307XG5cbiAgICBpZiAodGhpcy5jb21wb25lbnQgIT0gbnVsbCkge1xuICAgICAgcmV0VmFsID0gdGhpcy5jb21wb25lbnQudG9Kc29uKCk7XG5cbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudCBpbnN0YW5jZW9mIExhYmVsQ29tcG9uZW50KSB7XG4gICAgICAgIHJldFZhbFtcIm54VGFnTmFtZVwiXSA9IHRoaXMuZ2V0TG9jYWxOYW1lKCk7XG4gICAgICAgIHJldFZhbFtcInRhZ05hbWVcIl0gPSB0aGlzLmdldExvY2FsTmFtZSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXRWYWxbXCJueFRhZ05hbWVcIl0gPSB0aGlzLmdldExvY2FsTmFtZSgpO1xuICAgICAgcmV0VmFsW1widGFnTmFtZVwiXSA9IHRoaXMuZ2V0TG9jYWxOYW1lKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29tcG9uZW50ID09IG51bGwpIHtcbiAgICAgIHJldFZhbFtcImlkXCJdID0gdGhpcy5nZXRJZCgpIHx8IHRoaXMuX3VuaXF1ZUlkO1xuICAgICAgcmV0VmFsW1widGV4dFwiXSA9IHRoaXMuZ2V0VGV4dCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmF0dHJpYnV0ZXNOYW1lICE9IG51bGwpIHtcbiAgICAgIHRoaXMuYXR0cmlidXRlc05hbWUuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgcmV0VmFsW25hbWVdID0gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvL2FueSBjaGlsZHJlbj9cbiAgICBsZXQgY2hpbGRyZW46IEFycmF5PEhUTUxFbGVtZW50V3JhcHBlcj47XG4gICAgaWYgKHRoaXMuY2hpbGROb2RlcyAhPSBudWxsICYmIHRoaXMuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjaGlsZHJlbiA9IHRoaXMuY2hpbGROb2RlcztcbiAgICB9IGVsc2UgaWYgKHRoaXMuZHluYW1pY0NoaWxkTm9kZXMgIT0gbnVsbCAmJiB0aGlzLmR5bmFtaWNDaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNoaWxkcmVuID0gdGhpcy5keW5hbWljQ2hpbGROb2RlcztcbiAgICB9XG5cbiAgICBpZiAoY2hpbGRyZW4gIT0gbnVsbCkge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmdldExvY2FsTmFtZSgpID09PSBcInJvd1wiICYmXG4gICAgICAgIHRoaXMucGFyZW50VGFibGUgIT0gbnVsbCAmJlxuICAgICAgICB0aGlzLnBhcmVudFRhYmxlLmdldExvY2FsTmFtZSgpID09PSBcInRhYmxlXCIgJiZcbiAgICAgICAgdGhpcy5wYXJlbnRUYWJsZS5jb2x1bW5zSGFzQmVlblN3YXBwZWQgPT09IHRydWVcbiAgICAgICkge1xuICAgICAgICBjaGlsZHJlbiA9IF8ub3JkZXJCeShjaGlsZHJlbiwgKGNoaWxkOiBIVE1MRWxlbWVudFdyYXBwZXIpPT4ge1xuICAgICAgICAgIHJldHVybiBjaGlsZFtcIm9yaWdpbmFsQ29sdW1uSW5kZXhcIl07XG4gICAgICAgIH0pIGFzIGFueTtcbiAgICAgIH1cblxuICAgICAgcmV0VmFsW1wiY2hpbGRyZW5cIl0gPSBjaGlsZHJlbi5tYXAoY2hpbGQ9PmNoaWxkLnRvSnNvbigpKTtcbiAgICB9XG4gICAgaWYodGhpcy5jdXN0b21BdHRyaWJ1dGVzKVxuICAgICAgcmV0VmFsWydjdXN0b21BdHRyaWJ1dGVzJ10gPSB0aGlzLmN1c3RvbUF0dHJpYnV0ZXM7XG4gICAgcmV0dXJuIHJldFZhbDtcbiAgfVxuXG4gIGlzVmlldygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpc0RpYWxvZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpc0R5bmFtaWNWaWV3KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzRmF1eEVsZW1lbnQoKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBzZXRDaGVja2VkKGNoazogc3RyaW5nIHwgYm9vbGVhbikge1xuICAgIGlmICh0eXBlb2YgY2hrID09PSBcImJvb2xlYW5cIikge1xuICAgICAgY2hrID0gY2hrICsgXCJcIjtcbiAgICB9XG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgY2hrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2ggZm9yIGNoaWxkIHVzaW5nIHRoZSBwcm92aWRlZCBmdW5jdGlvblxuICAgKlxuICAgKiBAcGFyYW0gZm4gZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aGlsZSBpdGVyYXRpbmcgY2hpbGQgbG9va3VwXG4gICAqL1xuICBmaW5kQ2hpbGRCeUZuKGZuOiAoZWxlbWVudDogSFRNTEVsZW1lbnRXcmFwcGVyKT0+Ym9vbGVhbikge1xuICAgIGxldCByZXRWYWw6IEhUTUxFbGVtZW50V3JhcHBlcjtcblxuICAgIGxldCBjaGlsZHJlbjogQXJyYXk8SFRNTEVsZW1lbnRXcmFwcGVyPiA9IHRoaXMuY29uY2F0Tm9kZShbXSBhcyBhbnksIHRoaXMpO1xuXG4gICAgd2hpbGUoY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbi5wb3AoKTtcblxuICAgICAgaWYgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGZuKGNoaWxkKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldFZhbCA9IGNoaWxkO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoaWxkcmVuID0gdGhpcy5jb25jYXROb2RlKGNoaWxkcmVuLCBjaGlsZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmV0VmFsO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbmNhdGUge2Zyb21Ob2RlfSB0byB7dG9Ob2RlfVxuICAgKlxuICAgKiBAcGFyYW0gdG9Ob2RlIGFycmF5IG9mIG5vZGVzIHRvIGJlIGNvbmNhdGVkIHRvXG4gICAqIEBwYXJhbSBmcm9tTm9kZSBub2RlIHRvIGJlIGNvbmNhdGVkIGZyb21cbiAgICogQHJldHVybnMgdGhlIGNvbmNhdGVkIG5vZGVcbiAgICovXG4gIHByaXZhdGUgY29uY2F0Tm9kZSh0b05vZGU6IEFycmF5PEhUTUxFbGVtZW50V3JhcHBlcj4sIGZyb21Ob2RlOiBIVE1MRWxlbWVudFdyYXBwZXIpOiBBcnJheTxIVE1MRWxlbWVudFdyYXBwZXI+IHtcbiAgICBsZXQgcmV0VmFsID0gdG9Ob2RlO1xuXG4gICAgaWYgKGZyb21Ob2RlICE9IG51bGwpIHtcbiAgICAgIGlmIChmcm9tTm9kZS5jaGlsZE5vZGVzICE9IG51bGwpIHtcbiAgICAgICAgcmV0VmFsID0gcmV0VmFsLmNvbmNhdChmcm9tTm9kZS5jaGlsZE5vZGVzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZyb21Ob2RlLmNoaWxkUm93cyAhPSBudWxsKSB7XG4gICAgICAgIHJldFZhbCA9IHJldFZhbC5jb25jYXQoZnJvbU5vZGUuY2hpbGRSb3dzKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGZyb21Ob2RlLmR5bmFtaWNDaGlsZE5vZGVzICE9IG51bGwpIHtcbiAgICAgICAgcmV0VmFsID0gcmV0VmFsLmNvbmNhdChmcm9tTm9kZS5keW5hbWljQ2hpbGROb2Rlcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldFZhbDtcbiAgfVxuXG4gIC8vYXR0cmlidXRlIGNoYW5nZSBsaXN0ZW5lclxuICBfaW50ZXJuYWxJZDogc3RyaW5nO1xuXG4gIGJlZm9yZUF0dHJpYnV0ZVJlbW92ZWQoZXZ0OiBBdHRyaWJ1dGVDaGFuZ2VFdmVudCk6IHZvaWQge1xuXG4gIH1cblxuICBiZWZvcmVBdHRyaWJ1dGVTZXQoZXZ0OiBBdHRyaWJ1dGVDaGFuZ2VFdmVudCk6IHZvaWQge1xuXG4gIH1cblxuICBvbkF0dHJpYnV0ZVJlbW92ZWQoZXZ0OiBBdHRyaWJ1dGVDaGFuZ2VFdmVudCk6IHZvaWQge1xuXG4gIH1cblxuICBvbkF0dHJpYnV0ZVNldChldnQ6IEF0dHJpYnV0ZUNoYW5nZUV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2dC5nZXROYW1lKCkgPT09IFwic29ydFZhbHVlXCIgJiYgdGhpcy5odG1sRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICB0aGlzLnVwZGF0ZVNvcnRWYWx1ZShldnQuZ2V0TmV3VmFsdWUoKSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTb3J0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5yZW5kZXJlciAhPSBudWxsKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldEF0dHJpYnV0ZSh0aGlzLmh0bWxFbGVtZW50LCBcImRhdGEtdGV4dFwiLCB2YWx1ZSk7XG5cbiAgICAgIGlmICh0aGlzLmNvbXBvbmVudCAhPSBudWxsICYmIHRoaXMuY29tcG9uZW50LmdldFBhcmVudCgpICE9IG51bGwgJiYgdHlwZW9mICh0aGlzLmNvbXBvbmVudC5nZXRQYXJlbnQoKSBhcyBhbnkpLnJlZnJlc2hUYWJsZVNvcnRlckNhY2hlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgKHRoaXMuY29tcG9uZW50LmdldFBhcmVudCgpIGFzIGFueSkucmVmcmVzaFRhYmxlU29ydGVyQ2FjaGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpc0RyYWdnYWJsZSgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIikgPT09IFwidHJ1ZVwiO1xuICB9XG5cbiAgYXBwbHlEcmFnZ2FibGUoKSB7XG4gICAgaWYgKHRoaXMuaXNEcmFnZ2FibGUoKSAmJiB0aGlzLmRyYWdnYWJsZUFwcGxpZWQgIT09IHRydWUgJiYgdGhpcy5odG1sRWxlbWVudCAhPSBudWxsKSB7XG4gICAgICBqUXVlcnkodGhpcy5odG1sRWxlbWVudCkuZHJhZ2dhYmxlKHtcbiAgICAgICAgYXBwZW5kVG86IFwiYm9keVwiLFxuICAgICAgICBhZGRDbGFzc2VzOiBmYWxzZSxcbiAgICAgICAgaGVscGVyOiAoKT0+e1xuICAgICAgICAgIGNvbnN0IGhlbHBlcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIGhlbHBlci5jbGFzc0xpc3QuYWRkKFwiZHJhZ2dhYmxlLXJvdy1oZWxwZXJcIik7XG4gICAgICAgICAgaGVscGVyLmlkID0gXCJkcmFnZ2FibGVSb3dIZWxwZXJJbnRlcm5hbFwiO1xuXG4gICAgICAgICAgLy8gaWYgKHRoaXMucGFyZW50VGFibGUgIT0gbnVsbCAmJiB0aGlzLnBhcmVudFRhYmxlLnNlbGVjdGVkUm93cyAhPSBudWxsICYmIHRoaXMucGFyZW50VGFibGUuc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAvLyAgIGhlbHBlci5jbGFzc0xpc3QuYWRkKFwiZHJhZy1yb3ctaGVscGVyLWNvbnRhaW5lclwiKTtcblxuICAgICAgICAgIC8vICAgY29uc3QgYyA9IHRoaXMucGFyZW50VGFibGUuc2VsZWN0ZWRSb3dzLmxlbmd0aDtcbiAgICAgICAgICAvLyAgIGNvbnN0IGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgICAgICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgYzsgaSsrKSB7XG4gICAgICAgICAgLy8gICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgLy8gICAgIHJvdy5jbGFzc0xpc3QuYWRkKFwiZHJhZy1yb3ctaGVscGVyLXJvd1wiKTtcbiAgICAgICAgICAvLyAgICAgZnJhZy5hcHBlbmRDaGlsZChyb3cpO1xuICAgICAgICAgIC8vICAgfVxuXG4gICAgICAgICAgLy8gICBoZWxwZXIuYXBwZW5kQ2hpbGQoZnJhZyk7XG4gICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgcmV0dXJuIGhlbHBlcjtcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnQ6ICgpPT57XG4gICAgICAgICAgY29uc3QgY2xpZW50RXZlbnQgPSBuZXcgQ2xpZW50RXZlbnQodGhpcywgZXZlbnQpO1xuICAgICAgICAgIGNsaWVudEV2ZW50LnNldFBhcmFtZXRlcihcImRyYWdJZFwiLCB0aGlzLnBhcmVudFRhYmxlSWQpO1xuXG4gICAgICAgICAgaWYgKEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50KHRoaXMsIGNsaWVudEV2ZW50KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy5wYXJlbnRTY3JlZW5JZCAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbGllbnRFdmVudC5zZXRQYXJhbWV0ZXIoXCJzY3JlZW5JZFwiLCB0aGlzLnBhcmVudFNjcmVlbklkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNlc3Npb25TZXJ2aWNlLmdldEV2ZW50SGFuZGxlcigpLnNldENsaWVudEV2ZW50KGNsaWVudEV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5kcmFnZ2FibGVBcHBsaWVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlzRHJhZ2dhYmxlQXBwbGllZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kcmFnZ2FibGVBcHBsaWVkO1xuICB9XG4gIC8qKlxuICAgKiByb3fDo8KBwqrDo8KBwqlCYXNlQ29tcG9uZW50w6PCgcKow6PCgcKXw6PCgcKmw6XCrcKYw6XCnMKow6PCgcKXw6PCgcKqw6PCgcKEd3JhcHBlcsOjwoHCq2N1c3RvbUF0dHJpYnV0ZXPDo8KCwpLDqMKowq3DpcKuwprDo8KBwpfDo8KBwr7Do8KBwpnDo8KAwoJcbiAgICogQHBhcmFtIG5hbWVcbiAgICogQHBhcmFtIHZhbHVlXG4gICAqL1xuICBzZXRDdXN0b21BdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgaWYoIXRoaXMuY3VzdG9tQXR0cmlidXRlcylcbiAgICAgIHRoaXMuY3VzdG9tQXR0cmlidXRlcyA9IHt9O1xuICAgIHRoaXMuY3VzdG9tQXR0cmlidXRlc1tuYW1lXSA9IHZhbHVlO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ3Z0LXRhYmxlLXJvdy1kZWYnXG59KVxuZXhwb3J0IGNsYXNzIFRhYmxlUm93RGVmRGlyZWN0aXZlIHtcbiAgQElucHV0KCkgY3VzdG9tQXR0cmlidXRlczoge1tuYW1lOiBzdHJpbmddOiBzdHJpbmd9O1xuICBcbiAgY29uc3RydWN0b3IoKSB7IH1cblxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBUZW1wbGF0ZVJlZiwgQ29udGVudENoaWxkLCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGFibGVDZWxsRGlyZWN0aXZlIH0gZnJvbSAnLi90YWJsZS1jZWxsLmRpcmVjdGl2ZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ3Z0LWZvb3Rlci1yb3cnXG59KVxuZXhwb3J0IGNsYXNzIEZvb3RlclJvd0RpcmVjdGl2ZSB7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihUYWJsZUNlbGxEaXJlY3RpdmUsIHtyZWFkOiBUYWJsZUNlbGxEaXJlY3RpdmV9KVxuICBjZWxsVGVtcGxhdGVzOiBRdWVyeUxpc3Q8VGFibGVDZWxsRGlyZWN0aXZlPjtcblxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBUZW1wbGF0ZVJlZiwgQ29udGVudENoaWxkLCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFRhYmxlQ2VsbERpcmVjdGl2ZSB9IGZyb20gJy4vdGFibGUtY2VsbC5kaXJlY3RpdmUnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICd2dC1yb3cnXG59KVxuZXhwb3J0IGNsYXNzIFJvd0RpcmVjdGl2ZSB7XG4gIEBJbnB1dCgpIGN1c3RvbUF0dHJpYnV0ZXM6IHtbbmFtZTogc3RyaW5nXTogc3RyaW5nfTtcbiAgQElucHV0KCkgaWQ6IHN0cmluZztcbiAgQElucHV0KCkgY3NzQ2xhc3M6IHN0cmluZztcblxuICBAQ29udGVudENoaWxkcmVuKFRhYmxlQ2VsbERpcmVjdGl2ZSwge3JlYWQ6IFRhYmxlQ2VsbERpcmVjdGl2ZX0pXG4gIGNlbGxUZW1wbGF0ZXM6IFF1ZXJ5TGlzdDxUYWJsZUNlbGxEaXJlY3RpdmU+O1xufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgKiBhcyBjbGlwYm9hcmQgZnJvbSBcImNsaXBib2FyZC1wb2x5ZmlsbFwiO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbi8qKlxuICogQ2xpcGJvYXJkIHNlcnZpY2UgdGhhdCB1c2UgdGhlIG1vZGVybiBpbXBsZW1lbnRhdGlvbiBvZiBjbGlib2FyZC4gRm9yIG9sZGVyIGJyb3dzZXIsIGEgcG9seWZpbGxcbiAqIGlzIHVzZWQgaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNsYXNzIENsaXBib2FyZFNlcnZpY2Uge1xuXG4gIC8vY29uc3RydWN0b3IoQEluamVjdChcIkNsaXBib2FyZFBvbHlmaWxsXCIpIHByaXZhdGUgY2xpcGJvYXJkOiBhbnkpIHsgfVxuXG4gIC8qKlxuICAgKiBDb3B5IHRoZSB7dHh0fSB0ZXh0IGludG8gdGhlIGNsaXBib2FyZFxuICAgKiBcbiAgICogQHBhcmFtIHR4dCB0ZXh0IHRvIGJlIGNvcGllZCBpbnRvIHRoZSBjbGlwYm9hcmRcbiAgICovXG4gIGNvcHkodHh0OiBzdHJpbmcpIHtcbiAgICByZXR1cm4gY2xpcGJvYXJkLndyaXRlVGV4dCh0eHQpO1xuICB9XG59XG4iLCIvL2NvcHkgZnJvbSBkcmFnbmRyb3BcbmV4cG9ydCBmdW5jdGlvbiBpc0lFKCkge1xuICAgIHZhciBuYXYgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIG5hdi5pbmRleE9mKFwibXNpZVwiKSAhPT0gLTEgPyBwYXJzZUludChuYXYuc3BsaXQoXCJtc2llXCIpWzFdKSA6IGZhbHNlO1xufSIsImltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcbmltcG9ydCB7IENvbXBvbmVudCwgQ29udGVudENoaWxkcmVuLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkluaXQsIE91dHB1dCwgUXVlcnlMaXN0LCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIFZpZXdDaGlsZCwgU2tpcFNlbGYsIE9wdGlvbmFsLCBmb3J3YXJkUmVmLCBSZW5kZXJlcjIsIENvbnRlbnRDaGlsZCwgTmdab25lLCBJdGVyYWJsZURpZmZlcnMsIEl0ZXJhYmxlRGlmZmVyLCBEb0NoZWNrIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbi5zZXJ2aWNlJztcbmltcG9ydCB7IFRhYmxlQ29sdW1uRGlyZWN0aXZlIH0gZnJvbSAnLi90YWJsZS1jb2x1bW4uZGlyZWN0aXZlJztcbmltcG9ydCB7IFRhYmxlU2VsZWN0aW9uRXZlbnQgfSBmcm9tICcuL3RhYmxlLXNlbGVjdGlvbi1ldmVudCc7XG5pbXBvcnQgeyBIVE1MRWxlbWVudFdyYXBwZXIgfSBmcm9tICcuLi90cmVlLXRhYmxlL2h0bWwtZWxlbWVudC13cmFwcGVyJztcbmltcG9ydCB7IE9uQ3JlYXRlRXZlbnQgfSBmcm9tICcuLi9iYXNlL29uLWNyZWF0ZS1ldmVudCc7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tICcuLi9qYXZhL3ZlY3Rvcic7XG5pbXBvcnQgeyBUYWJsZVJvd0RlZkRpcmVjdGl2ZSB9IGZyb20gJy4vdGFibGUtcm93LWRlZi5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgRm9vdGVyUm93RGlyZWN0aXZlIH0gZnJvbSAnLi9mb290ZXItcm93LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24sIFN1YmplY3QsIHRpbWVyIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xuaW1wb3J0IHsgUm93RGlyZWN0aXZlIH0gZnJvbSAnLi9yb3cuZGlyZWN0aXZlJztcbmltcG9ydCB7IENsaWVudEV2ZW50IH0gZnJvbSAnLi4vZXZlbnQtaGFuZGxlci9jbGllbnQtZXZlbnQnO1xuaW1wb3J0IHsgQXBwVXRpbHMgfSBmcm9tICcuLi9iYXNlL2FwcC11dGlscyc7XG5pbXBvcnQgeyBWaWV3Q29tcG9uZW50IH0gZnJvbSAnLi4vdmlldy92aWV3LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDbGlwYm9hcmRTZXJ2aWNlIH0gZnJvbSAnLi4vY2xpcGJvYXJkL2NsaXBib2FyZC5zZXJ2aWNlJztcbmltcG9ydCB7IFRhYmxlQ2VsbERpcmVjdGl2ZSB9IGZyb20gJy4vdGFibGUtY2VsbC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgQ2hlY2tib3hDb21wb25lbnQgfSBmcm9tICcuLi9jaGVja2JveC9jaGVja2JveC5jb21wb25lbnQnO1xuaW1wb3J0IHsgUmFkaW9CdXR0b25Db21wb25lbnQgfSBmcm9tICcuLi9yYWRpby1idXR0b24vcmFkaW8tYnV0dG9uLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBUZXh0RmllbGRDb21wb25lbnQgfSBmcm9tICcuLi90ZXh0LWZpZWxkL3RleHQtZmllbGQuY29tcG9uZW50JztcbmltcG9ydCB7IENvbWJvQm94Q29tcG9uZW50IH0gZnJvbSAnLi4vY29tYm8tYm94L2NvbWJvLWJveC5jb21wb25lbnQnO1xuaW1wb3J0IHsgS2V5VXRpbHMgfSBmcm9tICcuLi9iYXNlL2tleS11dGlscyc7XG5pbXBvcnQgeyBpc0lFIH0gZnJvbSAnLi4vLi4vZnVuY3Rpb25zL2lzLWllJztcblxuZGVjbGFyZSB2YXIgalF1ZXJ5OiBhbnk7XG5cbmRlY2xhcmUgdmFyICQ7XG5cbmRlY2xhcmUgdHlwZSBTZWxlY3Rpb25Nb2RlID0gXCJub25lXCIgfCBcInNpbmdsZVJvd1wiIHwgXCJtdWx0aVJvd1wiIHwgXCJzaW5nbGVDZWxsXCIgfCBcIm11bHRpQ2VsbFwiIHwgXCJzaW5nbGVDb2x1bW5cIiB8IFwibXVsdGlDb2x1bW5cIjtcblxuZXhwb3J0IGludGVyZmFjZSBWaXJ0dWFsQ29sdW1uQ2hhbmdlRGF0YSB7XG4gICAgdGV4dDogc3RyaW5nLFxuICAgIGNoZWNrZWQ6IGJvb2xlYW5cbn1cbi8qKlxuICogQ2xhc3MgZm9yIHRhYmxlIGNvbXBvbmVudFxuICovXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3Z0LXRhYmxlJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGFibGUuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL3RhYmxlLmNvbXBvbmVudC5jc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgIHtcbiAgICAgICAgcHJvdmlkZTogQmFzZUNvbXBvbmVudCxcbiAgICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCk9PlRhYmxlQ29tcG9uZW50KVxuICAgICAgfVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgVGFibGVDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBEb0NoZWNrIHtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBJTlRFUk5BTF9WSVJUVUFMX09SSUdJTkFMX0lOREVYOiBzdHJpbmcgPSBcIiQkSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWCQkXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgSU5URVJOQUxfVklSVFVBTF9ST1dfREFUQSA6IHN0cmluZyA9IFwiJCRJTlRFUk5BTF9WSVJUVUFMX1JPV19EQVRBJCRcIjtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBJTlRFUk5BTF9ST1dfRElGRkVSX0lEIDogc3RyaW5nID0gXCIkJElOVEVSTkFMX1ZJUlRVQUxfUk9XX0RJRkZFUl9JRCQkXCI7XG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgSU5URVJOQUxfUk9XX0lEIDogc3RyaW5nID0gXCIkJElOVEVSTkFMX1ZJUlRVQUxfUk9XX0lEJCRcIjtcbiAgICBwcml2YXRlIHN0YXRpYyByZWFkb25seSBJTlRFUk5BTF9DT0xVTU5fSEVBREVSX0lEID0gXCIkJElOVEVSTkFMX0NPTFVNTl9IRUFERVJfSUQkJFwiO1xuXG4gICAgQElucHV0KCkgc2VsZWN0aW9uTW9kZTogU2VsZWN0aW9uTW9kZSA9IFwic2luZ2xlUm93XCI7XG4gICAgQElucHV0KCkgcm93Q3VzdG9tQXR0cmlidXRlQnVpbGRlcjogKHJvdzphbnksIHJvd051bWJlcj86IG51bWJlciwgdmlldz86IFZpZXdDb21wb25lbnQpPT57fTtcbiAgICBASW5wdXQoKSByb3dJZEJ1aWxkZXI6IChyb3c6YW55LCByb3dOdW1iZXI/OiBudW1iZXIpPT5zdHJpbmc7XG4gICAgQElucHV0KCkgcm93U3R5bGVGbjogKHJvdzphbnkpPT5zdHJpbmc7XG5cbiAgICAvKiogRW5hYmxlIHVzZSBvZiB2aXJ0dWFsIHNjcm9sbGluZywgaWYgdGhpcyBpcyBvbiwgY29udHJvbFdpZHRoIGFuZCBjb250cm9sSGVpZ2h0IG11c3QgYmUgZGVmaW5lZCAqL1xuICAgIEBJbnB1dCgpIHZpcnR1YWxTY3JvbGw6IGJvb2xlYW47XG5cbiAgICAvL2N1c3RvbSBzb3J0IGZ1bmN0aW9uIGZvciB2aXJ0dWFsIHNjcm9sbFxuICAgIEBJbnB1dCgpIHZpcnR1YWxTY3JvbGxTb3J0Rm46ICh2aWV3OiBCYXNlQ29tcG9uZW50LCBjb2x1bW5JbmRleDogbnVtYmVyKT0+c3RyaW5nO1xuXG4gICAgLy9jdXN0b20gZnVuY3Rpb24gdG8gXCJyZW5kZXJcIiB0aGUgaW52aXNpYmxlIHJvdyAoZm9yIHZpcnR1YWwgc2Nyb2xsKVxuICAgIEBJbnB1dCgpIHZpcnR1YWxTY3JvbGxJbnZpc2libGVSb3dCdWlsZGVyOiAodmlldzogQmFzZUNvbXBvbmVudCwgcm93RGF0YTogYW55KT0+SFRNTEVsZW1lbnRXcmFwcGVyO1xuXG4gICAgLy91c2UgZm9yIHZpcnR1YWwgc2Nyb2xsaW5nXG4gICAgQElucHV0KCkgcm93SGVpZ2h0OiBudW1iZXIgPSAyNDtcblxuICAgIEBJbnB1dCgpIHNjcm9sbFRpbWVvdXQ6IG51bWJlciA9IDIwMDtcblxuICAgIC8vc2hvdyBibGFuayByb3cgaWYgd2UgZG9uJ3QgaGF2ZSBlbm91Z2ggZGF0YVxuICAgIHNob3dCbGFua1JvdzogYm9vbGVhbjtcblxuICAgIEBJbnB1dCgpIHNldCBkYXRhU291cmNlKGRzOiBBcnJheTxhbnk+KSB7XG4gICAgICAgIC8vZGF0YSBoYXMgY2hhbmdlcywgd2UgbmVlZCB0byBkbyBzb21lIGNsZWFuIHVwLlxuICAgICAgICB0aGlzLmNsZWFuVXBDaGlsZE5vZGVzKCk7XG5cbiAgICAgICAgdGhpcy5yZXNldFRhYmxlQ29sdW1ucygpO1xuICAgICAgICB0aGlzLl9kYXRhU291cmNlID0gdGhpcy5idWlsZFJvd0lkZW50aXR5KGRzKTtcblxuICAgICAgICB0aGlzLmNoZWNrU2hvd0JsYW5rUm93KCk7XG4gICAgICAgIHRoaXMucHJldmlvdXNSb3dJbmRleCA9IG51bGw7XG4gICAgICAgIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93cyA9IG51bGw7XG4gICAgICAgIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93c0pzb24gPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IFtdO1xuXG4gICAgICAgIHRoaXMuY2FsY1ZpcnR1YWxTY3JvbGxIZWlnaHQoKTtcbiAgICAgICAgdGhpcy5jYWxjVmlydHVhbFNjcm9sbFZpZXdQb3J0KCk7XG4gICAgfVxuXG4gICAgZ2V0IGRhdGFTb3VyY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpcnR1YWxTY3JvbGwgPT09IHRydWUgPyB0aGlzLl92aXJ0dWFsVmlld1BvcnQgOiB0aGlzLl9kYXRhU291cmNlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLy92aXJ0dWFsIGRhdGFzb3VyY2VcbiAgICBwcml2YXRlIF92aXJ0dWFsVmlld1BvcnQ6IEFycmF5PGFueT47XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHByaXZhdGUgX2RhdGFTb3VyY2U6IEFycmF5PGFueT47XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKiBXZWF0aGVyIG9yIG5vdCBzaG91bGQgZW5hYmxlZCBzb3J0LCBkZWZhdWx0IHRvIGVuYWJsZWQgKG51bGwvdW5kZWZpbmVkL3RydWUgbWVhbiBlbmFibGVkKSAqL1xuICAgIEBJbnB1dCgpIGVuYWJsZVNvcnQ6IGJvb2xlYW47XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKiBXZWF0aGVyIG9yIG5vdCBzaG91bGQgYWxsb3cgY29sdW1uIGRyYWcvZHJvcCwgZGVmYXVsdCB0byBlbmFibGVkIChudWxsL3VuZGVmaW5lZC90cnVlIG1lYW4gZW5hYmxlZCkgKi9cbiAgICBASW5wdXQoKSBlbmFibGVDb2x1bW5EcmFnZ2luZzogYm9vbGVhblxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKiogV2VhdGhlciBvciBub3Qgc2hvdWxkIGFsbG93IGNvbHVtbiByZXNpemUsIGRlZmF1bHQgdG8gZW5hYmxlZCAobnVsbC91bmRlZmluZWQvdHJ1ZSBtZWFuIGVuYWJsZWQpICovXG4gICAgQElucHV0KCkgZW5hYmxlQ29sdW1uUmVzaXplOiBib29sZWFuO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKiogV2hldGhlciByb3cgY2FuIGJlIGRyb3BwZWQgaW50byB0aGlzIHRhYmxlICovXG4gICAgQElucHV0KCkgZHJvcHBhYmxlOiBib29sZWFuIHwgc3RyaW5nO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBSZXN0cmljdGVkIHJpZ2h0IGNsaWNrIHBvcHVwIG1lbnUgb25seSB0byBjZWxsIHdoZXJlIHBvcHVwIGlzIGRlZmluZWRcbiAgICAgKiA8bmctdGVtcGxhdGUgLi4uPjx2dC1sYWJlbCAuLi5wb3B1cD1cImFiY1wiPjwvdnQtbGFiZWw+PC9uZy10ZW1wbGF0ZT5cbiAgICAgKiAqL1xuICAgIEBJbnB1dCgpIHJlc3RyaWN0Q2VsbFBvcHVwOiBib29sZWFuO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBAT3V0cHV0KCkgb25DaGFuZ2U6IEV2ZW50RW1pdHRlcjxUYWJsZVNlbGVjdGlvbkV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8VGFibGVTZWxlY3Rpb25FdmVudD4oKTtcbiAgICBAT3V0cHV0KCkgb25TdGF0ZUNoYW5nZTogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICAgIEBPdXRwdXQoKSBvbkRvdWJsZUNsaWNrOiBFdmVudEVtaXR0ZXI8VGFibGVTZWxlY3Rpb25FdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPFRhYmxlU2VsZWN0aW9uRXZlbnQ+KCk7XG4gICAgQE91dHB1dCgpIG9uRHJhZ0Ryb3A6IEV2ZW50RW1pdHRlcjx2b2lkPiA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICAgIEBWaWV3Q2hpbGQoJ3RhYmxlJykgdGFibGU6IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZChcInRhYmxlQ29udGFpbmVyXCIsIHtyZWFkOiBFbGVtZW50UmVmfSkgdGFibGVDb250YWluZXI6IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZChcInRhYmxlV3JhcHBlclwiLCB7cmVhZDogRWxlbWVudFJlZn0pIHRhYmxlV3JhcHBlcjogRWxlbWVudFJlZjtcbiAgICBAVmlld0NoaWxkKFwidGFibGVIZWFkXCIsIHtyZWFkOiBFbGVtZW50UmVmfSkgdGFibGVIZWFkOiBFbGVtZW50UmVmO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgQFZpZXdDaGlsZChcInRhYmxlRm9vdFwiLCB7cmVhZDogRWxlbWVudFJlZn0pIHRhYmxlRm9vdDogRWxlbWVudFJlZjtcblxuICAgIC8vIEBWaWV3Q2hpbGQoXCJmYWtlVGFibGVcIiwge3JlYWQ6IEVsZW1lbnRSZWZ9KSBmYWtlVGFibGU6IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZChcImdob3N0SGVhZGVyXCIsIHtyZWFkOiBFbGVtZW50UmVmfSkgZ2hvc3RIZWFkZXI6IEVsZW1lbnRSZWY7XG5cbiAgICBAQ29udGVudENoaWxkcmVuKFRhYmxlQ29sdW1uRGlyZWN0aXZlKVxuICAgIHNldCB0YWJsZUNvbHVtbnMoY29sdW1uczogUXVlcnlMaXN0PFRhYmxlQ29sdW1uRGlyZWN0aXZlPikge1xuICAgICAgdGhpcy5jbGVhckhlYWRlck5vZGVzKCk7XG4gICAgICB0aGlzLmNvbHVtbnMgPSB0aGlzLnRvQ29sdW1ucyhjb2x1bW5zKTtcblxuICAgICAgaWYgKHRoaXMuX2lzVmlld0luaXQgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5pbml0UGx1Z2lucygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbHVtbnM6IEFycmF5PFRhYmxlQ29sdW1uRGlyZWN0aXZlPjtcblxuICAgIEBDb250ZW50Q2hpbGQoVGFibGVSb3dEZWZEaXJlY3RpdmUpIHRhYmxlUm93RGVmOiBUYWJsZVJvd0RlZkRpcmVjdGl2ZTtcbiAgICBAQ29udGVudENoaWxkKEZvb3RlclJvd0RpcmVjdGl2ZSkgZm9vdGVyUm93OiBGb290ZXJSb3dEaXJlY3RpdmU7XG5cbiAgICAvL3RhYmxlIHdpdGggbm8gZGF0YXNvdXJjZVxuICAgIEBDb250ZW50Q2hpbGRyZW4oUm93RGlyZWN0aXZlKSBzZXQgdGFibGVSb3dRdWVyeShyb3dzOiBRdWVyeUxpc3Q8Um93RGlyZWN0aXZlPikge1xuICAgICAgICB0aGlzLmNsZWFuVXBDaGlsZE5vZGVzKCk7XG4gICAgICAgIHRoaXMuX3RhYmxlUm93ID0gW107XG4gICAgICAgIHRoaXMuZGV0ZWN0Q2hhbmdlcygpO1xuXG4gICAgICAgIHRoaXMuX3RhYmxlUm93ID0gcm93cy50b0FycmF5KCk7XG4gICAgfVxuXG4gICAgZ2V0IHRhYmxlUm93KCk6IEFycmF5PFJvd0RpcmVjdGl2ZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFibGVSb3c7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfdGFibGVSb3c6IEFycmF5PFJvd0RpcmVjdGl2ZT47XG5cbiAgICAvL2N1c3RvbSBzb3J0IGZ1bmN0aW9uIGZvciB2aXJ0dWFsIHNjcm9sbFxuICAgIEBJbnB1dCgpIGZvcmNlRml4V2lkdGg6IGJvb2xlYW4gPSB0cnVlO1xuICAgIEBJbnB1dCgpIGlzSGVhZGVyUGFkZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIEBJbnB1dCgpIGlzSGVhZGVyQXV0bzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQElucHV0KCkgc2tpcFJvd3NBZGp1c3RtZW50OiBib29sZWFuO1xuXG4gICAgLy9mb3JjZSByZXNldCBjb2x1bW5zIHdoZW4gZGF0YVNvdXJjZSBjaGFuZ2VzXG4gICAgQElucHV0KCkgZm9yY2VSZXNldENvbHVtbnM6IGJvb2xlYW47XG5cbiAgICAvL3RhYmxlLWxheW91dCBkZWZhdWx0IGZpeGVkXG4gICAgQElucHV0KCkgdGFibGVMYXlvdXQ6IHN0cmluZyA9IFwiZml4ZWRcIjtcblxuICAgIC8vdHJhY2sgZHluYW1pYyByb3dzIHNvIHdlIGNhbiBxdWVyeSBmb3IgY2hpbGQgbGF0ZXJcbiAgICBub2RlczogQXJyYXk8SFRNTEVsZW1lbnRXcmFwcGVyPiA9IFtdO1xuICAgIGhlYWROb2RlOiBIVE1MRWxlbWVudFdyYXBwZXI7XG4gICAgc2VsZWN0ZWRSb3dzOiBBcnJheTxudW1iZXI+ID0gW107XG4gICAgbGFzdFNlbGVjdGVkUm93SW5kZXg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9wcmV2U2VsZWN0ZWRSb3dzID0gW107XG4gICAgcHJpdmF0ZSBnZXQgUk9XX0lOREVYX0tFWSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gJyQkJCRyb3dJbmRleCQkJCQnO1xuICAgIH1cbiAgICBwcml2YXRlICRjb2xSZXNpemFibGU6IEpRdWVyeSB8IGFueTtcbiAgICBwcml2YXRlICRkcmFnYWJsZUNvbHVtbnM6IEpRdWVyeSB8IGFueTtcbiAgICBwcml2YXRlICR0YWJsZXNvcnRlcjogSlF1ZXJ5IHwgYW55O1xuICAgIHByaXZhdGUgc2Nyb2xsSGFuZGxlcjogRnVuY3Rpb24gPSBudWxsO1xuICAgIHByaXZhdGUgbW9kaWZpZWRWaXJ0dWFsUm93czoge1tuYW1lOiBzdHJpbmddOiB7W25hbWU6IHN0cmluZ106IFZpcnR1YWxDb2x1bW5DaGFuZ2VEYXRhfX07XG4gICAgcHJpdmF0ZSBtb2RpZmllZFZpcnR1YWxSb3dzSnNvbjoge1tuYW1lOiBzdHJpbmddOiB7fX07XG4gICAgLy8gbW91c2VVcEhhbmRsZXI6IEZ1bmN0aW9uID0gbnVsbDtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHJpdmF0ZSBkYXRhU291cmNlRGlmZmVyOiBJdGVyYWJsZURpZmZlcjxBcnJheTxhbnk+PjtcbiAgICBwcml2YXRlIGNvbHVtbnNEaWZmZXI6IEl0ZXJhYmxlRGlmZmVyPEFycmF5PGFueT4+O1xuICAgIHByaXZhdGUgY3VzdG9tUm93RGlmZmVyOiBJdGVyYWJsZURpZmZlcjxBcnJheTxhbnk+PjtcblxuICAgIC8vdmlydHVhbCBzY3JvbGxcbiAgICBwcml2YXRlIHZpcnR1YWxTY3JvbGxEYXRhU291cmNlRGlmZmVyOiBJdGVyYWJsZURpZmZlcjxBcnJheTxhbnk+PjtcblxuICAgIHByaXZhdGUgcHJldmlvdXNSb3dJbmRleDogbnVtYmVyID0gbnVsbDtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHJpdmF0ZSBzY3JvbGxTdWJjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuICAgIHByaXZhdGUgc2Nyb2xsU3ViamVjdDogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3Q8YW55PigpO1xuICAgIHByaXZhdGUga2V5dXBIYW5kbGVyOiAoZXZ0OiBLZXlib2FyZEV2ZW50KT0+dm9pZDtcblxuICAgIC8vIFZpcnR1YWwgc2NyaXB0IGhlaWdodCwgdXNlIGludGVybmFsbHlcbiAgICBfdmlydHVhbFNjcm9sbERpdkhlaWdodDogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSBfdmlydHVhbFNjcm9sbFJvd1BlclZpZXc6IG51bWJlcjtcblxuICAgIHByaXZhdGUgX2lzVmlld0luaXQ6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIG1heFNjcm9sbFRvcDogbnVtYmVyO1xuXG4gICAgdGFibGVTdHlsZXM6IHtbbmFtZTogc3RyaW5nXTogc3RyaW5nfTtcbiAgICBzY3JvbGxDb250YWluZXJTdHlsZXM6IHtbbmFtZTogc3RyaW5nXTogc3RyaW5nfTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHZpcnR1YWxTY3JvbGxQcm9ncmVzc1N0eWxlczoge1tuYW1lOiBzdHJpbmddOiBzdHJpbmd9O1xuICAgIHZpcnR1YWxTY3JvbGxTb3J0S2V5czogQXJyYXk8c3RyaW5nPjtcbiAgICBwcmV2U2Nyb2xsVG9wOiBudW1iZXIgPSAwO1xuICAgIHByZXZTY3JvbGxUb3BGb3JIaWRkZW5IZWFkZXI6IG51bWJlciA9IDA7XG5cbiAgICBzb3J0RGlyZWN0aW9uOnN0cmluZyA9IFwiXCI7ICAgLy8gUlhDIEFkZFxuICAgIHNvcnRDb2x1bW5JZDpudW1iZXIgPSAwOyAgICAvLyBSWEMgQWRkXG5cbiAgICBwcml2YXRlIF9kaXNhYmxlZFNjcm9sbGluZzogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgX3RhYmxlU29ydGVyUmVmcmVzaFRtOiBhbnk7XG5cbiAgICBwcml2YXRlIF90YWJsZVNvcnRlckNhY2hlUmVmcmVzaFRtOiBhbnk7XG5cbiAgICBwcml2YXRlIF9pc0hlYWRlckNlbGw6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIGFuaW1hdGlvbkZyYW1lSWQ6IGFueTtcblxuICAgIHByaXZhdGUgdGhlYWRIZWlnaHQ6IG51bWJlciA9IDA7XG5cbiAgICBwcml2YXRlIHNjcm9sbExlZnQ6IG51bWJlciA9IDA7XG5cbiAgICBwcml2YXRlIGNvbHVtbnNIYXNCZWVuU3dhcHBlZDogYm9vbGVhbjtcblxuICAgIC8vaW5pdCBwbHVnaW5zIHRpbWVyXG4gICAgcHJpdmF0ZSBpbml0VG06IGFueTtcblxuICAgIHByaXZhdGUgZHJhZ2dhYmxlUm93czogYm9vbGVhbjtcbiAgICBwcml2YXRlIHNob3VsZEhhbmRsZU1vdXNlVXA6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBpc0hlYWRlckFwcGVuZFRvRmFrZVRhYmxlOiBib29sZWFuO1xuICAgIHByaXZhdGUgYWRqdXN0ZWRSb3dzOiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgc2tpcEdob3N0SGVhZGVyOiBib29sZWFuO1xuXG4gICAgcHJpdmF0ZSBjbGllbnRIZWlnaHRWaXJ0dWFsU2Nyb2xsOiBudW1iZXI7XG5cbiAgICBwcml2YXRlIHByZU1vdXNlRXZlbnQ6IE1vdXNlRXZlbnQgPSBudWxsO1xuXG4gICAgcHJpdmF0ZSBpc0lFOTogYm9vbGVhbjtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyZW50IHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSBzZXNzaW9uU2VydmljZSBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gZWwgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIGNoYW5nZURldGVjdG9yUmVmIEluamVjdCBDaGFuZ2VEZXRlY3RvclxuICAgICAqIEBwYXJhbSByZW5kZXJlciBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gem9uZSBJbmplY3QgTmdab25lXG4gICAgICogQHBhcmFtIGRpZmZlcnMgSW5qZWN0IEludGVyYWJsZURpZmZlcnNcbiAgICAgKiBAcGFyYW0gY2xpcGJvYXJkU2VydmljZSBJbmplY3QgW1tDbGlwYm9hcmRTZXJ2aWNlXV1cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LFxuICAgICAgICBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsXG4gICAgICAgIHByaXZhdGUgY2hhbmdlRGV0ZWN0b3JSZWY6IENoYW5nZURldGVjdG9yUmVmLFxuICAgICAgICByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgICAgICBwcml2YXRlIHpvbmU6IE5nWm9uZSxcbiAgICAgICAgZGlmZmVyczogSXRlcmFibGVEaWZmZXJzLFxuICAgICAgICBwcml2YXRlIGNsaXBib2FyZFNlcnZpY2U6IENsaXBib2FyZFNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWwsIHJlbmRlcmVyKTtcblxuICAgICAgICB0aGlzLmRhdGFTb3VyY2VEaWZmZXIgPSBkaWZmZXJzLmZpbmQoW10pLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmNvbHVtbnNEaWZmZXIgPSBkaWZmZXJzLmZpbmQoW10pLmNyZWF0ZSgpO1xuICAgICAgICB0aGlzLmN1c3RvbVJvd0RpZmZlciA9IGRpZmZlcnMuZmluZChbXSkuY3JlYXRlKCk7XG5cbiAgICAgICAgdGhpcy5pc0lFOSA9IGlzSUUoKSA9PSA5O1xuXG4gICAgICAgIC8vZm9yIHZpcnR1YWwgc2Nyb2xsXG4gICAgICAgIHRoaXMudmlydHVhbFNjcm9sbERhdGFTb3VyY2VEaWZmZXIgPSBkaWZmZXJzLmZpbmQoW10pLmNyZWF0ZSgpO1xuXG4gICAgICAgIHRoaXMua2V5dXBIYW5kbGVyID0gKGV2dDogS2V5Ym9hcmRFdmVudCk9PiB0aGlzLmhhbmRsZUtleVVwKGV2dCk7XG4gICAgICAgIHRoaXMuc2Nyb2xsSGFuZGxlciA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkU2Nyb2xsaW5nID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZTY3JvbGxUb3BGb3JIaWRkZW5IZWFkZXIgIT09IGV2ZW50LnNyY0VsZW1lbnQuc2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnNraXBHaG9zdEhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMuZ2hvc3RIZWFkZXIubmF0aXZlRWxlbWVudCwgXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250cm9sV2lkdGggPT09IFwiMTAwJVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMuZ2hvc3RIZWFkZXIubmF0aXZlRWxlbWVudCwgXCJ3aWR0aFwiLCBcIjEwMCVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRhYmxlSGVhZC5uYXRpdmVFbGVtZW50LCBcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAgIGlmKHRoaXMuZm9yY2VGaXhXaWR0aCl7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmZha2VUYWJsZS5uYXRpdmVFbGVtZW50LCBcInRhYmxlLWxheW91dFwiLCBcImZpeGVkXCIpO1xuICAgICAgICAgICAgLy8gICB9XG5cbiAgICAgICAgICAgICAgaWYodGhpcy50YWJsZUZvb3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy50YWJsZUZvb3QubmF0aXZlRWxlbWVudCwgXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vICAgdGhpcy5hcHBlbmRIZWFkZXJUb0Zha2VUYWJsZSgpO1xuICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFuaW1hdGlvbkZyYW1lSWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25GcmFtZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0VGFibGVIZWFkKGV2ZW50LCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnByZXZTY3JvbGxUb3BGb3JIaWRkZW5IZWFkZXIgPSBldmVudC5zcmNFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICAgICAgLy9kaXNhYmxlZCBmb3IgSUUxMS9JRTkgKHRvbyBzbG93KVxuICAgICAgICAgICAgLy8gZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgaWYgKHRoaXMuYW5pbWF0aW9uRnJhbWVJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uRnJhbWVJZCk7XG4gICAgICAgICAgICAvLyAgICB9XG5cbiAgICAgICAgICAgIC8vICAgICB0aGlzLmFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PnRoaXMuYWRqdXN0VGFibGVIZWFkKGV2ZW50LCB0cnVlKSk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsU3ViamVjdC5uZXh0KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIMOnwpTCu8Opwp3CosOjwoHCjMOjwoPCqsOjwoLCtcOjwoLCpMOjwoLCusOjwoHClcOjwoLCjMOjwoHCn8OpwprCm8OjwoHCq8OlwovClcOjwoHCi8OjwoHCmcOjwoLCpMOjwoPCmcOjwoPCs8OjwoPCiFxuICAgICAqL1xuICAgIHRhYmxlUmVzaXplKCkge1xuICAgICAgICB0aGlzLmFkanVzdFRhYmxlRm9vdGVyKCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBEbyBjaGVjayBsaWZlY3ljbGVcbiAgICAgKi9cbiAgICBuZ0RvQ2hlY2soKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZURpZmZlci5kaWZmKHRoaXMuX2RhdGFTb3VyY2UpXG4gICAgICAgICkge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY1ZpcnR1YWxTY3JvbGxIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGNWaXJ0dWFsU2Nyb2xsVmlld1BvcnQodGhpcy5wcmV2U2Nyb2xsVG9wKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jaGVja1Nob3dCbGFua1JvdygpO1xuICAgICAgICAgICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFRhYmxlU29ydGVyKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsID09PSB0cnVlICYmIHRoaXMudmlydHVhbFNjcm9sbERhdGFTb3VyY2VEaWZmZXIuZGlmZih0aGlzLl92aXJ0dWFsVmlld1BvcnQpKSB7XG4gICAgICAgICAgdGhpcy5jaGVja1Nob3dCbGFua1JvdygpO1xuICAgICAgICAgICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNoZWNrQ3VzdG9tUm93c0ZvckNoYW5nZWQoKTtcbiAgICAgICAgICB0aGlzLmNoZWNrQ29sdW1uc0ZvckNoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXQgbGlmZWN5Y2xlLiBDYWxsIHBhcmVudCBjbGFzcyBuZ09uSW5pdFxuICAgICAqL1xuICAgIG5nT25Jbml0KCkge1xuICAgICAgc3VwZXIubmdPbkluaXQoKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEFmdGVyIHZpZXcgaW5pdCBsaWZlY3ljbGUuIEFwcGx5IGpRdWVyeSBwbHVnaW4gYW5kIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgc3VwZXIubmdBZnRlclZpZXdJbml0KCk7XG5cbiAgICAgICAgLy8xNzI2OiBJdCBsb29rcyBsaWtlIHNvcGhpYSBhbHNvIHF1ZXJ5aW5nIGZvciB0YWJsZSBjb2x1bW4gZGVmIHNvIHdlIG5lZWQgdG8gc3RvcmUgdG8gb3VyIHBhcmVudFxuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5fZ2V0Tm9uZUFjdGl2ZVZpZXdQYXJlbnQoKSB8fCB0aGlzLmdldFBhcmVudFZpZXcoKTtcblxuICAgICAgICBpZiAodmlldyAhPSBudWxsICYmIHRoaXMuY29sdW1ucyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMuZmlsdGVyKGNvbD0+Y29sLmlkICE9IG51bGwgJiYgY29sLmlkICE9PSBcIlwiKS5mb3JFYWNoKGNvbD0+e1xuICAgICAgICAgICAgICBpZiAodmlld1tcIl90YWJsZUNvbHVtbnNNYXBcIl0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZpZXdbXCJfdGFibGVDb2x1bW5zTWFwXCJdID0gbmV3IE1hcDxzdHJpbmcsIEJhc2VDb21wb25lbnQ+KCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB2aWV3W1wiX3RhYmxlQ29sdW1uc01hcFwiXS5zZXQoS2V5VXRpbHMudG9NYXBLZXkoY29sLmlkKSwgY29sIGFzIGFueSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vZHJvcHBhYmxlP1xuICAgICAgICBpZiAodGhpcy5kcm9wcGFibGUgPT09IHRydWUgfHwgdGhpcy5kcm9wcGFibGUgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAkKHRoaXMudGFibGVDb250YWluZXIubmF0aXZlRWxlbWVudCkuZHJvcHBhYmxlKHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzOiB7XG4gICAgICAgICAgICAgICAgICBcInVpLWRyb3BwYWJsZS1ob3ZlclwiOiBcInVpLXN0YXRlLWhvdmVyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhvdmVyQ2xhc3M6IFwidWktc3RhdGUtaG92ZXJcIixcbiAgICAgICAgICAgICAgICBhY2NlcHQ6IFwidHJcIixcbiAgICAgICAgICAgICAgICBkcm9wOiAoZXZlbnQsIHVpKT0+e1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRHJhZ0Ryb3AuZW1pdCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG9sZXJhbmNlOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjcm9sbFN1YmNyaXB0aW9uID0gdGhpcy5zY3JvbGxTdWJqZWN0LnBpcGUoZGVib3VuY2UoKCk9PnRpbWVyKHRoaXMuc2Nyb2xsVGltZW91dCkpKS5zdWJzY3JpYmUoKGV2ZW50KT0+e1xuICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHRoaXMuZ2hvc3RIZWFkZXIubmF0aXZlRWxlbWVudCwgXCJkaXNwbGF5XCIpO1xuXG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVWaXJ0dWFsU2Nyb2xsRGF0YShldmVudCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hZGp1c3RUYWJsZUhlYWQoZXZlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXJTdHlsZXMgPSB7XG4gICAgICAgICAgICBcIm92ZXJmbG93LXlcIjogXCJhdXRvXCIsXG4gICAgICAgICAgICBcIm92ZXJmbG93LXhcIjogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgICBcInBvc2l0aW9uXCI6IFwicmVsYXRpdmVcIlxuICAgICAgICB9XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNvbnRyb2xIZWlnaHQgPT0gbnVsbCB8fCB0aGlzLmNvbnRyb2xIZWlnaHQgPT0gXCIxMDAlXCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50SGVpZ2h0VmlydHVhbFNjcm9sbCA9ICh0aGlzLnRhYmxlQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudEhlaWdodFZpcnR1YWxTY3JvbGwgPSBwYXJzZUludCh0aGlzLmNvbnRyb2xIZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHRoaXMuY2xpZW50SGVpZ2h0VmlydHVhbFNjcm9sbCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjQ2FsY05vVmlydHVhbFJvdygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc1ZpZXdJbml0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50YWJsZVN0eWxlcyA9IHtcbiAgICAgICAgICAgICAgICBcInRvcFwiOiBcIjBweFwiLFxuICAgICAgICAgICAgICAgIFwibGVmdFwiOiBcIjBweFwiLFxuICAgICAgICAgICAgICAgIFwicG9zaXRpb25cIjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIFwid2lkdGhcIjogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgXCJoZWlnaHRcIjogXCJjYWxjKDEwMCUgLSAxN3B4KVwiLFxuICAgICAgICAgICAgICAgIFwibWF4LXdpZHRoXCI6IFwiMTAwdndcIixcbiAgICAgICAgICAgICAgICBcIm1heC1oZWlnaHRcIjogXCIxMDB2aFwiXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudmlydHVhbFNjcm9sbFByb2dyZXNzU3R5bGVzID0ge1xuICAgICAgICAgICAgICAgIFwidG9wXCI6IFwiMHB4XCIsXG4gICAgICAgICAgICAgICAgXCJkaXNwbGF5XCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIFwicG9zaXRpb25cIjogXCJhYnNvbHV0ZVwiXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY2FsY1ZpcnR1YWxUYWJsZVBvc2l0aW9uKDApO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgIC8vZml4IGV4cHJlc3Npb24gaGFzIGNoYW5nZWQgYmxhaCBibGFoIGJsYWhcbiAgICAgICAgdGhpcy5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5jYWxjVmlydHVhbFNjcm9sbEhlaWdodCgpO1xuICAgICAgICAgICAgdGhpcy5jYWxjVmlydHVhbFNjcm9sbFZpZXdQb3J0KDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT4ge1xuICAgICAgICAgICAgdGhpcy5faXNWaWV3SW5pdCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmluaXRQbHVnaW5zKCk7XG5cbiAgICAgICAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEhhbmRsZXIsIHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuZWwubmF0aXZlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm1vdXNlVXBIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMua2V5dXBIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHByaXZhdGUgaW5pdFBsdWdpbnMoKSB7XG4gICAgICAgIGlmICh0aGlzLiRkcmFnYWJsZUNvbHVtbnMpIHtcbiAgICAgICAgICAgIHRoaXMuJGRyYWdhYmxlQ29sdW1ucy5kZXN0cm95KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbml0VG0gIT0gbnVsbCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmluaXRUbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiAodGhpcy50YWJsZSkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRhYmxlLm5hdGl2ZUVsZW1lbnQsIFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcblxuICAgICAgICAgICAgdGhpcy5pbml0VG0gPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRhYmxlLm5hdGl2ZUVsZW1lbnQsIFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gw6XChsKNw6jCocKow6fCpMK6w6bCmcKCw6PCgcKrw6PCgsK5w6PCgsKvw6PCg8Ktw6PCg8K8w6PCg8Krw6PCg8KQw6PCg8K8w6PCgcKuw6TCvcKNw6fCvcKuw6PCgsKSw6bCiMK7w6PCgcKZXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVDb250YWluZXIubmF0aXZlRWxlbWVudC5zY3JvbGxMZWZ0ID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBqUXVlcnlUYWJsZSA9IGpRdWVyeSh0aGlzLnRhYmxlLm5hdGl2ZUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUNvbHVtbkRyYWdnaW5nID09IG51bGwgfHwgdGhpcy5lbmFibGVDb2x1bW5EcmFnZ2luZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZHJhZ2FibGVDb2x1bW5zID0galF1ZXJ5VGFibGUuZHJhZ2FibGVDb2x1bW5zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcm9wQ2FsbGJhY2s6IChmcm9tSW5kZXgsIHRvSW5kZXgpPT50aGlzLnN3YXBDb2x1bW5zKGZyb21JbmRleCwgdG9JbmRleCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0VuZENhbGxiYWNrOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5za2lwR2hvc3RIZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXJTdHlsZXNbXCJvdmVyZmxvdy15XCJdID0gXCJhdXRvXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlZFNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ1N0YXJ0Q2FsbGJhY2s6IChjb2xJZHgpPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNraXBHaG9zdEhlYWRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYW5EcmFnID0gdGhpcy5jYW5EcmFnQ29sdW1uKGNvbElkeCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbkRyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyU3R5bGVzW1wib3ZlcmZsb3cteVwiXSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVkU2Nyb2xsaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5EcmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0VudGVyQ2FsbGJhY2s6IChjb2xJZHgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbkRyYWdDb2x1bW4oY29sSWR4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgodGhpcy5lbmFibGVTb3J0ID09IG51bGwgfHwgdGhpcy5lbmFibGVTb3J0ID09PSB0cnVlKSAmJiB0aGlzLiR0YWJsZXNvcnRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFibGVzb3J0ZXIgPSBqUXVlcnlUYWJsZS50YWJsZXNvcnRlcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZGdldHMgICAgICAgIDogWyd6ZWJyYScsICdjb2x1bW5zJ10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzTnVtYmVyRm9ybWF0IDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4IDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRSZXNldCA6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3J0UmVzdGFydCA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRTdGFibGUgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxheUluaXQ6IHRydWUgLy8gbW92ZSB0aGUgaW5pdGlhbCBwZXJmb3JtYW5jZSBoaXQgdG8gZmlyc3Qgc29ydCBzbyB0aGUgdGFibGUgd291bGQgbG9hZCBmYXN0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgIT09IHRydWUgJiYgdGhpcy4kdGFibGVzb3J0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFibGVzb3J0ZXIudHJpZ2dlcihcInVwZGF0ZUhlYWRlcnNcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEhlYWRlcldpZHRoSGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5hYmxlQ29sdW1uUmVzaXplID09IG51bGwgfHwgdGhpcy5lbmFibGVDb2x1bW5SZXNpemUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRfY29sdW1ucyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9yaWdpbmFsX2NvbHVtbldpZHRocyA9IG5ldyBBcnJheSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2x1bW5zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY29sdW1uID0gdGhpcy5jb2x1bW5zLmZpbmQoKGl0ZW0sIGlkeCk9PmlkeCA9PT0gaSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29sdW1uICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkQ2hpbGRyZW4gPSB0aGlzLnRhYmxlSGVhZC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgnICsgKGkrMSkgKyAnKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfY29sdW1ucy5wdXNoKGhlYWRDaGlsZHJlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsX2NvbHVtbldpZHRocy5wdXNoKGhlYWRDaGlsZHJlbi5zdHlsZS53aWR0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZXNldFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cENvbFJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kY29sUmVzaXphYmxlID0galF1ZXJ5VGFibGUuY29sUmVzaXphYmxlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXZlRHJhZzogZmFsc2UsIC8vdHVybmluZyB0aGlzIG9uIHdpbGwgaW5jdXJyZWQgYSBzZXZlcmUgcGVyZm9ybWFuY2UgcGVuYWx0eSBvbiBJRSBzbyBsZWF2ZSBpdCBvZmZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpemVNb2RlOiAnb3ZlcmZsb3cnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxSZWZyZXNoOiB0cnVlLCAvL0FmdGVyIGNsb3NpbmcgdGhlIHdpbmRvdyBhbmQgb3BlbmluZyBhZ2FpbiwgY29sdW1uUmVzaXplciBjYW4ndCB3b3JrLiBUbyBmaXggdGhhdCwgdGhpcyB2YWx1ZSBpcyBuZWVkZWQuLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlck9ubHk6IHRydWUgLy9hbGxvdyBkcmFnZ2luZyB1c2luZyBoZWFkZXIgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0YXJnZXRfY29sdW1ucy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q29sdW1uID0gdGFyZ2V0X2NvbHVtbnNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZENoaWxkcmVuX3dpZHRoID0gdGhpcy50b1dob2xlTnVtYmVyKHRhcmdldENvbHVtbi5zdHlsZS53aWR0aC5zbGljZSgwLC0yKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxDaGlsZHJlbl93aWR0aCA9IHRoaXMudG9XaG9sZU51bWJlcihvcmlnaW5hbF9jb2x1bW5XaWR0aHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmKGhlYWRDaGlsZHJlbl93aWR0aCA8IG9yaWdpbmFsQ2hpbGRyZW5fd2lkdGgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRhcmdldENvbHVtbiwgXCJ3aWR0aFwiLCBvcmlnaW5hbF9jb2x1bW5XaWR0aHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldF9jb2x1bW5zID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsX2NvbHVtbldpZHRocyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkanVzdFRhYmxlRm9vdGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy50YWJsZS5uYXRpdmVFbGVtZW50LCBcInRhYmxlLWxheW91dFwiLCB0aGlzLnRhYmxlTGF5b3V0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50YWJsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlU3R5bGUodGhpcy50YWJsZS5uYXRpdmVFbGVtZW50LCBcInZpc2liaWxpdHlcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgLy99XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBEZXN0cm95IGxpZmVjeWNsZS4gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBzdXBlci5uZ09uRGVzdHJveSgpO1xuICAgICAgICB0aGlzLmNsZWFuVXBDaGlsZE5vZGVzKHRydWUpO1xuICAgICAgICB0aGlzLmNsZWFySGVhZGVyTm9kZXModHJ1ZSk7XG5cbiAgICAgICAgLy8xNzI2OiBJdCBsb29rcyBsaWtlIHNvcGhpYSBhbHNvIHF1ZXJ5aW5nIGZvciB0YWJsZSBjb2x1bW4gZGVmIHNvIHdlIG5lZWQgdG8gc3RvcmUgdG8gb3VyIHBhcmVudFxuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5fZ2V0Tm9uZUFjdGl2ZVZpZXdQYXJlbnQoKSB8fCB0aGlzLmdldFBhcmVudFZpZXcoKTtcblxuICAgICAgICBpZiAodmlldyAhPSBudWxsICYmIHZpZXdbXCJfdGFibGVDb2x1bW5zTWFwXCJdICE9IG51bGwpIHtcbiAgICAgICAgICB2aWV3W1wiX3RhYmxlQ29sdW1uc01hcFwiXS5jbGVhcigpO1xuICAgICAgICAgIHZpZXdbXCJfdGFibGVDb2x1bW5zTWFwXCJdID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jaGlsZHJlbiAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5fY2hpbGRyZW4uY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NoaWxkcmVuID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fdmlld0NoaWxkcmVuTWFwICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLl92aWV3Q2hpbGRyZW5NYXAuY2xlYXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZpZXdDaGlsZHJlbk1hcCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuc2Nyb2xsU3ViY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsU3ViY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93cyA9IG51bGw7XG4gICAgICAgIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93c0pzb24gPSBudWxsO1xuXG4gICAgICAgIHRoaXMuc2Nyb2xsU3ViamVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Nyb2xsU3ViY3JpcHRpb24gPSBudWxsO1xuXG4gICAgICAgIGlmKHRoaXMuc2Nyb2xsSGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2Nyb2xsSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbEhhbmRsZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgKHRoaXMubW91c2VVcEhhbmRsZXIpIHtcbiAgICAgICAgLy8gICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm1vdXNlVXBIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgLy8gICAgIHRoaXMubW91c2VVcEhhbmRsZXIgPSBudWxsO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgaWYgKHRoaXMua2V5dXBIYW5kbGVyKSB7XG4gICAgICAgICAgICB0aGlzLnRhYmxlLm5hdGl2ZUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMua2V5dXBIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMua2V5dXBIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLiRkcmFnYWJsZUNvbHVtbnMgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy4kZHJhZ2FibGVDb2x1bW5zLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmICh0aGlzLmNvbHVtbnNDaGFuZ2VTdWJzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgICAvLyAgICAgdGhpcy5jb2x1bW5zQ2hhbmdlU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyB0aGlzLmNvbHVtbnNDaGFuZ2VTdWJzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VEaWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbHVtbnNEaWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmN1c3RvbVJvd0RpZmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMudmlydHVhbFNjcm9sbERhdGFTb3VyY2VEaWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnNlbGVjdGVkUm93cyA9IG51bGw7XG4gICAgICAgIHRoaXMudGFibGVIZWFkID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWJsZVdyYXBwZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnRhYmxlQ29udGFpbmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWJsZSA9IG51bGw7XG4gICAgICAgIHRoaXMucHJlTW91c2VFdmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyU3R5bGVzID0gbnVsbDtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiBjb2x1bW5zIGhhdmUgY2hhbmdlc1xuICAgICAqL1xuICAgIHByaXZhdGUgY2hlY2tDb2x1bW5zRm9yQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29sdW1ucyAhPSBudWxsICYmIHRoaXMuY29sdW1uc0RpZmZlci5kaWZmKHRoaXMuY29sdW1ucy5tYXA8YW55PihpdGVtPT57XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IGl0ZW0udmlzaWJsZSxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGl0ZW0uaGVhZGVyLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xXaWR0aDogaXRlbS5jb250cm9sV2lkdGgsXG4gICAgICAgICAgICAgICAgbG9ja2VkOiBpdGVtLmxvY2tlZCxcbiAgICAgICAgICAgICAgICBlbmFibGVkOiBpdGVtLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgc29ydGFibGU6IGl0ZW0uc29ydGFibGVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUEs6IERPIE5PVCBSRU1PVkVEXG4gICAgICAgICAgICAvLyBDb21tZW50IHRoaXMgb3V0IGZvciBub3cgYW5kIHJldmVydCB0byBwcmV2aW91cywgd2lsbCBicmluZyB0aGlzIGJhY2tcbiAgICAgICAgICAgIC8vIHdoZW4gd2UgYWRkZWQgYSBkaWZmIHRvIGNoZWNrIGZvciBjaGFuZ2VzIGluIHZ0LXJvd1xuICAgICAgICAgICAgLy8gcmV0dXJuIGl0ZW0udmlzaWJsZSArXG4gICAgICAgICAgICAvLyAgICAgaXRlbS5oZWFkZXIgK1xuICAgICAgICAgICAgLy8gICAgIGl0ZW0uY29udHJvbFdpZHRoICtcbiAgICAgICAgICAgIC8vICAgICBpdGVtLmxvY2tlZCArXG4gICAgICAgICAgICAvLyAgICAgaXRlbS5lbmFibGVkICtcbiAgICAgICAgICAgIC8vICAgICBpdGVtLnNvcnRhYmxlO1xuICAgICAgICB9KSkpe1xuICAgICAgICAgIC8vdGhpcy5jbGVhblVwQ2hpbGROb2RlcygpO1xuICAgICAgICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gICAgICAgICAgdGhpcy5yZWNDYWxjTm9WaXJ0dWFsUm93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHByaXZhdGUgY2hlY2tDdXN0b21Sb3dzRm9yQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RhYmxlUm93ICE9IG51bGwgJiYgdGhpcy5jdXN0b21Sb3dEaWZmZXIuZGlmZih0aGlzLl90YWJsZVJvdyBhcyBhbnkpKSB7XG4gICAgICAgICAgdGhpcy5jaGVja1Nob3dCbGFua1JvdygpO1xuICAgICAgICAgICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcHJpdmF0ZSBjbGVhckhlYWRlck5vZGVzKG51bGxPdXRIZWFkTm9kZTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICBpZiAodGhpcy5oZWFkTm9kZSAhPSBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWROb2RlLmNoaWxkTm9kZXMgIT0gbnVsbCAmJiB0aGlzLmhlYWROb2RlLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAobGV0IG5vZGUgb2YgdGhpcy5oZWFkTm9kZS5jaGlsZE5vZGVzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRWaWV3ID0gdGhpcy5nZXRQYXJlbnRWaWV3KCk7XG5cbiAgICAgICAgICAgIGlmIChwYXJlbnRWaWV3ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgcGFyZW50Vmlldy5yZW1vdmVWaWV3Q2hpbGRGcm9tTWFwKG5vZGUuZ2V0SWQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5vZGUuZGVzdHJveSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaGVhZE5vZGUuY2hpbGROb2RlcyA9IFtdO1xuICAgICAgfVxuXG4gICAgICBpZiAobnVsbE91dEhlYWROb2RlID09PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuaGVhZE5vZGUgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogQ2xlYW4gdXAgb3VyIGZhdXggdGFibGUgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBwcml2YXRlIGNsZWFuVXBDaGlsZE5vZGVzKHNraXBUcmFja2luZ1ZpcnR1YWxSb3c6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBpZiAodGhpcy5ub2RlcyAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnRWaWV3ID0gdGhpcy5nZXRQYXJlbnRWaWV3KCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IG5vZGUgb2YgdGhpcy5ub2Rlcykge1xuICAgICAgICAgICAgICAgIC8vY2FjaGUgbW9kaWZpZWQgZGF0YSBpZiB2aXJ0dWFsIHNjcm9sbFxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgc2tpcFRyYWNraW5nVmlydHVhbFJvdyAhPT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICBub2RlLmdldExvY2FsTmFtZSgpID09PSBcInJvd1wiICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3MgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3Nbbm9kZVtUYWJsZUNvbXBvbmVudC5JTlRFUk5BTF9WSVJUVUFMX09SSUdJTkFMX0lOREVYXV0gIT0gbnVsbFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0luaXRNb2RpZmllZFZpcnR1YWxSb3dzSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3NKc29uW25vZGVbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF1dID0gbm9kZS50b0pzb24oKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL3JlbW92ZWQgb3Vyc2VsZiBmcm9tIHBhcmVudCBjYWNoZVxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRWaWV3ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Vmlldy5yZW1vdmVWaWV3Q2hpbGRGcm9tTWFwKG5vZGUuZ2V0SWQoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbm9kZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5vZGVzID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ByZXZTZWxlY3RlZFJvd3MgPSBbXTtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0ZWRSb3dJbmRleCA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkYXRhc291cmNlIHJvdyBjb3VudFxuICAgICAqIEByZXR1cm5zIE51bWJlciBvZiByb3dzIGluIFtbZGF0YVNvdXJjZV1dXG4gICAgICovXG4gICAgZ2V0Um93Q291bnQoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFTb3VyY2UgPyB0aGlzLl9kYXRhU291cmNlLmxlbmd0aCA6IDA7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBBZGQvcmVtb3ZlIHJvdyB0byBsaXN0IG9mIHNlbGVjdGVkIHJvd3NcbiAgICAgKiBAcGFyYW0gcm93XG4gICAgICogQHBhcmFtIGlzU2VsZWN0ZWQgSWYgdHJ1ZSwgcm93IHdpbGwgYmUgYWRkZWQsIG90aGVyd2lzZSByb3cgd2lsbCBiZSByZW1vdmVkIGZyb20gc2VsZWN0ZWQgcm93cyBjb2xsZWN0aW9uXG4gICAgICovXG4gICAgc2VsZWN0Um93KHJvdzogSFRNTEVsZW1lbnRXcmFwcGVyLCBpc1NlbGVjdGVkOiBib29sZWFuKSB7XG4gICAgICAgIGxldCByb3dJbmRleCA9IC0xO1xuXG4gICAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXBOb2RlID0gXy5maW5kKHRoaXMubm9kZXMsIChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUgPT09IHJvdztcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGVtcE5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJvd0luZGV4ID0gdGVtcE5vZGVbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByb3dJbmRleCA9IF8uZmluZEluZGV4KHRoaXMubm9kZXMsIChub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUgPT09IHJvdztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJvd0luZGV4ID49IDAgJiYgcm93SW5kZXggPCB0aGlzLl9kYXRhU291cmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGlkeCA9IF8uZmluZEluZGV4KHRoaXMuc2VsZWN0ZWRSb3dzLCAocm93KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvdyA9PT0gcm93SW5kZXg7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAvL2lmIGl0IHdhc24ndCBzZWxlY3RlZCwgYWRkIGl0IGluIHNlbGVjdGVkUm93cy5cbiAgICAgICAgICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5wdXNoKHJvd0luZGV4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vaWYgaXQgd2FzIHNlbGVjdGVkIGJlZm9yZSwgcmVtb3ZlIGl0IGZyb20gc2VsZWN0ZWRSb3dzLlxuICAgICAgICAgICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNsaWNrIG9uIHJvd1xuICAgICAqIEBwYXJhbSBldmVudCBNb3VzZSBjbGljayBldmVudFxuICAgICAqIEBwYXJhbSByb3dJbmRleCBJbmRleCBvZiB0aGUgcm93IHRoYXQgd2FzIGNsaWNrZWRcbiAgICAgKiBAZXZlbnQgb25TdGF0ZUNoYW5nZVxuICAgICAqL1xuICAgIG9uUm93Q2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQsIHJvd0luZGV4OiBudW1iZXIpIHtcbiAgICAgICAgLy9hZGQgdGhlIHJvdyB0byB2aWV3IGNoaWxkcmVuIG1hcCBmb3IgbG9va3VwXG4gICAgICAgIGNvbnN0IHBhcmVudFZpZXcgPSB0aGlzLmdldFBhcmVudFZpZXcoKTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHBhcmVudFZpZXcgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyZW50Vmlldy5hZGRWaWV3Q2hpbGRUb01hcCh0aGlzLm5vZGVzW3Jvd0luZGV4XSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzUm93SW5kZXggIT0gbnVsbCAmJiB0aGlzLm5vZGVzW3RoaXMucHJldmlvdXNSb3dJbmRleF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHBhcmVudFZpZXcucmVtb3ZlVmlld0NoaWxkRnJvbU1hcCh0aGlzLm5vZGVzW3RoaXMucHJldmlvdXNSb3dJbmRleF0uZ2V0SWQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByZXZpb3VzUm93SW5kZXggPSByb3dJbmRleDtcbiAgICAgICAgdGhpcy50cmlnZ2VyU3RhdGVDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHByaXZhdGUgdHJpZ2dlclN0YXRlQ2hhbmdlKCkge1xuICAgICAgY29uc3QgY2xpZW50RXZlbnQgPSBuZXcgQ2xpZW50RXZlbnQodGhpcywgZXZlbnQpO1xuXG4gICAgICBpZiAoQXBwVXRpbHMuY3VzdG9taXplQ2xpZW50RXZlbnQgIT0gbnVsbCkge1xuICAgICAgICBBcHBVdGlscy5jdXN0b21pemVDbGllbnRFdmVudCh0aGlzLCBjbGllbnRFdmVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmdldFBhcmVudFZpZXcoKSAhPSBudWxsKSB7XG4gICAgICAgICAgY2xpZW50RXZlbnQuc2V0UGFyYW1ldGVyKFwic2NyZWVuSWRcIiwgdGhpcy5nZXRQYXJlbnRWaWV3KCkuZ2V0SWQoKSk7XG4gICAgICB9XG5cbiAgICAgIGNsaWVudEV2ZW50LnNldFBhcmFtZXRlcihcImlkXCIsIHRoaXMuZ2V0SWQoKSk7XG5cbiAgICAgIC8vdXNlciBjYW4gc2VsZWN0ZWQgbW9yZSB0aGFuIG9uZSByb3dcbiAgICAgIGxldCByb3dJZDogc3RyaW5nID0gdGhpcy5zZWxlY3RlZFJvd3MubWFwKGlkeD0+dGhpcy5nZXRDaGlsZEJ5T3JpZ2luYWxSb3dJbmRleChpZHgpLmdldElkKCkpLmpvaW4oXCIsXCIpO1xuXG4gICAgICBjbGllbnRFdmVudC5zZXRQYXJhbWV0ZXIoXCJyb3dJZFwiLCByb3dJZCk7XG5cbiAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldEV2ZW50SGFuZGxlcigpLnNldENsaWVudEV2ZW50KGNsaWVudEV2ZW50KTtcbiAgICAgIHRoaXMub25TdGF0ZUNoYW5nZS5lbWl0KCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBwcml2YXRlIGdldENoaWxkQnlPcmlnaW5hbFJvd0luZGV4KGluZGV4OiBudW1iZXIpOiBIVE1MRWxlbWVudFdyYXBwZXIge1xuICAgICAgICBsZXQgbm9kZTogSFRNTEVsZW1lbnRXcmFwcGVyID0gdGhpcy5ub2Rlc1tpbmRleF07XG5cbiAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgbm9kZSA9IF8uZmluZCh0aGlzLm5vZGVzLCAoZWw6IEhUTUxFbGVtZW50V3JhcHBlcik9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF0gPT09IGluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50LCByb3dJbmRleDogbnVtYmVyLCByb3c6IGFueSkge1xuICAgICAgLy9mb3IgZHJhZ2dhbGUgcm93cywgd2UgbmVlZCB0byBkb3VibGUgY2hlY2sgcm93IHNlbGVjdGlvbiBhZ2FpblxuICAgICAgaWYgKHRoaXMuZHJhZ2dhYmxlUm93cyA9PT0gdHJ1ZSAmJiB0aGlzLnNob3VsZEhhbmRsZU1vdXNlVXAgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy50b2dnbGVSb3dTZWxlY3Rpb24oZXZlbnQsIHJvd0luZGV4LCByb3csIHRydWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNob3VsZEhhbmRsZU1vdXNlVXAgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIFNldCByb3cgYXMgc2VsZWN0ZWQvdW5zZWxlY3RlZFxuICAgICAqIEBwYXJhbSByb3dJbmRleCBJbmRleCBvZiByb3cgdG8gdG9nZ2xlIG9uL29mZlxuICAgICAqL1xuICAgIHRvZ2dsZVJvd1NlbGVjdGlvbihldmVudDogTW91c2VFdmVudCwgcm93SW5kZXg6IG51bWJlciwgcm93OiBhbnksIGlzTW91c2VVcDogYm9vbGVhbiA9IGZhbHNlKSB7XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0RWwgPSA8SFRNTEVsZW1lbnQ+ZXZlbnQudGFyZ2V0O1xuXG4gICAgICAgIGlmICh0YXJnZXRFbC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ2lucHV0JyAmJiB0YXJnZXRFbC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0RWwuZ2V0QXR0cmlidXRlKCd0eXBlJykudG9Mb3dlckNhc2UoKSA9PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhcmdldEVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnYnV0dG9uJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGFjdHVhbFJvd0luZGV4ID0gcm93SW5kZXg7XG5cbiAgICAgICAgLy9wcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gc2hpZnRLZXkgaXMgcHJlc3NlZFxuICAgICAgICBpZiAoZXZlbnQuc2hpZnRLZXkgPT09IHRydWUgJiYgZXZlbnQucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25Nb2RlICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSAmJiByb3dbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICBhY3R1YWxSb3dJbmRleCA9IHJvd1tUYWJsZUNvbXBvbmVudC5JTlRFUk5BTF9WSVJUVUFMX09SSUdJTkFMX0lOREVYXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9pZiB1c2VyIGlzIG5vdCBwcmVzc2luZyBzaGlmdCBrZXksIGNsZWFyIGFsbCBwcmV2aW91cyBzZWxlY3Rpb25cbiAgICAgICAgICAgIGlmIChldmVudC5zaGlmdEtleSAhPT0gdHJ1ZSAmJiBldmVudC5jdHJsS2V5ICE9PSB0cnVlICYmIGV2ZW50LmJ1dHRvbnMgIT09IDIpIHtcbiAgICAgICAgICAgICAgbGV0IGNsZWFyU2VsZWN0aW9uID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBpZiAodGhpcy5kcmFnZ2FibGVSb3dzID09PSB0cnVlICYmIGlzTW91c2VVcCAhPT0gdHJ1ZSAmJiB0aGlzLnNlbGVjdGVkUm93cy5pbmRleE9mKGFjdHVhbFJvd0luZGV4KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZEhhbmRsZU1vdXNlVXAgPSB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGNsZWFyU2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3Muc3BsaWNlKDAsIHRoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGlkeCA9IF8uZmluZEluZGV4KHRoaXMuc2VsZWN0ZWRSb3dzLCAocm93KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvdyA9PT0gYWN0dWFsUm93SW5kZXg7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGlkeCA8IDApIHtcbiAgICAgICAgICAgICAgICAvL2lmIG11bHRpIHJvdyBhbmQgdXNlciBpcyBwcmVzc2luZyBzaGlmdC9jdHJsIGtleSwgYWxsb3cgbXVsdGkgcm93IHNlbGVjdGlvblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGlvbk1vZGUgPT09IFwibXVsdGlSb3dcIiAmJiAoZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQuY3RybEtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLnB1c2goYWN0dWFsUm93SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5sYXN0U2VsZWN0ZWRSb3dJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubGFzdFNlbGVjdGVkUm93SW5kZXggPiByb3dJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcm93SW5kZXg7IGkgPCB0aGlzLmxhc3RTZWxlY3RlZFJvd0luZGV4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLnB1c2godGhpcy5nZXRPcmlnaW5hbEluZGV4KGkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5sYXN0U2VsZWN0ZWRSb3dJbmRleCA8IHJvd0luZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxhc3RTZWxlY3RlZFJvd0luZGV4ICsgMTsgaSA8PSByb3dJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5wdXNoKHRoaXMuZ2V0T3JpZ2luYWxJbmRleChpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5wdXNoKGFjdHVhbFJvd0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dzLnB1c2goYWN0dWFsUm93SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSBbYWN0dWFsUm93SW5kZXhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY3RybEtleSA9PT0gdHJ1ZSAmJiBpZHggPj0gMCAmJiBldmVudC5idXR0b25zICE9PSAyKSB7XG4gICAgICAgICAgICAgICAgLy9pZiBjb250cm9sIGtleSBpcyBwcmVzc2VkIChhbmQgbm90IHJpZ2h0IGNsaWNrKSwgcmVtb3ZlIHRoZSBzZWxlY3RlZCByb3dcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93cy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICB0aGlzLmxhc3RTZWxlY3RlZFJvd0luZGV4ID0gcm93SW5kZXg7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRyaWdnZXJTdGF0ZUNoYW5nZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0aGUgYWN0dWFsIGluZGV4ZXMgYmFzZSBvbiBkYXRhc291cmNlXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKi9cbiAgICBwcml2YXRlIGdldE9yaWdpbmFsSW5kZXgoaW5kZXg6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgPT09IHRydWUgJiYgdGhpcy5ub2Rlc1tpbmRleF0gIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9kZXNbaW5kZXhdW1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCBbW2Rpc2FibGVkXV0gcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcGFyYW0gYm9vIFRvZ2dsZSBbW2Rpc2FibGVkXV1cbiAgICAgKi9cbiAgICBzZXREaXNhYmxlZChib286IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGJvbztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgW1tkaXNhYmxlZF1dIHByb3BlcnR5IHZhbHVlXG4gICAgICovXG4gICAgZ2V0RGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc2FibGVkO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogR2V0IGEgY29sbGVjdGlvbiBvZiBhbGwgcm93IGVsZW1lbnRzIHRoYXQgYXJlIHNlbGVjdGVkXG4gICAgICogQHJldHVybnMgVGhlIHNlbGVjdGVkIHJvd3NcbiAgICAgKi9cbiAgICBnZXRTZWxlY3RlZFJvd3MoKTogQXJyYXk8SFRNTEVsZW1lbnRXcmFwcGVyPiB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkUm93RWxlbWVudHM6IEFycmF5PEhUTUxFbGVtZW50V3JhcHBlcj4gPSBbXTtcblxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aCA+IDAgJiYgdGhpcy5ub2RlcyAhPSBudWxsICYmIHRoaXMubm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgcm93SW5kZXggb2YgdGhpcy5zZWxlY3RlZFJvd3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBub2RlIG9mIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuZ2V0TG9jYWxOYW1lKCkgPT09IFwicm93XCIgJiYgbm9kZS5yb3dOdW1iZXIgPT09IHJvd0luZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFJvd0VsZW1lbnRzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzZWxlY3RlZFJvd0VsZW1lbnRzO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogR2V0IGNvbGxlY3Rpb24gb2Ygc2VsZWN0ZWQgcm93IGluZGV4ZXNcbiAgICAgKi9cbiAgICBnZXRTZWxlY3RlZFJvd0luZGV4ZXMoKTogQXJyYXk8bnVtYmVyPiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkUm93cy5tYXAocm93ID0+IHtcbiAgICAgICAgICAgIHJldHVybiByb3dbdGhpcy5ST1dfSU5ERVhfS0VZXTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXZlbnQgaGFuZGxlciBmb3Igcm93IHNlbGVjdCBldmVudFxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIGhhbmRsZVJvd1NlbGVjdGlvbihldmVudDogYW55KSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmICghXy5pc0VxdWFsKGV2ZW50LnNlbGVjdGVkLCB0aGlzLl9wcmV2U2VsZWN0ZWRSb3dzKSkge1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZS5lbWl0KG5ldyBUYWJsZVNlbGVjdGlvbkV2ZW50KGV2ZW50LnNlbGVjdGVkKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcmV2U2VsZWN0ZWRSb3dzID0gZXZlbnQuc2VsZWN0ZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXZlbnQgaGFuZGxlciBmb3IgZG91YmxlIGNsaWNrIG9uIGNlbGxcbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKiBAZXZlbnQgb25Eb3VibGVDbGlja1xuICAgICAqL1xuICAgIGhhbmRsZUNlbGxBY3RpdmF0aW9uKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdkYmxjbGljaycpIHtcbiAgICAgICAgICAgIHRoaXMub25Eb3VibGVDbGljay5lbWl0KG5ldyBUYWJsZVNlbGVjdGlvbkV2ZW50KGV2ZW50LnJvdykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9pbnRlcm5hbFxuICAgIGFwcGVuZFJvd0luZGV4VG9Sb3cocm93OiBhbnksIHJvd0luZGV4OiBudW1iZXIpIHtcbiAgICAgICAgcm93W3RoaXMuUk9XX0lOREVYX0tFWV0gPSByb3dJbmRleDtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgKi9cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIGNoYW5nZSBkZXRlY3Rpb24gYW5kIHJlLXJlbmRlciB0aGUgdGFibGVcbiAgICAgKiBAcGFyYW0gY2xlYXJEYXRhIFNldCB0byB0cnVlIHRvIGVtcHR5IHRhYmxlIGRhdGFcbiAgICAgKi9cbiAgICByZWZyZXNoKGNsZWFyRGF0YTogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChjbGVhckRhdGEgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fZGF0YVNvdXJjZSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBHZXQgW1tjaGFuZ2VEZXRlY3RvclJlZl1dIHByb3BlcnR5XG4gICAgICogQHJldHVybiB0aGUgQ2hhbmdlRGV0ZWN0b3JcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgZ2V0Q2hhbmdlRGV0ZWN0b3IoKTogQ2hhbmdlRGV0ZWN0b3JSZWYge1xuICAgICAgcmV0dXJuIHRoaXMuY2hhbmdlRGV0ZWN0b3JSZWY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IE5leGFXZWIgdGFnIG5hbWVcbiAgICAgKiBAcmV0dXJucyBUYWcgbmFtZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBnZXROeFRhZ05hbWUoKSB7XG4gICAgICAgIHJldHVybiBcInRhYmxlXCI7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBDb252ZXIgdGhlIGNvbnRlbnQgb2YgdGhpcyBzY3JlZW5zIHRvIEpTT04gb2JqZWN0IHNvIGl0IGNhbiBiZSBzZW50IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgdG9Kc29uKCk6IHt9IHtcbiAgICAgICAgY29uc3QganNvbjogYW55ID0gc3VwZXIudG9Kc29uKCk7XG5cbiAgICAgICAgLy8gaWYgKHRoaXMuZ2V0U2VsZWN0ZWRSb3dzKCkgIT0gbnVsbCAmJiB0aGlzLmdldFNlbGVjdGVkUm93cygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gICAgIHRoaXMuc2V0SnNvbihqc29uLCBcInNlbGVjdGVkUm93c1wiLCB0aGlzLmdldFNlbGVjdGVkUm93cygpLm1hcChpdGVtPT5pdGVtLnRvSnNvbigpKSk7XG4gICAgICAgIC8vIH1cblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLm5vZGVzICE9IG51bGwgJiZcbiAgICAgICAgICAgIHRoaXMubm9kZXMubGVuZ3RoID4gMFxuICAgICAgICApIHtcbiAgICAgICAgICAgIC8vdmlydHVhbCBzY3JvbGwgKHRyYWNrIHdoaWNoIHJvd3Mgd2UgYWxyZWFkeSBjb252ZXJ0ZWQpXG4gICAgICAgICAgICBsZXQgdGVtcFJvd3M6IHtbbmFtZTogc3RyaW5nXTogYW55fVxuXG4gICAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgdGVtcFJvd3MgPSB7fTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAganNvbltcInJvd3NcIl0gPSB0aGlzLm5vZGVzLm1hcCgobm9kZSwgaW5kZXgpPT57XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93SnNvbiA9IG5vZGUudG9Kc29uKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFJvd3MgIT0gbnVsbCAmJiB0aGlzLnNlbGVjdGVkUm93cy5pbmRleE9mKGluZGV4KSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd0pzb25bXCJzZWxlY3RlZFwiXSA9IFwidHJ1ZVwiO1xuICAgICAgICAgICAgICAgICAgICByb3dKc29uW1wiaW5kZXhcIl0gPSBpbmRleCArIFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wUm93c1tub2RlW1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdXSA9IG5vZGVbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvd0pzb247XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy92aXJ0dWFsIHNjcm9sbCBkYXRhXG4gICAgICAgICAgICBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsID09PSB0cnVlICYmIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93c0pzb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleXMgPSBfLmtleXModGhpcy5tb2RpZmllZFZpcnR1YWxSb3dzSnNvbik7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHdlIG5vdCBhbHJlYWR5IGNvbnZlcnRlZCB0aGVtXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wUm93c1trZXldID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGpzb25bXCJyb3dzXCJdLnB1c2godGhpcy5tb2RpZmllZFZpcnR1YWxSb3dzSnNvbltrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNvbHVtbnMgIT0gbnVsbCAmJiB0aGlzLmNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGNvbHVtbnMgPSB0aGlzLmNvbHVtbnM7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRMb2NhbE5hbWUoKSA9PT0gXCJ0YWJsZVwiICYmXG4gICAgICAgICAgICAgICAgdGhpcy5jb2x1bW5zSGFzQmVlblN3YXBwZWQgPT09IHRydWVcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbHVtbnMgPSBfLm9yZGVyQnkoY29sdW1ucywgKGNoaWxkOiBUYWJsZUNvbHVtbkRpcmVjdGl2ZSk9PiB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQub3JpZ2luYWxDb2x1bW5JbmRleDtcbiAgICAgICAgICAgICAgICB9KSBhcyBhbnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGpzb25bXCJjb2x1bW5EZWZzXCJdID0gY29sdW1ucy5tYXAoKGNvbHVtbiwgaW5kZXgpPT57XG4gICAgICAgICAgICAgICAgY29uc3QgZGVmID0ge1xuICAgICAgICAgICAgICAgICAgICBcInZpc2libGVcIjogdGhpcy50b0pzb25WYWx1ZShjb2x1bW4udmlzaWJsZSksXG4gICAgICAgICAgICAgICAgICAgIFwibG9ja2VkXCI6IHRoaXMudG9Kc29uVmFsdWUoY29sdW1uLmxvY2tlZCksXG4gICAgICAgICAgICAgICAgICAgIFwiZW5hYmxlZFwiOiB0aGlzLnRvSnNvblZhbHVlKGNvbHVtbi5lbmFibGVkKSxcbiAgICAgICAgICAgICAgICAgICAgXCJzb3J0YWJsZVwiOiB0aGlzLnRvSnNvblZhbHVlKGNvbHVtbi5zb3J0YWJsZSksXG4gICAgICAgICAgICAgICAgICAgIFwiaXNDaGVja2VkXCI6IHRoaXMudG9Kc29uVmFsdWUoY29sdW1uLmlzQ2hlY2tlZCksXG4gICAgICAgICAgICAgICAgICAgIFwiY3VzdG9tQXR0cmlidXRlc1wiOiBCYXNlQ29tcG9uZW50Lm1hcFRvSnNvbihjb2x1bW4uY3VzdG9tQXR0cmlidXRlcylcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGN1c3RvbUF0dHJpYnV0ZXMgaGFzICd3aWR0aCcgcHJvcGVydHlcbiAgICAgICAgICAgICAgICBpZiAoZGVmW1wiY3VzdG9tQXR0cmlidXRlc1wiXVtcIndpZHRoXCJdICE9IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlID0gdGhpcy5oZWFkTm9kZS5nZXRDaGlsZEF0KGluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLnRvV2hvbGVOdW1iZXIobm9kZS5odG1sRWxlbWVudC5zdHlsZS53aWR0aC5zbGljZSgwLC0yKSk7Ly9zZXJ2ZXIgZXhwZWN0IHdob2xlIG51bWJlclxuICAgICAgICAgICAgICAgICAgICBkZWZbXCJjdXN0b21BdHRyaWJ1dGVzXCJdW1wid2lkdGhcIl0gPSB0aGlzLnRvSnNvblZhbHVlKHdpZHRoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZltcImlkXCJdID0gdGhpcy50b0pzb25WYWx1ZShjb2x1bW4uaWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZltcImlkXCJdID0gQmFzZUNvbXBvbmVudC5nZW5lcmF0ZVVuaXF1ZUlkKFwiY29sdW1uXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ubG9ja2VkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZltcInRhZ05hbWVcIl0gPSBcImxvY2tlZENvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZbXCJueFRhZ05hbWVcIl0gPSBcImxvY2tlZENvbHVtblwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZltcInRhZ05hbWVcIl0gPSBcImNvbHVtblwiO1xuICAgICAgICAgICAgICAgICAgICBkZWZbXCJueFRhZ05hbWVcIl0gPSBcImNvbHVtblwiO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vaGVhZGVyIHRhZyBvZiBjb2x1bW5cbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCJ0YWdOYW1lXCI6IFwiaGVhZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwibnhUYWdOYW1lXCI6IFwiaGVhZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dFwiOiB0aGlzLnRvSnNvblZhbHVlKGNvbHVtbi5oZWFkZXIpXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4uaGVhZGVyRGlyZWN0aXZlICYmIGNvbHVtbi5oZWFkZXJEaXJlY3RpdmUuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyW1wiaWRcIl0gPSB0aGlzLnRvSnNvblZhbHVlKGNvbHVtbi5oZWFkZXJEaXJlY3RpdmUuaWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcltcImlkXCJdID0gQmFzZUNvbXBvbmVudC5nZW5lcmF0ZVVuaXF1ZUlkKFwiaGVhZGVyXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRlZltcImNoaWxkcmVuXCJdID0gW2hlYWRlcl07XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ganNvbjtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgY2hpbGQgdG8gSlNPTlxuICAgICAqIEBwYXJhbSBjaGlsZCBjaGlsZCB0byBiZSBjb252ZXJ0ZWQgdG8gSlNPTlxuICAgICAqL1xuICAgIHByb3RlY3RlZCBjaGlsZFRvSnNvbihjaGlsZDogQmFzZUNvbXBvbmVudCkge1xuICAgICAgICByZXR1cm4gY2hpbGQuZ2V0VGFnTmFtZSgpID09PSBcImhlYWRyb3dcIiB8fCBjaGlsZC5nZXRUYWdOYW1lKCkgPT09IFwiaGVhZGNlbGxcIiA/IGNoaWxkLnRvSnNvbigpIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEFkZCBlbGVtZW50IHRvIGludGVybmFsIGxpc3Qgb2Ygcm93LCBjZWxsLCBvciBoZWFkZXIgY2VsbFxuICAgICAqIEBwYXJhbSB0eXBlICdyb3cnIHwgJ2NlbGwnIHwgJ2hlYWRjZWxsJ1xuICAgICAqIEBwYXJhbSBldmVudCBDcmVhdGUgZXZlbnRcbiAgICAgKiBAcGFyYW0gcm93T3JDb2x1bW5JbmRleFxuICAgICAqIEBwYXJhbSByb3dEYXRhT3JDb2x1bW5EZWZcbiAgICAgKi9cbiAgICByZWdpc3RlckZhdXhFbGVtZW50KHR5cGU6IHN0cmluZywgZXZlbnQ6IE9uQ3JlYXRlRXZlbnQsIHJvd09yQ29sdW1uSW5kZXg6IG51bWJlciwgcm93RGF0YU9yQ29sdW1uRGVmOiBhbnkpIHtcbiAgICAgICAgdGhpcy5faXNIZWFkZXJDZWxsID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHJvd0RhdGFPckNvbHVtbkRlZiA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgKHJvd0RhdGFPckNvbHVtbkRlZiAhPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICAgICAgcm93RGF0YU9yQ29sdW1uRGVmICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgcm93RGF0YU9yQ29sdW1uRGVmLnNraXBUcmFja2luZyAhPT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcInJvd1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFja1JvdyhldmVudCwgcm93T3JDb2x1bW5JbmRleCwgcm93RGF0YU9yQ29sdW1uRGVmKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJjZWxsXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrQ2VsbChldmVudCwgcm93T3JDb2x1bW5JbmRleCwgcm93RGF0YU9yQ29sdW1uRGVmKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJoZWFkY2VsbFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faXNIZWFkZXJDZWxsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrSGVhZENlbGwoZXZlbnQsIHJvd0RhdGFPckNvbHVtbkRlZik7XG5cbiAgICAgICAgICAgICAgICBpZiAocm93T3JDb2x1bW5JbmRleCA9PT0gdGhpcy5jb2x1bW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdFBsdWdpbnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgW1tub2Rlc11dIHByb3BlcnR5XG4gICAgICogQHJldHVybnMgTm9kZSBsaXN0XG4gICAgICovXG4gICAgZ2V0VGFibGVDaGlsZHJlbigpOiBBcnJheTxIVE1MRWxlbWVudFdyYXBwZXI+IHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBudW1iZXIgb2Ygbm9kZXNcbiAgICAgKiBAcmV0dXJucyBOdW1iZXIgb2Ygbm9kZXNcbiAgICAgKi9cbiAgICBnZXRDaGlsZENvdW50KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vZGVzICE9IG51bGwgPyB0aGlzLm5vZGVzLmxlbmd0aCA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBjaGlsZHJlbiBvZiB0aGlzIHRhYmxlXG4gICAgICogQHJldHVybiBMaXN0IG9mIGNoaWxkcmVuXG4gICAgICovXG4gICAgZ2V0Q2hpbGRyZW4oKTogVmVjdG9yPGFueT4ge1xuICAgICAgICBjb25zdCBjaGlsZHJlbjogVmVjdG9yPEhUTUxFbGVtZW50V3JhcHBlcj4gPSBuZXcgVmVjdG9yPEhUTUxFbGVtZW50V3JhcHBlcj4oKTtcblxuICAgICAgICBfLmZvckVhY2godGhpcy5nZXRUYWJsZUNoaWxkcmVuKCksIChjaGlsZCk9PmNoaWxkcmVuLmFkZChjaGlsZCkpO1xuXG4gICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB4cGF0aEV4cHJlc3Npb24gR2V0IHF1ZXJ5IHJlc3VsdCBmcm9tIGFuIHhwYXRoIGV4cHJlc3Npb24gc3RyaW5nXG4gICAgICovXG4gICAgZXZhbHVhdGVYUGF0aCh4cGF0aEV4cHJlc3Npb246IHN0cmluZyk6IGFueSB7XG4gICAgICBjb25zdCByZXN1bHQ6IFZlY3Rvcjxhbnk+ID0gbmV3IFZlY3Rvcjxhbnk+KCk7XG4gICAgICBjb25zdCB4cGF0aFJlc3VsdDogWFBhdGhSZXN1bHQgPSBkb2N1bWVudC5ldmFsdWF0ZSh4cGF0aEV4cHJlc3Npb24ucmVwbGFjZShcImNlbGxbXCIsIFwidGRbXCIpLnJlcGxhY2UoXCJyb3dbXCIsIFwidHJbXCIpLCB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgbnVsbCwgWFBhdGhSZXN1bHQuQU5ZX1RZUEUsIG51bGwpO1xuXG4gICAgICBpZiAoeHBhdGhSZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICBsZXQgbm9kZTogTm9kZSA9IHhwYXRoUmVzdWx0Lml0ZXJhdGVOZXh0KCk7XG5cbiAgICAgICAgd2hpbGUobm9kZSkge1xuICAgICAgICAgIHJlc3VsdC5hZGQobm9kZSk7XG4gICAgICAgICAgbm9kZSA9IHhwYXRoUmVzdWx0Lml0ZXJhdGVOZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGlsZE9yQXJyYXlPclN0cmluZ1d0ZlxuICAgICAqIEBwYXJhbSByb3dOdW1iZXJcbiAgICAgKi9cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGFwcGVuZENoaWxkKGNoaWxkT3JBcnJheU9yU3RyaW5nV3RmOiBhbnksIHJvd051bWJlcjogbnVtYmVyID0gLTEpIHtcbiAgICAgICAgLy9UT0RPIG5lZWQgdG8gYXBwZW5kIGNoaWxkIHRvIGNlcnRhaW4gcm93PyBkcGVuZGluZyBvbiBjaGlsZE9yQXJyYXlPclN0cmluZ1d0ZlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSByb3cgaGFzIGJlZW4gc2VsZWN0ZWRcbiAgICAgKiBAcGFyYW0gcm93SW5kZXggSW5kZXggb2Ygcm93IHRvIGNoZWNrXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiByb3cgaXMgYSBzZWxlY3RlZCByb3dcbiAgICAgKi9cbiAgICBpc1NlbGVjdGVkUm93KHJvd0luZGV4OiBudW1iZXIsIHJvdzogYW55KSB7XG4gICAgICBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsID09PSB0cnVlICYmIHJvd1tUYWJsZUNvbXBvbmVudC5JTlRFUk5BTF9WSVJUVUFMX09SSUdJTkFMX0lOREVYXSAhPSBudWxsKSB7XG4gICAgICAgIHJvd0luZGV4ID0gcm93W1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFJvd3MgIT0gbnVsbCAmJiB0aGlzLnNlbGVjdGVkUm93cy5pbmRleE9mKHJvd0luZGV4KSA+PSAwO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogR2V0IGN1c3RvbSBhdHRyaWJ1dGVzIG9mIHJvdyBpZiBpdCBoYXMgYW55LCBvdGhlcndpc2UgcmV0dXJuIG51bGxcbiAgICAgKiBAcGFyYW0gcm93XG4gICAgICogQHBhcmFtIHJvd09yQ29sdW1uSW5kZXhcbiAgICAgKi9cbiAgICBnZXRSb3dDdXN0b21BdHRyaWJ1dGVzKHJvdzogYW55LCByb3dPckNvbHVtbkluZGV4OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJvd0N1c3RvbUF0dHJpYnV0ZUJ1aWxkZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucm93Q3VzdG9tQXR0cmlidXRlQnVpbGRlcihyb3csIHJvd09yQ29sdW1uSW5kZXgsICh0aGlzLl9nZXROb25lQWN0aXZlVmlld1BhcmVudCgpIHx8IHRoaXMuZ2V0UGFyZW50VmlldygpKSBhcyBWaWV3Q29tcG9uZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3cgIT0gbnVsbCAmJiByb3cuY3VzdG9tQXR0cmlidXRlcykge1xuICAgICAgICAgICAgcmV0dXJuIHJvdy5jdXN0b21BdHRyaWJ1dGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgY29sdW1uIGlzIHZpc2libGUuIEVpdGhlciBieSBpbmRleCBvciBjb2x1bW5cbiAgICAgKiBAcGFyYW0gaW5kZXhcbiAgICAgKiBAcGFyYW0gY29sdW1uXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiBjb2x1bW4gaXMgdmlzaWJsZVxuICAgICAqL1xuICAgIGlzQ29sdW1uVmlzaWJsZShpbmRleDogbnVtYmVyLCBjb2x1bW46IFRhYmxlQ29sdW1uRGlyZWN0aXZlID0gbnVsbCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoY29sdW1uICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW4udmlzaWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbHVtbnMuZmluZCgoaXRlbSwgaWR4KT0+aWR4ID09PSBpbmRleCkudmlzaWJsZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEFkZCBhIGNoaWxkIGNvbXBvbmVudCB0byB0aGUgdGFibGVcbiAgICAgKiBAcGFyYW0gY2hpbGQgQ29tcG9uZW50IHRvIGFkZFxuICAgICAqL1xuICAgIHByb3RlY3RlZCBhZGRDaGlsZChjaGlsZDogQmFzZUNvbXBvbmVudCkge1xuICAgICAgICBzdXBlci5hZGRDaGlsZChjaGlsZCk7XG4gICAgICAgIGNvbnN0IHJvdyA9IHRoaXMubm9kZXNbdGhpcy5ub2Rlcy5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAodGhpcy5faXNIZWFkZXJDZWxsICE9PSB0cnVlICYmIHJvdykge1xuICAgICAgICAgICAgY2hpbGQudGFibGVSb3dObyA9IHJvdy5yb3dOdW1iZXI7XG4gICAgICAgICAgICByb3cucGFyZW50VGFibGVJZCA9IHRoaXMuaWQ7XG4gICAgICAgICAgICByb3cucGFyZW50VGFibGUgPSB0aGlzO1xuICAgICAgICAgICAgLy93aGVuIHdlIGdldCBoZXJlIHJvdy5jaGlsZE5vZGVzW2N1cnJlbnRMZW5ndGhdIHNob3VsZCBiZSB0aGUgY2VsbCBwYXJlbnQgcm93XG4gICAgICAgICAgICAvL2FwcGVuZCBjaGlsZCBjb21wb25lbnQgdG8gY2VsbCAoZm9yIGR5bmFtaWMpXG4gICAgICAgICAgICBpZiAocm93LmNoaWxkTm9kZXNbcm93LmNoaWxkTm9kZXMubGVuZ3RoIC0gMV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJUYWJsZUNvbXBvbmVudDogVW5hYmxlIHRvIHJlZ2lzdGVyIGVsZW1lbnQgdG8gY2VsbCBvZiBjdXJyZW50IHJvdyAoY2VsbCBpcyBudWxsKVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKFwiaXNMb2NrZWRDb2x1bW5cIiwgcm93LmNoaWxkTm9kZXNbcm93LmNoaWxkTm9kZXMubGVuZ3RoIC0gMV0uZ2V0QXR0cmlidXRlKFwiaXNMb2NrZWRDb2x1bW5cIiwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgIHJvdy5jaGlsZE5vZGVzW3Jvdy5jaGlsZE5vZGVzLmxlbmd0aCAtIDFdLnNldENvbXBvbmVudChjaGlsZCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAvL3NvcGhpYSAjMTcyODogcmVzdHJpY3RlZCByaWdodCBjbGlja1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJlc3RyaWN0Q2VsbFBvcHVwID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICBjaGlsZC5za2lwRW1pdENvbnRleHRNZW51RXZlbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRWYWx1ZSA9IGNoaWxkLmdldEF0dHJpYnV0ZShcInNvcnRWYWx1ZVwiLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgaWYgKHNvcnRWYWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRBdHRyaWJ1dGUocm93LmNoaWxkTm9kZXNbcm93LmNoaWxkTm9kZXMubGVuZ3RoIC0gMV0uaHRtbEVsZW1lbnQsIFwiZGF0YS10ZXh0XCIsIHNvcnRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy90cmFjayBjaGFuZ2UgaWYgdmlydHVhbCBzY3JvbGxcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAoXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIENoZWNrYm94Q29tcG9uZW50IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIFJhZGlvQnV0dG9uQ29tcG9uZW50IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBpbnN0YW5jZW9mIFRleHRGaWVsZENvbXBvbmVudCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgaW5zdGFuY2VvZiBDb21ib0JveENvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbHVtbklkeCA9IHJvdy5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9oYXMgY2FjaGVkIGRhdGE/XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3MgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93c1tyb3dbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF1dICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3Nbcm93W1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdXVtyb3cuY2hpbGROb2Rlc1tjb2x1bW5JZHhdW1wib3JpZ2luYWxDb2x1bW5JbmRleFwiXV0gIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3Nbcm93W1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdXVtyb3cuY2hpbGROb2Rlc1tjb2x1bW5JZHhdW1wib3JpZ2luYWxDb2x1bW5JbmRleFwiXV07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wLnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGlsZCBhcyBhbnkpLnNldFRleHQodGVtcC50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgKGNoaWxkIGFzIGFueSkuc2V0Q2hlY2tlZCh0ZW1wLmNoZWNrZWQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2hpbGQuX2ludGVybmFsQ2hhbmdlQ2IgPSAoY29tcCk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5pdE1vZGlmaWVkVmlydHVhbFJvd3MoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93c1tyb3dbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF1dID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3Nbcm93W1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3Nbcm93W1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdXVtyb3cuY2hpbGROb2Rlc1tjb2x1bW5JZHhdW1wib3JpZ2luYWxDb2x1bW5JbmRleFwiXV0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogY29tcC5nZXRUZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZDogY29tcC5nZXRDaGVja2VkKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZih0aGlzLmhlYWROb2RlICE9IG51bGwpe1xuICAgICAgICAgIC8vc2tpcCBlbWl0aW5nIGV2ZW50IHNvIHdlIGNhbiBlbWl0IG91cnNlbGYuXG4gICAgICAgICAgY2hpbGQuc2tpcEVtaXRDb250ZXh0TWVudUV2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICBjaGlsZC50YWJsZVJvd05vID0gLTE7XG4gICAgICAgICAgdGhpcy5oZWFkTm9kZS5wYXJlbnRUYWJsZUlkID0gdGhpcy5pZDtcbiAgICAgICAgICB0aGlzLmhlYWROb2RlLnBhcmVudFRhYmxlID0gdGhpcztcbiAgICAgICAgICB0aGlzLmhlYWROb2RlLmNoaWxkTm9kZXNbdGhpcy5oZWFkTm9kZS5jaGlsZE5vZGVzLmxlbmd0aCAtIDFdLnNldENvbXBvbmVudChjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIMOpwoHCuMOmworCnsOkwrjCrcOjwoHCrsOowqHCjMOjwoLCksOlwonCisOpwpnCpMOjwoHCmcOjwoLCi1xuICAgICAqL1xuICAgIHJlbW92ZVNlbGVjdGVkUm93KCl7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93cy5sZW5ndGggPiAwKXtcbiAgICAgICAgICAgIC8vIMOpwoHCuMOmworCnsOowqHCjMOjwoLCksOpwpnCjcOpwqDChsOjwoHCp8OkwrjCpsOjwoHCs8OmwpvCv8OjwoHCiMOjwoLCi1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkIDpBcnJheTxudW1iZXI+ID0gdGhpcy5zZWxlY3RlZFJvd3MuY29uY2F0KCkuc29ydChmdW5jdGlvbih2MSx2Mil7cmV0dXJuIHYyLXYxO30pO1xuICAgICAgICAgICAgZm9yIChsZXQgaWR4IG9mIHNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkIDogSFRNTEVsZW1lbnRXcmFwcGVyID0gdGhpcy5ub2Rlc1tpZHhdO1xuICAgICAgICAgICAgICAgIGZvcihsZXQgdGFyZ2V0IG9mIGNoaWxkLmNoaWxkTm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0YXJnZXQuZ2V0Q29tcG9uZW50KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2Uuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcm93TnVtYmVyIDpudW1iZXIgPSAwO1xuICAgICAgICAgICAgZm9yKGxldCByb3cgb2YgdGhpcy5ub2Rlcyl7XG4gICAgICAgICAgICAgICAgcm93LnJvd051bWJlciA9IHJvd051bWJlcisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgaXMgYSBjb250YWluZXIgY29tcG9uZW50XG4gICAgICogQHJldHVybnMgVHJ1ZVxuICAgICAqL1xuICAgIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogQWRkIHJvdyB0byBsaXN0IG9mIG5vZGVzXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICogQHBhcmFtIHJvd09yQ29sdW1uSW5kZXhcbiAgICAgKiBAcGFyYW0gcm93RGF0YVxuICAgICAqL1xuICAgIHByaXZhdGUgdHJhY2tSb3coZXZlbnQ6IE9uQ3JlYXRlRXZlbnQsIHJvd09yQ29sdW1uSW5kZXg6IG51bWJlciwgcm93RGF0YTogYW55KSB7XG4gICAgICAgIGNvbnN0IHJvdyA9IG5ldyBIVE1MRWxlbWVudFdyYXBwZXIodGhpcy5yZW5kZXJlciwgXCJcIiwgdGhpcy5nZXRTZXNzaW9uKCkpO1xuICAgICAgICByb3cucm93TnVtYmVyID0gcm93T3JDb2x1bW5JbmRleDtcbiAgICAgICAgcm93Lmh0bWxFbGVtZW50ID0gZXZlbnQuZWxlbWVudC5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICB0aGlzLnNldFBhcmVudFNjcmVlbklkKHJvdyk7XG4gICAgICAgIHJvdy5zZXRMb2NhbGVOYW1lKFwicm93XCIpO1xuXG4gICAgICAgIGNvbnN0IGN1c3RvbUF0dHJpYnV0ZXMgPSB0aGlzLmdldFJvd0N1c3RvbUF0dHJpYnV0ZXMocm93RGF0YSwgcm93T3JDb2x1bW5JbmRleCk7XG5cbiAgICAgICAgaWYgKGN1c3RvbUF0dHJpYnV0ZXMgIT0gbnVsbCAmJiBjdXN0b21BdHRyaWJ1dGVzICE9PSBcIlwiKSB7XG4gICAgICAgICAgICByb3cuYXBwZW5kQ3VzdG9tQXR0cmlidXRlcyhjdXN0b21BdHRyaWJ1dGVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3dEYXRhICE9IG51bGwgJiYgcm93RGF0YS5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICByb3cuc2V0QXR0cmlidXRlKFwiaWRcIiwgcm93RGF0YS5pZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsID09PSB0cnVlICYmIHJvd0RhdGEgIT0gbnVsbCkge1xuICAgICAgICAgICAgcm93W1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdID0gcm93RGF0YVtUYWJsZUNvbXBvbmVudC5JTlRFUk5BTF9WSVJUVUFMX09SSUdJTkFMX0lOREVYXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHJhY2tOb2RlKHJvdyk7XG5cbiAgICAgICAgLy9kcmFnZ2FibGUgcm93XG4gICAgICAgIGlmIChyb3cuaXNEcmFnZ2FibGUoKSkge1xuICAgICAgICAgICAgcm93LmFwcGx5RHJhZ2dhYmxlKCk7XG4gICAgICAgICAgICB0aGlzLmRyYWdnYWJsZVJvd3MgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9Sb3dJbmRleChyb3dJbmRleDogbnVtYmVyLCByb3dEYXRhOiBhbnkpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52aXJ0dWFsU2Nyb2xsID09PSB0cnVlICYmIHJvd0RhdGEgIT0gbnVsbCA/IHJvd0RhdGFbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF0gOiByb3dJbmRleDtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEFkZCBjZWxsIHRvIGxpc3Qgb2Ygbm9kZXNcbiAgICAgKiBAcGFyYW0gZXZlbnRcbiAgICAgKiBAcGFyYW0gY29sdW1uRGVmXG4gICAgICovXG4gICAgcHJpdmF0ZSB0cmFja0NlbGwoZXZlbnQ6IE9uQ3JlYXRlRXZlbnQsIGNvbHVtbkluZGV4OiBudW1iZXIsIGNvbHVtbkRlZjogVGFibGVDb2x1bW5EaXJlY3RpdmUpIHtcbiAgICAgICAgY29uc3QgY2VsbCA9IG5ldyBIVE1MRWxlbWVudFdyYXBwZXIodGhpcy5yZW5kZXJlciwgXCJcIiwgdGhpcy5nZXRTZXNzaW9uKCkpO1xuICAgICAgICBjZWxsLmh0bWxFbGVtZW50ID0gZXZlbnQuZWxlbWVudC5uYXRpdmVFbGVtZW50IGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjZWxsLnNldExvY2FsZU5hbWUoXCJjZWxsXCIpO1xuICAgICAgICBpZiAoY29sdW1uRGVmLmN1c3RvbUF0dHJpYnV0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCFjZWxsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpKSB7XG4gICAgICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBjb2x1bW5EZWYuY3VzdG9tQXR0cmlidXRlc1tcImNsYXNzXCJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IG9yZ0NsYXNzOiBzdHJpbmcgPSBjZWxsLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgICAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgb3JnQ2xhc3MgKyBcIiBcIiArIGNvbHVtbkRlZi5jdXN0b21BdHRyaWJ1dGVzW1wiY2xhc3NcIl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiaXNMb2NrZWRDb2x1bW5cIiwgY29sdW1uRGVmLmxvY2tlZCArIFwiXCIpO1xuICAgICAgICB0aGlzLnNldFBhcmVudFNjcmVlbklkKGNlbGwpO1xuXG4gICAgICAgIC8vdHJhY2sgb3JpZ2luYWwgY29sdW1uIGluZGV4IGZvciBzb3J0aW5nXG4gICAgICAgIGlmIChjb2x1bW5EZWYub3JpZ2luYWxDb2x1bW5JbmRleCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb2x1bW5EZWYub3JpZ2luYWxDb2x1bW5JbmRleCA9IGNvbHVtbkluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgY2VsbFtcIm9yaWdpbmFsQ29sdW1uSW5kZXhcIl0gPSBjb2x1bW5EZWYub3JpZ2luYWxDb2x1bW5JbmRleDtcblxuICAgICAgICAvL2FkZCBjZWxsIHRvIGN1cnJlbnQgcm93XG4gICAgICAgIGlmICh0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gIT09IHVuZGVmaW5lZCAmJiB0aGlzLm5vZGVzW3RoaXMubm9kZXMubGVuZ3RoIC0gMV0gIT09IG51bGwpe1xuICAgICAgICAgICAgdGhpcy5ub2Rlc1t0aGlzLm5vZGVzLmxlbmd0aCAtIDFdLmFwcGVuZENoaWxkKGNlbGwsZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBwcml2YXRlIHRyYWNrSGVhZENlbGwoZXZlbnQ6IE9uQ3JlYXRlRXZlbnQsIGNvbHVtbkRlZjogVGFibGVDb2x1bW5EaXJlY3RpdmUpIHtcbiAgICAgICAgaWYodGhpcy5oZWFkTm9kZSA9PSBudWxsKXtcbiAgICAgICAgICAgIHRoaXMuaGVhZE5vZGUgPSBuZXcgSFRNTEVsZW1lbnRXcmFwcGVyKHRoaXMucmVuZGVyZXIsIFwiXCIsIHRoaXMuZ2V0U2Vzc2lvbigpKTtcbiAgICAgICAgICAgIHRoaXMuaGVhZE5vZGUucm93TnVtYmVyID0gLTE7XG4gICAgICAgICAgICB0aGlzLnNldFBhcmVudFNjcmVlbklkKHRoaXMuaGVhZE5vZGUpO1xuICAgICAgICAgICAgdGhpcy5oZWFkTm9kZS5zZXRMb2NhbGVOYW1lKFwiaGVhZHJvd1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNlbGwgPSBuZXcgSFRNTEVsZW1lbnRXcmFwcGVyKHRoaXMucmVuZGVyZXIsIFwiXCIsIHRoaXMuZ2V0U2Vzc2lvbigpKTtcbiAgICAgICAgY2VsbC5odG1sRWxlbWVudCA9IGV2ZW50LmVsZW1lbnQubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY2VsbC5zZXRMb2NhbGVOYW1lKFwiaGVhZGNlbGxcIik7XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiaXNMb2NrZWRDb2x1bW5cIiwgY29sdW1uRGVmLmxvY2tlZCArIFwiXCIpO1xuICAgICAgICBjZWxsLmN1c3RvbURhdGEgPSBjb2x1bW5EZWY7XG4gICAgICAgIHRoaXMuc2V0UGFyZW50U2NyZWVuSWQoY2VsbCk7XG5cbiAgICAgICAgdGhpcy5oZWFkTm9kZS5hcHBlbmRDaGlsZChjZWxsKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEFkZCBlbGVtZW50IHRvIGludGVybmFsIFtbbm9kZXNdXSBsaXN0IHRvIGtlZXAgdHJhY2sgb2ZcbiAgICAgKiBAcGFyYW0gbm9kZSBFbGVtZW50IHRvIGFkZCB0byBpbnRlcm5hbCBub2RlIGxpc3RcbiAgICAgKi9cbiAgICBwcml2YXRlIHRyYWNrTm9kZShub2RlOiBIVE1MRWxlbWVudFdyYXBwZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubm9kZXMgPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm5vZGVzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBzY3JlZW4gaWQgb24gYW4gZWxlbWVudFxuICAgICAqIEBwYXJhbSBlbFxuICAgICAqL1xuICAgIHByaXZhdGUgc2V0UGFyZW50U2NyZWVuSWQoZWw6IEhUTUxFbGVtZW50V3JhcHBlcikge1xuICAgICAgICBpZiAodGhpcy5nZXRQYXJlbnRWaWV3KCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgZWwucGFyZW50U2NyZWVuSWQgPSB0aGlzLmdldFBhcmVudFZpZXcoKS5nZXRJZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGludm9rZSBbW3Jvd1N0eWxlRm5dXSBvbiBhIHJvdyBhbmQgZ2V0IGl0J3Mgc3R5bGVcbiAgICAgKiBAcGFyYW0gcm93XG4gICAgICogQHJldHVybnMgU3R5bGUgYXR0cmlidXRlc1xuICAgICAqL1xuICAgIHJvd1N0eWxlQ2xhc3Mocm93OiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucm93U3R5bGVGbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yb3dTdHlsZUZuKHJvdyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBjaGlsZCBub2RlIGJ5IGlkXG4gICAgICogQHBhcmFtIGlkIENoaWxkJ3MgaWRcbiAgICAgKi9cbiAgICBnZXRDaGlsZE5vZGVCeUlkKGlkOiBzdHJpbmcpOiBIVE1MRWxlbWVudFdyYXBwZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlcyAhPSBudWxsID8gdGhpcy5ub2Rlcy5maW5kKGNoaWxkPT5jaGlsZC5pZCA9PT0gaWQpIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEhhbmRsZSBjZWxsIG9uQ29udGV4dE1lbnUgaWYgY29tcG9uZW50IGluc2lkZSB0aGUgY2VsbCBoYXMgbm90IGFscmVhZHkgaGFuZGxlIGl0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcm93TnVtYmVyXG4gICAgICogQHBhcmFtIGNvbHVtbkluZGV4XG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgaGFuZGxlQ29sdW1uT25Db250ZXh0TWVudShjb2x1bW46IFRhYmxlQ2VsbERpcmVjdGl2ZSAscm93TnVtYmVyLCBjb2x1bW5JbmRleDogbnVtYmVyLCBldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5ub2RlcyAhPSBudWxsICYmIHRoaXMubm9kZXNbcm93TnVtYmVyXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZENvbHVtbiA9IHRoaXMubm9kZXNbcm93TnVtYmVyXS5nZXRDaGlsZEF0KGNvbHVtbkluZGV4KTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkQ29sdW1uICE9IG51bGwgJiYgY2hpbGRDb2x1bW4uY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgLy9zb3BoaWEgIzE3MjhcbiAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdHJpY3RDZWxsUG9wdXAgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBjaGlsZENvbHVtbi5jb21wb25lbnQuaGFuZGxlT25Db250ZXh0TWVudShldmVudCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZXN0cmljdENlbGxQb3B1cCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZENvbHVtbi5jb21wb25lbnQucG9wdXAgIT0gbnVsbCAmJiBjaGlsZENvbHVtbi5jb21wb25lbnQucG9wdXAgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNoaWxkQ29sdW1uLmNvbXBvbmVudC5oYW5kbGVPbkNvbnRleHRNZW51KGV2ZW50LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjb2x1bW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldFNlc3Npb24oKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLnNldE1vdXNlUG9zaXRpb24oZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudFZpZXcgPSB0aGlzLmdldFBhcmVudFZpZXcoKTtcbiAgICAgICAgICAgICAgICBsZXQgcG9wdXBNZW51SWQ6IHN0cmluZyA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAocGFyZW50VmlldyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHBvcHVwTWVudUlkID0gKHBhcmVudFZpZXcgYXMgVmlld0NvbXBvbmVudCkuZ2V0Rmlyc3RQb3B1cE1lbnVJZCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29sdW1uLm9uQ29udGV4dE1lbnVDYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICBjb2x1bW4ub25Db250ZXh0TWVudUNiKHRoaXMuX2dldE5vbmVBY3RpdmVWaWV3UGFyZW50KCkgfHwgdGhpcy5nZXRQYXJlbnRWaWV3KCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChwb3B1cE1lbnVJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRtID0gc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0bSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRTZXNzaW9uKCkuX2N1cnJlbnRQb3B1cE1lbnVJZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwTWVudUlkID0gdGhpcy5nZXRTZXNzaW9uKCkuX2N1cnJlbnRQb3B1cE1lbnVJZDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFNlc3Npb24oKS5zaG93Q29udGV4dE1lbnUocG9wdXBNZW51SWQpO1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLl9jdXJyZW50UG9wdXBNZW51SWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEV2ZW50IGhhbmRsZXIgZm9yIGNvbnRleHQgY2xpY2sgb24gdGhlIGhlYWRlclxuICAgICAqIEBwYXJhbSBjb2x1bW5JbmRleCBJbmRleCBvZiBjb2x1bW4gdGhhdCB3YXMgY2xpY2tlZFxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIGhhbmRsZUhlYWRlck9uQ29udGV4dE1lbnUoY29sdW1uSW5kZXg6IG51bWJlciwgZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0aGlzLmhlYWROb2RlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoaWxkQ29sdW1uID0gdGhpcy5oZWFkTm9kZS5nZXRDaGlsZEF0KGNvbHVtbkluZGV4KTtcblxuICAgICAgICAgICAgaWYgKGNoaWxkQ29sdW1uICE9IG51bGwgJiYgY2hpbGRDb2x1bW4uY29tcG9uZW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgY2xpZW50RXZlbnQgPSBuZXcgQ2xpZW50RXZlbnQoY2hpbGRDb2x1bW4sIGV2ZW50KTtcblxuICAgICAgICAgICAgICBpZiAoQXBwVXRpbHMuY3VzdG9taXplQ2xpZW50RXZlbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50KGNoaWxkQ29sdW1uLCBjbGllbnRFdmVudCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAodGhpcy5nZXRQYXJlbnRWaWV3KCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgY2xpZW50RXZlbnQuc2V0UGFyYW1ldGVyKFwic2NyZWVuSWRcIiwgdGhpcy5nZXRQYXJlbnRWaWV3KCkuZ2V0SWQoKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBjbGllbnRFdmVudC5zZXRQYXJhbWV0ZXIoXCJpZFwiLCB0aGlzLmdldElkKCkpO1xuXG4gICAgICAgICAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldEV2ZW50SGFuZGxlcigpLnNldENsaWVudEV2ZW50KGNsaWVudEV2ZW50KTtcblxuICAgICAgICAgICAgICBjaGlsZENvbHVtbi5jb21wb25lbnQuaGFuZGxlT25Db250ZXh0TWVudShldmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHByaXZhdGUgcmVjYWxjdWxhdGVWaXJ0dWFsU2Nyb2xsRGF0YShldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGxldCBzY3JvbGxUb3AgPSBldmVudC5zcmNFbGVtZW50LnNjcm9sbFRvcDtcblxuICAgICAgICAgIC8vYWRqdXN0IG9ubHkgb24gSUU5LCBvdGhlcndpc2UsIGl0IHdpbGwgc3R1Y2sgaW4gaW5mIGxvb3BcbiAgICAgICAgICBpZiAodGhpcy5pc0lFOSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBzY3JvbGxUb3AgLT0gMC41O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzLnNjcm9sbExlZnQgPT09IGV2ZW50LnNyY0VsZW1lbnQuc2Nyb2xsTGVmdCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjVmlydHVhbFNjcm9sbFZpZXdQb3J0KHNjcm9sbFRvcCk7XG4gICAgICAgICAgICB0aGlzLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLmFkanVzdFRhYmxlSGVhZChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIEV2ZW50IGhhbmRsZXIgZm9yIHRhYmxlIGhlYWQgY2hhbmdlLiBTZXQgc3R5bGUgdG8gcHJvcGVybHkgZGlzcGxheVxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIHByaXZhdGUgYWRqdXN0VGFibGVIZWFkKGV2ZW50LCBza2lwQm9keUFkanVzdG1lbnQ6IGJvb2xlYW4gPSBmYWxzZSwgc2tpcEhlYWRlcjogYm9vbGVhbiA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLnRhYmxlID09IG51bGwgfHwgZXZlbnQgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICB0aGlzLnByZU1vdXNlRXZlbnQgPSBldmVudDtcbiAgICAgICAgbGV0IHNjcm9sbFRvcCA9IGV2ZW50LnNyY0VsZW1lbnQuc2Nyb2xsVG9wO1xuXG4gICAgICAgIC8vYWRqdXN0IG9ubHkgb24gSUU5LCBvdGhlcndpc2UsIGl0IHdpbGwgc3R1Y2sgaW4gaW5mIGxvb3BcbiAgICAgICAgaWYgKHRoaXMuaXNJRTkgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHNjcm9sbFRvcCAtPSAwLjU7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2Nyb2xsTGVmdCA9IGV2ZW50LnNyY0VsZW1lbnQuc2Nyb2xsTGVmdFxuXG4gICAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIGlmIChldmVudC5zcmNFbGVtZW50LnNjcm9sbFRvcCA+IHRoaXMubWF4U2Nyb2xsVG9wKSB7XG4gICAgICAgICAgICAvLyAgICAgc2Nyb2xsVG9wID0gdGhpcy5tYXhTY3JvbGxUb3A7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIC8vdGhpcy5jYWxjVmlydHVhbFNjcm9sbFZpZXdQb3J0KHNjcm9sbFRvcCk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2U2Nyb2xsVG9wRm9ySGlkZGVuSGVhZGVyICE9PSBzY3JvbGxUb3AgJiYgc2tpcEhlYWRlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBzY3JvbGxUb3AgLT0gdGhpcy50aGVhZEhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wcmV2U2Nyb2xsVG9wRm9ySGlkZGVuSGVhZGVyID0gc2Nyb2xsVG9wO1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZWRTY3JvbGxpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jYWxjVmlydHVhbFRhYmxlUG9zaXRpb24oc2Nyb2xsVG9wKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlZFNjcm9sbGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSwxMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNraXBIZWFkZXIgIT09IHRydWUpIHtcbiAgICAgICAgLy8gICB0aGlzLmZha2VUYWJsZS5uYXRpdmVFbGVtZW50LmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIC8vICAgdGhpcy5pc0hlYWRlckFwcGVuZFRvRmFrZVRhYmxlID0gZmFsc2U7XG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVTdHlsZSh0aGlzLnRhYmxlSGVhZC5uYXRpdmVFbGVtZW50LCBcInZpc2liaWxpdHlcIik7XG4gICAgICAgICAgaWYodGhpcy50YWJsZUZvb3QgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW1vdmVTdHlsZSh0aGlzLnRhYmxlRm9vdC5uYXRpdmVFbGVtZW50LCBcInZpc2liaWxpdHlcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmdob3N0SGVhZGVyLm5hdGl2ZUVsZW1lbnQsIFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG5cbiAgICAgICAgICBjb25zdCB0YWJsZSA9IHRoaXMudGFibGUubmF0aXZlRWxlbWVudDtcbiAgICAgICAgICBjb25zdCB0aGVhZCA9IHRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ3RoZWFkJyk7XG4gICAgICAgICAgY29uc3QgdGJvZHkgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0Ym9keScpO1xuXG5cbiAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2x1bW5zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgbGV0IGNvbHVtbiA9IHRoaXMuY29sdW1ucy5maW5kKChpdGVtLCBpZHgpPT5pZHggPT09IGkpO1xuICAgICAgICAgICAgICBpZihjb2x1bW4gIT0gbnVsbCAmJiBjb2x1bW4udmlzaWJsZSAmJiBjb2x1bW4ubG9ja2VkKVxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBoZWFkQ2hpbGRyZW4gPSAkKHRoZWFkLnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgnICsgKGkrMSkgKyAnKScpKTtcbiAgICAgICAgICAgICAgICAgIGxldCB0cmFucyA9IGB0cmFuc2xhdGUoJHt0aGlzLnNjcm9sbExlZnR9cHgsICR7c2Nyb2xsVG9wfXB4KWA7XG5cbiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0cmFucyA9IGB0cmFuc2xhdGVYKCR7dGhpcy5zY3JvbGxMZWZ0fXB4KWA7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGhlYWRDaGlsZHJlbi5jc3MoXCJ0cmFuc2Zvcm1cIiwgdHJhbnMpO1xuICAgICAgICAgICAgICAgICAgaGVhZENoaWxkcmVuLmNzcyhcIi1tcy10cmFuc2Zvcm1cIiwgdHJhbnMpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAoc2tpcEJvZHlBZGp1c3RtZW50ICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm9keUNoaWxkcmVuID0gJCh0Ym9keS5xdWVyeVNlbGVjdG9yQWxsKCd0ZDpudGgtY2hpbGQoJyArIChpKzEpICsgJyknKSk7XG4gICAgICAgICAgICAgICAgICAgICAgYm9keUNoaWxkcmVuLmNzcyhcInRyYW5zZm9ybVwiLCBgdHJhbnNsYXRlKCR7dGhpcy5zY3JvbGxMZWZ0fXB4YCk7XG4gICAgICAgICAgICAgICAgICAgICAgYm9keUNoaWxkcmVuLmNzcyhcIi1tcy10cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZSgke3RoaXMuc2Nyb2xsTGVmdH1weGApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvbHVtbiAhPSBudWxsICYmIGNvbHVtbi52aXNpYmxlICYmIHRoaXMudmlydHVhbFNjcm9sbCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZENoaWxkcmVuID0gJCh0aGVhZC5xdWVyeVNlbGVjdG9yKCd0aDpudGgtY2hpbGQoJyArIChpKzEpICsgJyknKSk7XG4gICAgICAgICAgICAgICAgICBjb25zdCB0cmFucyA9IGB0cmFuc2xhdGVZKCR7c2Nyb2xsVG9wfXB4KWA7XG5cbiAgICAgICAgICAgICAgICAgIGhlYWRDaGlsZHJlbi5jc3MoXCJ0cmFuc2Zvcm1cIiwgdHJhbnMpO1xuICAgICAgICAgICAgICAgICAgaGVhZENoaWxkcmVuLmNzcyhcIi1tcy10cmFuc2Zvcm1cIiwgdHJhbnMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5hZGp1c3RUYWJsZUZvb3RlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBTZXQgdGFibGUgZm9vdGVyIHN0eWxlcyBmb3IgcHJvcGVyIGRpc3BsYXlcbiAgICAgKi9cbiAgICBwcml2YXRlIGFkanVzdFRhYmxlRm9vdGVyKCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICh0aGlzLnRhYmxlID09IG51bGwpIHJldHVybjtcblxuICAgICAgY29uc3QgdGZvb3QgPSB0aGlzLnRhYmxlLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvcihcInRmb290XCIpO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodGZvb3QgIT0gbnVsbCkge1xuICAgICAgICAvL1ZpdmlmeSwgZm9yIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWF2ZWlvL25nbnNvcGhpYS9pc3N1ZXMvMTgwNlxuICAgICAgICBsZXQgdGZvb3RQb3MgPSAwO1xuICAgICAgICBpZigkKHRoaXMudGFibGUubmF0aXZlRWxlbWVudCkuaGVpZ2h0KCkgPCAkKHRoaXMudGFibGVDb250YWluZXIubmF0aXZlRWxlbWVudCkuaGVpZ2h0KCkpIHtcbiAgICAgICAgICAgIHRmb290UG9zID0gJCh0aGlzLnRhYmxlQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQpLmhlaWdodCgpIC0gJCh0aGlzLnRhYmxlLm5hdGl2ZUVsZW1lbnQpLmhlaWdodCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGZvb3RQb3MgPSAoJCh0aGlzLnRhYmxlQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQpLmhlaWdodCgpIC0gJCh0aGlzLnRhYmxlLm5hdGl2ZUVsZW1lbnQpLmhlaWdodCgpKSArIHRoaXMudGFibGVDb250YWluZXIubmF0aXZlRWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5jb2x1bW5zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGxldCBjb2x1bW4gPSB0aGlzLmNvbHVtbnMuZmluZCgoaXRlbSwgaWR4KT0+aWR4ID09PSBpKTtcbiAgICAgICAgICAgIGlmIChjb2x1bW4gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvb3RDaGlsZHJlbiA9ICQodGZvb3QucXVlcnlTZWxlY3RvcigndGQ6bnRoLWNoaWxkKCcgKyAoaSsxKSArICcpJykpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zID0gYHRyYW5zbGF0ZVkoJHt0Zm9vdFBvc31weClgO1xuXG4gICAgICAgICAgICAgICAgZm9vdENoaWxkcmVuLmNzcyhcInRyYW5zZm9ybVwiLCB0cmFucyk7XG4gICAgICAgICAgICAgICAgZm9vdENoaWxkcmVuLmNzcyhcIi1tcy10cmFuc2Zvcm1cIiwgdHJhbnMpO1xuICAgICAgICAgICAgICAgIGZvb3RDaGlsZHJlbi5jc3MoXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIpO1xuICAgICAgICAgICAgICAgIGZvb3RDaGlsZHJlbi5jc3MoXCJ6LWluZGV4XCIsIFwiM1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogRXZlbnQgaGFuZGxlciBmb3Iga2V5dXAuIENvcHkga2V5Ym9hcmQgc2hvcnRjdXQgc3VwcG9ydFxuICAgICAqIEBwYXJhbSBldmVudCBLZXl1cCBldmVudFxuICAgICAqL1xuICAgIGhhbmRsZUtleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGV2ZW50LmN0cmxLZXkgPT09IHRydWUgJiZcbiAgICAgICAgICAgIChcbiAgICAgICAgICAgICAgICBldmVudC5jb2RlID09PSBcIktleUNcIiB8fFxuICAgICAgICAgICAgICAgIGV2ZW50LmtleUNvZGUgPT09IDY3IHx8XG4gICAgICAgICAgICAgICAgZXZlbnQua2V5Q29kZSA9PT0gOTlcbiAgICAgICAgICAgIClcbiAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgIHRoaXMuY29weVNlbGVjdGVkUm93QXNUZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIC8qKlxuICAgICAqIENoZWNrIHRvIHNlZSBpZiB3ZSBjYW4gc2VuZCBzZWxlY3RlZCByb3dzIHRvIGNsaXBib2FyZFxuICAgICAqL1xuICAgIGNvcHlTZWxlY3RlZFJvd0FzVGV4dCgpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93cyAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRSb3dzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkUm93VGV4dDogQXJyYXk8c3RyaW5nPjtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkUm93OiBIVE1MRWxlbWVudFdyYXBwZXIgPSB0aGlzLmdldFNlbGVjdGVkUm93cygpWzBdO1xuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFJvdy5jaGlsZE5vZGVzICE9IG51bGwgJiYgc2VsZWN0ZWRSb3cuY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dUZXh0ID0gc2VsZWN0ZWRSb3cuY2hpbGROb2Rlcy5tYXAoY2hpbGQgPT4gY2hpbGQuZ2V0VGV4dCgpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRSb3cuZHluYW1pY0NoaWxkTm9kZXMgIT0gbnVsbCAmJiBzZWxlY3RlZFJvdy5keW5hbWljQ2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSb3dUZXh0ID0gc2VsZWN0ZWRSb3cuZHluYW1pY0NoaWxkTm9kZXMubWFwKGNoaWxkID0+IGNoaWxkLmdldFRleHQoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkUm93VGV4dCAhPSBudWxsICYmIHNlbGVjdGVkUm93VGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGlwYm9hcmRTZXJ2aWNlLmNvcHkoc2VsZWN0ZWRSb3dUZXh0LmpvaW4oU3RyaW5nLmZyb21DaGFyQ29kZSg5KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHJvdyBpZCBiYXNlZCBvbiByb3cncyBbW2lkXV0gYW5kIGluZGV4XG4gICAgICogQHBhcmFtIHJvd1xuICAgICAqIEBwYXJhbSByb3dJbmRleFxuICAgICAqL1xuICAgIGJ1aWxkUm93SWQocm93OiBhbnksIHJvd0luZGV4OiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucm93SWRCdWlsZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvd0lkQnVpbGRlcihyb3csIHJvd0luZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBbJ3JvdycsIHRoaXMuaWQsIHJvd0luZGV4XS5qb2luKCctJyk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAvKipcbiAgICAgKiBTb3J0IHRoZSBkYXRhIChmb3IgdmlydHVhbCBzY3JvbGwpXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29sdW1uXG4gICAgICovXG4gICAgaGFuZGxlU29ydChjb2x1bW46IFRhYmxlQ29sdW1uRGlyZWN0aXZlKSB7XG4gICAgICAgIC8vc29ydGluZyBpcyBvbmx5IGFsbG93ZWQgb24gYSBub24gbG9ja2luZyBjb2x1bW5cbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgPT09IHRydWUgJiYgY29sdW1uLmxvY2tlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy9maW5kIHByZXZpb3VzIHNvcnQgZGlyZWN0aW9uIGZvciB0aGUgY29sdW1uXG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMuZm9yRWFjaChjb2w9PntcbiAgICAgICAgICAgICAgICAvL3VzaW5nIG9yaWdpbmFsQ29sdW1uSW5kZXggYi9jIHVzZSBjYW4gZHJhZyBjb2x1bW4gYXJvdW5kIGFuZCB0aHVzIGNvbHVtbiBpbmRleCBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgaWYgKGNvbC5vcmlnaW5hbENvbHVtbkluZGV4ICE9PSBjb2x1bW4ub3JpZ2luYWxDb2x1bW5JbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjb2wuc29ydERpcmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChjb2x1bW4uc29ydERpcmVjdGlvbiA9PT0gXCJhc2NcIikge1xuICAgICAgICAgICAgICAgIGNvbHVtbi5zb3J0RGlyZWN0aW9uID0gXCJkZXNjXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbHVtbi5zb3J0RGlyZWN0aW9uID0gXCJhc2NcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHNvcnRDb2x1bW5JZDogc3RyaW5nID0gdGhpcy52aXJ0dWFsU2Nyb2xsU29ydEtleXNbY29sdW1uLm9yaWdpbmFsQ29sdW1uSW5kZXhdO1xuXG4gICAgICAgICAgICAvL2lmIGN1c3RvbSBzb3J0biBmbiBpcyBwcm92aWRlZCwgdXNlZCB0byBmaW5kIHByb3BlciBjb2x1bW4gdG8gc29ydFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnZpcnR1YWxTY3JvbGxTb3J0Rm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHNvcnRDb2x1bW5JZCA9IHRoaXMudmlydHVhbFNjcm9sbFNvcnRGbih0aGlzLl9nZXROb25lQWN0aXZlVmlld1BhcmVudCgpIHx8IHRoaXMuZ2V0UGFyZW50VmlldygpLCBjb2x1bW4ub3JpZ2luYWxDb2x1bW5JbmRleCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzb3J0Q29sdW1uSWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBfLm9yZGVyQnkodGhpcy5fZGF0YVNvdXJjZSwgW3NvcnRDb2x1bW5JZF0sIFtjb2x1bW4uc29ydERpcmVjdGlvbl0gYXMgYW55KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jYWxjVmlydHVhbFNjcm9sbFZpZXdQb3J0KHRoaXMucHJldlNjcm9sbFRvcCk7XG4gICAgICAgICAgICB0aGlzLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgfSAgZWxzZSBpZiAodGhpcy52aXJ0dWFsU2Nyb2xsICE9PSB0cnVlICYmIGNvbHVtbi5sb2NrZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIFJYQyBBZGRcbiAgICAgICAgICAgIGlmICh0aGlzLnNvcnREaXJlY3Rpb24gPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvcnREaXJlY3Rpb24gPSBcImFzY1wiO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNvcnRDb2x1bW5JZCA9PT0gY29sdW1uLm9yaWdpbmFsQ29sdW1uSW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zb3J0RGlyZWN0aW9uID09PSBcImFzY1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydERpcmVjdGlvbiA9IFwiZGVzY1wiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc29ydERpcmVjdGlvbiA9IFwiYXNjXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNvcnREaXJlY3Rpb24gPSBcImFzY1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zb3J0Q29sdW1uSWQgPSBjb2x1bW4ub3JpZ2luYWxDb2x1bW5JbmRleDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBvdmVyYWxsIGhlaWdodCBzbyB3ZSBjYW4gYWRkIHNjcm9sbGJhciBmb3IgdmlydHVhbCBzY3JvbGwuIFRoaXMgaXMgZG9uZVxuICAgICAqIGJ5IG11bHRpcGx5aW5nIHRoZSBudW1iZXIgb2Ygcm93cyB0byB0aGUgaGVpZ2h0IG9mIGVhY2ggcm93LlxuICAgICAqXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYWxjVmlydHVhbFNjcm9sbEhlaWdodCgpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gICAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgPT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9kYXRhU291cmNlICE9IG51bGwgJiYgdGhpcy5fZGF0YVNvdXJjZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy9zY3JvbGwgaGVpZ2h0ID0gMTBweCAqICMgcm93cyAoMTBweCBpcyB0aGUgaGVpZ2h0IG9mIGVhY2ggcm93KVxuICAgICAgICAgICAgICAgIHRoaXMuX3ZpcnR1YWxTY3JvbGxEaXZIZWlnaHQgPSAodGhpcy5yb3dIZWlnaHQgKiB0aGlzLl9kYXRhU291cmNlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhTY3JvbGxUb3AgPSB0aGlzLl92aXJ0dWFsU2Nyb2xsRGl2SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHRoaXMudmlydHVhbFNjcm9sbFNvcnRLZXlzID0gXy5rZXlzKHRoaXMuX2RhdGFTb3VyY2VbMF0pO1xuXG4gICAgICAgICAgICAgICAgLy90cmFjayBvcmlnaW5hbCBpbmRleFxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fZGF0YVNvdXJjZVt0aGlzLl9kYXRhU291cmNlLmxlbmd0aCAtIDFdW1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgIF8uZm9yRWFjaCh0aGlzLl9kYXRhU291cmNlLCAoaXRlbSwgaW5kZXgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtW1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlydHVhbFNjcm9sbERpdkhlaWdodCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRqdXN0L21vdmUgdGhlIHBvc2l0aW9uIG9mIHRoZSB0YWJsZSBjb250YWluZXIgc28gdGhhdCBpdCBkaXNwbGF5ZWQgcHJvcGVybHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2Nyb2xsVG9wXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYWxjVmlydHVhbFRhYmxlUG9zaXRpb24oc2Nyb2xsVG9wOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgLy8tbXMtdHJhbnNmb3JtXG4gICAgICAgICAgICAvL3RyYW5zZm9ybVxuICAgICAgICAgICAgLy8gaWYgKHRoaXMubWF4U2Nyb2xsVG9wID4gMCkge1xuICAgICAgICAgICAgLy8gICAgIHNjcm9sbFRvcCA9IE1hdGgubWluKHNjcm9sbFRvcCwgdGhpcy5tYXhTY3JvbGxUb3ApO1xuICAgICAgICAgICAgLy8gfVxuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudGFibGVXcmFwcGVyLm5hdGl2ZUVsZW1lbnQsIFwidHJhbnNmb3JtXCIsIGB0cmFuc2xhdGVZKCR7c2Nyb2xsVG9wfXB4KWApO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRhYmxlV3JhcHBlci5uYXRpdmVFbGVtZW50LCBcIi1tcy10cmFuc2Zvcm1cIiwgYHRyYW5zbGF0ZVkoJHtzY3JvbGxUb3B9cHgpYCk7XG4gICAgICAgICAgICAvLyB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSB2aXNpYmxlIHZpcnR1YWwgcm93cyB0byBkaXNwbGF5IHRvIHRoZSB1c2VyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2Nyb2xsVG9wXG4gICAgICovXG4gICAgcHJpdmF0ZSBjYWxjVmlydHVhbFNjcm9sbFZpZXdQb3J0KHNjcm9sbFRvcDogbnVtYmVyID0gMCkge1xuICAgICAgICBpZiAodGhpcy5faXNWaWV3SW5pdCA9PT0gdHJ1ZSAmJiB0aGlzLl9kYXRhU291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBzdGFydElkeDogbnVtYmVyID0gMDtcblxuICAgICAgICAgICAgLy9pZiBzY3JvbGxUb3AgaXMgZ3JlYXRlciB0aGFuIDAsIG5lZWQgdG8gZmlndXJlIHRoZSBzdGFydGluZyByb3dcbiAgICAgICAgICAgIGlmIChzY3JvbGxUb3AgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy9lYWNoIHJvdyBpcyAxMHB4IGhlaWdodCwgaWYgc2Nyb2xsVG9wIGlzIDEwMHB4LCB0aGVuIHdlIHN0YXJ0IGF0IHJvdyAxMFxuICAgICAgICAgICAgICAgIC8vc2Nyb2xsVG9wIC8gMTBweD9cbiAgICAgICAgICAgICAgICBzdGFydElkeCA9IE1hdGguZmxvb3Ioc2Nyb2xsVG9wIC8gdGhpcy5yb3dIZWlnaHQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHN0YXJ0SWR4ID4gdGhpcy5fZGF0YVNvdXJjZS5sZW5ndGggLSB0aGlzLl92aXJ0dWFsU2Nyb2xsUm93UGVyVmlldykge1xuICAgICAgICAgICAgICAgICAgICBzdGFydElkeCA9IHRoaXMuX2RhdGFTb3VyY2UubGVuZ3RoIC0gdGhpcy5fdmlydHVhbFNjcm9sbFJvd1BlclZpZXc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl92aXJ0dWFsVmlld1BvcnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wcmV2U2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICAgICAgICAgICAgdGhpcy5jbGVhblVwQ2hpbGROb2RlcygpO1xuICAgICAgICAgICAgdGhpcy5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICAgICAgICAgIHRoaXMuem9uZS5ydW4oKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLl92aXJ0dWFsVmlld1BvcnQgPSB0aGlzLmJ1aWxkUm93SWRlbnRpdHkodGhpcy5fZGF0YVNvdXJjZS5zbGljZShzdGFydElkeCwgc3RhcnRJZHggKyB0aGlzLl92aXJ0dWFsU2Nyb2xsUm93UGVyVmlldyArIHRoaXMuYWRqdXN0ZWRSb3dzKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX3N3YXAoZnJvbUluZGV4OiBudW1iZXIsIHRvSW5kZXg6IG51bWJlcikge1xuICAgICAgY29uc3QgdGVtcFRvQ29sdW1uID0gdGhpcy5jb2x1bW5zW3RvSW5kZXhdO1xuXG4gICAgICB0aGlzLmNvbHVtbnNbdG9JbmRleF0gPSB0aGlzLmNvbHVtbnNbZnJvbUluZGV4XTtcbiAgICAgIHRoaXMuY29sdW1uc1tmcm9tSW5kZXhdID0gdGVtcFRvQ29sdW1uO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgLyoqXG4gICAgICogU3dhcCB0aGUgY29sdW1ucyBhZnRlciBhIGNvbHVtbiBpcyBiZWluZyBkcmFnIGFuZCByb3BcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmcm9tSW5kZXggY29sdW1uIHRoYXQgaXMgYmVpbmcgZHJhZ2dlZCAobW92ZWQpXG4gICAgICogQHBhcmFtIHRvSW5kZXggIGNvbHVtbiB0aGF0IGlzIGJlaW5nIGRyb3BlZCBpbnRvXG4gICAgICovXG4gICAgcHJpdmF0ZSBzd2FwQ29sdW1ucyhmcm9tSW5kZXg6IG51bWJlciwgdG9JbmRleDogbnVtYmVyKSB7XG4gICAgICAvL3NvcGhpYSAxODU2OiBuZWVkIHRvIHByb3Blcmx5IHN3YXAgY29sdW1uc1xuICAgICAgaWYgKGZyb21JbmRleCA8IHRvSW5kZXgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykge1xuICAgICAgICAgIHRoaXMuX3N3YXAoaSwgaSArIDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGZyb21JbmRleCA+IHRvSW5kZXgpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZyb21JbmRleDsgaSA+IHRvSW5kZXg7IGktLSkge1xuICAgICAgICAgIHRoaXMuX3N3YXAoaSwgaSAtIDEpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNjcm9sbENvbnRhaW5lclN0eWxlcyAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5zY3JvbGxDb250YWluZXJTdHlsZXNbXCJvdmVyZmxvdy15XCJdID0gXCJhdXRvXCI7XG4gICAgICAgICAgdGhpcy5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIC8vc29waGlhIDE4MjM6IGZvciBzZXJ2ZXIgdHJhY2tpbmdcbiAgICAgIF8uZm9yRWFjaCh0aGlzLmNvbHVtbnMsIChjb2wsIGlkeCk9PntcbiAgICAgICAgY29sLnNldEF0dHJpYnV0ZShcInZpc3VhbEluZGV4XCIsIGlkeCArIFwiXCIpO1xuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLnZpcnR1YWxTY3JvbGwgIT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgIHRoaXMuYXBwbHlSZXNpemVDb2x1bW5zKCk7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY29sdW1uc0hhc0JlZW5Td2FwcGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHByaXZhdGUgX2NsZWFudXBDb2xSZXNpemUoKSB7XG4gICAgICAgIC8vcmVzZXRcbiAgICAgICAgdGhpcy4kY29sUmVzaXphYmxlID0gJCh0aGlzLnRhYmxlLm5hdGl2ZUVsZW1lbnQpLmNvbFJlc2l6YWJsZSh7XG4gICAgICAgICAgZGlzYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICAkKGAjJHt0aGlzLmlkfSAuSkNMUmdyaXBzYCkucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBhcHBseVJlc2l6ZUNvbHVtbnMoKSB7XG4gICAgICBpZiAodGhpcy50YWJsZSAhPSBudWxsICYmICh0aGlzLmVuYWJsZUNvbHVtblJlc2l6ZSA9PSBudWxsIHx8IHRoaXMuZW5hYmxlQ29sdW1uUmVzaXplID09PSB0cnVlKSkge1xuICAgICAgICB0aGlzLl9jbGVhbnVwQ29sUmVzaXplKCk7XG4gICAgICAgIHRoaXMuJGNvbFJlc2l6YWJsZSA9ICQodGhpcy50YWJsZS5uYXRpdmVFbGVtZW50KS5jb2xSZXNpemFibGUoe1xuICAgICAgICAgICAgbGl2ZURyYWc6IGZhbHNlLCAvL3R1cm5pbmcgdGhpcyBvbiB3aWxsIGluY3VycmVkIGEgc2V2ZXJlIHBlcmZvcm1hbmNlIHBlbmFsdHkgb24gSUUgc28gbGVhdmUgaXQgb2ZmXG4gICAgICAgICAgICByZXNpemVNb2RlOiAnb3ZlcmZsb3cnLFxuICAgICAgICAgICAgcGFydGlhbFJlZnJlc2g6IHRydWUsIC8vQWZ0ZXIgY2xvc2luZyB0aGUgd2luZG93IGFuZCBvcGVuaW5nIGFnYWluLCBjb2x1bW5SZXNpemVyIGNhbid0IHdvcmsuIFRvIGZpeCB0aGF0LCB0aGlzIHZhbHVlIGlzIG5lZWRlZC4sXG4gICAgICAgICAgICBoZWFkZXJPbmx5OiB0cnVlIC8vYWxsb3cgZHJhZ2dpbmcgdXNpbmcgaGVhZGVyIG9ubHlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHdoZXRoZXIgb3Igbm90IHRoZSBjb2x1bW4gYXQgdGhlIHBhcnRpY3VsYXIgaW5kZXggY2FuIGJlIGRyYWdnZWQvZHJvcFxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbElkeFxuICAgICAqL1xuICAgIHByaXZhdGUgY2FuRHJhZ0NvbHVtbihjb2xJZHg6IG51bWJlcikge1xuICAgICAgICBsZXQgY2FuRHJhZyA9IHRydWU7XG5cbiAgICAgICAgZm9yIChsZXQgY29sIG9mIHRoaXMuY29sdW1ucykge1xuICAgICAgICAgICAgaWYgKGNvbC5vcmlnaW5hbENvbHVtbkluZGV4ID09PSBjb2xJZHggJiYgY29sLmxvY2tlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGNhbkRyYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYW5EcmFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgaW5kZXggb2YgdGhlIHN1cHBwbGllZCByb3dcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjaGlsZCByb3cgdG8gY2hlY2sgZm8gcmluZGV4P1xuICAgICAqL1xuICAgIGluZGV4T2ZDaGlsZChjaGlsZDogYW55KTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHRoaXMubm9kZXMgIT0gbnVsbCAmJiB0aGlzLm5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBfLmZpbmRJbmRleCh0aGlzLm5vZGVzLCAobm9kZSk9Pm5vZGUgPT09IGNoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vY2hpbGQgZG9lcyBub3QgZXhpc3RzXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jaGVja0luaXRNb2RpZmllZFZpcnR1YWxSb3dzKCkge1xuICAgICAgaWYgKHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93cyA9PSBudWxsKSB7XG4gICAgICAgIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93cyA9IHt9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NoZWNrSW5pdE1vZGlmaWVkVmlydHVhbFJvd3NKc29uKCkge1xuICAgICAgaWYgKHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93c0pzb24gPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3NKc29uID0ge307XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVmcmVzaCB0aGUgdGFibGUgc29ydGVyXG4gICAgICovXG4gICAgcHJpdmF0ZSByZWZyZXNoVGFibGVTb3J0ZXIoKSB7XG4gICAgICAgIC8vZGF0YSBjaGFuZ2VzLCBuZWVkIHRvIHVwZGF0ZSB0YWJsZVNvcnRlclxuICAgICAgICBpZiAodGhpcy5fdGFibGVTb3J0ZXJSZWZyZXNoVG0gIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RhYmxlU29ydGVyUmVmcmVzaFRtKTtcbiAgICAgICAgICAgIHRoaXMuX3RhYmxlU29ydGVyUmVmcmVzaFRtID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl90YWJsZVNvcnRlclJlZnJlc2hUbSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl90YWJsZVNvcnRlclJlZnJlc2hUbSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGFibGVTb3J0ZXJSZWZyZXNoVG0gPSBudWxsO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuJHRhYmxlc29ydGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFibGVzb3J0ZXIudHJpZ2dlcihcInVwZGF0ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZGp1c3RUYWJsZUhlYWQodGhpcy5wcmVNb3VzZUV2ZW50KTtcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2ggY2FjaGUgZGF0YSAoc29ydCB2YWx1ZSwgZXRjKVxuICAgICAqL1xuICAgIHJlZnJlc2hUYWJsZVNvcnRlckNhY2hlKCkge1xuICAgICAgLy9kYXRhIGNoYW5nZXMsIG5lZWQgdG8gdXBkYXRlIHRhYmxlU29ydGVyXG4gICAgICBpZiAodGhpcy5fdGFibGVTb3J0ZXJDYWNoZVJlZnJlc2hUbSAhPSBudWxsKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RhYmxlU29ydGVyQ2FjaGVSZWZyZXNoVG0pO1xuICAgICAgICAgIHRoaXMuX3RhYmxlU29ydGVyQ2FjaGVSZWZyZXNoVG0gPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuX3RhYmxlU29ydGVyQ2FjaGVSZWZyZXNoVG0gPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3RhYmxlU29ydGVyQ2FjaGVSZWZyZXNoVG0pO1xuICAgICAgICAgICAgICB0aGlzLl90YWJsZVNvcnRlckNhY2hlUmVmcmVzaFRtID0gbnVsbDtcblxuICAgICAgICAgICAgICBpZiAodGhpcy4kdGFibGVzb3J0ZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgdGhpcy4kdGFibGVzb3J0ZXIudHJpZ2dlcihcInVwZGF0ZUNhY2hlXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgICBzZXRTZWxlY3RBbGxWaXJ0dWFsUm93cyhzaG91bGRTZWxlY3RlZDogYm9vbGVhbikge1xuICAgICAgICBpZiAoc2hvdWxkU2VsZWN0ZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93cyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5tb2RpZmllZFZpcnR1YWxSb3dzSnNvbiA9IHt9O1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSBbXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5pdE1vZGlmaWVkVmlydHVhbFJvd3MoKTtcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrSW5pdE1vZGlmaWVkVmlydHVhbFJvd3NKc29uKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNoZWNrQm94ZUNvbHVtbklkeHMgPSBbXTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubm9kZXMgIT0gbnVsbCAmJiB0aGlzLm5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvL2ZpbmQgYWxsIGNoZWNrYm94ZXMgY29sdW1uc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlc1swXS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vZGVzWzBdLmNoaWxkTm9kZXNbaV0uY29tcG9uZW50IGluc3RhbmNlb2YgQ2hlY2tib3hDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQm94ZUNvbHVtbklkeHMucHVzaChpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9pZiB0aGVyZSBhcmUgY2hlY2tib3hlcywgY2hlY2sgdGhlbVxuICAgICAgICAgICAgdGhpcy5sYXN0U2VsZWN0ZWRSb3dJbmRleCA9IDA7XG4gICAgICAgICAgICBpZiAoY2hlY2tCb3hlQ29sdW1uSWR4cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgcm93IG9mIHRoaXMuX2RhdGFTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgcm93IGlzIG5vdCB2aXNpYmxlXG4gICAgICAgICAgICAgICAgICAgIGlmIChfLmZpbmRJbmRleCh0aGlzLm5vZGVzLCAobm9kZSk9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlW1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdID09PSByb3dbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF07XG4gICAgICAgICAgICAgICAgICAgIH0pIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93c1tyb3dbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF1dID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3Nbcm93W1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX1ZJUlRVQUxfT1JJR0lOQUxfSU5ERVhdXSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBjb2xJZHggb2YgY2hlY2tCb3hlQ29sdW1uSWR4cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubW9kaWZpZWRWaXJ0dWFsUm93c1tyb3dbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF1dW2NvbElkeF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5tb2RpZmllZFZpcnR1YWxSb3dzSnNvbiBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnZpcnR1YWxTY3JvbGxJbnZpc2libGVSb3dCdWlsZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dFbGVtZW50OiBIVE1MRWxlbWVudFdyYXBwZXIgPSB0aGlzLnZpcnR1YWxTY3JvbGxJbnZpc2libGVSb3dCdWlsZGVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9nZXROb25lQWN0aXZlVmlld1BhcmVudCgpIHx8IHRoaXMuZ2V0UGFyZW50VmlldygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiLCBcInRydWVcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGlmaWVkVmlydHVhbFJvd3NKc29uW3Jvd1tUYWJsZUNvbXBvbmVudC5JTlRFUk5BTF9WSVJUVUFMX09SSUdJTkFMX0lOREVYXV0gPSByb3dFbGVtZW50LnRvSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NlbGVjdGVkIHRoZSByb3dcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93cyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFJvd3MucHVzaChyb3dbVGFibGVDb21wb25lbnQuSU5URVJOQUxfVklSVFVBTF9PUklHSU5BTF9JTkRFWF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWNDYWxjTm9WaXJ0dWFsUm93KCkge1xuICAgICAgaWYgKHRoaXMudmlydHVhbFNjcm9sbCA9PT0gdHJ1ZSkge1xuICAgICAgICBsZXQgaGVpZ2h0ID0gJCh0aGlzLnRhYmxlQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQpLmhlaWdodCgpO1xuXG4gICAgICAgIGlmICh0aGlzLnRhYmxlSGVhZCAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy50aGVhZEhlaWdodCA9ICQodGhpcy50YWJsZUhlYWQubmF0aXZlRWxlbWVudCkuaGVpZ2h0KCk7XG4gICAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IC0gdGhpcy50aGVhZEhlaWdodDtcblxuICAgICAgICAgIGlmICh0aGlzLnNraXBSb3dzQWRqdXN0bWVudCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RlZFJvd3MgPSBNYXRoLnJvdW5kKHRoaXMudGhlYWRIZWlnaHQgLyB0aGlzLnJvd0hlaWdodCkgKyAyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZpcnR1YWxTY3JvbGxSb3dQZXJWaWV3ID0gTWF0aC5yb3VuZChoZWlnaHQgLyB0aGlzLnJvd0hlaWdodCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRIZWFkZXJXaWR0aEhlaWdodCgpey8vRm9yIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWF2ZWlvL25nbnNvcGhpYS9pc3N1ZXMvMTYxOFxuICAgICAgICBjb25zdCB0YWJsZSA9IHRoaXMudGFibGUubmF0aXZlRWxlbWVudDtcbiAgICAgICAgY29uc3QgdGhlYWQgPSB0YWJsZS5xdWVyeVNlbGVjdG9yKCd0aGVhZCcpO1xuICAgICAgICBsZXQgaGVhZGVyTWF4SGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIGlkID0gdGFibGUuaWQ7XG4gICAgICAgIGlmICh0aGlzLmNvbHVtbnMgIT0gbnVsbCl7XG4gICAgICAgICAgICBpZih0aGlzLmZvcmNlRml4V2lkdGgpe1xuICAgICAgICAgICAgICAgIC8vcGxlYXNlIGRvIG5vdCByZW1vdmVkIG91ciBjb2RlXG4gICAgICAgICAgICAgICAgLy90aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudGFibGUubmF0aXZlRWxlbWVudCwgXCJ0YWJsZS1sYXlvdXRcIiwgXCJmaXhlZFwiKTtcblxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHVtbnMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29sdW1uID0gdGhpcy5jb2x1bW5zLmZpbmQoKGl0ZW0sIGlkeCk9PmlkeCA9PT0gaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGNvbHVtbiAhPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkQ2hpbGRyZW4gPSB0aGVhZC5xdWVyeVNlbGVjdG9yKCd0aDpudGgtY2hpbGQoJyArIChpKzEpICsgJyknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUoaGVhZENoaWxkcmVuLCBcIndpZHRoXCIsIGAke2NvbHVtbi5jb250cm9sV2lkdGh9cHhgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNvbHVtbi5jb250cm9sSGVpZ2h0ICE9PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNIZWFkZXJBdXRvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihoZWFkZXJNYXhIZWlnaHQgPCBjb2x1bW4uY29udHJvbEhlaWdodCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlck1heEhlaWdodCA9IE51bWJlcihjb2x1bW4uY29udHJvbEhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHRoaXMuaXNIZWFkZXJBdXRvKXtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNcIiArIGlkICsgXCI+ZGl2PmRpdj50YWJsZVwiKS5yZW1vdmVDbGFzcyhcImhlYWRlci1maXhlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKmVsc2V7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuY29sdW1ucy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2x1bW4gPSB0aGlzLmNvbHVtbnMuZmluZCgoaXRlbSwgaWR4KT0+aWR4ID09PSBpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoY29sdW1uICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRDaGlsZHJlbiA9IHRoZWFkLnF1ZXJ5U2VsZWN0b3IoJ3RoOm50aC1jaGlsZCgnICsgKGkrMSkgKyAnKScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShoZWFkQ2hpbGRyZW4sIFwibWluLXdpZHRoXCIsIGAke2NvbHVtbi5jb250cm9sV2lkdGh9cHhgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0qL1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZ2hvc3RIZWFkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGhlYWRlck1heEhlaWdodCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyTWF4SGVpZ2h0ID0gMzA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5naG9zdEhlYWRlci5uYXRpdmVFbGVtZW50LCBcImhlaWdodFwiLCBoZWFkZXJNYXhIZWlnaHQgKyBcInB4XCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGFibGUgY29sdW1uIChpbiBjYXNlIGl0IGhhcyBiZWVuIHN3YXBwZWQpXG4gICAgICovXG4gICAgcHJpdmF0ZSByZXNldFRhYmxlQ29sdW1ucygpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHRoaXMuZm9yY2VSZXNldENvbHVtbnMgPT09IHRydWUgJiZcbiAgICAgICAgICB0aGlzLl9pc0R5aW5nICE9PSB0cnVlICYmXG4gICAgICAgICAgdGhpcy5jb2x1bW5zICE9IG51bGwgJiZcbiAgICAgICAgICB0aGlzLmNvbHVtbnNIYXNCZWVuU3dhcHBlZCA9PT0gdHJ1ZVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuY29sdW1uc0hhc0JlZW5Td2FwcGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBfLmNsb25lKHRoaXMuY29sdW1ucyk7XG4gICAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0Q2hhbmdlcygpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkTm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5oZWFkTm9kZS5jaGlsZE5vZGVzID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuY29sdW1ucyA9IF8uc29ydEJ5KHRlbXAsIChjb2w6IFRhYmxlQ29sdW1uRGlyZWN0aXZlLCBpZHg6IG51bWJlcik9PntcbiAgICAgICAgICAgICAgICBjb2wuc2V0QXR0cmlidXRlKFwidmlzdWFsSW5kZXhcIiwgaWR4ICsgXCJcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbC5vcmlnaW5hbENvbHVtbkluZGV4O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdFBsdWdpbnMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYnVpbGRSb3dJZGVudGl0eShyb3dzOiBBcnJheTxhbnk+KSB7XG4gICAgICAgIC8vIGlmIChyb3dzID09IG51bGwpIHJldHVybiByb3dzO1xuXG4gICAgICAgIC8vIGZvciAobGV0IHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCByb3dzLmxlbmd0aDsgcm93SW5kZXgrKykge1xuICAgICAgICAvLyAgICAgcm93c1tyb3dJbmRleF1bVGFibGVDb21wb25lbnQuSU5URVJOQUxfUk9XX0RJRkZFUl9JRF0gPSBCYXNlQ29tcG9uZW50LmdlbmVyYXRlVW5pcXVlSWQoXCJyb3dfZGlmZmVyXCIpO1xuICAgICAgICAvLyAgICAgcm93c1tyb3dJbmRleF1bVGFibGVDb21wb25lbnQuSU5URVJOQUxfUk9XX0lEXSA9IHRoaXMuYnVpbGRSb3dJZChyb3dzW3Jvd0luZGV4XSwgcm93SW5kZXgpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgcmV0dXJuIHJvd3M7XG4gICAgfVxuXG4gICAgcm93VHJhY2tCeUZuKGlkeDpudW1iZXIsIHJvdzogYW55KSB7XG4gICAgICAgIHJldHVybiByb3dbVGFibGVDb21wb25lbnQuSU5URVJOQUxfUk9XX0RJRkZFUl9JRF07XG4gICAgfVxuXG4gICAgY29sdW1uSGVhZGVyVHJhY2tCeUZuKGlkeDogbnVtYmVyLCBjb2x1bW46IFRhYmxlQ29sdW1uRGlyZWN0aXZlKSB7XG4gICAgICByZXR1cm4gY29sdW1uW1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX0NPTFVNTl9IRUFERVJfSURdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZWQgdnQtcm93IGJ5IGluZGV4LiBUaGlzIHdpbGwgbm90IHdvcmtzIGZvciByb3dzIHRoYXQgYXJlIGNyZWF0ZWQgYnkgZGF0YVNvdXJjZVxuICAgICAqL1xuICAgIHJlbW92ZVRhYmxlUm93QnlJbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLl90YWJsZVJvdyAhPSBudWxsICYmIHRoaXMuX3RhYmxlUm93Lmxlbmd0aCA+IGluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLl90YWJsZVJvdyA9IF8uZmlsdGVyKHRoaXMuX3RhYmxlUm93LCAocm93LCByb3dJbmRleCk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93SW5kZXggIT09IGluZGV4O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuY2xlYW5VcENoaWxkTm9kZXMoKTtcbiAgICAgICAgICAgIHRoaXMuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlZCB2dC1yb3cgYnkgaWQuIFRoaXMgd2lsbCBub3Qgd29ya3MgZm9yIHJvd3MgdGhhdCBhcmUgY3JlYXRlZCBieSBkYXRhU291cmNlXG4gICAgICovXG4gICAgcmVtb3ZlVGFibGVSb3dCeUlkKGlkOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3RhYmxlUm93ICE9IG51bGwgJiYgdGhpcy5fdGFibGVSb3cubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fdGFibGVSb3cgPSBfLmZpbHRlcih0aGlzLl90YWJsZVJvdywgKHJvdyk9PntcbiAgICAgICAgICAgICAgICByZXR1cm4gcm93LmlkICE9PSBpZDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmNsZWFuVXBDaGlsZE5vZGVzKCk7XG4gICAgICAgICAgICB0aGlzLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdG9Db2x1bW5zKGNvbHVtbnM6IFF1ZXJ5TGlzdDxUYWJsZUNvbHVtbkRpcmVjdGl2ZT4pOiBBcnJheTxUYWJsZUNvbHVtbkRpcmVjdGl2ZT4ge1xuICAgICAgcmV0dXJuIGNvbHVtbnMubWFwKChjb2wsIGlkeCk9PntcbiAgICAgICAgY29sW1RhYmxlQ29tcG9uZW50LklOVEVSTkFMX0NPTFVNTl9IRUFERVJfSURdID0gQmFzZUNvbXBvbmVudC5nZW5lcmF0ZVVuaXF1ZUlkKFwiaGNcIik7XG4gICAgICAgIGNvbC5zZXRBdHRyaWJ1dGUoXCJ2aXN1YWxJbmRleFwiLCBpZHggKyAnJyk7XG4gICAgICAgIHJldHVybiBjb2w7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRvV2hvbGVOdW1iZXIod2lkdGg6IHN0cmluZyk6IG51bWJlciB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQod2lkdGgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tTaG93QmxhbmtSb3coKSB7XG4gICAgICBpZiAoXG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZSA9PSBudWxsIHx8XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZS5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgKHRoaXMudGFibGVDb250YWluZXIubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuc2Nyb2xsSGVpZ2h0ID4gKHRoaXMudGFibGVDb250YWluZXIubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuY2xpZW50SGVpZ2h0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5zaG93QmxhbmtSb3cgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2hvd0JsYW5rUm93ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZW1vdmVGcm9tVGFibGVSb3cod2h0dnI6c3RyaW5nKSB7XG4gICAgLy8gICAvL25vIGlkZWEgd2hhdCB0aGlzIGZvclxuICAgIC8vIH1cblxuICAgIC8vIHByaXZhdGUgYXBwZW5kSGVhZGVyVG9GYWtlVGFibGUoKSB7XG4gICAgLy8gICBpZiAodGhpcy5pc0hlYWRlckFwcGVuZFRvRmFrZVRhYmxlICE9PSB0cnVlKSB7XG4gICAgLy8gICAgIHRoaXMuZmFrZVRhYmxlLm5hdGl2ZUVsZW1lbnQuYXBwZW5kQ2hpbGQoJCh0aGlzLnRhYmxlSGVhZC5uYXRpdmVFbGVtZW50KS5jbG9uZSgpWzBdKTtcbiAgICAvLyAgICAgdGhpcy5pc0hlYWRlckFwcGVuZFRvRmFrZVRhYmxlID0gdHJ1ZTtcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHJvdyBmcm9tIHRhYmxlUm93cyBieSBpZC4gbm8gZGV0ZWN0IGNoYW5nZVxuICAgICAqIEBwYXJhbSBpZCByb3cgZWxlbWVudCBpZFxuICAgICAqL1xuICAgIHJlbW92ZUZyb21UYWJsZVJvdyhpZDogc3RyaW5nKXtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLnRhYmxlUm93LmZpbmRJbmRleChyPT5yLmlkID09PSBpZCk7XG4gICAgICB0aGlzLnRhYmxlUm93LnNwbGljZShpLCAxKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIENvbnRlbnRDaGlsZCwgZm9yd2FyZFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGFibGVDb2x1bW5EaXJlY3RpdmUgfSBmcm9tICcuL3RhYmxlLWNvbHVtbi5kaXJlY3RpdmUnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICd2dC1sb2NrZWQtY29sdW1uJyxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogVGFibGVDb2x1bW5EaXJlY3RpdmUsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKT0+TG9ja2VkQ29sdW1uRGlyZWN0aXZlKVxuICAgIH1cbiAgXVxufSlcbi8qKlxuICogSnVzdCBhbGlhc2luZyB2dC10YWJsZS1jb2x1bW4gZm9yIGxvY2tlZCBjb2x1bW5cbiAqL1xuZXhwb3J0IGNsYXNzIExvY2tlZENvbHVtbkRpcmVjdGl2ZSBleHRlbmRzIFRhYmxlQ29sdW1uRGlyZWN0aXZlIHtcbiAgbmdPbkluaXQoKSB7XG4gICAgc3VwZXIubmdPbkluaXQoKTtcblxuICAgIHRoaXMubG9ja2VkID0gdHJ1ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBDbGlwYm9hcmRTZXJ2aWNlIH0gZnJvbSAnLi9jbGlwYm9hcmQuc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ2xpcGJvYXJkU2VydmljZVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIENsaXBib2FyZE1vZHVsZSB7IH1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgVGFibGVDb21wb25lbnQgfSBmcm9tICcuL3RhYmxlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBUYWJsZUNlbGxEaXJlY3RpdmUgfSBmcm9tICcuL3RhYmxlLWNlbGwuZGlyZWN0aXZlJztcbmltcG9ydCB7IFRhYmxlSGVhZGVyRGlyZWN0aXZlIH0gZnJvbSAnLi90YWJsZS1oZWFkZXIuZGlyZWN0aXZlJztcbmltcG9ydCB7IFRhYmxlQ29sdW1uRGlyZWN0aXZlIH0gZnJvbSAnLi90YWJsZS1jb2x1bW4uZGlyZWN0aXZlJztcbmltcG9ydCB7IEhlYWRlckRpcmVjdGl2ZSB9IGZyb20gJy4vaGVhZGVyLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBMb2NrZWRDb2x1bW5EaXJlY3RpdmUgfSBmcm9tICcuL2xvY2tlZC1jb2x1bW4uZGlyZWN0aXZlJztcbmltcG9ydCB7IEJhc2VNb2R1bGUgfSBmcm9tICcuLi9iYXNlL2Jhc2UubW9kdWxlJztcbmltcG9ydCB7IFRhYmxlUm93RGVmRGlyZWN0aXZlIH0gZnJvbSAnLi90YWJsZS1yb3ctZGVmLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBGb290ZXJSb3dEaXJlY3RpdmUgfSBmcm9tICcuL2Zvb3Rlci1yb3cuZGlyZWN0aXZlJztcbmltcG9ydCB7IFJvd0RpcmVjdGl2ZSB9IGZyb20gJy4vcm93LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBDbGlwYm9hcmRNb2R1bGUgfSBmcm9tICcuLi9jbGlwYm9hcmQvY2xpcGJvYXJkLm1vZHVsZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgQmFzZU1vZHVsZSxcbiAgICBDbGlwYm9hcmRNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgVGFibGVDb21wb25lbnQsXG4gICAgVGFibGVDZWxsRGlyZWN0aXZlLFxuICAgIFRhYmxlQ29sdW1uRGlyZWN0aXZlLFxuICAgIFRhYmxlSGVhZGVyRGlyZWN0aXZlLFxuICAgIEhlYWRlckRpcmVjdGl2ZSxcbiAgICBMb2NrZWRDb2x1bW5EaXJlY3RpdmUsXG4gICAgVGFibGVSb3dEZWZEaXJlY3RpdmUsXG4gICAgRm9vdGVyUm93RGlyZWN0aXZlLFxuICAgIFJvd0RpcmVjdGl2ZVxuICBdLFxuICBleHBvcnRzOiBbXG4gICAgVGFibGVDb21wb25lbnQsXG4gICAgVGFibGVDZWxsRGlyZWN0aXZlLFxuICAgIFRhYmxlQ29sdW1uRGlyZWN0aXZlICxcbiAgICBUYWJsZUhlYWRlckRpcmVjdGl2ZSxcbiAgICBIZWFkZXJEaXJlY3RpdmUsXG4gICAgTG9ja2VkQ29sdW1uRGlyZWN0aXZlLFxuICAgIFRhYmxlUm93RGVmRGlyZWN0aXZlLFxuICAgIEZvb3RlclJvd0RpcmVjdGl2ZSxcbiAgICBSb3dEaXJlY3RpdmVcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBUYWJsZU1vZHVsZSB7IH1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFZpZXdDaGlsZCwgVGVtcGxhdGVSZWYsIE9wdGlvbmFsLCBTa2lwU2VsZiwgUmVuZGVyZXIyLCBDb250ZW50Q2hpbGQsIFZpZXdDb250YWluZXJSZWYsIGZvcndhcmRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi8uLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2Vzc2lvbi9zZXNzaW9uLnNlcnZpY2UnO1xuXG4vKipcbiAqIENsYXNzIGZvciB0YWIgY29tcG9uZW50XG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Z0LXRhYicsXG4gIHRlbXBsYXRlVXJsOiAnLi90YWIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90YWIuY29tcG9uZW50LmNzcyddLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlQ29tcG9uZW50LFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCk9PlRhYkNvbXBvbmVudClcbiAgICB9XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgVGFiQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIC8vIFNldHMgYWN0aXZlIHRhYiBjbGFzc1xuICBASW5wdXQoKSBhY3RpdmU6IGJvb2xlYW47XG4gIEBJbnB1dCgpIGlkOiBzdHJpbmc7XG5cbiAgQE91dHB1dCgpIG9uQ29tbWFuZCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBAVmlld0NoaWxkKFRlbXBsYXRlUmVmKSBjb250ZW50OiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50IHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gc2Vzc2lvblNlcnZpY2Ugc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBlbGVtZW50UmVmIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBAU2tpcFNlbGYoKSBwYXJlbnQ6IEJhc2VDb21wb25lbnQsIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcmVuZGVyZXI6IFJlbmRlcmVyMikge1xuICAgIHN1cGVyKHBhcmVudCwgc2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWYsIHJlbmRlcmVyKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gY2hpbGQgVGFiIGNoaWxkIGNvbXBvbmVudCB0byBhZGRcbiAgICovXG4gIHByb3RlY3RlZCBhZGRDaGlsZChjaGlsZDogQmFzZUNvbXBvbmVudCkge1xuICAgICh0aGlzLnBhcmVudCBhcyBhbnkpLmFkZENoaWxkKGNoaWxkKTtcblxuICAgIGlmICh0aGlzLnRhYkNoaWxkcmVuSWRzID09IG51bGwpIHtcbiAgICAgIHRoaXMudGFiQ2hpbGRyZW5JZHMgPSBbXTtcbiAgICB9XG5cbiAgICB0aGlzLnRhYkNoaWxkcmVuSWRzLnB1c2goY2hpbGQuZ2V0SWQoKSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZVxuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEdldCBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIE9iamVjdCBKU09OIG1ldGFkYXRhIGFib3V0IHRoaXMgY29tcG9uZW50XG4gICAqL1xuICB0b0pzb24oKSB7XG4gICAgY29uc3QganNvbjogYW55ID0gc3VwZXIudG9Kc29uKCk7XG4gICAgdGhpcy5zZXRKc29uKGpzb24sIFwiYWN0aXZlXCIsIHRoaXMuZm9jdXNlZCk7XG5cbiAgICByZXR1cm4ganNvbjtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBHZXQgTmV4YVdlYiBjb21wb25lbnQgdGFnIG5hbWVcbiAgICovXG4gIHByb3RlY3RlZCBnZXROeFRhZ05hbWUoKSB7XG4gICAgcmV0dXJuIFwidGFiXCI7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgZXZlbnRcbiAgICogQGV2ZW50IG9uQ29tbWFuZFxuICAgKi9cbiAgb25DbGljaygpIHtcbiAgICB0aGlzLm9uQ29tbWFuZC5lbWl0KHRoaXMuaWQpO1xuICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBGb2N1cyB0aGlzIHRhYlxuICAgKi9cbiAgc2V0Rm9jdXMoKSB7XG4gICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnQoKTtcblxuICAgIGlmIChwYXJlbnQgIT0gbnVsbCAmJiB0eXBlb2YgcGFyZW50W1wic2V0U2VsZWN0ZWRUYWJcIl0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcGFyZW50W1wic2V0U2VsZWN0ZWRUYWJcIl0odGhpcy5pZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN1cGVyLnNldEZvY3VzKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIEVsZW1lbnRSZWYsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIFZpZXdDaGlsZCxcbiAgVmlld0NoaWxkcmVuLFxuICBWaWV3Q29udGFpbmVyUmVmLFxuICBRdWVyeUxpc3QsXG4gIFNraXBTZWxmLFxuICBPcHRpb25hbCxcbiAgRXZlbnRFbWl0dGVyLFxuICBPdXRwdXQsXG4gIElucHV0LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgUmVuZGVyZXIyLFxuICBmb3J3YXJkUmVmLFxuICBDb250ZW50Q2hpbGRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbi5zZXJ2aWNlJztcbmltcG9ydCB7IFRhYkNvbXBvbmVudCB9IGZyb20gJy4vdGFiL3RhYi5jb21wb25lbnQnO1xuaW1wb3J0IHsgVGFiRXZlbnQgfSBmcm9tICcuL3RhYi1ldmVudCc7XG5cbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuXG50eXBlIFRhYlBsYWNlbWVudCA9IFwibGVmdFwiIHwgXCJ0b3BcIiB8IFwiYm90dG9tXCIgfCBcInJpZ2h0XCI7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHRhYiBwYW5lIGNvbnRhaW5lciBjb21wb25lbnRcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndnQtdGFiLXBhbmUnLFxuICB0ZW1wbGF0ZVVybDogJy4vdGFiLXBhbmUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90YWItcGFuZS5jb21wb25lbnQuY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlQ29tcG9uZW50LFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCk9PlRhYlBhbmVDb21wb25lbnQpXG4gICAgfVxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFRhYlBhbmVDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgQElucHV0KCkgdGFiUGxhY2VtZW50OiBUYWJQbGFjZW1lbnQgPSBcInRvcFwiO1xuICBAQ29udGVudENoaWxkcmVuKFRhYkNvbXBvbmVudCkgc2V0IHRhYnNMaXN0KHRhYkxpc3Q6IFF1ZXJ5TGlzdDxUYWJDb21wb25lbnQ+KSB7XG4gICAgdGhpcy50YWJzID0gdGFiTGlzdC50b0FycmF5KCk7XG4gIH1cbiAgQFZpZXdDaGlsZHJlbigndGFiTmF2SXRlbScpIHRhYk5hdkl0ZW1zOiBBcnJheTxFbGVtZW50UmVmPjtcblxuICBAT3V0cHV0KCkgb25DbGljazogRXZlbnRFbWl0dGVyPFRhYkV2ZW50PiA9IG5ldyBFdmVudEVtaXR0ZXI8VGFiRXZlbnQ+KCk7XG5cbiAgc2VsZWN0ZWRUYWJJbmRleDogbnVtYmVyID0gMDtcbiAgZm9jdXNlZFRhYkluZGV4OiBudW1iZXIgPSAwO1xuICB0YWJzOiBBcnJheTxUYWJDb21wb25lbnQ+ID0gW107XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBwYXJlbnQgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBzZXNzaW9uU2VydmljZSBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGVsZW1lbnRSZWYgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBjZCBJbmplY3QgY2hhbmdlIGRldGVjdG9yXG4gICAqIEBwYXJhbSByZW5kZXJlciBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHBhcmVudDogQmFzZUNvbXBvbmVudCxcbiAgICBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsXG4gICAgZWxlbWVudFJlZjogRWxlbWVudFJlZixcbiAgICBwcml2YXRlIGNkOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICByZW5kZXJlcjogUmVuZGVyZXIyXG4gICkge1xuICAgIHN1cGVyKHBhcmVudCwgc2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWYsIHJlbmRlcmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZnRlciB2aWV3IGluaXQgbGlmZWN5Y2xlLiBTZXQgdXAgdGFicyBhbmQgdHJpZ2dlciBjaGFuZ2UgZGV0ZWN0b3JcbiAgICovXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBzdXBlci5uZ0FmdGVyVmlld0luaXQoKTtcblxuICAgIHRoaXMuY29uZmlndXJlVGFicygpO1xuICAgIHRoaXMuY2QuZGV0ZWN0Q2hhbmdlcygpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFNldCB0aGUgW1tzZWxlY3RlZFRhYkluZGV4XV0gdG8gaW5kZXggb2YgYWN0aXZlIHRhYlxuICAgKi9cbiAgcHJpdmF0ZSBjb25maWd1cmVUYWJzKCkge1xuICAgIF8uZm9yRWFjaCh0aGlzLnRhYnMsICh0YWIsIGluZGV4KT0+e1xuICAgICAgaWYgKHRhYi5hY3RpdmUgPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFRhYkluZGV4ID0gaW5kZXg7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3Igd2hlbiB0YWIgaXMgc2VsZWN0ZWRcbiAgICogQHBhcmFtIGV2ZW50XG4gICAqIEBwYXJhbSBpbmRleCBJbmRleCBvZiB0YWIgdG8gc2VsZWN0XG4gICAqIEBwYXJhbSB0YWJJZFxuICAgKiBAZXZlbnQgb25Db21tYW5kXG4gICAqL1xuICBoYW5kbGVTZWxlY3RUYWIoZXZlbnQ6IEV2ZW50LCBpbmRleDogbnVtYmVyLCB0YWJJZDogc3RyaW5nKSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldEZvY3VzZWRUYWIoaW5kZXgpO1xuICAgIHRoaXMuc2VsZWN0ZWRUYWJJbmRleCA9IGluZGV4O1xuICAgIC8vIHRoaXMub25DbGljay5lbWl0KHtcbiAgICAvLyAgIHRhYklkOiB0YWJJZCxcbiAgICAvLyAgIHRhYkluZGV4OiBpbmRleFxuICAgIC8vIH0pO1xuICAgIHRoaXMuc2VsZWN0ZWRUYWIub25Db21tYW5kLmVtaXQodGFiSWQpO1xuICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG5cbiAgICBjb25zdCBwYXJlbnRWaWV3ID0gdGhpcy5nZXRQYXJlbnRWaWV3KCk7XG5cbiAgICBpZiAocGFyZW50VmlldyAhPSBudWxsKSB7XG4gICAgICBwYXJlbnRWaWV3LnJlc2V0QWxsU2Nyb2xsUGFuZXNQb3NpdGlvblRvUHJldmlvdXMoKTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3Iga2V5ZG93biBldmVudC4gQXJyb3cga2V5cyB1c2VkIGZvciBuYXZpZ2F0aW9uXG4gICAqIEBwYXJhbSBlIEtleSBldmVudFxuICAgKi9cbiAgaGFuZGxlS2V5ZG93bihlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgaWYgKCFkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNsYXNzTmFtZS5pbmNsdWRlcyhcImNvbWJvYm94LWlucHV0LWJveFwiKSAmJiAhZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jbGFzc05hbWUuaW5jbHVkZXMoXCJkcm9wZG93bi1pdGVtXCIpKSB7XG4gICAgICAvKiBBbGxvdyB0YWIgbmF2aWdhdGlvbiB2aWEgYXJyb3cga2V5czogaHR0cHM6Ly9naXRodWIuY29tL3dlYXZlaW8vbmduc29waGlhL2lzc3Vlcy8xNDY1ICovXG4gICAgICBjb25zdCBVUF9LRVlfQ09ERSA9IDM4O1xuICAgICAgY29uc3QgRE9XTl9LRVlfQ09ERSA9IDQwO1xuICAgICAgY29uc3QgRU5URVJfS0VZX0NPREUgPSAxMztcbiAgICAgIGNvbnN0IGtleVByZXNzZWQgPSBlLndoaWNoO1xuICBcbiAgICAgIC8vIElnbm9yZSBhbGwga2V5cyBleGNlcHQgdXAvZG93biBvciBFTlRFUlxuICAgICAgY29uc3QgbmF2aWdhdGlvbktleXMgPSBbVVBfS0VZX0NPREUsIERPV05fS0VZX0NPREUsIEVOVEVSX0tFWV9DT0RFXTtcbiAgICAgIGlmIChuYXZpZ2F0aW9uS2V5cy5pbmRleE9mKGtleVByZXNzZWQpID09PSAtMSkgcmV0dXJuO1xuICBcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gIFxuICAgICAgbGV0IG5ld0luZGV4OiBudW1iZXI7XG4gIFxuICAgICAgaWYoa2V5UHJlc3NlZCA9PT0gRE9XTl9LRVlfQ09ERSAmJiB0aGlzLmZvY3VzZWRUYWJJbmRleCA8IHRoaXMudGFicy5sZW5ndGggLSAxKSB7XG4gICAgICAgIG5ld0luZGV4ID0gdGhpcy5mb2N1c2VkVGFiSW5kZXggKyAxO1xuICAgICAgfSBlbHNlIGlmKGtleVByZXNzZWQgPT09IFVQX0tFWV9DT0RFICYmIHRoaXMuZm9jdXNlZFRhYkluZGV4ID4gMCkge1xuICAgICAgICBuZXdJbmRleCA9IHRoaXMuZm9jdXNlZFRhYkluZGV4IC0gMTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5UHJlc3NlZCA9PT0gRU5URVJfS0VZX0NPREUpIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFRhYih0aGlzLmZvY3VzZWRUYWJJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdJbmRleCA9IHRoaXMuZm9jdXNlZFRhYkluZGV4O1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRGb2N1c2VkVGFiKG5ld0luZGV4KTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRm9jdXMgYSB0YWIgYnkgaXQncyBpbmRleCBwb3NpdGlvblxuICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb2YgdGFiIHRvIGZvY3VzXG4gICAqL1xuICBzZXRGb2N1c2VkVGFiKGluZGV4OiBudW1iZXIpIHtcbiAgICB0aGlzLmZvY3VzZWRUYWJJbmRleCA9IGluZGV4O1xuICAgIGNvbnN0IHRhYkl0ZW0gPSB0aGlzLnRhYk5hdkl0ZW1zLmZpbmQoKGl0ZW0sIGkpPT4ge1xuICAgICAgcmV0dXJuIGkgPT09IGluZGV4O1xuICAgIH0pO1xuXG4gICAgaWYgKHRhYkl0ZW0pIHtcbiAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgdGFiSXRlbS5uYXRpdmVFbGVtZW50LmZvY3VzKCk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogU2V0IHNlbGVjdGVkIHRhYiBieSBpbmRleCBvciBpZFxuICAgKiBAcGFyYW0gaW5kZXggSW5kZXggb3IgSWQgb2YgW1tUYWJDb21wb25lbnRdXSB0byBzZWxlY3RcbiAgICovXG4gIHNldFNlbGVjdGVkVGFiKGluZGV4OiBudW1iZXIgfCBzdHJpbmcpIHtcbiAgICBpZiAodHlwZW9mIGluZGV4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkVGFiSW5kZXggPSBpbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy9zZWxlY3RlZCB0YWIgYnkgbmFtZT9cbiAgICAgIGNvbnN0IHRlbXBJbmRleCA9IF8uZmluZEluZGV4KHRoaXMudGFicywgKHRhYjogVGFiQ29tcG9uZW50KT0+dGFiLmlkID09PSBpbmRleCk7XG5cbiAgICAgIGlmICh0ZW1wSW5kZXggPj0gMCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkVGFiSW5kZXggPSB0ZW1wSW5kZXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHNlbGVjdGVkIFtbVGFiQ29tcG9uZW50XV1cbiAgICogQHJldHVybnMgVGFiIHRoYXQgaXMgc2VsZWN0ZWRcbiAgICovXG4gIGdldCBzZWxlY3RlZFRhYigpOiBUYWJDb21wb25lbnQge1xuICAgIHJldHVybiB0aGlzLnRhYnMuZmluZCgoaXRlbSwgaW5kZXgpPT5pbmRleCA9PT0gdGhpcy5zZWxlY3RlZFRhYkluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgTmV4YVdlYiB0YWcgbmFtZVxuICAgKiBAcmV0dXJucyBOYW1lIG9mIHRhZ1xuICAgKi9cbiAgcHJvdGVjdGVkIGdldE54VGFnTmFtZSgpIHtcbiAgICByZXR1cm4gXCJ0YWJQYW5lXCI7XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbY2RdXSAoQ2hhbmdlRGV0ZWN0b3IpIG1lbWJlclxuICAgKi9cbiAgZ2V0Q2hhbmdlRGV0ZWN0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2Q7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGEgdGFiIGNoaWxkIGZyb20gdGhlIHBhbmVcbiAgICogQHBhcmFtIGNoaWxkIFRhYiB0byByZW1vdmVcbiAgICovXG4gIHJlbW92ZUNoaWxkKGNoaWxkOiBUYWJDb21wb25lbnQpIHtcbiAgICBzdXBlci5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgdGhpcy50YWJzID0gXy5maWx0ZXIodGhpcy50YWJzLCAodGFiKT0+dGFiLmlkICE9PSBjaGlsZC5pZCk7XG4gICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGNvbXBvbmVudFxuICAgKiBAcmV0dXJucyBPYmplY3QgSlNPTiBtZXRhZGF0YVxuICAgKi9cbiAgdG9Kc29uKCkge1xuICAgIGNvbnN0IGpzb24gPSBzdXBlci50b0pzb24oKTtcbiAgICBqc29uW1wic2VsZWN0ZWRUYWJJbmRleFwiXSA9IHRoaXMuc2VsZWN0ZWRUYWJJbmRleDtcblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgaXMgYSBjb250YWluZXIgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIFRydWVcbiAgICovXG4gIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ1t2dC10YWItaG9zdF0nXG59KVxuZXhwb3J0IGNsYXNzIFRhYkhvc3REaXJlY3RpdmUge1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyB2aWV3Q29udGFpbmVyUmVmOiBWaWV3Q29udGFpbmVyUmVmXG4gICkgeyB9XG5cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgVGFiUGFuZUNvbXBvbmVudCB9IGZyb20gJy4vdGFiLXBhbmUuY29tcG9uZW50JztcbmltcG9ydCB7IFRhYkNvbXBvbmVudCB9IGZyb20gJy4vdGFiL3RhYi5jb21wb25lbnQnO1xuaW1wb3J0IHsgVGFiSG9zdERpcmVjdGl2ZSB9IGZyb20gJy4vdGFiL3RhYi1ob3N0LmRpcmVjdGl2ZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbVGFiUGFuZUNvbXBvbmVudCwgVGFiQ29tcG9uZW50LCBUYWJIb3N0RGlyZWN0aXZlXSxcbiAgZXhwb3J0czogW1RhYkNvbXBvbmVudCwgVGFiUGFuZUNvbXBvbmVudCwgVGFiSG9zdERpcmVjdGl2ZV1cbn0pXG5leHBvcnQgY2xhc3MgVGFiUGFuZU1vZHVsZSB7IH1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBTa2lwU2VsZiwgT3B0aW9uYWwsIENoYW5nZURldGVjdG9yUmVmLCBmb3J3YXJkUmVmLCBSZW5kZXJlcjIsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2Vzc2lvbi9zZXNzaW9uLnNlcnZpY2UnO1xuXG4vKipcbiAqIENsYXNzIGZvciB0ZXh0YXJlYSBjb21wb25lbnRcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndnQtdGV4dC1hcmVhJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RleHQtYXJlYS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3RleHQtYXJlYS5jb21wb25lbnQuY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlQ29tcG9uZW50LFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCk9PlRleHRBcmVhQ29tcG9uZW50KVxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBUZXh0QXJlYUNvbXBvbmVudCBleHRlbmRzIEJhc2VDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBzdGF0aWMgcmVhZG9ubHkgTUFYX0xFTkdUSDogbnVtYmVyID0gOTk5OTtcbiAgcHJpdmF0ZSBfbWF4TGVuZ3RoOiBudW1iZXIgPSBUZXh0QXJlYUNvbXBvbmVudC5NQVhfTEVOR1RIO1xuXG4gIEBJbnB1dCgpIHNldCBtYXhMZW5ndGgobWF4OiBudW1iZXIpIHtcbiAgICB0aGlzLl9tYXhMZW5ndGggPSBtYXg7XG4gIH1cbiAgQElucHV0KCkgc2V0IGVkaXRhYmxlKHZhbDogc3RyaW5nIHwgYm9vbGVhbikge1xuICAgIHRoaXMuX2VkaXRhYmxlID0gdmFsO1xuICB9XG5cbiAgQFZpZXdDaGlsZCgndGV4dGFyZWEnKSB0ZXh0YXJlYTogRWxlbWVudFJlZjtcbiAgQE91dHB1dCgpIG9uVGV4dENoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIG9uRWRpdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBfZWRpdGFibGU6IGJvb2xlYW4gfCBzdHJpbmcgPSB0cnVlO1xuXG4gIGdldCBlZGl0YWJsZSgpOiBib29sZWFuIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fZWRpdGFibGUgIT09IFwiZmFsc2VcIiAmJiB0aGlzLl9lZGl0YWJsZSAhPT0gZmFsc2U7XG4gIH1cbiAgZ2V0IG1heExlbmd0aCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLl9tYXhMZW5ndGggPiAwID8gdGhpcy5fbWF4TGVuZ3RoIDogVGV4dEFyZWFDb21wb25lbnQuTUFYX0xFTkdUSDtcbiAgfVxuXG4gIHByaXZhdGUgX3RleHRCZWZvcmVGb2N1c0luOnN0cmluZzsvL2ZvciBvbkVkaXQoKVxuICBwcml2YXRlIF90ZXh0UHJldmlvdXNLZXlJbnB1dDpzdHJpbmc7Ly9mb3Igb25UZXh0Q2hhbmdlKClcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHNlc3Npb25TZXJ2aWNlIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gZWxlbWVudFJlZiBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGNkIENoYW5nZURldGVjdG9yIGZvciB0aGlzIGNvbXBvbmVudFxuICAgKiBAcGFyYW0gcmVuZGVyZXIgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBAU2tpcFNlbGYoKSBwYXJlbnQ6IEJhc2VDb21wb25lbnQsIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsIHJlbmRlcmVyOiBSZW5kZXJlcjIpIHtcbiAgICBzdXBlcihwYXJlbnQsIHNlc3Npb25TZXJ2aWNlLCBlbGVtZW50UmVmLCByZW5kZXJlcik7XG4gIH1cblxuICAvKipcbiAgICogSW5pdCBsaWZlY3ljbGUuIENhbGwgcGFyZW50IG5nT25Jbml0XG4gICAqL1xuICBuZ09uSW5pdCgpIHtcbiAgICBzdXBlci5uZ09uSW5pdCgpO1xuXG4gICAgaWYodGhpcy5jb250cm9sUGFkZGluZyl7XG4gICAgICB0aGlzLmNvbnRyb2xQYWRkaW5nID0gdGhpcy5jb250cm9sUGFkZGluZyArICdweCc7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEFmdGVyIHZpZXcgaW5pdCBsaWZlY3ljbGUuXG4gICAqIEZvY3VzIHRoZSB0ZXh0YXJlYSBhbmQgc2V0IGRpbWVuc2lvbnNcbiAgICovXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICBzdXBlci5uZ0FmdGVyVmlld0luaXQoKTtcbiAgICBpZiAodGhpcy5mb2N1c09uQWN0aXZhdGlvbikge1xuICAgICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRXaWR0aEhlaWdodFN0eWxlKFwiaGVpZ2h0XCIsIFwid2lkdGhcIik7XG4gICAgdGhpcy5zZXRBdHRyaWJ1dGVGcm9tRGVmKCk7XG4gICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBuYW1lIG9mIHRoZSBjb21wb25lbnRcbiAgICogQHJldHVybnMgTmFtZSBvZiBjb21wb25lbnRcbiAgICovXG4gIGdldExvY2FsTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcInRleHRBcmVhXCI7XG4gIH1cblxuICAvKipcbiAgICogRm9jdXMgdGhlIHRleHRhcmVhIGVsZW1lbnRcbiAgICovXG4gIHNldEZvY3VzKCkge1xuICAgIHRoaXMudGV4dGFyZWEubmF0aXZlRWxlbWVudC5mb2N1cygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdmFsdWUgb2YgaW50ZXJuYWwgW1tfbWF4TGVuZ3RoXV0gcHJvcGVydHlcbiAgICovXG4gIGdldE1heExlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5fbWF4TGVuZ3RoO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBbW19tYXhMZW5ndGhdXSBwcm9wZXJ0eSB2YWx1ZSBhbmQgbWFyayBmb3IgY2hhbmdlIGRldGVjdGlvblxuICAgKiBAcGFyYW0gbWF4IExlbmd0aCBvZiB0ZXh0IGNvbnRlbnRcbiAgICovXG4gIHNldE1heExlbmd0aChtYXg6IG51bWJlciB8IHN0cmluZykge1xuICAgIGlmICh0eXBlb2YgbWF4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICB0aGlzLl9tYXhMZW5ndGggPSBtYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21heExlbmd0aCA9IHBhcnNlSW50KG1heCk7XG4gICAgfVxuXG4gICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciB0ZXh0IGlucHV0XG4gICAqIEVtaXQgb25UZXh0Q2hhbmdlIGIvYyB1c2VyIGtlZXAgdHlwaW5nIChpbnB1dCBzdGlsbCBoYXMgZm9jdXMpXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcGFyYW0gdmFsdWVcbiAgICogQGV2ZW50IG9uVGV4dENoYW5nZVxuICAgKi9cbiAgb25JbnB1dChldmVudDogS2V5Ym9hcmRFdmVudCwgdmFsdWU6IHN0cmluZykge1xuICAgIGxldCBwb3MgPSB0aGlzLnRleHRhcmVhLm5hdGl2ZUVsZW1lbnQuc2VsZWN0aW9uU3RhcnQ7XG4gICAgaWYoZXZlbnQua2V5Q29kZSA9PSA4IHx8IGV2ZW50LmtleUNvZGUgPT0gNDYpLy9CYWNrc3BhY2UgfHwgRGVsZXRlXG4gICAge1xuICAgICAgdGhpcy50ZXh0ID0gdmFsdWU7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy50ZXh0YXJlYS5uYXRpdmVFbGVtZW50LnNlbGVjdGlvblN0YXJ0ID0gcG9zO1xuICAgICAgICB0aGlzLnRleHRhcmVhLm5hdGl2ZUVsZW1lbnQuc2VsZWN0aW9uRW5kID0gcG9zO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYodGhpcy50ZXh0ICE9IG51bGwgJiYgdGhpcy5fbWF4TGVuZ3RoID4gMCAmJiB0aGlzLl9tYXhMZW5ndGggPCB0aGlzLnRleHQubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5zdWJzdHJpbmcoMCwgdGhpcy5fbWF4TGVuZ3RoKTtcbiAgICB9XG5cbiAgICBpZih0aGlzLl90ZXh0UHJldmlvdXNLZXlJbnB1dCAhPSB0aGlzLnRleHQpXG4gICAgICB0aGlzLm9uVGV4dENoYW5nZS5lbWl0KCk7XG4gICAgdGhpcy5fdGV4dFByZXZpb3VzS2V5SW5wdXQgPSB0aGlzLnRleHQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBbW2NkXV0gKENoYW5nZURldGVjdG9yKSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBDaGFuZ2UgZGV0ZWN0b3IgZm9yIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0Q2hhbmdlRGV0ZWN0b3IoKTogQ2hhbmdlRGV0ZWN0b3JSZWYge1xuICAgIHJldHVybiB0aGlzLmNkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBOZXhhd2ViIHRhZyBuYW1lXG4gICAqIEByZXR1cm5zIFRhZyBuYW1lXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0TnhUYWdOYW1lKCkge1xuICAgIHJldHVybiBcInRleHRBcmVhXCI7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgZm9jdXMgZXZlbnRcbiAgICogQHBhcmFtIGUgSW5wdXQgZm9jdXMgZXZlbnRcbiAgICovXG4gIG9uRm9jdXMoZSkge1xuICAgIHRoaXMuX3RleHRCZWZvcmVGb2N1c0luID0gdGhpcy50ZXh0O1xuICAgIHRoaXMuX3RleHRQcmV2aW91c0tleUlucHV0ID0gdGhpcy50ZXh0O1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZm9yIGJsdXIgKHVuZm9jdXMpIGV2ZW50XG4gICAqIEBwYXJhbSBlIElucHV0IGJsdXIgZXZlbnRcbiAgICovXG4gIG9uQmx1cihldmVudCwgdmFsdWUpIHtcbiAgICBpZih0aGlzLnRleHRhcmVhLm5hdGl2ZUVsZW1lbnQub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzLnRleHRhcmVhLm5hdGl2ZUVsZW1lbnQpIHJldHVybjsvL3ByZXZlbnQgZm9jdXNsb3N0IHdoZW5ldmVyIGFjdGl2ZSBwcm9jZXNzIGlzIGNoYW5nZWQuXG4gICAgdGhpcy50ZXh0ID0gdmFsdWU7Ly93aGVuIHRoZSBsYXN0IGNoYXIgaXMgWmVua2FrdSBhbmQgdGhlIHVzZXIgZG9lc24ndCBwcmVzcyAnRW50ZXInLCB0aGlzIGlzIG5lZWRlZC5cbiAgICBpZih0aGlzLnRleHQgIT0gbnVsbCAmJiB0aGlzLl9tYXhMZW5ndGggPiAwICYmIHRoaXMuX21heExlbmd0aCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcbiAgICAgIHRoaXMudGV4dCA9IHRoaXMudGV4dC5zdWJzdHJpbmcoMCwgdGhpcy5fbWF4TGVuZ3RoKTtcbiAgICB9XG4gICAgaWYodGhpcy50ZXh0ICE9IHRoaXMuX3RleHRCZWZvcmVGb2N1c0luKVxuICAgICAgdGhpcy5vbkVkaXQuZW1pdCgpO1xuICAgIHRoaXMudmFsaWRhdGVGaWVsZChldmVudCk7XG4gIH1cbiAgLyoqXG4gICAqIFNldCBbW3Zpc2libGVdXSBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHBhcmFtIHZhbHVlIFRvZ2dsZSB2aXNpYmlsaXR5XG4gICAqL1xuICBzZXRWaXNpYmxlKHZhbHVlOiBib29sZWFuKSB7XG4gICAgdGhpcy52aXNpYmxlID0gdmFsdWU7XG4gICAgaWYgKHRoaXMudmlzaWJsZSkge1xuICAgICAgdGhpcy5yZW1vdmVDc3NDbGFzcygnaGlkZGVuJyk7XG4gICAgICB0aGlzLmdldEVsZW1lbnQoKS5yZW1vdmVBdHRyaWJ1dGUoJ2hpZGRlbicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZENzc0NsYXNzKCdoaWRkZW4nKTtcbiAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJycpO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBUZXh0QXJlYUNvbXBvbmVudCB9IGZyb20gJy4vdGV4dC1hcmVhLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBGb3Jtc01vZHVsZSxcbiAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtUZXh0QXJlYUNvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtcbiAgICBUZXh0QXJlYUNvbXBvbmVudCxcbiAgICBGb3Jtc01vZHVsZSxcbiAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICBdLFxuICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICBUZXh0QXJlYUNvbXBvbmVudFxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFRleHRBcmVhTW9kdWxlIHsgfVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBFbGVtZW50UmVmLCBTa2lwU2VsZiwgT3B0aW9uYWwsIFF1ZXJ5TGlzdCwgVmlld0NoaWxkcmVuLCBWaWV3RW5jYXBzdWxhdGlvbiwgTmdab25lLCBDb250ZW50Q2hpbGRyZW4sIFZpZXdDaGlsZCwgVGVtcGxhdGVSZWYsIFJlbmRlcmVyMiwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBmb3J3YXJkUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbi5zZXJ2aWNlJztcbmltcG9ydCB7IFRhYmxlQ29sdW1uRGlyZWN0aXZlIH0gZnJvbSAnLi4vdGFibGUvdGFibGUtY29sdW1uLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBIVE1MRWxlbWVudFdyYXBwZXIgfSBmcm9tICcuL2h0bWwtZWxlbWVudC13cmFwcGVyJztcblxuZGVjbGFyZSB2YXIgalF1ZXJ5OiBhbnk7XG5cbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi4vamF2YS92ZWN0b3InO1xuXG4vKipcbiAqIENsYXNzIGZvciB0cmVlIHRhYmxlIGNvbXBvbmVudFxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd2dC10cmVlLXRhYmxlJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3RyZWUtdGFibGUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90cmVlLXRhYmxlLmNvbXBvbmVudC5zY3NzJ10sXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBCYXNlQ29tcG9uZW50LFxuICAgICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCk9PlRyZWVUYWJsZUNvbXBvbmVudClcbiAgICB9XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgVHJlZVRhYmxlQ29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIHJvd0RhdGE6IEFycmF5PGFueT47XG4gIEBJbnB1dCgpIGNvbHVtbkRlZnM6IEFycmF5PGFueT47XG4gIEBJbnB1dCgpIHVzZURvY0ZyYWdtZW50OiBib29sZWFuO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oVGFibGVDb2x1bW5EaXJlY3RpdmUpXG4gIGNvbHVtbnM6IFF1ZXJ5TGlzdDxUYWJsZUNvbHVtbkRpcmVjdGl2ZT47XG5cbiAgQFZpZXdDaGlsZChcInRhYmxlQm9keVwiLCB7cmVhZDogRWxlbWVudFJlZn0pIHRhYmxlQm9keTogRWxlbWVudFJlZjxIVE1MRWxlbWVudD47XG5cbiAgX2JvZHlGcmFnbWVudDogRG9jdW1lbnRGcmFnbWVudDtcblxuICBwcml2YXRlIG5vZGVzOiBBcnJheTxIVE1MRWxlbWVudFdyYXBwZXI+ID0gW107XG4gIHNlbGVjdGVkTm9kZXM6IEFycmF5PG51bWJlcj4gPSBbXTtcbiAgcHJpdmF0ZSBzZWxlY3RlZFJvd0VsZW1lbnRzOiBBcnJheTxIVE1MRWxlbWVudFdyYXBwZXI+ID0gW107XG5cbiAgY29uc3RydWN0b3IoXG4gICAgQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LFxuICAgIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSxcbiAgICBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgIHByaXZhdGUgem9uZTogTmdab25lLFxuICAgIHJlbmRlcmVyOiBSZW5kZXJlcjIsXG4gICAgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWZcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXQgbGlmZWN5Y2xlLiBNdXN0IGNhbGwgcGFyZW50IG5nT25Jbml0XG4gICAqL1xuICBuZ09uSW5pdCgpIHtcbiAgICBzdXBlci5uZ09uSW5pdCgpO1xuXG4gICAgLy8gV2lkdGgvSGVpZ2h0IGlzIHJlcXVpcmVkIG90aGVyd2lzZSBncmlkIHdpbGwgY29sbGFwc2UgdG8gemVyby5cbiAgICAvLyBpZiAoIXRoaXMuY29udHJvbEhlaWdodCkgdGhpcy5jb250cm9sSGVpZ2h0ID0gJzUwMHB4JztcbiAgICAvLyBpZiAoIXRoaXMuY29udHJvbFdpZHRoKSB0aGlzLmNvbnRyb2xXaWR0aCA9ICc1MDBweCc7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZS4gU2V0IHRhYmxlIGNvbHVtbnMgYW5kIGNhbGwgcGFyZW50IG5nQWZ0ZXJWaWV3SW5pdFxuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIC8vbWFrZSBzdXJlIHRvIGNhbGwgc3VyZSBpdCBjYW4gaW5pdCB0aGluZ1xuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuXG4gICAgdGhpcy5jcmVhdGVEb2NGcmFnbWVudCgpO1xuXG4gICAgaWYgKHRoaXMuY29sdW1ucyAhPSBudWxsICYmIHRoaXMuY29sdW1ucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLmNvbHVtbkRlZnMgPSBbXTtcblxuICAgICAgdGhpcy5jb2x1bW5zLmZvckVhY2goY29sdW1uPT57XG4gICAgICAgIHRoaXMuY29sdW1uRGVmcy5wdXNoKHtcbiAgICAgICAgICBoZWFkZXJOYW1lOiBjb2x1bW4uaGVhZGVyLFxuICAgICAgICAgIGNvbnRyb2xXaWR0aDogY29sdW1uLmNvbnRyb2xXaWR0aFxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnJvd0RhdGEgJiYgdGhpcy5yb3dEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+IHtcbiAgICAgICAgalF1ZXJ5KGAjJHt0aGlzLmlkfSAuanEtdHJlZS10YWJsZWApLnRyZWV0YWJsZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgbGlmZWN5Y2xlLiBEZWxldGUgdHJlZSBub2RlcyB0byBjbGVhciBvdXQgcmVmZXJlbmNlc1xuICAgKi9cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy50YWJsZUJvZHkgPSBudWxsO1xuXG4gICAgdGhpcy5fYm9keUZyYWdtZW50ID0gbnVsbDtcblxuICAgIGlmICh0aGlzLm5vZGVzICE9IG51bGwpIHtcbiAgICAgIGZvciAobGV0IG5vZGUgb2YgdGhpcy5ub2Rlcykge1xuICAgICAgICBub2RlLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm5vZGVzID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGNoaWxkIHJvd3MgZnJvbSB0aGlzIHRhYmxlXG4gICAqL1xuICBjbGVhclJvd3MoKSB7XG4gICAgLy8gd2hpbGUodGhpcy50YWJsZUJvZHkubmF0aXZlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgLy8gICB0aGlzLnJlbmRlcmVyLnJlbW92ZUNoaWxkKHRoaXMudGFibGVCb2R5Lm5hdGl2ZUVsZW1lbnQsIHRoaXMudGFibGVCb2R5Lm5hdGl2ZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgLy8gfVxuXG4gICAgKHRoaXMudGFibGVCb2R5Lm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICB0aGlzLm5vZGVzID0gW107XG4gICAgdGhpcy5zZWxlY3RlZE5vZGVzID0gW107XG4gICAgdGhpcy5zZWxlY3RlZFJvd0VsZW1lbnRzID0gW107XG4gICAgdGhpcy5jcmVhdGVEb2NGcmFnbWVudCgpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIENyZWF0ZSB0YWJsZSByb3cgYnV0IERPIE5PVCBhcHBlbmQgdG8gdGFibGVcbiAgICovXG4gIGNyZWF0ZVJvdygpOiBIVE1MRWxlbWVudFdyYXBwZXIge1xuICAgIGNvbnN0IHJvdzogSFRNTEVsZW1lbnRXcmFwcGVyID0gbmV3IEhUTUxFbGVtZW50V3JhcHBlcih0aGlzLnJlbmRlcmVyLCBcInJvd1wiLCB0aGlzLmdldFNlc3Npb24oKSk7XG4gICAgcm93LnNldEF0dHJpYnV0ZShcImlkXCIsIEJhc2VDb21wb25lbnQuZ2VuZXJhdGVVbmlxdWVJZChcInJvd1wiKSk7XG4gICAgcm93LnBhcmVudFRhYmxlSWQgPSB0aGlzLmlkO1xuICAgIHJvdy5wYXJlbnRUYWJsZSA9IHRoaXM7XG4gICAgdGhpcy5zZXRQYXJlbnRTY3JlZW5JZChyb3cpO1xuXG4gICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57XG4gICAgICByb3cuaHRtbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoKT0+e1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE5vZGVzICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGVkTm9kZXMuZm9yRWFjaChpZHg9PntcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdFJvdyhpZHgsIGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRSb3dFbGVtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLnNlbGVjdFJvdyhyb3csIHRydWUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB0aGlzLnRyYWNrTm9kZShyb3cpO1xuXG4gICAgcmV0dXJuIHJvdztcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBDcmVhdGUgdGFibGUgcm93IGFuZCBhcHBlbmQgdG8gdGFibGVcbiAgICovXG4gIGFkZFJvdygpOiBIVE1MRWxlbWVudFdyYXBwZXIge1xuICAgIGNvbnN0IHJvdyA9IHRoaXMuY3JlYXRlUm93KCk7XG5cbiAgICBpZiAodGhpcy51c2VEb2NGcmFnbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5fYm9keUZyYWdtZW50LmFwcGVuZENoaWxkKHJvdy5odG1sRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVuZGVyZXIuYXBwZW5kQ2hpbGQodGhpcy50YWJsZUJvZHkubmF0aXZlRWxlbWVudCwgcm93Lmh0bWxFbGVtZW50KTtcbiAgICB9XG4gICAgcm93Lmh0bWxFbGVtZW50LnN0eWxlW1wiYmFja2dyb3VuZFwiXSA9IFwiXCI7XG4gICAgcmV0dXJuIHJvdztcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBTZXQgYSByb3cgYXMgc2VsZWN0ZWQgYW5kIHNldCBzZWxlY3RlZCBzdHlsZVxuICAgKiBAcGFyYW0gbm9kZUluZGV4IEluZGV4IG9mIG5vZGUvcm93IHRvIHNlbGVjdFxuICAgKiBAcGFyYW0gaXNTZWxlY3RlZCBUb2dnbGUgdG8gc2V0IHNlbGVjdGVkIHN0eWxlXG4gICAqL1xuICBfc2VsZWN0Um93KG5vZGVJbmRleDogbnVtYmVyLCBpc1NlbGVjdGVkOiBib29sZWFuKSB7XG5cbiAgICBsZXQgaWR4ID0gXy5maW5kSW5kZXgodGhpcy5zZWxlY3RlZE5vZGVzLCAobm9kZSkgPT4ge1xuICAgICAgICByZXR1cm4gbm9kZSA9PT0gbm9kZUluZGV4O1xuICAgIH0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGlzU2VsZWN0ZWQpIHtcbiAgICAgICAgLy9pZiBpdCB3YXNuJ3Qgc2VsZWN0ZWQsIGFkZCBpdCBpbiBzZWxlY3RlZFJvd3MuXG4gICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTm9kZXMucHVzaChub2RlSW5kZXgpO1xuICAgICAgICAgICAgdGhpcy5ub2Rlc1tub2RlSW5kZXhdLmh0bWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3RkJykuc3R5bGUuY29sb3IgPSAnYmx1ZSc7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICAvL2lmIGl0IHdhcyBzZWxlY3RlZCBiZWZvcmUsIHJlbW92ZSBpdCBmcm9tIHNlbGVjdGVkUm93cy5cbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkTm9kZXMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICB0aGlzLm5vZGVzW25vZGVJbmRleF0uaHRtbEVsZW1lbnQucXVlcnlTZWxlY3RvcigndGQnKS5zdHlsZS5jb2xvciA9IFwiXCI7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgYnkgc2V0QXR0cmlidXRlKHJvdywgdmFsdWUpO1xuICAgKiBAcGFyYW0gcm93IFJvdyB0byBzZXQgYXMgc2VsZWN0ZWQgcm93XG4gICAqIEBwYXJhbSBpc1NlbGVjdGVkIFRvZ2dsZSBzZWxlY3RlZCBzdGF0ZSBhbmQgc3R5bGVcbiAgICovXG4gIHNlbGVjdFJvdyhyb3c6IEhUTUxFbGVtZW50V3JhcHBlciwgaXNTZWxlY3RlZDogYm9vbGVhbikge1xuICAgIGlmICh0aGlzLm5vZGVzID09IG51bGwpIHJldHVybjtcbiAgICBsZXQgbm9kZUluZGV4ID0gXy5maW5kSW5kZXgodGhpcy5ub2RlcywgKG5vZGUpID0+IHtcbiAgICAgIHJldHVybiBub2RlID09PSByb3c7XG4gICAgfSk7XG4gICAgLy9Ob3cgaW4gdGhlIGFzLWlzJ3RyZWUtdGFibGUgb25seSBvbmUgcm93IGNhbiBiZSBzZWxlY3RlZC5cblxuICAgIGxldCB0ZHM6IE5vZGVMaXN0ID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgndGQnKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAodGRzW2ldIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5jb2xvciA9ICcnO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5fc2VsZWN0Um93KGksIGZhbHNlKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZWxlY3RSb3cobm9kZUluZGV4LCB0cnVlKTtcblxuICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkUm93RWxlbWVudHMucHVzaChyb3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGVkUm93RWxlbWVudHMgPSB0aGlzLnNlbGVjdGVkUm93RWxlbWVudHMuZmlsdGVyKGVsPT57XG4gICAgICAgIHJldHVybiBlbC5fdW5pcXVlSWQgIT09IHJvdy5faW50ZXJuYWxJZDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGdldFNlbGVjdGVkUm93cygpOiBBcnJheTxIVE1MRWxlbWVudFdyYXBwZXI+IHtcbiAgICByZXR1cm4gdGhpcy5zZWxlY3RlZFJvd0VsZW1lbnRzO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIENyZWF0ZSB0YWJsZSBjZWxsICh3aWxsIG5vdCBhcHBlbmQgdG8gYW55dGhpbmcpXG4gICAqIEByZXR1cm5zIFRoZSB0YWJsZSBjZWxsIHRoYXQgaXMgY3JlYXRlZFxuICAgKi9cbiAgY3JlYXRlQ2VsbCgpOiBIVE1MRWxlbWVudFdyYXBwZXIge1xuICAgIGNvbnN0IGNlbGw6IEhUTUxFbGVtZW50V3JhcHBlciA9IG5ldyBIVE1MRWxlbWVudFdyYXBwZXIodGhpcy5yZW5kZXJlciwgXCJjZWxsXCIsIHRoaXMuZ2V0U2Vzc2lvbigpKTtcbiAgICBjZWxsLnNldEF0dHJpYnV0ZShcImlkXCIsIEJhc2VDb21wb25lbnQuZ2VuZXJhdGVVbmlxdWVJZChcImNlbGxcIikpO1xuICAgIHRoaXMuc2V0UGFyZW50U2NyZWVuSWQoY2VsbCk7XG5cbiAgICAvL2ZvciBjZWxsLCB3ZSBuZWVkIHRvIGFwcGVuZCBpdCB0byB0aGUgcm93XG4gICAgdGhpcy50cmFja05vZGUoY2VsbCk7XG5cbiAgICByZXR1cm4gY2VsbDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCB1c2VkIGNyZWF0ZUNlbGwgaW5zdGVhZFxuICAgKi9cbiAgYWRkQ2VsbCgpOiBIVE1MRWxlbWVudFdyYXBwZXIge1xuICAgIHJldHVybiB0aGlzLmNyZWF0ZUNlbGwoKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBSZS1yZW5kZXIgdHJlZSB0YWJsZS4gTXVzdCBjYWxsIGpRdWVyeSBwbHVnaW4ncyBtZXRob2Qgb24gZWxlbWVudCB0byByZS1yZW5kZXIuXG4gICAqL1xuICByZWRyYXdUcmVlKCkge1xuICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGpRdWVyeShgIyR7dGhpcy5pZH0gLmpxLXRyZWUtdGFibGVgKS50cmVldGFibGUoe1xuICAgICAgICBleHBhbmRhYmxlOiB0cnVlXG4gICAgICB9LCB0cnVlKTtcblxuICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBFeHBhbmQgYWxsIG5vZGVzIGluIHRoZSB0cmVlXG4gICAqL1xuICBleHBhbmRBbGwoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBqUXVlcnkoYCMke3RoaXMuaWR9IC5qcS10cmVlLXRhYmxlYCkudHJlZXRhYmxlKFwiZXhwYW5kQWxsXCIpO1xuICAgIHRoaXMuc2V0Tm9kZUV4cGFuZGVkU3RhdHVzKFwidHJ1ZVwiKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBDb2xsYXBzZSBhbGwgbm9kZSBpbiB0aGUgdHJlZVxuICAgKi9cbiAgY29sbGFwc2VBbGwoKSB7XG4gICAgalF1ZXJ5KGAjJHt0aGlzLmlkfSAuanEtdHJlZS10YWJsZWApLnRyZWV0YWJsZShcImNvbGxhcHNlQWxsXCIpO1xuICAgIHRoaXMuc2V0Tm9kZUV4cGFuZGVkU3RhdHVzKFwiZmFsc2VcIik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNoaWxkIG5vZGVzIG9mIHRoZSB0YWJsZVxuICAgKiBAcmV0dXJucyBbW25vZGVzXV1cbiAgICovXG4gIGdldFRhYmxlQ2hpbGRyZW4oKTogQXJyYXk8SFRNTEVsZW1lbnRXcmFwcGVyPiB7XG4gICAgcmV0dXJuIHRoaXMubm9kZXM7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogR2V0IG51bWJlciBvZiBjaGlsZCBub2RlcyBmb3IgdGhpcyB0cmVlXG4gICAqIEByZXR1cm5zIE51bWJlciBvZiBjaGlsZCBub2Rlc1xuICAgKi9cbiAgZ2V0Q2hpbGRDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm5vZGVzICE9IG51bGwgPyB0aGlzLm5vZGVzLmxlbmd0aCA6IDA7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGNoaWxkIG5vZGUgYnkgaWRcbiAgICogQHBhcmFtIGlkXG4gICAqL1xuICBnZXRDaGlsZEJ5SWQoaWQ6IHN0cmluZyk6IEhUTUxFbGVtZW50V3JhcHBlciB7XG4gICAgaWYgKHRoaXMubm9kZXMgIT0gbnVsbCkge1xuICAgICAgY29uc3QgdGVtcCA9IF8uZmlsdGVyKHRoaXMubm9kZXMsIChpdGVtOiBIVE1MRWxlbWVudFdyYXBwZXIpPT5pdGVtLmdldElkKCkgPT09IGlkKTtcblxuICAgICAgaWYgKHRlbXAubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdGVtcFswXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBHZXQgbGlzdCBvZiBub2RlcyBmcm9tIFhQYXRoIGV4cHJlc3Npb24gc3RyaW5nXG4gICAqIEBwYXJhbSB4cGF0aEV4cHJlc3Npb25cbiAgICovXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGV2YWx1YXRlWFBhdGgoeHBhdGhFeHByZXNzaW9uOiBzdHJpbmcpOiBhbnkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgY29uc3QgcmVzdWx0OiBWZWN0b3I8YW55PiA9IG5ldyBWZWN0b3I8YW55PigpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgY29uc3QgeHBhdGhSZXN1bHQ6IFhQYXRoUmVzdWx0ID0gZG9jdW1lbnQuZXZhbHVhdGUoeHBhdGhFeHByZXNzaW9uLnJlcGxhY2UoXCJjZWxsW1wiLCBcInRkW1wiKS5yZXBsYWNlKFwicm93W1wiLCBcInRyW1wiKSwgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQsIG51bGwsIFhQYXRoUmVzdWx0LkFOWV9UWVBFLCBudWxsKTtcblxuICAgIGlmICh4cGF0aFJlc3VsdCAhPSBudWxsKSB7XG4gICAgICBsZXQgbm9kZTogTm9kZSA9IHhwYXRoUmVzdWx0Lml0ZXJhdGVOZXh0KCk7XG5cbiAgICAgIHdoaWxlKG5vZGUpIHtcbiAgICAgICAgcmVzdWx0LmFkZChub2RlKTtcbiAgICAgICAgbm9kZSA9IHhwYXRoUmVzdWx0Lml0ZXJhdGVOZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGNoaWxkIG5vZGUgdG8gdGhlIHRyZWVcbiAgICogQHBhcmFtIG5vZGUgQ2hpbGQgdG8gYWRkXG4gICAqL1xuICBwcml2YXRlIHRyYWNrTm9kZShub2RlOiBIVE1MRWxlbWVudFdyYXBwZXIpIHtcbiAgICBpZiAodGhpcy5ub2RlcyA9PSBudWxsKSB7XG4gICAgICB0aGlzLm5vZGVzID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBOZXhhV2ViIHRhZyBuYW1lXG4gICAqIEByZXR1cm5zIFRhZ25hbWVcbiAgICovXG4gIHByb3RlY3RlZCBnZXROeFRhZ05hbWUoKSB7XG4gICAgcmV0dXJuIFwidHJlZVRhYmxlXCI7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogR2V0IFtbY2RdXSAoQ2hhbmdlIGRldGVjdG9yKSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBDaGFuZ2UgZGV0ZWN0b3IgcmVmZXJlbmNlXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0Q2hhbmdlRGV0ZWN0b3IoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2Q7XG4gIH1cblxuICAvKipcbiAgICogU2V0IG5vZGUgZXhwYW5kZWQgcHJvcGVydHkgdmFsdWVcbiAgICogQHBhcmFtIHN0YXR1cyBWYWx1ZSBmb3Igbm9kZSdzIGV4cGFuZGVkIHByb3BlcnR5XG4gICAqL1xuICBwcml2YXRlIHNldE5vZGVFeHBhbmRlZFN0YXR1cyhzdGF0dXM6IHN0cmluZykge1xuICAgIGlmICh0aGlzLm5vZGVzICE9IG51bGwpIHtcbiAgICAgIF8uZm9yRWFjaCh0aGlzLm5vZGVzLCAobm9kZSk9PntcbiAgICAgICAgaWYgKG5vZGUuZ2V0TG9jYWxOYW1lKCkgPT09IFwicm93XCIpIHtcbiAgICAgICAgICBub2RlLmV4cGFuZGVkID0gc3RhdHVzO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IEpTT04gcmVwcmVzZW50YXRpb24gZm9yIHRoaXMgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIENvbXBvbmVudCBtZXRhZGF0YSBhcyBKU09OIG9iamVjdFxuICAgKi9cbiAgdG9Kc29uKCk6IHt9IHtcbiAgICBjb25zdCByZXRWYWwgPSBzdXBlci50b0pzb24oKTtcblxuICAgIGlmICh0aGlzLm5vZGVzICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5ub2Rlcy5maWx0ZXIobm9kZT0+bm9kZS5nZXRMb2NhbE5hbWUoKSA9PT0gXCJyb3dcIik7XG5cbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldFZhbFtcImNoaWxkcmVuXCJdID0gY2hpbGRyZW4ubWFwKGNoaWxkPT5jaGlsZC50b0pzb24oKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldFZhbDtcbiAgfVxuICAvKipcbiAgICogU2V0IHRoZSBlbGVtZW50cyBwYXJlbnQgSURcbiAgICogQHBhcmFtIGVsXG4gICAqL1xuICBwcml2YXRlIHNldFBhcmVudFNjcmVlbklkKGVsOiBIVE1MRWxlbWVudFdyYXBwZXIpIHtcbiAgICBpZiAodGhpcy5nZXRQYXJlbnRWaWV3KCkgIT0gbnVsbCkge1xuICAgICAgICBlbC5wYXJlbnRTY3JlZW5JZCA9IHRoaXMuZ2V0UGFyZW50VmlldygpLmdldElkKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldE5vZGVzKCk6IEhUTUxFbGVtZW50V3JhcHBlcltdIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlc1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVEb2NGcmFnbWVudCgpIHtcbiAgICBpZiAodGhpcy51c2VEb2NGcmFnbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgdGhpcy5fYm9keUZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIH1cbiAgfVxuXG4gIGFwcGVuZEZyYWdtZW50KCkge1xuICAgIGlmICh0aGlzLl9ib2R5RnJhZ21lbnQgIT0gbnVsbCkge1xuICAgICAgKHRoaXMudGFibGVCb2R5Lm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmFwcGVuZENoaWxkKHRoaXMuX2JvZHlGcmFnbWVudCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFRyZWVUYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vdHJlZS10YWJsZS5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlXG4gIF0sXG4gIGRlY2xhcmF0aW9uczogW1RyZWVUYWJsZUNvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtcbiAgICBUcmVlVGFibGVDb21wb25lbnRcbiAgXSxcbiAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgVHJlZVRhYmxlQ29tcG9uZW50XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgVHJlZVRhYmxlTW9kdWxlIHsgfVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBBZnRlclZpZXdJbml0LCBWaWV3Q2hpbGQsIFR5cGUsIENvbXBvbmVudEZhY3RvcnlSZXNvbHZlciwgQ29tcG9uZW50UmVmLCBJbnB1dCwgRWxlbWVudFJlZiwgUmVuZGVyZXIyLCBTa2lwU2VsZiwgT3B0aW9uYWwgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IEF0dHJpYnV0ZXNFbnVtIH0gZnJvbSAnLi4vYmFzZS9hdHRyaWJ1dGVzLmVudW0nO1xuXG5pbXBvcnQgeyBEaWFsb2dDb21wb25lbnQgfSBmcm9tICcuLi9kaWFsb2cvZGlhbG9nLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21wb25lbnRUeXBlIH0gZnJvbSAnLi4vYmFzZS9jb21wb25lbnQtdHlwZS5lbnVtJztcbmltcG9ydCB7IExhYmVsQ29tcG9uZW50IH0gZnJvbSAnLi4vbGFiZWwvbGFiZWwuY29tcG9uZW50JztcbmltcG9ydCB7IEJ1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4uL2J1dHRvbi9idXR0b24uY29tcG9uZW50JztcbmltcG9ydCB7IENvbWJvQm94Q29tcG9uZW50IH0gZnJvbSAnLi4vY29tYm8tYm94L2NvbWJvLWJveC5jb21wb25lbnQnO1xuaW1wb3J0IHsgVGV4dEZpZWxkQ29tcG9uZW50IH0gZnJvbSAnLi4vdGV4dC1maWVsZC90ZXh0LWZpZWxkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDaGVja2JveENvbXBvbmVudCB9IGZyb20gJy4uL2NoZWNrYm94L2NoZWNrYm94LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBSYWRpb0J1dHRvbkNvbXBvbmVudCB9IGZyb20gJy4uL3JhZGlvLWJ1dHRvbi9yYWRpby1idXR0b24uY29tcG9uZW50JztcbmltcG9ydCB7IFRleHRBcmVhQ29tcG9uZW50IH0gZnJvbSAnLi4vdGV4dC1hcmVhL3RleHQtYXJlYS5jb21wb25lbnQnO1xuXG5pbXBvcnQgKiBhcyBfIGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgeyBEeW5hbWljUGFnZXNTZXJ2aWNlIH0gZnJvbSAnLi9keW5hbWljLXBhZ2VzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQXBwVXRpbHMgfSBmcm9tICcuLi9iYXNlL2FwcC11dGlscyc7XG5cbmltcG9ydCB7IFN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZSc7XG5pbXBvcnQgeyBIVE1MRWxlbWVudFdyYXBwZXIgfSBmcm9tICcuLi90cmVlLXRhYmxlL2h0bWwtZWxlbWVudC13cmFwcGVyJztcbmltcG9ydCB7IFVpRG9jdW1lbnQgfSBmcm9tICcuLi9iYXNlL3VpLWRvY3VtZW50JztcbmltcG9ydCB7IFBvcHVwTWVudURpcmVjdGl2ZSB9IGZyb20gJy4uL3BvcHVwLW1lbnUvcG9wdXAtbWVudS5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vYmFzZS9sb2dnZXInO1xuaW1wb3J0IHsgS2V5VXRpbHMgfSBmcm9tICcuLi9iYXNlL2tleS11dGlscyc7XG5pbXBvcnQgeyBKYXZhVXRpbHMgfSBmcm9tICcuLi9qYXZhL2phdmEtdXRpbHMnO1xuaW1wb3J0IHsgQXR0cmlidXRlTmFtZVZhbHVlIH0gZnJvbSAnLi4vYmFzZS9hdHRyaWJ1dGUtbmFtZS12YWx1ZSc7XG5pbXBvcnQgeyBNZW51SXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL3BvcHVwLW1lbnUvbWVudS1pdGVtL21lbnUtaXRlbS5jb21wb25lbnQnO1xuXG4vKipcbiAqIEJhc2UgcGFyZW50IGNvbXBvbmVudCBjbGFzcyB0aGF0IGFsbCBvdGhlciBzY3JlZW4gY29tcG9uZW50cyBpbmhlcml0IGZyb21cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndnQtZHVtbXktdmlldycsXG4gIHRlbXBsYXRlOiAnJ1xufSlcbmV4cG9ydCBjbGFzcyBWaWV3Q29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCB7XG4gIEBWaWV3Q2hpbGQoRGlhbG9nQ29tcG9uZW50KSBkaWFsb2c6IERpYWxvZ0NvbXBvbmVudDtcbiAgcHJpdmF0ZSByb3V0ZVVybDogc3RyaW5nO1xuICBwcml2YXRlIHJvdXRlRGVhY3RpdmF0ZWQ6IGJvb2xlYW47XG4gIHByaXZhdGUgbWNvczogU2V0PHN0cmluZz4gPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgekluZGV4OiBudW1iZXI7XG4gIGlzRHluYW1pY1BhZ2U6IGJvb2xlYW47XG4gIGlzRGVzdHJveWVkOiBib29sZWFuO1xuICBjYW5CZUFjdGl2ZVZpZXc6IGJvb2xlYW4gPSB0cnVlO1xuICBhY3Rpb25Gb3J3YXJkTmFtZTogc3RyaW5nO1xuICBtb2RhbDpzdHJpbmc7XG4gIHJvdXRlSWQ6IHN0cmluZzsgICAvL0ZvciByb3V0ZS5zZXJ2aWNlXG5cbiAgcHJpdmF0ZSBfdmlld0luaXRpYWxpemVkU3ViamVjdDogU3ViamVjdDx2b2lkPiA9IG5ldyBTdWJqZWN0PHZvaWQ+KCk7XG4gIHZpZXdJbml0aWFsaXplZDogT2JzZXJ2YWJsZTx2b2lkPiA9IHRoaXMuX3ZpZXdJbml0aWFsaXplZFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgcHJpdmF0ZSBkZWZJZHM6IEFycmF5PHN0cmluZz4gPSBbXTtcbiAgcHJpdmF0ZSBwb3B1cE1lbnVzOiBBcnJheTxQb3B1cE1lbnVEaXJlY3RpdmU+O1xuXG4gIC8vcHJpdmF0ZSBfZmluZEVsZW1lbnRDYWNoZTogYW55O1xuXG4gIHByaXZhdGUgY2hhbmdlRGV0ZWN0aW9uRnJvemVuOiBib29sZWFuO1xuXG4gIGlzTWluaW1pemVkOiBib29sZWFuO1xuXG4gIHNraXBCcmVhZENydW1iOiBib29sZWFuO1xuXG4gIC8vYWxsb3cgdGhpcyBzYW1lIHNjcmVlbiB0byBsYXVuY2ggbXVsdGlwbGUgdGltZVxuICBhbGxvd011bHRpcGxlU2NyZWVuOiBib29sZWFuO1xuICBzY3JlZW5JbmRleDogbnVtYmVyID0gbnVsbDtcbiAgYmFzZVNjcmVlbklkOiBzdHJpbmc7IC8vaWQgZm9yIGdyb3VwaW5nIHNjcmVlbiAoYXZvaWRpbmcgc2NyZWVuaW5kZXgpXG5cbiAgLy9jYWxsYmFjayBmb3IgYW55IGN1c3RvbSBjbGVhbnVwXG4gIGJlZm9yZURlc3Ryb3lDYjogKGlkOiBzdHJpbmcpPT52b2lkO1xuXG5cbiAgLy9rZWVwIHRyYWNrIG9mIG1lbnUgaXRlbXMgKHRoYXQgYXJlIG5vdCBhY3RpdmUpIGFzIGFyZSBtZW51IGl0ZW1zIGFyZSBkZXN0cm95ZWQgYWZ0ZXIgaXQgaXMgY2xvc2VkLlxuICBwcml2YXRlIF9pbmFjdGl2ZU1lbnVJdGVtczogTWFwPHN0cmluZywgSFRNTEVsZW1lbnRXcmFwcGVyPjtcblxuICBwcml2YXRlIF90YWJsZUNvbHVtbnNNYXA6IE1hcDxzdHJpbmcsIGFueT47XG5cbiAgX3ZpZXdTdGF0dXM6IG51bWJlcjtcblxuICBwcml2YXRlIHZpZXdSb3V0ZVNldDogYm9vbGVhbjtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHNlc3Npb25TZXJ2aWNlIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gZWxlbWVudFJlZiBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIEBPcHRpb25hbCgpIEBTa2lwU2VsZigpIHBhcmVudDogQmFzZUNvbXBvbmVudCxcbiAgICBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsXG4gICAgZWxlbWVudFJlZjogRWxlbWVudFJlZil7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgbnVsbCk7XG4gICAgdGhpcy5hY3Rpb25Gb3J3YXJkTmFtZSA9IHRoaXMuZ2V0SWQoKTtcbiAgfVxuXG4gIHZpZXdJc0luaXRpYWxpemVkOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBTZXQgW1tyb3V0ZVVybF1dIHByb3BlcnR5IHZhbHVlLiBJZiBbW2RpYWxvZ11dIGV4aXN0cywgc2V0IGl0J3Mgcm91dGUgVVJMXG4gICAqIEBwYXJhbSB1cmxcbiAgICovXG4gIHNldFJvdXRlVXJsKHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy5yb3V0ZVVybCA9IHVybDtcblxuICAgIGlmICh0aGlzLmRpYWxvZyAhPSBudWxsKSB7XG4gICAgICB0aGlzLmRpYWxvZy5zZXRWaWV3Um91dGVVcmwodXJsKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IFtbcm91dGVVcmxdXSBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcmV0dXJucyBSb3V0ZSBVUkxcbiAgICovXG4gIGdldFJvdXRlVXJsKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucm91dGVVcmw7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiByb3V0ZSBpcyBkZWFjdGl2YXRlZC5cbiAgICogQHJldHVybnMgVHJ1ZSBpZiByb3V0ZSBpcyBkZWFjdGl2YXRlZFxuICAgKi9cbiAgaXNSb3V0ZURlYWN0aXZhdGVkKCkge1xuICAgIHJldHVybiB0aGlzLnJvdXRlRGVhY3RpdmF0ZWQgPT09IHRydWU7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBBZnRlciB2aWV3IGluaXQgbGlmZWN5Y2xlXG4gICAqL1xuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgaWYgKHRoaXMuY2FuQmVBY3RpdmVWaWV3ICE9PSBmYWxzZSkge1xuICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIH1cblxuICAgIC8vYWRkIHZpZXcgdG8gc3RhY2tcbiAgICB0aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5yZWdpc3RlclZpZXcodGhpcyk7XG5cbiAgICBzdXBlci5uZ0FmdGVyVmlld0luaXQoKTtcblxuICAgIHRoaXMuYWZ0ZXJEaWFsb2dJbml0KCk7XG5cbiAgICBpZiAodGhpcy5wb3B1cE1lbnVzICE9IG51bGwpIHtcbiAgICAgIF8uZm9yRWFjaCh0aGlzLnBvcHVwTWVudXMsIChwb3B1cE1lbnUpPT5wb3B1cE1lbnUuY29udmVydFN1Yk1lbnVJdGVtcyh0aGlzLmlkKSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb21wb25lbnRJbml0aWFsaXplKCk7XG5cbiAgICBpZiAodGhpcy5kaWFsb2cpIHtcbiAgICAgIHRoaXMuZGlhbG9nLnNldFZpZXdSb3V0ZVVybCh0aGlzLnJvdXRlVXJsKTtcbiAgICAgIHRoaXMudmlld1JvdXRlU2V0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB0aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5yZVN0YWNrVmlldyh0aGlzLmlkLCB0aGlzLnNjcmVlbkluZGV4KTtcblxuICAgIHRoaXMuX3ZpZXdJbml0aWFsaXplZFN1YmplY3QubmV4dCgpO1xuICAgIHRoaXMudmlld0lzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICB9XG5cblxuICBwcm90ZWN0ZWQgYWZ0ZXJEaWFsb2dJbml0KCkge1xuICAgIGlmICh0aGlzLmRpYWxvZykge1xuICAgICAgLy9nZXQgaWQgb2YgZGlhbG9nIGFzIG91ciBpZFxuICAgICAgdGhpcy5pZCA9IHRoaXMuZGlhbG9nLmdldElkKCk7XG4gICAgICB0aGlzLmRpYWxvZy5zY3JlZW5JbmRleCA9IHRoaXMuc2NyZWVuSW5kZXg7XG5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5kaWFsb2cubW9kYWwgPT09IFwiYm9vbGVhblwiKXtcbiAgICAgICAgdGhpcy5tb2RhbCA9IEphdmFVdGlscy5ib29sZWFuVG9TdHJpbmcodGhpcy5kaWFsb2cubW9kYWwpO1xuICAgICAgfWVsc2V7XG4gICAgICAgIHRoaXMubW9kYWwgPSB0aGlzLmRpYWxvZy5tb2RhbDtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm1vZGFsICE9IG51bGwgJiYgKHRoaXMubW9kYWwgPT09IFwidHJ1ZVwiIHx8IHRoaXMubW9kYWwgPT09IFwiZmFsc2VcIikpIHtcbiAgICAgICAgdGhpcy5zZXRFbGVtZW50QXR0cmlidXRlQnlJZCh0aGlzLmlkLCAnbW9kYWwnLCB0aGlzLm1vZGFsKTtcbiAgICAgICAgdGhpcy5zZXRNb2RhbE1vZGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGlhbG9nLm1vZGFsID0gXCJmYWxzZVwiO1xuICAgICAgICB0aGlzLm1vZGFsID0gdGhpcy5kaWFsb2cubW9kYWw7XG4gICAgICAgIHRoaXMuc2V0RWxlbWVudEF0dHJpYnV0ZUJ5SWQodGhpcy5pZCwgJ21vZGFsJywgXCJmYWxzZVwiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMucG9wdXBNZW51cyAhPSBudWxsKSB7XG4gICAgICAgIF8uZm9yRWFjaCh0aGlzLnBvcHVwTWVudXMsIChwb3B1cE1lbnUpPT5wb3B1cE1lbnUuY29udmVydFN1Yk1lbnVJdGVtcyh0aGlzLmlkKSk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZGlhbG9nLnJlc2V0SWQoKTtcblxuICAgICAgaWYgKHRoaXMudmlld1JvdXRlU2V0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nLnNldFZpZXdSb3V0ZVVybCh0aGlzLnJvdXRlVXJsKTtcbiAgICAgICAgdGhpcy52aWV3Um91dGVTZXQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIFNldCBtb2RhbCBDU1MgYW5kIGRpYWxvZydzIG1vZGFsIHByb3BlcnR5IHZhbHVlIHRvIHRydWUuXG4gICAqIE1ha2UgdmlldyBjb21wb25lbnQgZGlzcGxheSBhcyBtb2RhbFxuICAgKi9cbiAgc2V0TW9kYWxNb2RlKCl7XG4gICAgaWYgKHRoaXMubW9kYWwgPT0gXCJ0cnVlXCIpIHtcbiAgICAgIHRoaXMuZGlhbG9nW1wiZWxlbWVudFJlZlwiXS5uYXRpdmVFbGVtZW50LmNsYXNzTmFtZSA9IFwibW9kYWwgZmFkZSBpblwiO1xuICAgICAgdGhpcy5kaWFsb2dbXCJlbGVtZW50UmVmXCJdLm5hdGl2ZUVsZW1lbnQuc3R5bGUuY3NzVGV4dCA9IFwiZGlzcGxheTppbmxpbmUtYmxvY2s7XCI7XG4gICAgICB0aGlzLnNldEVsZW1lbnRBdHRyaWJ1dGVCeUlkKHRoaXMuaWQsICdtb2RhbCcsIHRoaXMubW9kYWwpO1xuICAgICAgdGhpcy5kaWFsb2cubW9kYWwgPSB0aGlzLm1vZGFsO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIERlc3Ryb3kgbGlmZWN5Y2xlLiBDbGVhciBhbGwgcmVmZXJlbmNlc1xuICAgKi9cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgaWYgKHRoaXMuYmVmb3JlRGVzdHJveUNiICE9IG51bGwpIHtcbiAgICAgIHRoaXMuYmVmb3JlRGVzdHJveUNiKHRoaXMuZ2V0SWQoKSk7XG4gICAgfVxuXG4gICAgdGhpcy5faW5hY3RpdmVNZW51SXRlbXMgPSBudWxsO1xuXG4gICAgdGhpcy5yb3V0ZURlYWN0aXZhdGVkID0gdHJ1ZTtcbiAgICAvL3JlbW92ZSB2aWV3IGZyb20gc3RhY2tcbiAgICB0aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5yZW1vdmVWaWV3KHRoaXMpO1xuXG4gICAgdGhpcy5tY29zLmZvckVhY2gobWNvPT50aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5yZW1vdmVNY28obWNvKSk7XG4gICAgdGhpcy5tY29zLmNsZWFyKCk7XG4gICAgZGVsZXRlIHRoaXMubWNvcztcblxuICAgIGlmICh0aGlzLmRpYWxvZyAhPSBudWxsKSB7XG4gICAgICBpZiAodGhpcy5kaWFsb2cudmlld0NvbnRhaW5lciAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nLnZpZXdDb250YWluZXIuY2xlYXIoKTtcblxuICAgICAgICBkZWxldGUgdGhpcy5kaWFsb2cudmlld0NvbnRhaW5lcjtcbiAgICAgIH1cblxuICAgICAgZGVsZXRlIHRoaXMuZGlhbG9nO1xuICAgIH1cblxuICAgIHRoaXMuaXNEZXN0cm95ZWQgPSB0cnVlO1xuICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldEluamVjdG9yKER5bmFtaWNQYWdlc1NlcnZpY2UpLnJlbW92ZVZpZXcodGhpcyk7XG5cblxuICAgIF8uZm9yRWFjaCh0aGlzLmRlZklkcywgKGlkKT0+e1xuICAgICAgdGhpcy5nZXRTZXNzaW9uKCkuZGVsZXRlRGVmKGlkKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZGVmSWRzID0gbnVsbDtcbiAgICB0aGlzLnBvcHVwTWVudXMgPSBudWxsO1xuXG4gICAgLy8gaWYgKHRoaXMuX2ZpbmRFbGVtZW50Q2FjaGUgIT0gbnVsbCkge1xuICAgIC8vICAgdGhpcy5fZmluZEVsZW1lbnRDYWNoZS5jbGVhcigpO1xuICAgIC8vIH1cblxuICAgIC8vIHRoaXMuX2ZpbmRFbGVtZW50Q2FjaGUgPSBudWxsO1xuXG4gICAgdGhpcy5fdGFibGVDb2x1bW5zTWFwID0gbnVsbDtcblxuICAgIHN1cGVyLm5nT25EZXN0cm95KCk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZWdhdGUgdG8gW1tib2R5SW5pdF1dXG4gICAqL1xuICBwcm90ZWN0ZWQgY29tcG9uZW50SW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmJvZHlJbml0KCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb21wb25lbnQncyB0YWcgbmFtZS4gSW1wbGVtZW50YXRpb24gb2YgW1tCYXNlQ29tcG9uZW50XV0gbWV0aG9kXG4gICAqIEByZXR1cm5zIE5hbWUgb2YgdGFnXG4gICAqL1xuICBnZXRUYWdOYW1lKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuICd2dC1kdW1teS12aWV3JztcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3QgaW1wbGVtZW50ZWRcbiAgICovXG4gIGJvZHlJbml0KCkge1xuXG4gIH1cblxuXG4gIC8qKlxuICAgKiBRdWVyeSB0aGUgXCJlbGVtZW50XCIgdmlhIHNlbGVjdEZuIGZ1bmN0aW9uLCB0aGVuIHNldCB0aGUgYXR0cmlidXRlIG9mIHRoZSBlbGVtZW50LiBJZiBmb3VuZFxuICAgKiBzZXQgdGhlIGF0dHJpYnV0ZSB7YXR0cmlidXRlfSB3aXRoIHZhbHVlIHt2YWx1ZX1cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yRm5cbiAgICovXG4gIHNldEVsZW1lbnRBdHRyaWJ1dGUoXG4gICAgc2VsZWN0b3JGbjogKChtYXA6IE1hcDxzdHJpbmcsIEJhc2VDb21wb25lbnQ+KT0+QmFzZUNvbXBvbmVudCksXG4gICAgYXR0cmlidXRlOiBBdHRyaWJ1dGVzRW51bSxcbiAgICB2YWx1ZTogYW55XG4gICkge1xuICAgIGNvbnN0IGNvbXAgPSBzZWxlY3RvckZuKHRoaXMuY2hpbGRyZW4pO1xuXG4gICAgaWYgKGNvbXAgPT0gbnVsbCkge1xuICAgICAgTG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBzZXQgYXR0cmlidXRlLCBjb21wb25lbnQgaXMgbnVsbCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb21wLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cbiAgLyoqXG4gICogU2V0IFtbZGlzYWJsZWRdXSBwcm9wZXJ0eSB2YWx1ZVxuICAqIEBwYXJhbSBib28gVmFsdWUgZm9yIGRpc2FibGVkIHByb3BlcnR5XG4gICovXG4gIHNldERpc2FibGVkKGJvbzogYm9vbGVhbikge1xuICAgIHRoaXMuZGlzYWJsZWQgPSBib287XG4gICAgdGhpcy5kaWFsb2cuc2V0RGlzYWJsZWQoYm9vKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFF1ZXJ5IHRoZSBcImVsZW1lbnRcIiB2aWEgc2VsZWN0Rm4gZnVuY3Rpb24sIHRoZW4gc2V0IHRoZSBhdHRyaWJ1dGUgb2YgdGhlIGVsZW1lbnQuIElmIGZvdW5kXG4gICAqIHNldCB0aGUgYXR0cmlidXRlIHthdHRyaWJ1dGV9IHdpdGggdmFsdWUge3ZhbHVlfVxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3JGblxuICAgKi9cbiAgc2V0RWxlbWVudEF0dHJpYnV0ZUJ5SWQoXG4gICAgY29tcElkOiBzdHJpbmcsXG4gICAgYXR0cmlidXRlOiBBdHRyaWJ1dGVzRW51bSB8IHN0cmluZyxcbiAgICB2YWx1ZTogYW55XG4gICkge1xuXG4gICAgaWYgKGF0dHJpYnV0ZSA9PT0gQXR0cmlidXRlc0VudW0uVElUTEUgfHwgYXR0cmlidXRlID09PSAndGl0bGUnKSB7XG4gICAgICB0aGlzLnNldFRpdGxlKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGNvbXBJZCA9PT0gdGhpcy5nZXRJZCgpKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGNvbXAgPSB0aGlzLmZpbmRFbGVtZW50QnlJZChjb21wSWQpO1xuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAoY29tcCA9PSBudWxsKSB7XG4gICAgICAgIC8vaXMgdGhpcyBmb3IgZGVmP1xuICAgICAgICBjb25zdCBjb21wRGVmID0gdGhpcy5nZXRTZXNzaW9uKCkuZ2V0RGVmKGNvbXBJZCk7XG5cbiAgICAgICAgaWYgKGNvbXBEZWYgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbXBEZWYuYXR0cmlidXRlW2F0dHJpYnV0ZV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIGNvbXAgPSBVaURvY3VtZW50LmdldE1lbnVDb21wb25lbnQoY29tcElkKTtcblxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgaWYgKGNvbXAgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29tcC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIExvZ2dlci53YXJuKGBVbmFibGUgdG8gc2V0IGF0dHJpYnV0ZSwgY29tcG9uZW50IHdpdGggaWQ6ICR7Y29tcElkfSBpcyBub3QgZm91bmRgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXAuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIFdob2xlc2FsZSBzZXQgYXR0cmlidXRlcyB0byBhbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY29tcElkIGVsZW1lbnQgdG8gc2V0IGF0dHJpYnV0ZVxuICAgKiBAcGFyYW0gYXR0cmlidXRlcyBhbiBhcnJheSBvZiBBdHRyaWJ1dGVzRW51bSB0byBiZSBzZXRcbiAgICovXG4gIHNldEVsZW1lbnRBdHRyaWJ1dGVzQnlJZChcbiAgICBjb21wSWQ6IHN0cmluZyxcbiAgICBhdHRyaWJ1dGVzOiBBcnJheTxBdHRyaWJ1dGVOYW1lVmFsdWU+XG4gICkge1xuXG4gICAgaWYgKGNvbXBJZCA9PT0gdGhpcy5nZXRJZCgpKSB7XG4gICAgICB0aGlzLnNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbXAgPSB0aGlzLmZpbmRFbGVtZW50QnlJZChjb21wSWQpO1xuXG4gICAgICBpZiAoY29tcCA9PSBudWxsKSB7XG4gICAgICAgIC8vaXMgdGhpcyBmb3IgZGVmP1xuICAgICAgICBjb25zdCBjb21wRGVmID0gdGhpcy5nZXRTZXNzaW9uKCkuZ2V0RGVmKGNvbXBJZCk7XG5cbiAgICAgICAgaWYgKGNvbXBEZWYgIT0gbnVsbCkge1xuICAgICAgICAgIGZvciAoY29uc3QgYXR0ciBvZiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICBjb21wRGVmLmF0dHJpYnV0ZVthdHRyLmF0dHJpYnV0ZU5hbWVdID0gYXR0ci52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTG9nZ2VyLndhcm4oYFVuYWJsZSB0byBzZXQgYXR0cmlidXRlLCBjb21wb25lbnQgd2l0aCBpZDogJHtjb21wSWR9IGlzIG5vdCBmb3VuZGApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wLnNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcyk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbiBhdHRyaWJ1dGUgZnJvbSBhIGNvbXBvbmVudCB3aXRoIGEgc3BlY2lmaWMgaWRcbiAgICogQHBhcmFtIGNvbXBJZCBDb21wb25lbnQgaWRcbiAgICogQHBhcmFtIGF0dHJpYnV0ZSBOYW1lIG9mIGF0dHJpYnV0ZSB0byByZW1vdmUgZnJvbSBjb21wb25lbnRcbiAgICovXG4gIHJlbW92ZUVsZW1lbnRBdHRyaWJ1dGVCeUlkKFxuICAgIGNvbXBJZDogc3RyaW5nLFxuICAgIGF0dHJpYnV0ZTogQXR0cmlidXRlc0VudW0gfCBzdHJpbmdcbiAgKSB7XG5cbiAgICBpZiAoYXR0cmlidXRlID09PSBBdHRyaWJ1dGVzRW51bS5USVRMRSB8fCBhdHRyaWJ1dGUgPT09ICd0aXRsZScpIHtcbiAgICAgIHRoaXMuc2V0VGl0bGUoXCJcIik7XG4gICAgfSBlbHNlIGlmIChjb21wSWQgPT09IHRoaXMuZ2V0SWQoKSkge1xuICAgICAgdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY29tcCA9IHRoaXMuZmluZEVsZW1lbnRCeUlkKGNvbXBJZCk7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChjb21wID09IG51bGwpIHtcbiAgICAgICAgTG9nZ2VyLndhcm4oYFVuYWJsZSB0byByZW1vdmUgYXR0cmlidXRlLCBjb21wb25lbnQgd2l0aCBpZDogJHtjb21wSWR9IGlzIG5vdCBmb3VuZGApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcC5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cblxuICAvKipcbiAgICogU2VhcmNoZXMgZm9yIGEgcmFkaW8gYnV0dG9uIGdyb3VwIGJ5IElEIGFuZCBhZGRzIGFuIGF0dHJpYnV0ZSB0byBhbGwgW1tSYWRpb0J1dHRvbkNvbXBvbmVudF1dIGVsZW1lbnRzIGluIHRoZSBncm91cFxuICAgKiBAcGFyYW0gcmFkaW9Hcm91cElkXG4gICAqIEBwYXJhbSBhdHRyaWJ1dGUgSFRNTCBhdHRyaWJ1dGUgbmFtZSB0byBiZSBzZXRcbiAgICogQHBhcmFtIHZhbHVlIFZhbHVlIHRvIHNldCBvbiBIVE1MIGF0dHJpYnV0ZVxuICAgKi9cbiAgc2V0UmFkaW9Hcm91cEF0dHJpYnV0ZShyYWRpb0dyb3VwSWQ6IHN0cmluZywgYXR0cmlidXRlOiBBdHRyaWJ1dGVzRW51bSB8IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIGNvbnN0IHJhZGlvcyA9IF8uZmlsdGVyKEFycmF5LmZyb20odGhpcy5jaGlsZHJlbi52YWx1ZXMoKSksIChjaGlsZCk9PntcbiAgICAgIHJldHVybiBjaGlsZCBpbnN0YW5jZW9mIFJhZGlvQnV0dG9uQ29tcG9uZW50ICYmIChjaGlsZCBhcyBSYWRpb0J1dHRvbkNvbXBvbmVudCkuZ3JvdXAgPT09IHJhZGlvR3JvdXBJZDtcbiAgICB9KTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyYWRpb3MgIT0gbnVsbCAmJiByYWRpb3MubGVuZ3RoID4gMCkge1xuICAgICAgXy5mb3JFYWNoKHJhZGlvcywgKHJhZGlvKT0+e1xuICAgICAgICByYWRpby5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm1hcmtGb3JDaGVjaygpO1xuICB9XG5cblxuICAvKipcbiAgICogR2V0IHRoZSB2YWx1ZSBvZiBhbiBIVE1MIGF0dHJpYnV0ZSBvZiBhIGNvbXBvbmVudFxuICAgKiBAcGFyYW0gY29tcElkIElkIG9mIGNvbXBvbmVudCB0byBnZXQgYXR0cmlidXRlIGZyb21cbiAgICogQHBhcmFtIGF0dHJpYnV0ZSBOYW1lIG9mIEhUTUwgYXR0cmlidXRlIHRvIGdldFxuICAgKi9cbiAgZ2V0RWxlbWVudEF0dHJpYnV0ZUJ5SWQoY29tcElkOiBzdHJpbmcsIGF0dHJpYnV0ZTogQXR0cmlidXRlc0VudW0gfCBzdHJpbmcpOiBhbnkge1xuICAgIGNvbnN0IGNvbXAgPSB0aGlzLmZpbmRFbGVtZW50QnlJZChjb21wSWQpO1xuXG4gICAgaWYgKGNvbXAgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNvbXAuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogRmluZCBbW0NvbWJvYm94Q29tcG9uZW50XV0gYnkgaWQgYW5kIGNhbGwgaXQncyBpbml0aWFsaXplQ29tYm9ib3hWYWx1ZXMgbWV0aG9kLlxuICAgKiBAcGFyYW0gY29tcElkIENvbXBvbmVudCBJRCB0byBpbml0aWFsaXplXG4gICAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBzZXQgb24gY29tYm9ib3hcbiAgICogQHBhcmFtIGF0dHJpYnV0ZSBOYW1lIG9mIGF0dHJpYnV0ZSB0byBzZXQgb24gY29tYm9ib3hcbiAgICovXG4gIGluaXRpYWxpemVDb21ib0JveFZhbHVlcyhcbiAgICBjb21wSWQ6IHN0cmluZyxcbiAgICB2YWx1ZTogYW55LFxuICAgIGF0dHJpYnV0ZTogYW55XG4gICkge1xuICAgIGNvbnN0IGNvbWJvQm94OiBDb21ib0JveENvbXBvbmVudCA9IHRoaXMuZmluZEVsZW1lbnRCeUlkKGNvbXBJZCkgYXMgQ29tYm9Cb3hDb21wb25lbnQ7XG5cbiAgICBpZiAoY29tYm9Cb3ggPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5lcnJvcihgVW5hYmxlIHRvIGZpbmQgY29tYm9ib3g6ICR7Y29tcElkfSBgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tYm9Cb3guaW5pdGlhbGl6ZUNvbWJvYm94VmFsdWVzKHZhbHVlKTtcblxuICAgICAgaWYgKGF0dHJpYnV0ZSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVbXCJ3aWR0aFwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgY29tYm9Cb3guc2V0Q29udHJvbFdpZHRoKGF0dHJpYnV0ZVtcIndpZHRoXCJdKTtcbiAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVbXCJvbkNvbW1hbmRcIl0gIT0gbnVsbCkge1xuICAgICAgICAgIGNvbWJvQm94LnNldE9uQ29tbWFuZChhdHRyaWJ1dGVbXCJvbkNvbW1hbmRcIl0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgW1tDb21ib2JveENvbXBvbmVudF1dIHNlbGVjdGVkIGl0ZW0gdGhhdCBtYXRjaGVzIHZhbHVlXG4gICAqIEBwYXJhbSBjb21wSWQgW1tDb21ib2JveENvbXBvbmVudF1dIGlkXG4gICAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSB0byBzZXQgYXMgc2VsZWN0ZWRcbiAgICovXG4gIHNlbGVjdENvbWJvQm94SXRlbShjb21wSWQ6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIGNvbnN0IGNvbWJvQm94OiBDb21ib0JveENvbXBvbmVudCA9IHRoaXMuZmluZEVsZW1lbnRCeUlkKGNvbXBJZCkgYXMgQ29tYm9Cb3hDb21wb25lbnQ7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoY29tYm9Cb3ggPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5lcnJvcihgVW5hYmxlIHRvIGZpbmQgY29tYm9ib3g6ICR7Y29tcElkfSBgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29tYm9Cb3guc2V0U2VsZWN0VmFsdWUodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIGNvbXBvbmVudCBhbmQgZm9jdXMgaXRcbiAgICogQHBhcmFtIGNvbXBJZCBDb21wb25lbnQgaWRcbiAgICovXG4gIHNldEZvY3VzKGNvbXBJZDogc3RyaW5nID0gbnVsbCkge1xuICAgIGlmIChjb21wSWQgPT0gdGhpcy5pZCkge1xuICAgICAgdGhpcy5zaG93VmlldygpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb21wSWQgPT0gbnVsbCB8fCBjb21wSWQgPT0gJycpIHtcbiAgICAgIHRoaXMucmVxdWVzdEZvY3VzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGNvbXAgPSBVaURvY3VtZW50LmZpbmRFbGVtZW50QnlJZChjb21wSWQpO1xuXG4gICAgICBpZiAoY29tcCA9PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFVuYWJsZSB0byBzZXRGb2N1cywgY29tcG9uZW50IHdpdGggaWQ6ICR7Y29tcElkfSBpcyBub3QgZm91bmRgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXAucmVxdWVzdEZvY3VzKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aXRsZSBvbiBbW0RpYWxvZ0NvbXBvbmVudF1dXG4gICAqIEBwYXJhbSB0aXRsZSBUaXRsZSBvZiBkaWFsb2dcbiAgICovXG4gIHNldFRpdGxlKHRpdGxlOiBzdHJpbmcpIHtcbiAgICBpZiAodGhpcy5kaWFsb2cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5kaWFsb2cudGl0bGUgPSB0aXRsZTtcblxuICAgICAgdGhpcy5kaWFsb2cubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQ2xvc2UgW1tkaWFsb2ddXSBpZiBpdCBleGlzdHMgb24gdGhpcyBjb21wb25lbnRcbiAgICogQHBhcmFtIGRlbGF5RGlhbG9nQ2xvc2VcbiAgICovXG4gIGNsb3NlKGRlbGF5RGlhbG9nQ2xvc2U/OiBib29sZWFuKSB7XG5cbiAgICBjb25zdCBkaWFsb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpYWxvZy5pZCk7XG4gICAgZGlhbG9nLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiZGlzcGxheTogbm9uZTtcIik7XG4gICAgZGlhbG9nLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICB0aGlzLl92aWV3U3RhdHVzID0gMTtcblxuICAgIHRoaXMuY2xlYW51cCgpO1xuXG4gICAgaWYgKHRoaXMuZGlhbG9nICE9IG51bGwpIHtcbiAgICAgIGlmKGRlbGF5RGlhbG9nQ2xvc2UpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kaWFsb2cuY2xvc2UobnVsbCwgZmFsc2UpO1xuICAgICAgICB9LCAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZGlhbG9nLmNsb3NlKG51bGwsIHRydWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodGhpcy5pc0R5bmFtaWNQYWdlID09PSB0cnVlKSB7XG4gICAgICB0aGlzLmdldFNlc3Npb24oKS5nZXRJbmplY3RvcihEeW5hbWljUGFnZXNTZXJ2aWNlKS5yZW1vdmVWaWV3KHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5nZXRTZXNzaW9uKCkgIT0gbnVsbCAmJiB0aGlzLmdldFNlc3Npb24oKS5nZXRSb3V0ZU5hdmlnYXRvclNlcnZpY2UoKSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldFJvdXRlTmF2aWdhdG9yU2VydmljZSgpLmRlc3Ryb3lSb3V0ZSh0aGlzLnJvdXRlVXJsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmFibGUgdG8gY2hhbmdlIHJvdXRlLCBzZXNzaW9uIG9yIHJvdXRlIG5hdmlnYXRpb24gc2VydmljZSBpcyBub3QgZGVmaW5lZFwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIGNsb3NlIFZpZXdDb21wb25lbnQsIERpYWxvZ0NvbXBvbmVudCBub3QgZm91bmQnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IG5hbWUgb2YgdGhpcyBjb21wb25lbnRcbiAgICovXG4gIGdldExvY2FsTmFtZSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBcIndpbmRvd1wiO1xuICB9XG5cblxuICAvKipcbiAgICogUmVnaXN0ZXIgYW5kIGFkZCBhbiBNQ09cbiAgICogQHBhcmFtIG1jb05hbWVcbiAgICogQHBhcmFtIG1jb0NsYXNzXG4gICAqL1xuICBjcmVhdGVNY28obWNvTmFtZTogc3RyaW5nLCBtY29DbGFzczogVHlwZTxhbnk+KTogYW55IHtcbiAgICBsZXQgbWNvOiBhbnkgPSB0aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5nZXRNY28obWNvTmFtZSk7XG5cbiAgICAvL2NoZWNrIHRvIHNlZSBpZiBNQ08gYWxyZWFkeSBleGlzdHM/XG4gICAgaWYgKG1jbyAhPSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJNQ08gXCIgKyBtY29OYW1lICsgXCIgaXMgYWxyZWFkeSBleGlzdHMsIHVzZSBleGlzdGluZyBvbmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1jbyA9IG5ldyBtY29DbGFzcyh0aGlzKTtcbiAgICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldE1jb0NvbnRhaW5lcigpLnJlZ2lzdGVyTWNvKG1jb05hbWUsIG1jbyk7XG5cbiAgICAgIC8vYWRkIG1jbyBuYW1lIGZvciB0cmFja2luZyAodG8gYmUgY2xlYW5lZCBhbmQgcmVtb3ZlZCBsYXRlcilcbiAgICAgIHRoaXMubWNvcy5hZGQobWNvTmFtZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1jbztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgTUNPIGZyb20gY2xpZW50IHNlc3Npb25cbiAgICogQHBhcmFtIG1jb05hbWUgTmFtZSBvZiBNQ08gdG8gZ2V0XG4gICAqIEByZXR1cm5zIE1DT1xuICAgKi9cbiAgZ2V0TWNvKG1jb05hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2Vzc2lvbigpLmdldE1jb0NvbnRhaW5lcigpLmdldE1jbyhtY29OYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBzdHJpbmcgYW5kIGNyZWF0ZSBjb21wb25lbnQgYmFzZSBvbiBpdFxuICAgKlxuICAgKiBAcGFyYW0gZG9tU3RyaW5nXG4gICAqL1xuICBjcmVhdGVDb21wb25lbnQoZG9tU3RyaW5nOiBzdHJpbmcpIHtcbiAgICAvL3RleHRGaWVsZFxuICAgIC8vbGFiZWxcbiAgICAvL3BhbmVsXG4gICAgLy9ob3Jpem9udGFsU2VwYXJhdG9yXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBBcHBVdGlscy5wYXJzZURvbShkb21TdHJpbmcpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgRE8gTk9UIFVTRSBUSElTLCBleGlzdHMgb25seSBmb3IgbGVnYWN5IHN1cHBvcnQsIHVzZSBuZ0lmIGluc3RlYWRcbiAgICogQHBhcmFtIGNvbXBvbmVudFR5cGVcbiAgICovXG4gIF9jcmVhdGVEeW5hbWljQ29tcG9uZW50KGNvbXBvbmVudFR5cGU6IENvbXBvbmVudFR5cGUpOiBCYXNlQ29tcG9uZW50IHtcbiAgICBsZXQgY29tcDogQmFzZUNvbXBvbmVudCA9IG51bGw7XG5cbiAgICBpZiAodGhpcy5kaWFsb2cgIT0gbnVsbCAmJiB0aGlzLmRpYWxvZy52aWV3Q29udGFpbmVyICE9IG51bGwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGNvbXBGYWN0b3J5OiBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIgPSB0aGlzLmdldFNlc3Npb24oKS5nZXRJbmplY3RvcihDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIpO1xuXG4gICAgICAgIGlmIChjb21wRmFjdG9yeSAhPSBudWxsKSB7XG4gICAgICAgICAgbGV0IGNvbXBSZWY6IENvbXBvbmVudFJlZjxCYXNlQ29tcG9uZW50PjtcbiAgICAgICAgICBpZiAoY29tcG9uZW50VHlwZSA9PT0gQ29tcG9uZW50VHlwZS5MQUJFTCkge1xuICAgICAgICAgICAgY29tcFJlZiA9IHRoaXMuZGlhbG9nLnZpZXdDb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGNvbXBGYWN0b3J5LnJlc29sdmVDb21wb25lbnRGYWN0b3J5KExhYmVsQ29tcG9uZW50KSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRUeXBlID09PSBDb21wb25lbnRUeXBlLkJVVFRPTikge1xuICAgICAgICAgICAgY29tcFJlZiA9IHRoaXMuZGlhbG9nLnZpZXdDb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGNvbXBGYWN0b3J5LnJlc29sdmVDb21wb25lbnRGYWN0b3J5KEJ1dHRvbkNvbXBvbmVudCkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50VHlwZSA9PT0gQ29tcG9uZW50VHlwZS5DT01CT0JPWCkge1xuICAgICAgICAgICAgY29tcFJlZiA9IHRoaXMuZGlhbG9nLnZpZXdDb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGNvbXBGYWN0b3J5LnJlc29sdmVDb21wb25lbnRGYWN0b3J5KENvbWJvQm94Q29tcG9uZW50KSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRUeXBlID09PSBDb21wb25lbnRUeXBlLlRFWFRfRklFTEQpIHtcbiAgICAgICAgICAgIGNvbXBSZWYgPSB0aGlzLmRpYWxvZy52aWV3Q29udGFpbmVyLmNyZWF0ZUNvbXBvbmVudChjb21wRmFjdG9yeS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShUZXh0RmllbGRDb21wb25lbnQpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBvbmVudFR5cGUgPT09IENvbXBvbmVudFR5cGUuQ0hFQ0tCT1gpIHtcbiAgICAgICAgICAgIGNvbXBSZWYgPSB0aGlzLmRpYWxvZy52aWV3Q29udGFpbmVyLmNyZWF0ZUNvbXBvbmVudChjb21wRmFjdG9yeS5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShDaGVja2JveENvbXBvbmVudCkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29tcG9uZW50VHlwZSA9PT0gQ29tcG9uZW50VHlwZS5SQURJTykge1xuICAgICAgICAgICAgY29tcFJlZiA9IHRoaXMuZGlhbG9nLnZpZXdDb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGNvbXBGYWN0b3J5LnJlc29sdmVDb21wb25lbnRGYWN0b3J5KFJhZGlvQnV0dG9uQ29tcG9uZW50KSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjb21wb25lbnRUeXBlID09PSBDb21wb25lbnRUeXBlLlRFWFRBUkVBKSB7XG4gICAgICAgICAgICBjb21wUmVmID0gdGhpcy5kaWFsb2cudmlld0NvbnRhaW5lci5jcmVhdGVDb21wb25lbnQoY29tcEZhY3RvcnkucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoVGV4dEFyZWFDb21wb25lbnQpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb21wb25lbnQgdHlwZTogXCIgKyBjb21wb25lbnRUeXBlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY29tcFJlZiAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb21wID0gY29tcFJlZi5pbnN0YW5jZTtcbiAgICAgICAgICAgIGNvbXAuY29tcFJlZiA9IGNvbXBSZWY7XG4gICAgICAgICAgICBjb21wLmNvbXBSZWYuY2hhbmdlRGV0ZWN0b3JSZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJmYWlsIHRvIGNyZWF0ZSBjb21wb25lbnQ6IFwiICsgZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXA7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZCBETyBOT1QgVVNFIFRISVMhIEV4aXN0cyBvbmx5IGZvciBsZWdhY3kgc3VwcG9ydFxuICAgKiBAcGFyYW0gaWRcbiAgICovXG4gIF9yZW1vdmVDb21wb25lbnQoaWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGNoaWxkID0gdGhpcy5maW5kRWxlbWVudEJ5SWQoaWQpO1xuXG4gICAgaWYgKGNoaWxkICE9IG51bGwpIHtcbiAgICAgIGNoaWxkLmRlc3Ryb3lDb21wb25lbnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFxuICAgICAgICB0aGlzLmRpYWxvZyAhPSBudWxsICYmXG4gICAgICAgIHRoaXMuZGlhbG9nLnZpZXdDb250YWluZXIgIT0gbnVsbCAmJlxuICAgICAgICAodGhpcy5kaWFsb2cudmlld0NvbnRhaW5lciBhcyBhbnkpLl9lbWJlZGRlZFZpZXdzICE9IG51bGwgJiZcbiAgICAgICAgQXJyYXkuaXNBcnJheSgodGhpcy5kaWFsb2cudmlld0NvbnRhaW5lciBhcyBhbnkpLl9lbWJlZGRlZFZpZXdzKSAmJlxuICAgICAgICAodGhpcy5kaWFsb2cudmlld0NvbnRhaW5lciBhcyBhbnkpLl9lbWJlZGRlZFZpZXdzLmxlbmd0aCA+IDBcbiAgICAgICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGV2ID0gKHRoaXMuZGlhbG9nLnZpZXdDb250YWluZXIgYXMgYW55KS5fZW1iZWRkZWRWaWV3cztcblxuICAgICAgICAgIGZvciAobGV0IHYgb2YgZXYpIHtcbiAgICAgICAgICAgIGlmICh2Lm5vZGVzICYmIEFycmF5LmlzQXJyYXkodi5ub2RlcykgJiYgdi5ub2Rlcy5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgICAgZm9yIChsZXQgbiBvZiB2Lm5vZGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG4uaW5zdGFuY2UgIT0gbnVsbCAmJiBuLmluc3RhbmNlLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuLmluc3RhbmNlLmRlc3Ryb3lDb21wb25lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbi5pbnN0YW5jZS5kZXN0cm95Q29tcG9uZW50KClcblxuICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICAgICAgaWYgKEFwcFV0aWxzLmVuYWJsZUxvZ2dpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oXCJSZW1vdmVkIGNvbXBvbmVudDogXCIgKyBpZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIHZpZXcgY2FuIGJlIGFjdGl2ZVxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHZpZXcgY2FuIGJlIGFjdGl2ZSBvciBwYXJlbnQgaXMgbnVsbFxuICAgKi9cbiAgaXNWaWV3KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNhbkJlQWN0aXZlVmlldyAhPT0gZmFsc2UgPyB0cnVlIDogKHRoaXMuZ2V0UGFyZW50KCkgPT0gbnVsbCA/IHRydWUgOiBmYWxzZSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIHZpZXcgY2FuJ3QgYmUgYWN0aXZlIHZpZXdcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB2aWV3IGNhbid0IGJlIGFjdGl2ZSB2aWV3XG4gICAqL1xuICBpc05vbmVBY3RpdmVWaWV3KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmNhbkJlQWN0aXZlVmlldyA9PT0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBpcyBhIGR5bmFtaWMgcGFnZVxuICAgKiBAcmV0dXJucyBUcnVlIGlmIGl0IGlzIGEgZHluYW1pYyBwYWdlXG4gICAqL1xuICBpc0R5bmFtaWNWaWV3KCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmlzRHluYW1pY1BhZ2UgPT09IHRydWUgPyB0cnVlIDogZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogU2V0IFtbRGlhbG9nQ29tcG9uZW50XV0gaW5zdGFuY2Ugei1pbmRleFxuICAgKiBAcGFyYW0gbmV3WkluZGV4XG4gICAqL1xuICB1cGRhdGVaSW5kZXgobmV3WkluZGV4OiBudW1iZXIpIHtcbiAgICBpZiAodGhpcy5kaWFsb2cgIT0gbnVsbCAmJiB0aGlzLmlzRGVzdHJveWVkICE9PSB0cnVlICYmIHRoaXMuZGlzYWJsZWQgIT0gdHJ1ZSkge1xuICAgICAgdGhpcy5kaWFsb2cudXBkYXRlWkluZGV4KG5ld1pJbmRleCk7XG4gICAgICB0aGlzLnpJbmRleCA9IG5ld1pJbmRleDtcbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBHZXQgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGNvbXBvbmVudFxuICAgKiBAcmV0dXJucyBPYmplY3QgSlNPTiBtZXRhZGF0YSBmb3IgdGhpcyBjb21wb25lbnRcbiAgICovXG4gIHRvSnNvbigpOiB7fSB7XG4gICAgY29uc3QganNvbjogYW55ID0gc3VwZXIudG9Kc29uKCk7XG4gICAgdGhpcy5zZXRKc29uKGpzb24sIFwic2NyZWVuSW5kZXhcIiwgdGhpcy5nZXRTY3JlZW5JbmRleCgpKTtcblxuICAgIGlmICh0aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5hY3RpdmVWaWV3KCkuZ2V0SWQoKSA9PT0gdGhpcy5nZXRJZCgpICYmIFVpRG9jdW1lbnQubWVudUl0ZW1FbGVtZW50TWFwICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IG1lbnVJdGVtczogQXJyYXk8e30+ID0gW107XG4gICAgICBjb25zdCBrZXlTZXQgPSBVaURvY3VtZW50Lm1lbnVJdGVtRWxlbWVudE1hcC5rZXlzKCk7XG4gICAgICBsZXQga2V5SXQgPSBrZXlTZXQubmV4dCgpO1xuXG4gICAgICB3aGlsZShrZXlJdC5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgIG1lbnVJdGVtcy5wdXNoKFVpRG9jdW1lbnQubWVudUl0ZW1FbGVtZW50TWFwLmdldChrZXlJdC52YWx1ZSkudG9Kc29uKCkpO1xuICAgICAgICBrZXlJdCA9IGtleVNldC5uZXh0KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9pbmFjdGl2ZU1lbnVJdGVtcyAhPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGtleUl0ID0gdGhpcy5faW5hY3RpdmVNZW51SXRlbXMudmFsdWVzKCk7XG4gICAgICAgIGxldCBycyA9IGtleUl0Lm5leHQoKTtcblxuICAgICAgICB3aGlsZShycy5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgICAgbWVudUl0ZW1zLnB1c2gocnMudmFsdWUudG9Kc29uKCkpO1xuICAgICAgICAgIHJzID0ga2V5SXQubmV4dCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChqc29uW1wiY2hpbGRyZW5cIl0gIT0gbnVsbCkge1xuICAgICAgICBqc29uW1wiY2hpbGRyZW5cIl0gPSBqc29uW1wiY2hpbGRyZW5cIl0uY29uY2F0KG1lbnVJdGVtcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqc29uW1wiY2hpbGRyZW5cIl0gPSBtZW51SXRlbXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb247XG4gIH1cblxuICAvKipcbiAgICogQWRkIGNvbXBvbmVudCBpZCB0byBbW2RlZklkc11dXG4gICAqIEBwYXJhbSBpZFxuICAgKi9cbiAgdHJhY2tEZWYoaWQ6IHN0cmluZykge1xuICAgIHRoaXMuZGVmSWRzLnB1c2goaWQpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgY2xvc2VPbkluaXQgPSB7IGlkU2V0IDogbmV3IFNldDxzdHJpbmc+KCksIHR5cGVzIDogbmV3IFNldDxUeXBlPFZpZXdDb21wb25lbnQ+PigpLCBob29rZWQgOiBmYWxzZSB9O1xuXG4gIHN0YXRpYyBoYXNJZEFzQ2xvc2VUYXJnZXRPbkluaXQodmlld0lkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICByZXR1cm4gVmlld0NvbXBvbmVudC5jbG9zZU9uSW5pdC5pZFNldC5oYXModmlld0lkKTtcbiAgfVxuXG4gIHN0YXRpYyBoYXNUeXBlQXNDbG9zZVRhcmdldE9uSW5pdCh2aWV3VHlwZTogVHlwZTxWaWV3Q29tcG9uZW50Pik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBWaWV3Q29tcG9uZW50LmNsb3NlT25Jbml0LnR5cGVzLmhhcyh2aWV3VHlwZSk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBob29rQ2xvc2VQcmV2VmlldzJEeW5hbWljUGFnZXNTZXJ2aWNlKCkge1xuICAgIGlmKCFWaWV3Q29tcG9uZW50LmNsb3NlT25Jbml0Lmhvb2tlZCkge1xuICAgICAgRHluYW1pY1BhZ2VzU2VydmljZS5vbkNyZWF0ZVZpZXdDbG9zZXIgPSAoc2Vzc2lvblNlcnZpY2UsIHZpZXdUeXBlLCByb3V0ZUlkKSA9PiB7XG4gICAgICAgIFZpZXdDb21wb25lbnQuY2xvc2VQcmV2VmlldyhzZXNzaW9uU2VydmljZSwgcm91dGVJZCA/IHJvdXRlSWQgOiB2aWV3VHlwZSk7XG4gICAgICB9O1xuICAgICAgVmlld0NvbXBvbmVudC5jbG9zZU9uSW5pdC5ob29rZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBjbG9zZVByZXZWaWV3KHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSwgdGFyZ2V0OiBzdHJpbmd8VHlwZTxWaWV3Q29tcG9uZW50Pikge1xuICAgIGxldCB2aWV3OiBWaWV3Q29tcG9uZW50ID0gbnVsbDtcbiAgICBpZigodHlwZW9mIHRhcmdldCkgPT0gXCJzdHJpbmdcIikge1xuICAgICAgbGV0IHNjcmVlbklkOiBzdHJpbmcgPSB0YXJnZXQgYXMgc3RyaW5nO1xuICAgICAgaWYoVmlld0NvbXBvbmVudC5oYXNJZEFzQ2xvc2VUYXJnZXRPbkluaXQoc2NyZWVuSWQpKSB7XG4gICAgICAgIHZpZXcgPSBzZXNzaW9uU2VydmljZS5nZXRNY29Db250YWluZXIoKS5nZXRWaWV3QnlJZChzY3JlZW5JZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmKHRhcmdldCBpbnN0YW5jZW9mIFR5cGUpIHtcbiAgICAgIGxldCB2aWV3VHlwZTogVHlwZTxWaWV3Q29tcG9uZW50PiA9IHRhcmdldCBhcyBUeXBlPFZpZXdDb21wb25lbnQ+O1xuICAgICAgaWYoVmlld0NvbXBvbmVudC5oYXNUeXBlQXNDbG9zZVRhcmdldE9uSW5pdCh2aWV3VHlwZSkpIHtcbiAgICAgICAgdmlldyA9IF8uZmluZChzZXNzaW9uU2VydmljZS5nZXRNY29Db250YWluZXIoKS5nZXRWaWV3cygpLCB2ID0+IHYuY29uc3RydWN0b3IgPT0gdmlld1R5cGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vVml2aWZ5OiBpZiB2aWV3IGhhcyBhY3Rpb25Gb3J3YXJkTmFtZSwgZG8gbm90IGNsb3NlIHRoZSB2aWV3IGFzIHdlIHdpbGwgY2FsbCBpdCBoYW5kbGVBY3Rpb25Gb3J3YXJkKCkgdG8gcmVmcmVzaCB0aGUgc2NyZWVuLlxuICAgIGlmKHZpZXcgJiYgdmlldy5hY3Rpb25Gb3J3YXJkTmFtZSA9PSBudWxsKSB7XG4gICAgICB2aWV3LmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhpcyB2aWV3IChpZiB0aGlzIHZpZXcgaXMgXCJyZS1vcGVuXCIpLiBUaGlzIGlzIHRvIHN1cHBvcnQgdXNhZ2VcbiAgICogb2YgcmVtb3ZpbmcgY3VycmVudCB2aWV3IGFuZCByZXBsYWNpbmcgd2l0aCBuZXcgdmlld1xuICAgKiBAcGFyYW0gdmlld0lkXG4gICAqL1xuICBjbG9zZVZpZXcodmlld0lkOiBzdHJpbmcsIGRlbGF5RGlhbG9nQ2xvc2U/OiBib29sZWFuKSB7XG4gICAgLy9pZiB0aGUgdmlldyBhYm91dCB0byBiZSBjbG9zZWQgaGFzIHRoZSBzYW1lIFwiaWRcIiAoaS5lLiBzYW1lIHNjcmVlbiBidXQgZGlmZikuXG4gICAgY29uc3QgY2hlY2tTY3JlZW5JbmlxdWUgPSB2aWV3SWQgPT09IHRoaXMuaWQ7XG5cbiAgICBjb25zdCBvbGRWaWV3OiBWaWV3Q29tcG9uZW50ID0gXy5maW5kKHRoaXMuZ2V0U2Vzc2lvbigpLmdldE1jb0NvbnRhaW5lcigpLmdldFZpZXdzKCksICh2aWV3OiBWaWV3Q29tcG9uZW50KT0+e1xuICAgICAgcmV0dXJuIHZpZXcuaWQgPT09IHZpZXdJZCAmJlxuICAgICAgICAoY2hlY2tTY3JlZW5JbmlxdWUgPT09IGZhbHNlIHx8XG4gICAgICAgICAgKGNoZWNrU2NyZWVuSW5pcXVlID09PSB0cnVlICYmXG4gICAgICAgICAgICB2aWV3LnVuaXF1ZUlkICE9PSB0aGlzLnVuaXF1ZUlkXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICA7XG4gICAgfSk7XG5cbiAgICBpZiAob2xkVmlldyAhPSBudWxsKSB7XG4gICAgICAvL2ZvciBjYXNlIHdoZXJlIHdlIGFyZSB0aGUgc2FtZSBzY3JlZW4sIHdlIHNob3VsZCd0IGNhbGwgYmVmb3JlRGVzdHJveUNiIHRvIGNsZWFudXBcbiAgICAgIGlmIChjaGVja1NjcmVlbkluaXF1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICBvbGRWaWV3LmJlZm9yZURlc3Ryb3lDYiA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIG9sZFZpZXcuY2xvc2UoZGVsYXlEaWFsb2dDbG9zZSk7XG4gICAgfVxuICAgIGlmKCF0aGlzLnZpZXdJc0luaXRpYWxpemVkICYmIGNoZWNrU2NyZWVuSW5pcXVlKSB7XG4gICAgICAvLyBUaGlzIGNhc2UgaXMgdG9vIGxhdGUgdG8gY2xvc2UuIFRoaXMgb2JqZWN0J3MgdmlldyBpcyBhbHJlYWR5IGV4aXN0LCByZXVzZWQgYW5kIHVuLWNsb3NhYmxlIVxuICAgICAgLy8gVG8gc2F2ZSB0aGlzIHRyeWluZywgYW5kIGV4ZWN1dGUgY2xvc2luZyBhdCByb3V0ZXIgYmVmb3JlIGNyZWF0ZSBuZXcgdmlldy5cbiAgICAgIGlmKCFWaWV3Q29tcG9uZW50LmNsb3NlT25Jbml0LmlkU2V0Lmhhcyh2aWV3SWQpKSB7XG4gICAgICAgIFZpZXdDb21wb25lbnQuY2xvc2VPbkluaXQuaWRTZXQuYWRkKHZpZXdJZCk7XG4gICAgICB9XG4gICAgICBsZXQgb1R5cGUgPSB0aGlzLmNvbnN0cnVjdG9yIGFzIFR5cGU8Vmlld0NvbXBvbmVudD47XG4gICAgICBpZighVmlld0NvbXBvbmVudC5jbG9zZU9uSW5pdC50eXBlcy5oYXMob1R5cGUpKSB7XG4gICAgICAgIFZpZXdDb21wb25lbnQuY2xvc2VPbkluaXQudHlwZXMuYWRkKG9UeXBlKTtcbiAgICAgIH1cbiAgICAgIFZpZXdDb21wb25lbnQuaG9va0Nsb3NlUHJldlZpZXcyRHluYW1pY1BhZ2VzU2VydmljZSgpO1xuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEFkZCBhIFtbUG9wdXBNZW51RGlyZWN0aXZlXV0gdG8gW1twb3B1cE1lbnVzXV0gcHJvcGVydHlcbiAgICogQHBhcmFtIHBvcHVwTWVudSBQb3B1cCBtZW51IHRvIGFkZCB0byBpbnRlcm5hbCBbW3BvcHVwTWVudXNdXSBsaXN0XG4gICAqL1xuICByZWdpc3RlclBvcHVwTWVudShwb3B1cE1lbnU6IFBvcHVwTWVudURpcmVjdGl2ZSkge1xuICAgIGlmICh0aGlzLnBvcHVwTWVudXMgPT0gbnVsbCkge1xuICAgICAgdGhpcy5wb3B1cE1lbnVzID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5wb3B1cE1lbnVzLnB1c2gocG9wdXBNZW51KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBbW3BvcHVwTWVudXNdXSBoYXMgMSBvciBtb3JlIGl0ZW1zXG4gICAqIEByZXR1cm5zIFRydWUgaWYgW1twb3B1cE1lbnVzXV0gaXMgZGVmaW5lZCBhbmQgaGFzIGF0IGxlYXN0IDEgaXRlbVxuICAgKi9cbiAgaGFzUG9wdXBNZW51KCkge1xuICAgIHJldHVybiB0aGlzLnBvcHVwTWVudXMgIT0gbnVsbCAmJiB0aGlzLnBvcHVwTWVudXMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIElEIG9mIHRoZSBmaXJzdCBbW1BvcHVwTWVudURpcmVjdGl2ZV1dIGluc3RhbmNlIGluIFtbcG9wdXBNZW51c1xuICAgKiBAcmV0dXJucyBJZCBvZiBwb3B1cCBtZW51XG4gICAqL1xuICBnZXRGaXJzdFBvcHVwTWVudUlkKCkge1xuICAgIHJldHVybiB0aGlzLnBvcHVwTWVudXMgIT0gbnVsbCAmJiB0aGlzLnBvcHVwTWVudXMubGVuZ3RoID4gMCA/IHRoaXMucG9wdXBNZW51c1swXS5pZCA6IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogRGVsZWdhdGUgdG8gW1tCYXNlQ29tcG9uZW50XV0gZmluZEVsZW1lbnRCeUlkIG1ldGhvZFxuICAgKiBAcGFyYW0gaWQgQ29tcG9uZW50IElEXG4gICAqL1xuICBmaW5kRWxlbWVudEJ5SWQoaWQ6IHN0cmluZyk6IEJhc2VDb21wb25lbnQge1xuICAgIGxldCBjb21wOiBCYXNlQ29tcG9uZW50ID0gc3VwZXIuZmluZEVsZW1lbnRCeUlkKGlkKTtcblxuICAgIGlmIChjb21wID09IG51bGwgJiYgdGhpcy5fdGFibGVDb2x1bW5zTWFwICE9IG51bGwpIHtcbiAgICAgIGNvbXAgPSB0aGlzLl90YWJsZUNvbHVtbnNNYXAuZ2V0KEtleVV0aWxzLnRvTWFwS2V5KGlkKSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbXAgPT0gbnVsbCkge1xuICAgICAgLy9jaGVjayBmb3IgaW5hY3RpdmUgbWVudSBpdGVtc1xuICAgICAgY29tcCA9IHRoaXMuZ2V0SW5hY3RpdmVNZW51SXRlbShpZCkgYXMgYW55O1xuICAgIH1cblxuICAgIHJldHVybiBjb21wO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0b3AgY2hhbmdlIGRldGVjdGlvblxuICAgKi9cbiAgZnJlZXplQ2hhbmdlRGV0ZWN0aW9uKCkge1xuICAgIGlmICh0aGlzLmdldENoYW5nZURldGVjdG9yKCkgIT0gbnVsbCkge1xuICAgICAgdGhpcy5nZXRDaGFuZ2VEZXRlY3RvcigpLmRldGFjaCgpO1xuICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rpb25Gcm96ZW4gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN1bWUgY2hhbmdlIGRldGVjdGlvbiBpZiBpdCBoYXMgYmVlbiBzdG9wcGVkXG4gICAqL1xuICB1bmZyZWV6ZUNoYW5nZURldGVjdGlvbigpIHtcbiAgICBpZiAodGhpcy5nZXRDaGFuZ2VEZXRlY3RvcigpICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZ2V0Q2hhbmdlRGV0ZWN0b3IoKS5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICB0aGlzLmdldENoYW5nZURldGVjdG9yKCkucmVhdHRhY2goKTtcbiAgICB9XG5cbiAgICB0aGlzLmNoYW5nZURldGVjdGlvbkZyb3plbiA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGNoYW5nZSBkZXRlY3Rpb24gaGFzIGJlZW4gc3RvcHBlZFxuICAgKiBAcmV0dXJucyBUcnVlIGlmIGNoYW5nZSBkZXRlY3Rpb24gaGFzIGJlZW4gc3RvcHBlZFxuICAgKi9cbiAgaXNDaGFuZ2VEZXRlY3Rpb25Gcm96ZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuY2hhbmdlRGV0ZWN0aW9uRnJvemVuID09PSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgaXMgYSBjb250YWluZXIgY29tcG9uZW50XG4gICAqIEByZXR1cm5zIFRydWVcbiAgICovXG4gIHByb3RlY3RlZCBpc0NvbnRhaW5lcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmlnZ2VyIGNoYW5nZSBkZXRlY3Rpb24gZm9yIHBhcmVudCBbW0Jhc2VDb21wb25lbnRdXSBhbmQgW1tkaWFsb2ddXSBpbnN0YW5jZVxuICAgKi9cbiAgZGV0ZWN0Q2hhbmdlcygpIHtcbiAgICBzdXBlci5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICBpZiAodGhpcy5kaWFsb2cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5kaWFsb2cuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNYXJrIHRoaXMgY29tcG9uZW50IGZvciBjaGFuZ2UgZGV0ZWN0aW9uXG4gICAqL1xuICBtYXJrRm9yQ2hlY2soKSB7XG4gICAgc3VwZXIubWFya0ZvckNoZWNrKCk7XG5cbiAgICBpZiAodGhpcy5kaWFsb2cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5kaWFsb2cubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3cgdGhlIHZpZXcgYWZ0ZXIgaXQgaGFzIGJlZW4gaGlkZGVuIHZpYSBtaW5pbWl6ZWRcbiAgICovXG4gIHNob3dWaWV3KCkge1xuICAgIGlmICh0aGlzLmRpYWxvZyAhPSBudWxsKSB7XG4gICAgICB0aGlzLmRpYWxvZy5zaG93VmlldygpO1xuICAgIH1cblxuICAgIGRlbGV0ZSB0aGlzLmlzTWluaW1pemVkO1xuICB9XG5cbiAgLyoqXG4gICAqIE1pbmltaXplIHRoZSBbW2RpYWxvZ11dIG9mIHRoaXMgY29tcG9uZW50XG4gICAqL1xuICBtaW5pbWl6ZSgpIHtcbiAgICBpZiAodGhpcy5kaWFsb2cgIT0gbnVsbCkge1xuICAgICAgdGhpcy5kaWFsb2cubWluaW1pemUobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUgdGhpcyBjb21wb25lbnQgdG8gdGhlIHRvcCBvZiB0aGUgdmlldyBzdGFja1xuICAgKi9cbiAgbW92ZVRvVG9wKCkge1xuICAgIHRoaXMuZ2V0U2Vzc2lvbigpLmdldE1jb0NvbnRhaW5lcigpLnJlU3RhY2tWaWV3KHRoaXMuaWQpLCB0aGlzLnNjcmVlbkluZGV4O1xuICB9XG5cbiAgdHJhY2tJbmFjdGl2ZU1lbnVJdGVtKG1lbnVJdGVtOiBNZW51SXRlbUNvbXBvbmVudCkge1xuICAgIGNvbnN0IGlkID0gbWVudUl0ZW0uZ2V0SWQoKTtcblxuICAgIGNvbnN0IGZhdXhNZW51SXRlbSA9IG5ldyBIVE1MRWxlbWVudFdyYXBwZXIobnVsbCwgXCJtZW51SXRlbVwiLCBudWxsKTtcbiAgICBmYXV4TWVudUl0ZW0uc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xuXG4gICAgaWYgKG1lbnVJdGVtLml0ZW0gIT0gbnVsbCAmJiBtZW51SXRlbS5pdGVtLmN1c3RvbUF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgY29uc3Qga2V5cyA9IF8ua2V5cyhtZW51SXRlbS5pdGVtLmN1c3RvbUF0dHJpYnV0ZXMpO1xuXG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGlmIChrZXkgIT09IFwiaWRcIikge1xuICAgICAgICAgIGZhdXhNZW51SXRlbS5zZXRBdHRyaWJ1dGUoa2V5LCBtZW51SXRlbS5pdGVtLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5faW5hY3RpdmVNZW51SXRlbXMgPT0gbnVsbCkge1xuICAgICAgdGhpcy5faW5hY3RpdmVNZW51SXRlbXMgPSBuZXcgTWFwPHN0cmluZywgSFRNTEVsZW1lbnRXcmFwcGVyPigpO1xuICAgIH1cblxuICAgIHRoaXMuX2luYWN0aXZlTWVudUl0ZW1zLnNldChpZCwgZmF1eE1lbnVJdGVtKTtcbiAgfVxuXG4gIGdldEluYWN0aXZlTWVudUl0ZW0oaWQ6IHN0cmluZykge1xuICAgIHJldHVybiB0aGlzLl9pbmFjdGl2ZU1lbnVJdGVtcyAhPSBudWxsID8gdGhpcy5faW5hY3RpdmVNZW51SXRlbXMuZ2V0KGlkKSA6IG51bGw7XG4gIH1cblxuICBjbGVhbnVwKCkge1xuICAgIHN1cGVyLmNsZWFudXAoKTtcblxuICAgIGlmICh0aGlzLl92aWV3Q2hpbGRyZW5NYXAgIT0gbnVsbCkge1xuICAgICAgY29uc3QgY2l0ID0gdGhpcy5fdmlld0NoaWxkcmVuTWFwLnZhbHVlcygpO1xuICAgICAgbGV0IHZhbCA9IGNpdC5uZXh0KCk7XG5cbiAgICAgIHdoaWxlKHZhbC5kb25lICE9PSB0cnVlKSB7XG4gICAgICAgIC8vc29tZSBjaGlsZHJlbiBhcmUgbm90IGFjdHVhbCBCYXNlQ29tcG9uZW50XG4gICAgICAgIGlmICh0eXBlb2YgdmFsLnZhbHVlLmVtcHR5Q2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHZhbC52YWx1ZS5lbXB0eUNoaWxkcmVuKCk7XG4gICAgICAgICAgdmFsLnZhbHVlLl9pc0R5aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhbCA9IGNpdC5uZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3VwZXIuZW1wdHlDaGlsZHJlbigpO1xuICB9XG5cbiAgaXNNb2RhbERpYWxvZygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5kaWFsb2cgIT0gbnVsbCAmJiAodGhpcy5kaWFsb2cubW9kYWwgPT09IHRydWUgfHwgdGhpcy5kaWFsb2cubW9kYWwgPT09IFwidHJ1ZVwiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOb3QgaW1wbGVtZW50ZWRcbiAgICovXG4gIGhhbmRsZUFjdGlvbkZvcndhcmQoKSB7XG4gIH1cbiAgLyoqXG4gICAqIHNjcmVlbiBpbmRleCgwfinDo8KBwq7DpsKWwofDpcKtwpfDpcKIwpfDqMKhwqjDp8KPwr5cbiAgICovXG4gIGdldFNjcmVlbkluZGV4KCk6c3RyaW5nIHtcbiAgICByZXR1cm4gKHRoaXMuc2NyZWVuSW5kZXggPT09IHVuZGVmaW5lZCB8fCB0aGlzLnNjcmVlbkluZGV4ID09PSBudWxsKVxuICAgICAgPyAnJ1xuICAgICAgOiB0aGlzLnNjcmVlbkluZGV4LnRvU3RyaW5nKCk7XG4gIH1cbiAgcmVnaXN0ZXJTY3JlZW5JbmRleCgpe1xuICAgIHRoaXMuc2NyZWVuSW5kZXggPSB0aGlzLmdldFNlc3Npb24oKS5nZXRNY29Db250YWluZXIoKS5uZXh0U2NyZWVuSW5kZXgodGhpcy5iYXNlU2NyZWVuSWQpO1xuICB9XG5cbiAgc2V0VmlzaWJsZShib286IGJvb2xlYW4pIHtcbiAgICBzdXBlci5zZXRWaXNpYmxlKGJvbyk7XG4gICAgdGhpcy5nZXRTZXNzaW9uKCkuZ2V0TWNvQ29udGFpbmVyKCkucmVmcmVzaEJyZWFkQ3J1bWIoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBWaWV3Q29tcG9uZW50IH0gZnJvbSAnLi92aWV3LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBEeW5hbWljUGFnZXNTZXJ2aWNlIH0gZnJvbSAnLi9keW5hbWljLXBhZ2VzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQmFzZU1vZHVsZSB9IGZyb20gJy4uL2Jhc2UvYmFzZS5tb2R1bGUnO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIEJhc2VNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbVmlld0NvbXBvbmVudF0sXG4gIHByb3ZpZGVyczogW1xuICAgIER5bmFtaWNQYWdlc1NlcnZpY2VcbiAgXSxcbiAgZXhwb3J0czogW1xuICAgIFZpZXdDb21wb25lbnQsXG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgVmlld01vZHVsZSB7IH1cbiIsImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgT3B0aW9uYWwsXG4gIFNraXBTZWxmLFxuICBFbGVtZW50UmVmLFxuICBDb250ZW50Q2hpbGRyZW4sXG4gIFF1ZXJ5TGlzdCxcbiAgSW5wdXQsXG4gIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgRG9DaGVjayxcbiAgSXRlcmFibGVEaWZmZXJzLFxuICBJdGVyYWJsZURpZmZlcixcbiAgVmlld0NoaWxkLFxuICBDb250ZW50Q2hpbGQsXG4gIFZpZXdFbmNhcHN1bGF0aW9uLFxuICBSZW5kZXJlcjJcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTZXNzaW9uU2VydmljZSB9IGZyb20gJy4uL3Nlc3Npb24vc2Vzc2lvbi5zZXJ2aWNlJztcbmltcG9ydCB7IE1lbnVJdGVtRGlyZWN0aXZlIH0gZnJvbSAnLi9tZW51LWl0ZW0uZGlyZWN0aXZlJztcbmltcG9ydCB7IE1lbnVJdGVtIH0gZnJvbSAnLi9tZW51LWl0ZW0nO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVTZXJ2aWNlIH0gZnJvbSAnLi9jb250ZXh0LW1lbnUuc2VydmljZSc7XG5pbXBvcnQgeyBCc0Ryb3Bkb3duRGlyZWN0aXZlIH0gZnJvbSAnbmd4LWJvb3RzdHJhcCc7XG5pbXBvcnQgeyBNZW51SXRlbUJ1aWxkZXIgfSBmcm9tICcuL21lbnUtaXRlbS1idWlsZGVyJztcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHsgQ2xpZW50RXZlbnQgfSBmcm9tICcuLi9ldmVudC1oYW5kbGVyL2NsaWVudC1ldmVudCc7XG5pbXBvcnQgeyBBcHBVdGlscyB9IGZyb20gJy4uL2Jhc2UvYXBwLXV0aWxzJztcbmltcG9ydCB7IFVpRG9jdW1lbnQgfSBmcm9tICcuLi9iYXNlL3VpLWRvY3VtZW50JztcblxuLyoqXG4gKiBDbGFzcyBmb3IgcG9wdXAgbWVudSBjb21wb25lbnRcbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAndnQtcG9wdXAtbWVudS12aWV3JyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvcHVwLW1lbnUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9wb3B1cC1tZW51LmNvbXBvbmVudC5jc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgUG9wdXBNZW51Q29tcG9uZW50IGV4dGVuZHMgQmFzZUNvbXBvbmVudCBpbXBsZW1lbnRzIERvQ2hlY2sge1xuICBASW5wdXQoKSBwcml2YXRlIGlkTmFtZTogc3RyaW5nOyAvL0RPIE5PVCB1c2VkLCBleGlzdHMgZm9yIGJhZCB1c2FnZVxuICBAVmlld0NoaWxkKFwibXlEcm9wZG93blwiLCB7cmVhZDogQnNEcm9wZG93bkRpcmVjdGl2ZX0pIGRyb3Bkb3duOiBCc0Ryb3Bkb3duRGlyZWN0aXZlO1xuICBAVmlld0NoaWxkKFwiYnNEcm9wZG93bkNvbnRhaW5lclwiLCB7cmVhZDogRWxlbWVudFJlZn0pIGRyb3Bkb3duQ29udGFpbmVyOiBFbGVtZW50UmVmPEhUTUxFbGVtZW50PjtcblxuICBASW5wdXQoKSBtZW51SXRlbXM6IEFycmF5PE1lbnVJdGVtPiA9IFtdO1xuXG4gIHByaXZhdGUgbWVudUl0ZW1zRGlmZmVyOiBJdGVyYWJsZURpZmZlcjx7fT4gPSBudWxsO1xuXG4gIHByaXZhdGUgaXNTaG93bjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGdldCBoYXNNZW51SXRlbXMoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubWVudUl0ZW1zICE9IG51bGwgJiYgdGhpcy5tZW51SXRlbXMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIG9uRG9jdW1lbnRDbGljazogKGV2ZW50KT0+dm9pZDtcblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHBhcmVudCBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHNlc3Npb25TZXJ2aWNlIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gZWxlbWVudFJlZiBzZWUgW1tCYXNlQ29tcG9uZW50XV0gY29uc3RydWN0b3JcbiAgICogQHBhcmFtIGNkIENoYW5nZSBkZXRlY3RvclxuICAgKiBAcGFyYW0gZGlmZmVyc1xuICAgKiBAcGFyYW0gcG9wdXBNZW51U2VydmljZVxuICAgKiBAcGFyYW0gcmVuZGVyZXIgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBAT3B0aW9uYWwoKSBAU2tpcFNlbGYoKSBwYXJlbnQ6IEJhc2VDb21wb25lbnQsXG4gICAgc2Vzc2lvblNlcnZpY2U6IFNlc3Npb25TZXJ2aWNlLFxuICAgIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXG4gICAgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgZGlmZmVyczogSXRlcmFibGVEaWZmZXJzLFxuICAgIHByaXZhdGUgcG9wdXBNZW51U2VydmljZTogQ29udGV4dE1lbnVTZXJ2aWNlLFxuICAgIHJlbmRlcmVyOiBSZW5kZXJlcjJcbiAgKSB7XG4gICAgc3VwZXIocGFyZW50LCBzZXNzaW9uU2VydmljZSwgZWxlbWVudFJlZiwgcmVuZGVyZXIpO1xuXG4gICAgdGhpcy5tZW51SXRlbXNEaWZmZXIgPSBkaWZmZXJzLmZpbmQoW10pLmNyZWF0ZSgpO1xuXG4gICAgdGhpcy5vbkRvY3VtZW50Q2xpY2sgPSAoZXZlbnQpPT57XG4gICAgICB0aGlzLmhhbmRsZURvY3VtZW50Q2xpY2soZXZlbnQpO1xuICAgIH07XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5vbkRvY3VtZW50Q2xpY2ssIHRydWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIERvIGNoZWNrIGxpZmVjeWNsZVxuICAgKi9cbiAgbmdEb0NoZWNrKCkge1xuICAgIGlmICh0aGlzLm1lbnVJdGVtc0RpZmZlci5kaWZmKHRoaXMubWVudUl0ZW1zKSkge1xuICAgICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZS4gVHJpZ2dlciBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBzaG93IHRoaXMgY29tcG9uZW50XG4gICAqL1xuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgc3VwZXIubmdBZnRlclZpZXdJbml0KCk7XG4gICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICBVaURvY3VtZW50LnJlZ2lzdGVyTWVudUl0ZW1FbGVtZW50KHRoaXMuZ2V0SWQoKSwgdGhpcyBhcyBhbnkpO1xuXG4gICAgY29uc3QgdG0gPSBzZXRUaW1lb3V0KCgpPT57XG4gICAgICBjbGVhclRpbWVvdXQodG0pO1xuICAgICAgdGhpcy5zaG93KCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveSBsaWZlY3ljbGUuIFJlbW92ZSBldmVudCBsaXN0ZW5lcnMgYW5kIHJlbW92ZSBkcm9wZG93biBlbGVtZW50c1xuICAgKi9cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgc3VwZXIubmdPbkRlc3Ryb3koKTtcblxuICAgIFVpRG9jdW1lbnQudW5yZWdpc3Rlck1lbnVJdGVtRWxlbWVudCh0aGlzLmdldElkKCkpO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub25Eb2N1bWVudENsaWNrLCB0cnVlKTtcbiAgICB0aGlzLmRyb3Bkb3duQ29udGFpbmVyID0gbnVsbDtcbiAgICB0aGlzLmRyb3Bkb3duID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG93IHRoZSBwb3B1cCBieSBzZXR0aW5nIENTUyBwb3NpdGlvbiB0byBvbiBzY3JlZW5cbiAgICovXG4gIHByaXZhdGUgc2hvdygpIHtcbiAgICB0aGlzLnBvcHVwTWVudVNlcnZpY2Uuc2V0QWN0aXZlTWVudSh0aGlzLmlkKTtcblxuICAgIGlmICh0aGlzLmRyb3Bkb3duICE9IG51bGwpIHtcbiAgICAgIHRoaXMuZHJvcGRvd24uc2hvdygpO1xuICAgICAgdGhpcy5pc1Nob3duID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5nZXRTZXNzaW9uKCkuZ2V0TW91c2VQb3NpdGlvbigpO1xuXG4gICAgICBpZiAocG9zaXRpb24gIT0gbnVsbCAmJiB0aGlzLmRyb3Bkb3duQ29udGFpbmVyICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmRyb3Bkb3duQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQsIFwibGVmdFwiLCBwb3NpdGlvbi54ICsgXCJweFwiKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmRyb3Bkb3duQ29udGFpbmVyLm5hdGl2ZUVsZW1lbnQsIFwidG9wXCIsIHBvc2l0aW9uLnkgKyBcInB4XCIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNkLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBwb3B1cCBtZW51XG4gICAqL1xuICBwcml2YXRlIGhpZGUoKSB7XG4gICAgdGhpcy5kcm9wZG93bi5oaWRlKCk7XG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2U7XG4gICAgdGhpcy5jZC5tYXJrRm9yQ2hlY2soKTtcbiAgICB0aGlzLnBvcHVwTWVudVNlcnZpY2Uuc2V0QWN0aXZlTWVudShudWxsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBtb3VzZSBjbGlja1xuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIGhhbmRsZURvY3VtZW50Q2xpY2soZXZlbnQ6IE1vdXNlRXZlbnQpe1xuICAgIGlmICh0aGlzLmlzU2hvd24gPT09IHRydWUgJiYgIXRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgW1tjZF1dIChDaGFuZ2UgZGV0ZWN0b3IpIHByb3BlcnR5XG4gICAqL1xuICBnZXRDaGFuZ2VEZXRlY3RvcigpIHtcbiAgICByZXR1cm4gdGhpcy5jZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIHRoYXQgaGlkZXMgYWxsIG90aGVyIHBvcHVwIG1lbnVzIGFuZCBkaXNwbGF5cyB0aGlzIG9uZVxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICovXG4gIGRpc3BTdWJtZW51KGV2ZW50OiBhbnkpOiB2b2lkIHtcbiAgICBjb25zdCBjdXJyZW50VGFyZ2V0OiBhbnkgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIGNvbnN0IGN1cnJlbnRDaGlsZHJlbjogQXJyYXk8YW55PiA9IGN1cnJlbnRUYXJnZXQuY2hpbGRyZW47XG4gICAgY29uc3QgcGFyZW50Q2hpbGRyZW46IEFycmF5PGFueT4gPSBjdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQuY2hpbGRyZW47XG5cbiAgICBmb3IobGV0IGkgPSAwLCBsZW4gPSBwYXJlbnRDaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG4gICAgICBpZihwYXJlbnRDaGlsZHJlbltpXSAhPT0gdW5kZWZpbmVkKXtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZShwYXJlbnRDaGlsZHJlbltpXSwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsIFwiI2ZmZmZmZlwiKTtcbiAgICAgIH1cbiAgICAgIGlmKHBhcmVudENoaWxkcmVuW2ldLmNoaWxkcmVuWzFdID09PSB1bmRlZmluZWQpe1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcGFyZW50Q2hpbGRyZW5baV0uY2hpbGRyZW5bMV0uY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtc3ViLW1lbnUtZGlzcGxheScpO1xuICAgIH1cblxuICAgIGlmKGN1cnJlbnRDaGlsZHJlblsxXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgIHx8IChjdXJyZW50Q2hpbGRyZW5bMF0gIT09IHVuZGVmaW5lZCAmJiAhY3VycmVudENoaWxkcmVuWzBdLmNsYXNzTGlzdC5jb250YWlucygnZHJvcGRvd24taXRlbScpKSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VycmVudENoaWxkcmVuWzFdLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLXN1Yi1tZW51LWRpc3BsYXknKTtcbiAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKGN1cnJlbnRUYXJnZXQsIFwiYmFja2dyb3VuZC1jb2xvclwiLCBcIiNmNWRlOTJcIik7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGFuIGF0dHJpYnV0ZSB3aXRoIHZhbHVlIG9uIHRoZSBtZW51IGl0ZW1cbiAgICogQHBhcmFtIG5hbWUgQXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtIHZhbHVlIEF0dHJpYnV0ZSB2YWx1ZVxuICAgKi9cbiAgc2V0QXR0cmlidXRlKG5hbWU6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgIHRoaXMuc2V0Q3VzdG9tQXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZSBieSBuYW1lXG4gICAqIEBwYXJhbSBuYW1lIEF0dHJpYnV0ZSBuYW1lXG4gICAqL1xuICBnZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VzdG9tQXR0cmlidXRlKG5hbWUpO1xuICB9XG5cbiAgdG9Kc29uKCkge1xuICAgIHJldHVybiBzdXBlci50b0pzb24oKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBJbnB1dCwgUXVlcnlMaXN0LCBDb250ZW50Q2hpbGRyZW4sIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gJy4vbWVudS1pdGVtJztcblxuLyoqXG4gKiBNZW51IGl0ZW0gZGlyZWN0aXZlIGNsYXNzLiBBZGRzIG1lbnUgZGlzcGF5IGFuZCBiZWhhdmlvciB0byBjb21wb25lbnRcbiAqL1xuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAndnQtbWVudS1pdGVtJ1xufSlcbmV4cG9ydCBjbGFzcyBNZW51SXRlbURpcmVjdGl2ZSB7XG4gIEBJbnB1dCgpIHByaXZhdGUgaWROYW1lOiBzdHJpbmc7IC8vRE8gTk9UIHVzZWQsIGV4aXN0cyBmb3IgYmFkIHVzYWdlXG4gIEBJbnB1dCgpIHByaXZhdGUgaWQ6IHN0cmluZztcbiAgQElucHV0KCkgcHJpdmF0ZSB0ZXh0OiBzdHJpbmcgPSAnJztcbiAgQElucHV0KCkgcHJpdmF0ZSB2aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAgQE91dHB1dCgpIHByaXZhdGUgb25Db21tYW5kID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oTWVudUl0ZW1EaXJlY3RpdmUpIHByaXZhdGUgc3ViTWVudUl0ZW1zOiBRdWVyeUxpc3Q8TWVudUl0ZW1EaXJlY3RpdmU+O1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0IFtbTWVudUl0ZW1EaXJlY3RpdmVdXSBjaGlsZHJlbiBvZiBwYXJlbnQgdmlldyB0byBbW01lbnVJdGVtXV1cbiAgICogQHBhcmFtIHBhcmVudFNjcmVlbklkXG4gICAqL1xuICB0b01lbnVJdGVtKHBhcmVudFNjcmVlbklkPzogc3RyaW5nKTogTWVudUl0ZW0ge1xuICAgIGNvbnN0IG1lbnVJdGVtOiBNZW51SXRlbSA9IHtcbiAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgdGV4dDogdGhpcy50ZXh0LFxuICAgICAgbWVudUl0ZW1zOiBudWxsLFxuICAgICAgb25Db21tYW5kOiB0aGlzLm9uQ29tbWFuZCxcbiAgICAgIHBhcmVudFNjcmVlbklkOiBwYXJlbnRTY3JlZW5JZCxcbiAgICAgIGRpc3BsYXk6IHRoaXMudmlzaWJsZVxuICAgIH07XG5cbiAgICBpZiAodGhpcy5zdWJNZW51SXRlbXMgIT0gbnVsbCAmJiB0aGlzLnN1Yk1lbnVJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAvL2ZpbHRlciB0byByZW1vdmUgc2VsZiB0aGVuIG1hcCB0byBNZW51SXRlbVxuICAgICAgbWVudUl0ZW0ubWVudUl0ZW1zID0gdGhpcy5zdWJNZW51SXRlbXMuZmlsdGVyKGl0ZW09Pml0ZW0gIT09IHRoaXMpLm1hcChpdGVtPT5pdGVtLnRvTWVudUl0ZW0ocGFyZW50U2NyZWVuSWQpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVudUl0ZW07XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT3V0cHV0LCBJbnB1dCwgRXZlbnRFbWl0dGVyLCBPbkRlc3Ryb3ksIEFmdGVyVmlld0luaXQsIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gJy4uL21lbnUtaXRlbSc7XG5pbXBvcnQgeyBDbGllbnRFdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50LWhhbmRsZXIvY2xpZW50LWV2ZW50JztcbmltcG9ydCB7IEFwcFV0aWxzIH0gZnJvbSAnLi4vLi4vYmFzZS9hcHAtdXRpbHMnO1xuaW1wb3J0IHsgU2Vzc2lvblNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXNzaW9uL3Nlc3Npb24uc2VydmljZSc7XG5pbXBvcnQgeyBNZW51SXRlbUJ1aWxkZXIgfSBmcm9tICcuLi9tZW51LWl0ZW0tYnVpbGRlcic7XG5pbXBvcnQgeyBVaURvY3VtZW50IH0gZnJvbSAnLi4vLi4vYmFzZS91aS1kb2N1bWVudCc7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IEtleVV0aWxzIH0gZnJvbSAnLi4vLi4vYmFzZS9rZXktdXRpbHMnO1xuXG4vKipcbiAqIENsYXNzIGZvciBtZW51IGl0ZW0gY29tcG9uZW50LiBDaGlsZCByZW5kZXJlZCBieSBNZW51IGRpcmVjdGl2ZVxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdbdnQtbWVudS1pdGVtLWNvbXBdJyxcbiAgdGVtcGxhdGVVcmw6ICcuL21lbnUtaXRlbS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL21lbnUtaXRlbS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgTWVudUl0ZW1Db21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3ksIEFmdGVyVmlld0luaXR7XG4gIEBJbnB1dCgpIHRleHQ6IHN0cmluZztcbiAgQElucHV0KCkgaWQ6IHN0cmluZztcbiAgQElucHV0KCkgbWVudUl0ZW1zOiBBcnJheTxNZW51SXRlbT47XG4gIEBJbnB1dCgpIGRpc3BsYXk6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoKSB2aXNpYmxlOiBib29sZWFuO1xuICBASW5wdXQoKSBpdGVtOiBNZW51SXRlbTtcbiAgQElucHV0KCkgcG9wdXBNZW51SWQ6IHN0cmluZztcblxuICBAT3V0cHV0KCkgb25DbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgbWVudSBpdGVtcyBleGlzdFxuICAgKiBAcmV0dXJucyBUcnVlIGlmIFtbbWVudUl0ZW1zXV0gZXhpc3RzIGFuZCBoYXMgMSBvciBtb3JlIGl0ZW1zXG4gICAqL1xuICBnZXQgaGFzTWVudUl0ZW1zKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLm1lbnVJdGVtcyAhPSBudWxsICYmIHRoaXMubWVudUl0ZW1zLmxlbmd0aCA+IDA7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBtZW51IGl0ZW0gaXMgYSBzZXBhcmF0b3IvZGl2aWRlciAoaS5lLiBoeXBoZW4pXG4gICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG1lbnUgaXRlbSB0ZXh0IGlzIGEgaHlwaGVuXG4gICAqL1xuICBnZXQgaXNEaXZpZGVyKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnRleHQgPT09ICctJztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgbWVudSBpdGVtIHN0eWxlcyBtYXBcbiAgICogQHJldHVybiBNYXAgb2Ygc3R5bGVzXG4gICAqL1xuICBnZXQgbWVudVN0eWxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5pdGVtICE9IG51bGwgPyB0aGlzLml0ZW0uc3R5bGVzIDogbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvblNlcnZpY2UgSW5qZWN0cyByZWZlcmVuY2UgdG8gW1tTZXNzaW9uU2VydmljZV1dIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNlc3Npb25TZXJ2aWNlOiBTZXNzaW9uU2VydmljZSwgcHJpdmF0ZSBjZDogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcblxuICB9XG5cbiAgLyoqXG4gICAqIEFmdGVyIHZpZXcgaW5pdCBsaWZlY3ljbGUuIEFkZHMgbWVudSBpdGVtIHRvIFtbVWlEb2N1bWVudF1dXG4gICAqL1xuICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgVWlEb2N1bWVudC5yZWdpc3Rlck1lbnVJdGVtRWxlbWVudCh0aGlzLmlkLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IGxpZmVjeWNsZS4gUmVtb3ZlIG1lbnUgaXRlbSBmcm9tIFtbVWlEb2N1bWVudF1dXG4gICAqL1xuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLml0ZW0gPSBudWxsO1xuICAgIHRoaXMubWVudUl0ZW1zID0gbnVsbDtcblxuICAgIFVpRG9jdW1lbnQudW5yZWdpc3Rlck1lbnVJdGVtRWxlbWVudCh0aGlzLmlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYW4gYXR0cmlidXRlIHdpdGggdmFsdWUgb24gdGhlIG1lbnUgaXRlbVxuICAgKiBAcGFyYW0gbmFtZSBBdHRyaWJ1dGUgbmFtZVxuICAgKiBAcGFyYW0gdmFsdWUgQXR0cmlidXRlIHZhbHVlXG4gICAqL1xuICBzZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gICAgaWYgKHRoaXMuaXRlbSkge1xuICAgICAgaWYgKG5hbWUgPT09IFwiZGlzcGxheVwiIHx8IG5hbWUgPT09IFwidmlzaWJsZVwiKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09IFwidHJ1ZVwiO1xuICAgICAgICB0aGlzLmRpc3BsYXkgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5pdGVtLmRpc3BsYXkgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHZhbHVlO1xuICAgICAgICB0aGlzLml0ZW0udGV4dCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgICAgIH0gZWxzZSBpZiAoTWVudUl0ZW1CdWlsZGVyLmtub3duS2V5cy5pbmRleE9mKG5hbWUpIDwgMCkge1xuICAgICAgICBpZiAodGhpcy5pdGVtLmN1c3RvbUF0dHJpYnV0ZXMgPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMuaXRlbS5jdXN0b21BdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLml0ZW0uY3VzdG9tQXR0cmlidXRlc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHZhbHVlIG9mIGFuIGF0dHJpYnV0ZSBieSBuYW1lXG4gICAqIEBwYXJhbSBuYW1lIEF0dHJpYnV0ZSBuYW1lXG4gICAqL1xuICBnZXRBdHRyaWJ1dGUobmFtZTogc3RyaW5nKSB7XG4gICAgaWYgKHRoaXMuaXRlbSkge1xuICAgICAgaWYgKE1lbnVJdGVtQnVpbGRlci5rbm93bktleXMuaW5kZXhPZihuYW1lKSA8IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbS5jdXN0b21BdHRyaWJ1dGVzID09IG51bGwgPyBudWxsIDogdGhpcy5pdGVtLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09IFwiZGlzcGxheVwiIHx8IG5hbWUgPT09IFwidmlzaWJsZVwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXk7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgPT09IFwiaWRcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHZhbHVlIG9mIFtbaWRdXSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBbW2lkXV0gdmFsdWVcbiAgICovXG4gIGdldElkKCkge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB2YWx1ZSBvZiBbW3RleHRdXSBwcm9wZXJ0eVxuICAgKiBAcmV0dXJucyBbW3RleHRdXSB2YWx1ZVxuICAgKi9cbiAgZ2V0VGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy50ZXh0O1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgZnJvIG1vdXNlZW50ZXIgZXZlbnRcbiAgICogQHBhcmFtIGV2ZW50IE1vdXNlIGV2ZW50XG4gICAqL1xuICBoYW5kbGVPbkVudGVyKGV2ZW50KSB7XG4gICAgY29uc3QgY2xpZW50RXZlbnQgPSBuZXcgQ2xpZW50RXZlbnQodGhpcywgZXZlbnQpO1xuXG4gICAgaWYgKEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50ICE9IG51bGwpIHtcbiAgICAgIEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50KHRoaXMsIGNsaWVudEV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pdGVtICE9IG51bGwgJiYgdGhpcy5pdGVtLnBhcmVudFNjcmVlbklkICE9IG51bGwpIHtcbiAgICAgIGNsaWVudEV2ZW50LnNldFBhcmFtZXRlcihcInNjcmVlbklkXCIsIHRoaXMuaXRlbS5wYXJlbnRTY3JlZW5JZCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXNzaW9uU2VydmljZS5nZXRFdmVudEhhbmRsZXIoKS5zZXRDbGllbnRFdmVudChjbGllbnRFdmVudCk7XG5cbiAgICBpZiAodGhpcy5pdGVtICYmIHR5cGVvZiB0aGlzLml0ZW0ub25Db21tYW5kQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuaXRlbS5vbkNvbW1hbmRDYWxsYmFjayh0aGlzLml0ZW0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pdGVtICYmIHRoaXMuaXRlbS5vbkNvbW1hbmQpIHtcbiAgICAgIHRoaXMuaXRlbS5vbkNvbW1hbmQuZW1pdCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBvcHVwTWVudUlkICE9IG51bGwpIHtcbiAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UuaGlkZUNvbnRleHRNZW51KHRoaXMucG9wdXBNZW51SWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBtb3VzZWVudGVyLiBGb2N1c2VzIHRoZSBldmVudCB0YXJnZXRcbiAgICogQHBhcmFtIGV2ZW50IE1vdXNlIGV2ZW50XG4gICAqL1xuICBoYW5kbGVNb3VzZUVudGVyKGV2ZW50KSB7XG4gICAgZXZlbnQudGFyZ2V0LmZvY3VzKCk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAvKipcbiAgICogRXZlbnQgaGFuZGxlciBmb3IgY2xpY2suXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAZXZlbnQgT25Db21tYW5kXG4gICAqL1xuICBoYW5kbGVPbkNsaWNrKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgY2xpZW50RXZlbnQgPSBuZXcgQ2xpZW50RXZlbnQodGhpcywgZXZlbnQpO1xuXG4gICAgaWYgKEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50ICE9IG51bGwpIHtcbiAgICAgIEFwcFV0aWxzLmN1c3RvbWl6ZUNsaWVudEV2ZW50KHRoaXMsIGNsaWVudEV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pdGVtICE9IG51bGwgJiYgdGhpcy5pdGVtLnBhcmVudFNjcmVlbklkICE9IG51bGwpIHtcbiAgICAgIGNsaWVudEV2ZW50LnNldFBhcmFtZXRlcihcInNjcmVlbklkXCIsIHRoaXMuaXRlbS5wYXJlbnRTY3JlZW5JZCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXNzaW9uU2VydmljZS5nZXRFdmVudEhhbmRsZXIoKS5zZXRDbGllbnRFdmVudChjbGllbnRFdmVudCk7XG5cbiAgICBpZiAodGhpcy5pdGVtICYmIHR5cGVvZiB0aGlzLml0ZW0ub25Db21tYW5kQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuaXRlbS5vbkNvbW1hbmRDYWxsYmFjayh0aGlzLml0ZW0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5pdGVtICYmIHRoaXMuaXRlbS5vbkNvbW1hbmQpIHtcbiAgICAgIHRoaXMuaXRlbS5vbkNvbW1hbmQuZW1pdCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnBvcHVwTWVudUlkICE9IG51bGwpIHtcbiAgICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UuaGlkZUNvbnRleHRNZW51KHRoaXMucG9wdXBNZW51SWQpO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBtb3VzZWRvd24gZXZlbnRcbiAgICogQHBhcmFtIGV2ZW50IE1vdXNlIGRvd24gZXZlbnRcbiAgICovXG4gIGhhbmRsZU1vdXNlRG93bihldmVudDogTW91c2VFdmVudCkge1xuICAgIGNvbnN0IGNsaWVudEV2ZW50ID0gbmV3IENsaWVudEV2ZW50KHRoaXMsIGV2ZW50KTtcblxuICAgIGlmIChBcHBVdGlscy5jdXN0b21pemVDbGllbnRFdmVudCAhPSBudWxsKSB7XG4gICAgICBBcHBVdGlscy5jdXN0b21pemVDbGllbnRFdmVudCh0aGlzLCBjbGllbnRFdmVudCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaXRlbSAhPSBudWxsICYmIHRoaXMuaXRlbS5wYXJlbnRTY3JlZW5JZCAhPSBudWxsKSB7XG4gICAgICBjbGllbnRFdmVudC5zZXRQYXJhbWV0ZXIoXCJzY3JlZW5JZFwiLCB0aGlzLml0ZW0ucGFyZW50U2NyZWVuSWQpO1xuICAgIH1cblxuICAgIHRoaXMuc2Vzc2lvblNlcnZpY2UuZ2V0RXZlbnRIYW5kbGVyKCkuc2V0Q2xpZW50RXZlbnQoY2xpZW50RXZlbnQpO1xuXG4gICAgaWYgKHRoaXMuaXRlbSAmJiB0eXBlb2YgdGhpcy5pdGVtLm9uTW91c2VEb3duQ2FsbGJhY2sgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhpcy5pdGVtLm9uTW91c2VEb3duQ2FsbGJhY2sodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBKU09OIHJlcHJlc2VudGF0aW9uIGZvciB0aGlzIGNvbXBvbmVudFxuICAgKiBAcmV0dXJucyBPYmplY3QgTWV0YWRhdGEgYXMgSlNPTlxuICAgKi9cbiAgdG9Kc29uKCk6IHt9IHtcbiAgICBjb25zdCBqc29uID0ge307XG5cbiAgICBqc29uW1widGFnTmFtZVwiXSA9IFwibWVudUl0ZW1cIjtcbiAgICBqc29uW1wibnhUYWdOYW1lXCJdID0gXCJtZW51SXRlbVwiO1xuXG4gICAgaWYgKHRoaXMuaWQgIT0gbnVsbCkge1xuICAgICAganNvbltcImlkXCJdID0gdGhpcy5pZDtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50ZXh0ICE9IG51bGwpIHtcbiAgICAgIGpzb25bXCJ0ZXh0XCJdID0gdGhpcy50ZXh0O1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0aGlzLnBvcHVwTWVudUlkICE9IG51bGwpIHtcbiAgICAgIGpzb25bXCJwb3B1cFwiXSA9IFwiI1wiICsgdGhpcy5wb3B1cE1lbnVJZDtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodGhpcy5pdGVtLmN1c3RvbUF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgY29uc3Qga2V5cyA9IF8ua2V5cyh0aGlzLml0ZW0uY3VzdG9tQXR0cmlidXRlcyk7XG5cbiAgICAgIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgIGpzb25ba2V5XSA9IEtleVV0aWxzLnRvSnNvblZhbHVlKHRoaXMuaXRlbS5jdXN0b21BdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBqc29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgdG8gc2hvdyB0aGUgc3VibWVudSBpdGVtcyBieSBhZGRpbmcgQ1NTIGNsYXNzXG4gICAqIEBwYXJhbSBldmVudFxuICAgKi9cbiAgZGlzcFN1Ym1lbnUoZXZlbnQ6IGFueSk6IHZvaWQge1xuICAgIGNvbnN0IGN1cnJlbnRUYXJnZXQ6IGFueSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgY29uc3QgY3VycmVudENoaWxkcmVuOiBBcnJheTxhbnk+ID0gY3VycmVudFRhcmdldC5jaGlsZHJlbjtcbiAgICBjb25zdCBwYXJlbnRDaGlsZHJlbjogQXJyYXk8YW55PiA9IGN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5jaGlsZHJlbjtcblxuICAgIGZvcihsZXQgaSA9IDAsIGxlbiA9IHBhcmVudENoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcbiAgICAgIGlmKHBhcmVudENoaWxkcmVuW2ldICE9PSB1bmRlZmluZWQpe1xuICAgICAgICBwYXJlbnRDaGlsZHJlbltpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICAgIH1cbiAgICAgIGlmKHBhcmVudENoaWxkcmVuW2ldLmNoaWxkcmVuWzFdID09PSB1bmRlZmluZWQpe1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcGFyZW50Q2hpbGRyZW5baV0uY2hpbGRyZW5bMV0uY2xhc3NMaXN0LnJlbW92ZSgncG9wdXAtc3ViLW1lbnUtZGlzcGxheScpO1xuICAgIH1cblxuICAgIGlmKGN1cnJlbnRDaGlsZHJlblsxXSA9PT0gdW5kZWZpbmVkXG4gICAgICAgIHx8IChjdXJyZW50Q2hpbGRyZW5bMF0gIT09IHVuZGVmaW5lZCAmJiAhY3VycmVudENoaWxkcmVuWzBdLmNsYXNzTGlzdC5jb250YWlucygnZHJvcGRvd24taXRlbScpKSl7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY3VycmVudENoaWxkcmVuWzFdLmNsYXNzTGlzdC5hZGQoJ3BvcHVwLXN1Yi1tZW51LWRpc3BsYXknKTtcbiAgICBjdXJyZW50VGFyZ2V0LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2Y1ZGU5MlwiO1xuICB9XG59XG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIGZvcndhcmRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1lbnVJdGVtRGlyZWN0aXZlIH0gZnJvbSAnLi9tZW51LWl0ZW0uZGlyZWN0aXZlJztcblxuLyoqXG4gKiBNZW51IGRpcmVjdGl2ZSBjbGFzc1xuICovXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICd2dC1tZW51JyxcbiAgcHJvdmlkZXJzOiBbXG4gICAge1xuICAgICAgcHJvdmlkZTogTWVudUl0ZW1EaXJlY3RpdmUsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKT0+TWVudURpcmVjdGl2ZSlcbiAgICB9XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgTWVudURpcmVjdGl2ZSBleHRlbmRzIE1lbnVJdGVtRGlyZWN0aXZlIHtcblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkRlc3Ryb3ksIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDaGFuZ2VEZXRlY3RvclJlZiwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBDb250ZXh0TWVudVNlcnZpY2UgfSBmcm9tICcuLi9jb250ZXh0LW1lbnUuc2VydmljZSc7XG5pbXBvcnQgeyBQb3B1cE1lbnVDb21wb25lbnQgfSBmcm9tICcuLi9wb3B1cC1tZW51LmNvbXBvbmVudCc7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHBvcHVwIG1lbnUgY29udGFpbmVyXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ3Z0LXBvcHVwLW1lbnUtY29udGFpbmVyJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3BvcHVwLW1lbnUtY29udGFpbmVyLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vcG9wdXAtbWVudS1jb250YWluZXIuY29tcG9uZW50LmNzcyddLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaFxufSlcbmV4cG9ydCBjbGFzcyBQb3B1cE1lbnVDb250YWluZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3kge1xuICBAVmlld0NoaWxkKFBvcHVwTWVudUNvbXBvbmVudCkgcG9wdXBNZW51OiBQb3B1cE1lbnVDb21wb25lbnQ7XG5cbiAgcHJpdmF0ZSBhY3RpdmVNZW51U3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG5cbiAgYWN0aXZlTWVudUlkOiBzdHJpbmc7XG4gIGFjdGl2ZU1lbnVJdGVtczogQXJyYXk8YW55PjtcbiAgXG4gIGhhc1BvcHVwTWVudTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIGNvbnRleHRNZW51U2VydmljZSBJbmplY3RzIHJlZmVyZW5jZSB0byBjb250ZXh0IG1lbnUgc2VydmljZVxuICAgKiBAcGFyYW0gY2QgSW5qZWN0cyBjaGFuZ2UgZGV0ZWN0b3IgcmVmZXJlbmNlXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGNvbnRleHRNZW51U2VydmljZTogQ29udGV4dE1lbnVTZXJ2aWNlLFxuICAgIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmXG4gICkge1xuICAgIHRoaXMuYWN0aXZlTWVudVN1YnNjcmlwdGlvbiA9IHRoaXMuY29udGV4dE1lbnVTZXJ2aWNlLmFjdGl2ZU1lbnVPYnNlcnZhYmxlLnN1YnNjcmliZSgoYWN0aXZlTWVudSk9PntcbiAgICAgIHRoaXMuc2V0QWN0aXZlTWVudShhY3RpdmVNZW51KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IGxpZmVjeWNsZS4gUmVtb3ZlIHJlZmVyZW5jZXNcbiAgICovXG4gIG5nT25EZXN0cm95KCkge1xuICAgIGlmICh0aGlzLmFjdGl2ZU1lbnVTdWJzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgdGhpcy5hY3RpdmVNZW51U3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxuXG4gICAgdGhpcy5hY3RpdmVNZW51U3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgICB0aGlzLmFjdGl2ZU1lbnVJdGVtcyA9IG51bGw7XG4gICAgdGhpcy5jb250ZXh0TWVudVNlcnZpY2UgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBhY3RpdmUgbWVudSBieSBpZFxuICAgKiBAcGFyYW0gaWQgSWQgb2YgbWVudSB0byBzZXQgYXMgYWN0aXZlXG4gICAqL1xuICBzZXRBY3RpdmVNZW51KGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLmFjdGl2ZU1lbnVJZCA9IGlkO1xuICAgIFxuICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICB0aGlzLmFjdGl2ZU1lbnVJdGVtcyA9IHRoaXMuY29udGV4dE1lbnVTZXJ2aWNlLmdldENvbnRleHRNZW51SXRlbXMoaWQpO1xuXG4gICAgICBpZiAodGhpcy5hY3RpdmVNZW51SXRlbXMgIT0gbnVsbCAmJiB0aGlzLmFjdGl2ZU1lbnVJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHRoaXMuaGFzUG9wdXBNZW51ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hY3RpdmVNZW51SXRlbXMgPSBudWxsO1xuICAgICAgdGhpcy5oYXNQb3B1cE1lbnUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB0aGlzLmNkLmRldGVjdENoYW5nZXMoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBRdWVyeUxpc3QsIElucHV0LCBDb250ZW50Q2hpbGRyZW4sIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT3B0aW9uYWwsIFNraXBTZWxmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNZW51SXRlbURpcmVjdGl2ZSB9IGZyb20gJy4vbWVudS1pdGVtLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gJy4vbWVudS1pdGVtJztcbmltcG9ydCB7IENvbnRleHRNZW51U2VydmljZSB9IGZyb20gJy4vY29udGV4dC1tZW51LnNlcnZpY2UnO1xuaW1wb3J0IHsgQmFzZUNvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgVmlld0NvbXBvbmVudCB9IGZyb20gJy4uL3ZpZXcvdmlldy5jb21wb25lbnQnO1xuXG4vKipcbiAqIFBvcHVwIG1lbnUgZGlyZWN0aXZlIGNsYXNzLiBBZGRzIGNvbnRleHQgbWVudSBpdGVtcyB0byBjb21wb25lbnRcbiAqL1xuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAndnQtcG9wdXAtbWVudSdcbn0pXG5leHBvcnQgY2xhc3MgUG9wdXBNZW51RGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG4gIEBJbnB1dCgpIGlkTmFtZTogc3RyaW5nOyAvL0RPIE5PVCB1c2VkLCBleGlzdHMgZm9yIGJhZCB1c2FnZVxuICBASW5wdXQoKSBpZDogc3RyaW5nO1xuICBASW5wdXQoKSBkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSB2aXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCkgdGV4dDogc3RyaW5nID0gXCJcIjtcblxuICBAQ29udGVudENoaWxkcmVuKE1lbnVJdGVtRGlyZWN0aXZlKSBwcml2YXRlIHN1Yk1lbnVJdGVtczogUXVlcnlMaXN0PE1lbnVJdGVtRGlyZWN0aXZlPjtcbiAgXG4gIC8qKlxuICAgKiBcbiAgICogQHBhcmFtIHBhcmVudCBcbiAgICogQHBhcmFtIGNvbnRleHRNZW51U2VydmljZSBJbmplY3RlZCBzZXJ2aWNlIGZvciBjb250ZXh0IG1lbnUgZnVuY3Rpb25zXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBAT3B0aW9uYWwoKSBwcml2YXRlIHBhcmVudDogQmFzZUNvbXBvbmVudCxcbiAgICBwcml2YXRlIGNvbnRleHRNZW51U2VydmljZTogQ29udGV4dE1lbnVTZXJ2aWNlXG4gICkgeyB9XG5cbiAgLyoqXG4gICAqIEFmdGVyIHZpZXcgaW5pdCBsaWZlY3ljbGUuIEluaXRpYWxpemUgc3VibWVudSBpdGVtc1xuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIGlmICh0aGlzLnBhcmVudCAhPSBudWxsICYmIHRoaXMucGFyZW50LmdldFBhcmVudFZpZXcoKSAhPSBudWxsKSB7XG4gICAgICAodGhpcy5wYXJlbnQuZ2V0UGFyZW50VmlldygpIGFzIFZpZXdDb21wb25lbnQpLnJlZ2lzdGVyUG9wdXBNZW51KHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnZlcnRTdWJNZW51SXRlbXMobnVsbCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlbGVnYXRlIHRvIFtbQ29udGV4dE1lbnVTZXJ2aWNlXV0gZ2V0Q29udGV4dE1lbnVJdGVtcyBtZXRob2RcbiAgICovXG4gIGdldE1lbnVJdGVtcygpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0TWVudVNlcnZpY2UuZ2V0Q29udGV4dE1lbnVJdGVtcyh0aGlzLmlkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGFsbCBzdWIgbWVudSBpdGVtcyAoW1tNZW51SXRlbURpcmVjdGl2ZV1dKSB0byBbW01lbnVJdGVtXV1cbiAgICogQHBhcmFtIHBhcmVudFNjcmVlbklkIElkIG9mIHBhcmVudCB2aWV3IGNvbXBvbmVudFxuICAgKi9cbiAgY29udmVydFN1Yk1lbnVJdGVtcyhwYXJlbnRTY3JlZW5JZDogc3RyaW5nKSB7XG4gICAgbGV0IG1lbnVJdGVtczogQXJyYXk8TWVudUl0ZW0+ID0gW107XG5cbiAgICBpZiAodGhpcy5zdWJNZW51SXRlbXMpIHtcbiAgICAgIG1lbnVJdGVtcyA9IHRoaXMuc3ViTWVudUl0ZW1zLm1hcChpdGVtPT5pdGVtLnRvTWVudUl0ZW0ocGFyZW50U2NyZWVuSWQpKTtcbiAgICB9XG5cbiAgICB0aGlzLmNvbnRleHRNZW51U2VydmljZS5yZWdpc3RlckNvbnRleHRNZW51KHRoaXMuaWQsIG1lbnVJdGVtcywgcGFyZW50U2NyZWVuSWQpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSwgQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFBvcHVwTWVudUNvbXBvbmVudCB9IGZyb20gJy4vcG9wdXAtbWVudS5jb21wb25lbnQnO1xuaW1wb3J0IHsgTWVudUl0ZW1EaXJlY3RpdmUgfSBmcm9tICcuL21lbnUtaXRlbS5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTWVudUl0ZW1Db21wb25lbnQgfSBmcm9tICcuL21lbnUtaXRlbS9tZW51LWl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IE1lbnVEaXJlY3RpdmUgfSBmcm9tICcuL21lbnUuZGlyZWN0aXZlJztcbmltcG9ydCB7IENvbnRleHRNZW51U2VydmljZSB9IGZyb20gJy4vY29udGV4dC1tZW51LnNlcnZpY2UnO1xuaW1wb3J0IHsgQnNEcm9wZG93bk1vZHVsZSB9IGZyb20gJ25neC1ib290c3RyYXAnO1xuaW1wb3J0IHsgUG9wdXBNZW51Q29udGFpbmVyQ29tcG9uZW50IH0gZnJvbSAnLi9wb3B1cC1tZW51LWNvbnRhaW5lci9wb3B1cC1tZW51LWNvbnRhaW5lci5jb21wb25lbnQnO1xuaW1wb3J0IHsgUG9wdXBNZW51RGlyZWN0aXZlIH0gZnJvbSAnLi9wb3B1cC1tZW51LmRpcmVjdGl2ZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgQnNEcm9wZG93bk1vZHVsZS5mb3JSb290KClcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgUG9wdXBNZW51Q29tcG9uZW50LFxuICAgIE1lbnVJdGVtRGlyZWN0aXZlLFxuICAgIE1lbnVJdGVtQ29tcG9uZW50LFxuICAgIE1lbnVEaXJlY3RpdmUsXG4gICAgUG9wdXBNZW51Q29udGFpbmVyQ29tcG9uZW50LFxuICAgIFBvcHVwTWVudURpcmVjdGl2ZVxuICBdLFxuICBleHBvcnRzOiBbXG4gICAgUG9wdXBNZW51Q29tcG9uZW50LFxuICAgIE1lbnVJdGVtRGlyZWN0aXZlLFxuICAgIE1lbnVJdGVtQ29tcG9uZW50LFxuICAgIE1lbnVEaXJlY3RpdmUsXG4gICAgQnNEcm9wZG93bk1vZHVsZSxcbiAgICBQb3B1cE1lbnVDb250YWluZXJDb21wb25lbnQsXG4gICAgUG9wdXBNZW51RGlyZWN0aXZlXG4gIF0sXG4gIHByb3ZpZGVyczogW1xuICAgIENvbnRleHRNZW51U2VydmljZVxuICBdLFxuICBzY2hlbWFzOiBbQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQV1cbn0pXG5leHBvcnQgY2xhc3MgUG9wdXBNZW51TW9kdWxlIHsgfVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFRlbXBsYXRlUmVmLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuLyoqXG4gKiBDbGFzcyBmb3IgYm90dG9tL3JpZ2h0IHNwbGl0LXBhbmUgc2VjdGlvblxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd2dC1ib3R0b20nLFxuICB0ZW1wbGF0ZVVybDogJy4vYm90dG9tLXBhbmUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9ib3R0b20tcGFuZS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgQm90dG9tUGFuZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBWaWV3Q2hpbGQoVGVtcGxhdGVSZWYpIGNvbnRlbnQ7XG4gIFxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBUZW1wbGF0ZVJlZiwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHRvcC9sZWZ0IHNwbGl0LXBhbmUgc2VjdGlvblxuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd2dC10b3AnLFxuICB0ZW1wbGF0ZVVybDogJy4vdG9wLXBhbmUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi90b3AtcGFuZS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgVG9wUGFuZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBWaWV3Q2hpbGQoVGVtcGxhdGVSZWYpIGNvbnRlbnQ7XG4gIFxuICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gIG5nT25Jbml0KCkge1xuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIElucHV0LCBDb250ZW50Q2hpbGQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgT3B0aW9uYWwsIFNraXBTZWxmLCBSZW5kZXJlcjIsIE5nWm9uZSwgQ2hhbmdlRGV0ZWN0b3JSZWYsIGZvcndhcmRSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEJhc2VDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IEJvdHRvbVBhbmVDb21wb25lbnQgfSBmcm9tICcuL2JvdHRvbS1wYW5lL2JvdHRvbS1wYW5lLmNvbXBvbmVudCc7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuaW1wb3J0IHsgVG9wUGFuZUNvbXBvbmVudCB9IGZyb20gJy4vdG9wLXBhbmUvdG9wLXBhbmUuY29tcG9uZW50JztcbmltcG9ydCB7IFNlc3Npb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2Vzc2lvbi9zZXNzaW9uLnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgXyBmcm9tICdsb2Rhc2gnO1xuXG5kZWNsYXJlIHZhciAkOiBhbnk7XG5cbi8qKlxuICogQ2xhc3MgZm9yIHNwbGl0IHJlc2l6YWJsZSBwYW5lc1xuICovXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICd2dC1zcGxpdC1wYW5lJyxcbiAgdGVtcGxhdGVVcmw6ICcuL3NwbGl0LXBhbmUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9zcGxpdC1wYW5lLmNvbXBvbmVudC5jc3MnXSxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gIHByb3ZpZGVyczogW1xuICAgIHtcbiAgICAgIHByb3ZpZGU6IEJhc2VDb21wb25lbnQsXG4gICAgICB1c2VFeGlzdGluZzogZm9yd2FyZFJlZigoKT0+U3BsaXRQYW5lQ29tcG9uZW50KVxuICAgIH1cbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBTcGxpdFBhbmVDb21wb25lbnQgZXh0ZW5kcyBCYXNlQ29tcG9uZW50IHtcbiAgLyoqXG4gICAqICdob3Jpem9udGFsJyA9IHRvcC9ib3R0b20gcGFuZXMsICd2ZXJ0aWNhbCcgPSBsZWZ0L3JpZ2h0IHBhbmVzXG4gICAqL1xuICBASW5wdXQoKSBvcmllbnRhdGlvbjogc3RyaW5nID0gJ2hvcml6b250YWwnO1xuXG4gIC8qKlxuICAgKiBXaGVyZSB0aGUgZGl2aWRlciBwb3NpdGlvbiBzaG91bGQgYmUgc2V0XG4gICAqL1xuICBASW5wdXQoKSBzcGxpdFBvc2l0aW9uOiBzdHJpbmcgPSAnNTAlJzsgLy9wZXJjZW50XG4gIC8qKlxuICAgKiBTZXQgdHJ1ZSwgaW4gY2FzZSBvZiBjYXNjYWRpbmcgc3BsaXQgcGFuZVxuICAgKi9cbiAgQElucHV0KCkgc2V0IG5vU2Nyb2xsKHZhbHVlKXtcbiAgICB0aGlzLl9ub1Njcm9sbCA9IHZhbHVlO1xuICAgIHRoaXMudG9wUGFuZVN0eWxlc1snb3ZlcmZsb3cnXSA9IHZhbHVlID8gJ2hpZGRlbicgOiAnaW5oZXJpdCc7XG4gICAgdGhpcy5ib3R0b21QYW5lU3R5bGVzWydvdmVyZmxvdyddID0gdmFsdWUgPyAnaGlkZGVuJyA6ICdpbmhlcml0JztcbiAgfVxuICBnZXQgbm9TY3JvbGwoKXsgcmV0dXJuIHRoaXMuX25vU2Nyb2xsOyB9XG4gIHByaXZhdGUgX25vU2Nyb2xsOiBib29sZWFuID0gZmFsc2U7XG5cbiAgQFZpZXdDaGlsZChcInRvcFBhbmVTZWN0aW9uXCIsIHtyZWFkOiBFbGVtZW50UmVmfSkgdG9wUGFuZUVsZW1lbnQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoXCJzcGxpdFBhbmVEaXZpZGVyXCIsIHtyZWFkOiBFbGVtZW50UmVmfSkgc3BsaXRQYW5lRGl2aWRlcjogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZChcImJvdHRvbVBhbmVTZWN0aW9uXCIsIHtyZWFkOiBFbGVtZW50UmVmfSkgYm90dG9tUGFuZUVsZW1lbnQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoXCJzcGxpdFBhbmVDb250YWluZXJcIiwge3JlYWQ6IEVsZW1lbnRSZWZ9KSBzcGxpdFBhbmVDb250YWluZXI6IEVsZW1lbnRSZWY7XG5cbiAgQENvbnRlbnRDaGlsZChUb3BQYW5lQ29tcG9uZW50KSB0b3BQYW5lOiBUb3BQYW5lQ29tcG9uZW50O1xuICBAQ29udGVudENoaWxkKEJvdHRvbVBhbmVDb21wb25lbnQpIGJvdHRvbVBhbmU6IEJvdHRvbVBhbmVDb21wb25lbnQ7XG5cbiAgZGl2aWRlclN0eWxlczoge1tuYW1lOiBzdHJpbmddOiBzdHJpbmd9ID0ge307XG4gIHRvcFBhbmVTdHlsZXM6IHtbbmFtZTogc3RyaW5nXTogc3RyaW5nfSA9IHt9O1xuICBib3R0b21QYW5lU3R5bGVzOiB7W25hbWU6IHN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuICBkaXZpZGVyQ3NzQ2xhc3MgPSBbXCJzcGxpdC1wYW5lLWRpdmlkZXJcIl07XG5cbiAgcHJpdmF0ZSBfcmVzaXplT246IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBfaGFuZGxlTW91c2VNb3ZlOiAoZXZlbnQpPT52b2lkO1xuICBwcml2YXRlIF9oYW5kbGVNb3VzZURvd246IChldmVudCk9PnZvaWQ7XG4gIHByaXZhdGUgX2hhbmRsZU1vdXNlVXA6IChldmVudCk9PnZvaWQ7XG4gIHByaXZhdGUgX3ByZXZQb3MgPSAtMTtcbiAgcHJpdmF0ZSBfY29udGFpbmVySGVpZ2h0OiBudW1iZXI7XG4gIHByaXZhdGUgX2NvbnRhaW5lcldpZHRoOiBudW1iZXI7XG4gIHByaXZhdGUgX3VwZGF0ZSA9IGZhbHNlO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gcGFyZW50IHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gc2Vzc2lvblNlcnZpY2Ugc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSBlbGVtZW50UmVmIHNlZSBbW0Jhc2VDb21wb25lbnRdXSBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0gcmVuZGVyZXIgc2VlIFtbQmFzZUNvbXBvbmVudF1dIGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB6b25lIEluamVjdCBbW05nWm9uZV1dIHJlZmVyZW5jZVxuICAgKiBAcGFyYW0gY2QgSW5qZWN0IFtbQ2hhbmdlRGV0ZWN0b3JSZWZdXVxuICAgKi9cbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQFNraXBTZWxmKCkgcGFyZW50OiBCYXNlQ29tcG9uZW50LCBzZXNzaW9uU2VydmljZTogU2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHJlbmRlcmVyOiBSZW5kZXJlcjIsIHByaXZhdGUgem9uZTogTmdab25lLCBwcml2YXRlIGNkOiBDaGFuZ2VEZXRlY3RvclJlZikge1xuICAgIHN1cGVyKHBhcmVudCwgc2Vzc2lvblNlcnZpY2UsIGVsZW1lbnRSZWYsIHJlbmRlcmVyKTtcblxuICAgIHRoaXMuX2hhbmRsZU1vdXNlTW92ZSA9ICBfLnRocm90dGxlKChldmVudCk9PntcbiAgICAgIHRoaXMuX3Jlc2l6ZVBhbmVscyhldmVudCk7XG4gICAgfSwxNTApO1xuXG4gICAgdGhpcy5faGFuZGxlTW91c2VEb3duID0gKGV2ZW50KT0+e1xuICAgICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuX2hhbmRsZU1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIikge1xuICAgICAgICB0aGlzLl9wcmV2UG9zID0gZXZlbnQucGFnZVg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9wcmV2UG9zID0gZXZlbnQucGFnZVk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZXNpemVPbiA9IHRydWU7XG4gICAgICB0aGlzLl91cGRhdGUgPSBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5faGFuZGxlTW91c2VVcCA9IChldmVudCk9PntcbiAgICAgIHRoaXMuem9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKT0+e1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX2hhbmRsZU1vdXNlTW92ZSwgdHJ1ZSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fcmVzaXplT24gPSBmYWxzZTtcbiAgICAgIHRoaXMuX3VwZGF0ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIEluaXQgbGlmZWN5Y2xlLiBTZXQgcGFuZWwgd2lkdGhcbiAgICovXG4gIG5nT25Jbml0KCkge1xuICAgIHN1cGVyLm5nT25Jbml0KCk7XG4gICAgdGhpcy5zZXRQYW5lV2lkdGgoKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIG1vdmVVcCgpIHtcbiAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudG9wUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJoZWlnaHRcIiwgXCIwJVwiKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5ib3R0b21QYW5lRWxlbWVudC5uYXRpdmVFbGVtZW50LCBcImhlaWdodFwiLCBcImNhbGMoMTAwJSAtIDEzcHgpXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudG9wUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJ3aWR0aFwiLCBcImNhbGMoMTAwJSAtIDEzcHgpXCIpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmJvdHRvbVBhbmVFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwid2lkdGhcIiwgXCIwJVwiKTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBtb3ZlRG93bigpIHtcbiAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudG9wUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJoZWlnaHRcIiwgXCJjYWxjKDEwMCUgLSAxM3B4KVwiKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5ib3R0b21QYW5lRWxlbWVudC5uYXRpdmVFbGVtZW50LCBcImhlaWdodFwiLCBcIjAlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudG9wUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJ3aWR0aFwiLCBcIjAlXCIpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmJvdHRvbVBhbmVFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwid2lkdGhcIiwgXCJjYWxjKDEwMCUgLSAxM3B4KVwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBpcyBhIGNvbnRhaW5lciBjb21wb25lbnRcbiAgICogQHJldHVybnMgVHJ1ZVxuICAgKi9cbiAgcHJvdGVjdGVkIGlzQ29udGFpbmVyKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgLyoqXG4gICAqIFNldCBwYW5lIGxheW91dCBhbmQgZGltZW5zaW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBzZXRQYW5lV2lkdGgoKSB7XG4gICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgIHRoaXMuZGl2aWRlclN0eWxlc1tcImhlaWdodFwiXSA9IFwiMTAwJVwiO1xuICAgICAgdGhpcy5kaXZpZGVyU3R5bGVzW1wid2lkdGhcIl0gPSBcIjFweFwiO1xuICAgICAgdGhpcy5kaXZpZGVyU3R5bGVzWydmbG9hdCddID0gJ2xlZnQnO1xuICAgICAgdGhpcy50b3BQYW5lU3R5bGVzWyd3aWR0aCddID0gJ2NhbGMoJyArIHRoaXMuc3BsaXRQb3NpdGlvbiArICcgLSAzcHgpJztcbiAgICAgIHRoaXMudG9wUGFuZVN0eWxlc1snaGVpZ2h0J10gPSBcIjEwMCVcIjtcbiAgICAgIHRoaXMudG9wUGFuZVN0eWxlc1snZmxvYXQnXSA9ICdsZWZ0J1xuICAgICAgbGV0IHBlcmNlbnQ6IHN0cmluZyA9IHRoaXMuc3BsaXRQb3NpdGlvbi5zcGxpdCgnJScsIDEpWzBdO1xuICAgICAgbGV0IG5QZXJjZW50ID0gK3BlcmNlbnQ7XG4gICAgICB0aGlzLmJvdHRvbVBhbmVTdHlsZXNbJ3dpZHRoJ10gPSAnY2FsYygnICsgKDEwMCAtIG5QZXJjZW50KSArICclIC0gMTBweCknO1xuICAgICAgdGhpcy5ib3R0b21QYW5lU3R5bGVzWydoZWlnaHQnXSA9IFwiMTAwJVwiO1xuICAgICAgdGhpcy5ib3R0b21QYW5lU3R5bGVzWydmbG9hdCddID0gJ2xlZnQnO1xuICAgICAgdGhpcy5kaXZpZGVyQ3NzQ2xhc3MucHVzaChcInZlcnRpY2FsXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpdmlkZXJTdHlsZXNbXCJoZWlnaHRcIl0gPSBcIjhweFwiO1xuICAgICAgdGhpcy5kaXZpZGVyU3R5bGVzW1wid2lkdGhcIl0gPSBcIjEwMCVcIjtcbiAgICAgIHRoaXMudG9wUGFuZVN0eWxlc1snaGVpZ2h0J10gPSAnY2FsYygnICsgdGhpcy5zcGxpdFBvc2l0aW9uICsgJyAtIDNweCknO1xuICAgICAgdGhpcy50b3BQYW5lU3R5bGVzWyd3aWR0aCddID0gXCIxMDAlXCI7XG4gICAgICBsZXQgcGVyY2VudDogc3RyaW5nID0gdGhpcy5zcGxpdFBvc2l0aW9uLnNwbGl0KCclJywgMSlbMF07XG4gICAgICBsZXQgblBlcmNlbnQgPSArcGVyY2VudDtcbiAgICAgIHRoaXMuYm90dG9tUGFuZVN0eWxlc1snaGVpZ2h0J10gPSAnY2FsYygnICsgKDEwMCAtIG5QZXJjZW50KSArICclIC0gMTBweCknO1xuICAgICAgdGhpcy5ib3R0b21QYW5lU3R5bGVzWyd3aWR0aCddID0gXCIxMDAlXCI7XG4gICAgICB0aGlzLmRpdmlkZXJDc3NDbGFzcy5wdXNoKFwiaG9yaXpvbnRhbFwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWZ0ZXIgdmlldyBpbml0IGxpZmVjeWNsZS4gQWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgKi9cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgIHN1cGVyLm5nQWZ0ZXJWaWV3SW5pdCgpO1xuXG4gICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICB0aGlzLnpvbmUucnVuT3V0c2lkZUFuZ3VsYXIoKCk9PntcbiAgICAgICh0aGlzLnNwbGl0UGFuZURpdmlkZXIubmF0aXZlRWxlbWVudCBhcyBIVE1MRWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVNb3VzZURvd24sIHRydWUpO1xuXG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLl9oYW5kbGVNb3VzZVVwLCB0cnVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBEZXN0cm95IGxpZmVjeWNsZS4gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyc1xuICAgKi9cbiAgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy56b25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpPT57XG4gICAgICAodGhpcy5zcGxpdFBhbmVEaXZpZGVyLm5hdGl2ZUVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5faGFuZGxlTW91c2VEb3duLCB0cnVlKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuX2hhbmRsZU1vdXNlVXAsIHRydWUpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9oYW5kbGVNb3VzZU1vdmUsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5faGFuZGxlTW91c2VEb3duID0gbnVsbDtcbiAgICB0aGlzLl9oYW5kbGVNb3VzZU1vdmUgPSBudWxsO1xuICAgIHRoaXMuX2hhbmRsZU1vdXNlVXAgPSBudWxsO1xuXG4gICAgc3VwZXIubmdPbkRlc3Ryb3koKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBwYW5lbCByZXNpemUgZXZlbnRcbiAgICogQHBhcmFtIGV2ZW50IE1vdXNlIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIF9yZXNpemVQYW5lbHMoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuX3VwZGF0ZSkge1xuICAgICAgaWYgKHRoaXMuX2NvbnRhaW5lcldpZHRoID09IG51bGwpIHtcbiAgICAgICAgY29uc3QgYyA9ICQodGhpcy5zcGxpdFBhbmVDb250YWluZXIubmF0aXZlRWxlbWVudCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lckhlaWdodCA9IGMuaGVpZ2h0KCk7XG4gICAgICAgIHRoaXMuX2NvbnRhaW5lcldpZHRoID0gYy53aWR0aCgpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl91cGRhdGUgPSB0cnVlO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT50aGlzLl9kb1VwZGF0ZShldmVudCkpO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBtb3VzZSBldmVudC4gVXBkYXRlIHBhbmUgd2lkdGgvaGVpZ2h0XG4gICAqIEBwYXJhbSBldmVudCBNb3VzZSBldmVudFxuICAgKi9cbiAgcHJpdmF0ZSBfZG9VcGRhdGUoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAodGhpcy5fcmVzaXplT24gPT09IHRydWUpIHtcbiAgICAgIGlmICh0aGlzLm9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIpIHtcbiAgICAgICAgY29uc3QgZGlmZiA9IHRoaXMuX3ByZXZQb3MgLSBldmVudC5wYWdlWDtcbiAgICAgICAgY29uc3QgbGVmdFdpZHRoID0gICgkKHRoaXMudG9wUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCkud2lkdGgoKSAtIGRpZmYpO1xuICAgICAgICB0aGlzLl9jb250YWluZXJXaWR0aCA9ICQodGhpcy5zcGxpdFBhbmVDb250YWluZXIubmF0aXZlRWxlbWVudCkud2lkdGgoKTtcbiAgICAgICAgbGV0IGxlZnQ6IG51bWJlciA9IChsZWZ0V2lkdGggLyB0aGlzLl9jb250YWluZXJXaWR0aCkgKiAxMDA7XG4gICAgICAgIGxldCBtYXhpbXVtOiBudW1iZXIgPSAobGVmdFdpZHRoIC8gKHRoaXMuX2NvbnRhaW5lcldpZHRoIC0gMTUpKSAqIDEwMDtcbiAgICAgICAgaWYoIG1heGltdW0gPiAxMDAgKSB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudG9wUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJ3aWR0aFwiLCBcImNhbGMoMTAwJSAtIDEzcHgpXCIpO1xuICAgICAgICBlbHNlIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy50b3BQYW5lRWxlbWVudC5uYXRpdmVFbGVtZW50LCBcIndpZHRoXCIsIGxlZnQgKyBcIiVcIik7XG4gICAgICAgIC8vIHRoaXMucmVuZGVyZXIuc2V0U3R5bGUodGhpcy5ib3R0b21QYW5lRWxlbWVudC5uYXRpdmVFbGVtZW50LCBcIndpZHRoXCIsICh0aGlzLl9jb250YWluZXJXaWR0aCAtIChsZWZ0V2lkdGggKyA2KSkgKyBcInB4XCIpO1xuICAgICAgICB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMuYm90dG9tUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJ3aWR0aFwiLCBcImNhbGMoXCIgKyAoMTAwIC0gbGVmdCkgKyBcIiUgLSAxM3B4KVwiKTtcbiAgICAgICAgdGhpcy5fcHJldlBvcyA9IGV2ZW50LnBhZ2VYO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgZGlmZiA9IHRoaXMuX3ByZXZQb3MgLSBldmVudC5wYWdlWTtcbiAgICAgICAgY29uc3QgdG9wSGVpZ2h0ID0gICgkKHRoaXMudG9wUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCkuaGVpZ2h0KCkgLSBkaWZmKTtcbiAgICAgICAgdGhpcy5fY29udGFpbmVySGVpZ2h0ID0gJCh0aGlzLnNwbGl0UGFuZUNvbnRhaW5lci5uYXRpdmVFbGVtZW50KS5oZWlnaHQoKTtcbiAgICAgICAgbGV0IHRvcDogbnVtYmVyID0gKHRvcEhlaWdodCAvIHRoaXMuX2NvbnRhaW5lckhlaWdodCkgKiAxMDA7XG4gICAgICAgIGxldCBtYXhpbXVtOiBudW1iZXIgPSAodG9wSGVpZ2h0IC8gKHRoaXMuX2NvbnRhaW5lckhlaWdodCAtIDE1KSkgKiAxMDA7XG4gICAgICAgIGlmKCBtYXhpbXVtID4gMTAwICkgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLnRvcFBhbmVFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwiaGVpZ2h0XCIsIFwiY2FsYygxMDAlIC0gMTNweFwiKTtcbiAgICAgICAgZWxzZSB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMudG9wUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJoZWlnaHRcIiwgdG9wICsgXCIlXCIpO1xuICAgICAgICAvLyB0aGlzLnJlbmRlcmVyLnNldFN0eWxlKHRoaXMuYm90dG9tUGFuZUVsZW1lbnQubmF0aXZlRWxlbWVudCwgXCJoZWlnaHRcIiwgKHRoaXMuX2NvbnRhaW5lckhlaWdodCAtICh0b3BIZWlnaHQgKyAxMCkpICsgXCJweFwiKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRTdHlsZSh0aGlzLmJvdHRvbVBhbmVFbGVtZW50Lm5hdGl2ZUVsZW1lbnQsIFwiaGVpZ2h0XCIsIFwiY2FsYyhcIiArICgxMDAgLSB0b3ApICsgXCIlIC0gMTNweClcIik7XG4gICAgICAgIHRoaXMuX3ByZXZQb3MgPSBldmVudC5wYWdlWTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5fdXBkYXRlID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IFNwbGl0UGFuZUNvbXBvbmVudCB9IGZyb20gJy4vc3BsaXQtcGFuZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgVG9wUGFuZUNvbXBvbmVudCB9IGZyb20gJy4vdG9wLXBhbmUvdG9wLXBhbmUuY29tcG9uZW50JztcbmltcG9ydCB7IEJvdHRvbVBhbmVDb21wb25lbnQgfSBmcm9tICcuL2JvdHRvbS1wYW5lL2JvdHRvbS1wYW5lLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgU3BsaXRQYW5lQ29tcG9uZW50LFxuICAgIFRvcFBhbmVDb21wb25lbnQsXG4gICAgQm90dG9tUGFuZUNvbXBvbmVudFxuICBdLFxuICBleHBvcnRzOiBbXG4gICAgU3BsaXRQYW5lQ29tcG9uZW50LFxuICAgIFRvcFBhbmVDb21wb25lbnQsXG4gICAgQm90dG9tUGFuZUNvbXBvbmVudFxuICBdXG59KVxuZXhwb3J0IGNsYXNzIFNwbGl0UGFuZU1vZHVsZSB7IH1cbiIsImltcG9ydCB7IE9uSW5pdCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBCYXNlQ29tcG9uZW50IH0gZnJvbSBcIi4vYmFzZS5jb21wb25lbnRcIjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEN1c3RvbUF0dHJpYnV0ZSBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gICAgY29uc3RydWN0b3IgKHByaXZhdGUgcGFyZW50OiBCYXNlQ29tcG9uZW50KSB7XG5cbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0UHJvcGVydHlOYW1lKCk7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0UHJvcGVydHlWYWx1ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnBhcmVudCAhPSBudWxsICYmIG5hbWUgIT0gbnVsbCAmJiBuYW1lICE9PSBcIlwiKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5wYXJlbnQuc2V0Q3VzdG9tQXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5hYmxlIHRvIHNldCBjdXN0b20gcHJvcGVydHksIHBhcmVudCBpcyBudWxsXCIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBuYW1lIG9mIHRoZSBjdXN0b20gcHJvcGVydHlcbiAgICAgKi9cbiAgICBhYnN0cmFjdCBnZXRQcm9wZXJ0eU5hbWUoKTogc3RyaW5nO1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGUgY3VzdG9tIHByb3BlcnR5XG4gICAgICovXG4gICAgYWJzdHJhY3QgZ2V0UHJvcGVydHlWYWx1ZSgpOiBzdHJpbmc7XG59Il0sIm5hbWVzIjpbIlN1YmplY3QiLCJfLnVuaXFCeSIsIl8uZmlsdGVyIiwiXy5maW5kIiwiXy5zb3J0QnkiLCJfLmZvckVhY2giLCJfLm9yZGVyQnkiLCJJbmplY3RhYmxlIiwiXy5tYXAiLCJfLmtleXMiLCJ0c2xpYl8xLl9fdmFsdWVzIiwiSW5qZWN0b3IiLCJOZ1pvbmUiLCJ0c2xpYl8xLl9fZXh0ZW5kcyIsIl8ucGFyc2VJbnQiLCJfLnBhZFN0YXJ0IiwibW9tZW50LmlzTW9tZW50IiwiXy5jbG9uZSIsIkV2ZW50RW1pdHRlciIsIl8udW5pcSIsIl8ucmFuZG9tIiwiXy5maW5kSW5kZXgiLCJDb21wb25lbnQiLCJPcHRpb25hbCIsIlNraXBTZWxmIiwiRWxlbWVudFJlZiIsIlJlbmRlcmVyMiIsIklucHV0IiwiT3V0cHV0IiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiLCJEaXJlY3RpdmUiLCJDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSIsImZvcndhcmRSZWYiLCJDaGFuZ2VEZXRlY3RvclJlZiIsIkZvcm1zTW9kdWxlIiwiUmVhY3RpdmVGb3Jtc01vZHVsZSIsIkNvbnRlbnRDaGlsZHJlbiIsIl8uZ2V0IiwiVmlld0VuY2Fwc3VsYXRpb24iLCJDb250ZW50Q2hpbGQiLCJWaWV3Q2hpbGQiLCJCc0Ryb3Bkb3duRGlyZWN0aXZlIiwiSG9zdExpc3RlbmVyIiwiQnNEcm9wZG93bk1vZHVsZSIsIl8udGhyb3R0bGUiLCJDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIiLCJWaWV3Q29udGFpbmVyUmVmIiwiTW9kYWxNb2R1bGUiLCJtb21lbnQiLCJtb21lbnRJbXBvcnRlZCIsIl8uY29uY2F0IiwiXy5sYXN0SW5kZXhPZiIsIlRlbXBsYXRlUmVmIiwiY2xpcGJvYXJkLndyaXRlVGV4dCIsImRlYm91bmNlIiwidGltZXIiLCJfLmlzRXF1YWwiLCJJdGVyYWJsZURpZmZlcnMiLCJWaWV3Q2hpbGRyZW4iLCJUeXBlIiwiQ1VTVE9NX0VMRU1FTlRTX1NDSEVNQSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztFQVFBLElBQUksV0FBVyxDQUFXOztBQUUxQixNQUFhLFdBQVcsR0FBRyxVQUFDLFFBQW1CO01BQzNDLElBQUksUUFBUSxFQUFFO1VBQ1YsV0FBVyxHQUFHLFFBQVEsQ0FBQztPQUMxQjtNQUVELE9BQU8sV0FBVyxDQUFDO0dBQ3RCOzs7Ozs7OztNQ2ZDLEtBQUU7TUFDRixVQUFPO01BQ1AsUUFBSztNQUNMLFdBQVE7TUFDUixVQUFPO01BQ1AsT0FBSTtNQUNKLFFBQUs7TUFDTCxhQUFVO01BQ1YsVUFBTztNQUNQLFFBQUs7TUFDTCxhQUFTO01BQ1QsWUFBUTtNQUNSLFlBQVE7TUFDUixTQUFLO01BQ0wsV0FBTztNQUNQLGNBQVU7TUFDVixPQUFHO01BQ0gsT0FBRzs7Z0NBakJILEVBQUU7Z0NBQ0YsT0FBTztnQ0FDUCxLQUFLO2dDQUNMLFFBQVE7Z0NBQ1IsT0FBTztnQ0FDUCxJQUFJO2dDQUNKLEtBQUs7Z0NBQ0wsVUFBVTtnQ0FDVixPQUFPO2dDQUNQLEtBQUs7Z0NBQ0wsU0FBUztnQ0FDVCxRQUFRO2dDQUNSLFFBQVE7Z0NBQ1IsS0FBSztnQ0FDTCxPQUFPO2dDQUNQLFVBQVU7Z0NBQ1YsR0FBRztnQ0FDSCxHQUFHOztFQ2xCTDs7Ozs7Ozs7Ozs7Ozs7RUFjQTtFQUVBLElBQUksYUFBYSxHQUFHLFVBQVMsQ0FBQyxFQUFFLENBQUM7TUFDN0IsYUFBYSxHQUFHLE1BQU0sQ0FBQyxjQUFjO1dBQ2hDLEVBQUUsU0FBUyxFQUFFLEVBQUUsRUFBRSxZQUFZLEtBQUssSUFBSSxVQUFVLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDO1VBQzVFLFVBQVUsQ0FBQyxFQUFFLENBQUMsSUFBSSxL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